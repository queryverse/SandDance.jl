/*! For license information please see 2.15c28e8c.chunk.js.LICENSE.txt */
(this.webpackJsonpsanddanceapp=this.webpackJsonpsanddanceapp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(205)},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return g})),n.d(t,"kb",(function(){return m})),n.d(t,"O",(function(){return v})),n.d(t,"gb",(function(){return b})),n.d(t,"r",(function(){return y})),n.d(t,"K",(function(){return E})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return k})),n.d(t,"N",(function(){return T})),n.d(t,"jb",(function(){return P})),n.d(t,"Q",(function(){return B})),n.d(t,"R",(function(){return z})),n.d(t,"S",(function(){return U})),n.d(t,"T",(function(){return H})),n.d(t,"lb",(function(){return W})),n.d(t,"mb",(function(){return G})),n.d(t,"nb",(function(){return K})),n.d(t,"ob",(function(){return q})),n.d(t,"V",(function(){return Y})),n.d(t,"hb",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"j",(function(){return Q})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"s",(function(){return ue})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return le})),n.d(t,"v",(function(){return ae})),n.d(t,"y",(function(){return ce})),n.d(t,"z",(function(){return de})),n.d(t,"A",(function(){return u})),n.d(t,"B",(function(){return fe})),n.d(t,"C",(function(){return he})),n.d(t,"D",(function(){return $})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return l})),n.d(t,"G",(function(){return ge})),n.d(t,"H",(function(){return c})),n.d(t,"I",(function(){return me})),n.d(t,"J",(function(){return ve})),n.d(t,"L",(function(){return be})),n.d(t,"M",(function(){return ye})),n.d(t,"P",(function(){return xe})),n.d(t,"U",(function(){return D})),n.d(t,"W",(function(){return _e})),n.d(t,"X",(function(){return Se})),n.d(t,"Y",(function(){return s})),n.d(t,"Z",(function(){return d})),n.d(t,"ab",(function(){return we})),n.d(t,"bb",(function(){return ke})),n.d(t,"cb",(function(){return A})),n.d(t,"eb",(function(){return Ee})),n.d(t,"db",(function(){return Oe})),n.d(t,"fb",(function(){return Te})),n.d(t,"ib",(function(){return Pe}));var r=function(e,t,n){return e.fields=t||[],e.fname=n,e};function i(e){return null==e?null:e.fname}function o(e){return null==e?null:e.fields}var a=function(e){throw Error(e)},s=function(e){var t,n,r,i=[],o=null,s=0,u=e.length,l="";function c(){i.push(l+e.substring(t,n)),l="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))l+=e.substring(t,n),l+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,s=-1;else{if(o)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,o=r):"."!==r||s?"["===r?(n>t&&c(),s=t=n+1):"]"===r&&(s||a("Access path missing open bracket: "+e),s>0&&c(),s=0,t=n+1):n>t?c():t=n+1}return s&&a("Access path missing closing bracket: "+e),o&&a("Access path missing closing quote: "+e),n>t&&(n++,c()),i},u=Array.isArray,l=function(e){return e===Object(e)},c=function(e){return"string"===typeof e};function d(e){return u(e)?"["+e.map(d)+"]":l(e)||c(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var f=function(e,t){var n=s(e),i="return _["+n.map(d).join("][")+"];";return r(Function("_",i),[e=1===n.length?n[0]:e],t||e)},h=[],p=f("id"),g=r((function(e){return e}),h,"identity"),m=r((function(){return 0}),h,"zero"),v=r((function(){return 1}),h,"one"),b=r((function(){return!0}),h,"true"),y=r((function(){return!1}),h,"false");function _(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var x=0,S=1,w=2,C=3,k=4,E=function(e,t){var n=e||x;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=S&&_(t||"error","ERROR",arguments),this},warn:function(){return n>=w&&_(t||"warn","WARN",arguments),this},info:function(){return n>=C&&_(t||"log","INFO",arguments),this},debug:function(){return n>=k&&_(t||"log","DEBUG",arguments),this}}},O=function(e){return"__proto__"!==e};function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=I(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;P(e,n,t[n],r)}return e}),{})}function P(e,t,n,r){var i,o;if(O(t))if(l(n)&&!u(n))for(i in o=l(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?P(o,i,n[i]):O(i)&&(o[i]=n[i]);else e[t]=n}function I(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}var D=function(e){return e[e.length-1]},A=function(e){return null==e||""===e?null:+e};function M(e){return function(t){return e*Math.exp(t)}}function j(e){return function(t){return Math.log(e*t)}}function R(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L(e,t,n,r){var i=n(e[0]),o=n(D(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function B(e,t){return L(e,t,A,g)}function z(e,t){var n=Math.sign(e[0]);return L(e,t,j(n),M(n))}function U(e,t,n){return L(e,t,N(n),N(1/n))}function H(e,t,n){return L(e,t,R(n),F(n))}function V(e,t,n,r,i){var o=r(e[0]),a=r(D(e)),s=null!=t?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function W(e,t,n){return V(e,t,n,A,g)}function G(e,t,n){var r=Math.sign(e[0]);return V(e,t,n,j(r),M(r))}function K(e,t,n,r){return V(e,t,n,N(r),N(1/r))}function q(e,t,n,r){return V(e,t,n,R(r),F(r))}function Y(e){return 1+~~(new Date(e).getMonth()/3)}function X(e){return 1+~~(new Date(e).getUTCMonth()/3)}var Z=function(e){return null!=e?u(e)?e:[e]:[]},Q=function(e,t,n){var r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},$=function(e){return"function"===typeof e},J=function(e,t){var n,i,a,u,l,c,f,h,p,g=[],m=(e=Z(e)).map((function(e,t){return null==e?null:(g.push(t),$(e)?e:s(e).map(d).join("]["))})),v=g.length-1,b=Z(t),y="var u,v;return ";if(v<0)return null;for(i=0;i<=v;++i)a=m[n=g[i]],$(a)?(u="(u=this."+(c="f"+n)+"(a))",l="(v=this."+c+"(b))",(f=f||{})[c]=a):(u="(u=a["+a+"])",l="(v=b["+a+"])"),c="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==b[n]?(p=1,h=-1):(p=-1,h=1),y+="("+u+"<"+l+"||u==null)&&v!=null?"+h+":(u>v||v==null)&&u!=null?"+p+":"+c+"!==u&&v===v?"+h+":v!==v&&u===u?"+p+(n<v?":":":0");return a=Function("a","b",y+";"),f&&(a=a.bind(f)),e=e.reduce((function(e,t){return $(t)?(o(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),r(a,Object.keys(e))},ee=function(e){return $(e)?e:function(){return e}},te=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},ne=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},re=function(e,t){var n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!==r);r=e[++a]);for(i=o=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!==r);r=t(e[++a]));for(i=o=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]},ie=function(e,t){var n,r,i,o,a,s=-1,u=e.length;if(null==t){for(;++s<u;)if(null!=(r=e[s])&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(o=a=s;++s<u;)null!=(r=e[s])&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}else{for(;++s<u;)if(null!=(r=t(e[s],s,e))&&r>=r){n=i=r;break}if(s===u)return[-1,-1];for(o=a=s;++s<u;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}return[o,a]},oe=Object.prototype.hasOwnProperty,ae=function(e,t){return oe.call(e,t)},se={},ue=function(e){var t,n,r={};function i(e){return ae(r,e)&&r[e]!==se}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===se&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=se),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,o={},a=0;for(e in r)(i=r[e])===se||n&&n(i)||(o[e]=i,++a);t.size=a,t.empty=0,t.object=r=o}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},le=function(e,t,n,r,i,o){if(!n&&0!==n)return o;var a,s,u=e[0],l=D(e),c=+n;return l<u&&(a=u,u=l,l=a),(a=Math.abs(t-u))<(s=Math.abs(l-t))&&a<=c?r:s<=c?i:o},ce=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},de=function(e,t,n,r){var i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)},fe=function(e){return"boolean"===typeof e},he=function(e){return"[object Date]"===Object.prototype.toString.call(e)},pe=function(e){return"number"===typeof e},ge=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},me=function(e,t){e&&(e=t?Z(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Z(e));var n=e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(t?d(e):s(e).map(d).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return r(n,e,"key")},ve=function(e,t){var n=e[0],r=D(e),i=+t;return i?1===i?r:n+i*(r-n):n},be=function(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},o=function(i,o){return++r>e&&(n=t,t={},r=1),t[i]=o};return i(),{clear:i,has:function(e){return ae(t,e)||ae(n,e)},get:function(e){return ae(t,e)?t[e]:ae(n,e)?o(e,n[e]):void 0},set:function(e,n){return ae(t,e)?t[e]=n:o(e,n)}}},ye=function(e,t,n,r){var i=t.length,o=n.length;if(!o)return t;if(!i)return n;for(var a=r||new t.constructor(i+o),s=0,u=0,l=0;s<i&&u<o;++l)a[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<i;++s,++l)a[l]=t[s];for(;u<o;++u,++l)a[l]=n[u];return a},_e=function(e,t){for(var n="";--t>=0;)n+=e;return n},xe=function(e,t,n,r){var i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?_e(i,a)+o:"center"===r?_e(i,~~(a/2))+o+_e(i,Math.ceil(a/2)):o+_e(i,a)},Se=function(e){return e&&D(e)-e[0]||0},we=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function Ce(e){return pe(e)||he(e)?e:Date.parse(e)}var ke=function(e,t){return t=t||Ce,null==e||""===e?null:t(e)},Ee=function(e){return null==e||""===e?null:e+""},Oe=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},Te=function(e,t,n,r){var i=null!=r?r:"\u2026",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i},Pe=function(e,t,n){if(e){var r,i=0,o=e.length;if(t)for(;i<o;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return i.a})),n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c.a})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return o.a})),n.d(t,"h",(function(){return h.a}));var r=n(70),i=n(108);var o=n(6),a={};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";a[e]=a[e]||1;var t=a[e]++;return"".concat(e,"-").concat(t)}function u(e){return Object(o.a)("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function l(e){var t=!0;for(var n in e){t=!1;break}return t}var c=n(42);function d(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<r;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=f(e[s],t);var u=e.length>r?"...":"]";return"".concat(a).concat(u)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=t.isInteger,i=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return d(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<n)return i?"0":"0.";if(i)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var o=e.toPrecision(2),a=o.indexOf(".0");return a===o.length-2?o.slice(0,-1):o}var h=n(109)},function(e,t,n){"use strict";n.r(t),n.d(t,"isWebGL",(function(){return r.c})),n.d(t,"isWebGL2",(function(){return r.d})),n.d(t,"cloneTextureFrom",(function(){return i.a})),n.d(t,"getKeyValue",(function(){return o.b})),n.d(t,"getKey",(function(){return o.a})),n.d(t,"createGLContext",(function(){return U})),n.d(t,"destroyGLContext",(function(){return H})),n.d(t,"resizeGLContext",(function(){return V})),n.d(t,"pollGLContext",(function(){return W})),n.d(t,"setContextDefaults",(function(){return z})),n.d(t,"trackContextState",(function(){return m.a})),n.d(t,"resetParameters",(function(){return K.d})),n.d(t,"getParameter",(function(){return K.b})),n.d(t,"getParameters",(function(){return K.c})),n.d(t,"setParameter",(function(){return K.e})),n.d(t,"setParameters",(function(){return K.f})),n.d(t,"withParameters",(function(){return K.g})),n.d(t,"getModifiedParameters",(function(){return K.a})),n.d(t,"getContextInfo",(function(){return D})),n.d(t,"getGLContextInfo",(function(){return I})),n.d(t,"getContextLimits",(function(){return P})),n.d(t,"glGetDebugInfo",(function(){return A})),n.d(t,"FEATURES",(function(){return Y})),n.d(t,"hasFeature",(function(){return $})),n.d(t,"hasFeatures",(function(){return J})),n.d(t,"getFeatures",(function(){return ee})),n.d(t,"canCompileGLGSExtension",(function(){return Z})),n.d(t,"Buffer",(function(){return te.a})),n.d(t,"Shader",(function(){return ae})),n.d(t,"VertexShader",(function(){return se})),n.d(t,"FragmentShader",(function(){return ue})),n.d(t,"Program",(function(){return Ye})),n.d(t,"Framebuffer",(function(){return we})),n.d(t,"Renderbuffer",(function(){return be})),n.d(t,"Texture2D",(function(){return pe.a})),n.d(t,"TextureCube",(function(){return Xe.a})),n.d(t,"clear",(function(){return ye})),n.d(t,"clearBuffer",(function(){return _e})),n.d(t,"FenceSync",(function(){return Ze})),n.d(t,"Query",(function(){return $e})),n.d(t,"Sampler",(function(){return ke})),n.d(t,"Texture3D",(function(){return Je.a})),n.d(t,"Texture2DArray",(function(){return et})),n.d(t,"TransformFeedback",(function(){return tt})),n.d(t,"VertexArrayObject",(function(){return lt})),n.d(t,"VertexArray",(function(){return ct})),n.d(t,"UniformBufferLayout",(function(){return dt})),n.d(t,"_Accessor",(function(){return He.a})),n.d(t,"_clearBuffer",(function(){return _e})),n.d(t,"Object3D",(function(){return pt})),n.d(t,"Group",(function(){return mt})),n.d(t,"Model",(function(){return Fn})),n.d(t,"AnimationLoop",(function(){return Bn})),n.d(t,"pickModels",(function(){return zn})),n.d(t,"encodePickingColor",(function(){return Hn})),n.d(t,"decodePickingColor",(function(){return Vn})),n.d(t,"getNullPickingColor",(function(){return Wn})),n.d(t,"Transform",(function(){return Yn})),n.d(t,"_Attribute",(function(){return vt})),n.d(t,"_ShaderCache",(function(){return Xn})),n.d(t,"_AnimationLoopProxy",(function(){return Zn})),n.d(t,"_MultiPassRenderer",(function(){return er})),n.d(t,"_RenderState",(function(){return Jn})),n.d(t,"_Pass",(function(){return Qn})),n.d(t,"_CompositePass",(function(){return $n})),n.d(t,"_ClearPass",(function(){return tr})),n.d(t,"_RenderPass",(function(){return nr})),n.d(t,"_CopyPass",(function(){return Pr})),n.d(t,"_TexturePass",(function(){return Dr})),n.d(t,"_PickingPass",(function(){return Ar})),n.d(t,"_ShaderModulePass",(function(){return Br})),n.d(t,"_Canvas",(function(){return Gr})),n.d(t,"Geometry",(function(){return _t})),n.d(t,"ConeGeometry",(function(){return or})),n.d(t,"CubeGeometry",(function(){return ar})),n.d(t,"CylinderGeometry",(function(){return fr})),n.d(t,"IcoSphereGeometry",(function(){return gr})),n.d(t,"PlaneGeometry",(function(){return mr})),n.d(t,"SphereGeometry",(function(){return vr})),n.d(t,"TruncatedConeGeometry",(function(){return ir})),n.d(t,"Cone",(function(){return yr})),n.d(t,"Cube",(function(){return _r})),n.d(t,"Cylinder",(function(){return xr})),n.d(t,"IcoSphere",(function(){return Sr})),n.d(t,"Plane",(function(){return wr})),n.d(t,"Sphere",(function(){return Cr})),n.d(t,"TruncatedCone",(function(){return kr})),n.d(t,"ClipSpace",(function(){return Or})),n.d(t,"setPathPrefix",(function(){return Qr})),n.d(t,"loadFile",(function(){return $r})),n.d(t,"loadImage",(function(){return Jr})),n.d(t,"loadTexture",(function(){return ti})),n.d(t,"loadFiles",(function(){return ni})),n.d(t,"loadImages",(function(){return ri})),n.d(t,"loadTextures",(function(){return ii})),n.d(t,"loadProgram",(function(){return oi})),n.d(t,"loadModel",(function(){return ai})),n.d(t,"parseModel",(function(){return si})),n.d(t,"setDefaultShaderModules",(function(){return Ot})),n.d(t,"registerShaderModules",(function(){return Tt})),n.d(t,"assembleShaders",(function(){return Yt})),n.d(t,"normalizeShaderModule",(function(){return Nr})),n.d(t,"fp32",(function(){return $t})),n.d(t,"fp64",(function(){return rn})),n.d(t,"project",(function(){return un})),n.d(t,"lighting",(function(){return ln})),n.d(t,"dirlight",(function(){return dn})),n.d(t,"picking",(function(){return hn})),n.d(t,"diffuse",(function(){return gn})),n.d(t,"pbr",(function(){return ci})),n.d(t,"assert",(function(){return F.a})),n.d(t,"log",(function(){return di.a})),n.d(t,"global",(function(){return b.b})),n.d(t,"window",(function(){return b.d})),n.d(t,"document",(function(){return b.a})),n.d(t,"self",(function(){return b.c})),n.d(t,"isBrowser",(function(){return fi.a})),n.d(t,"isOldIE",(function(){return hi.a})),n.d(t,"stubRemovedMethods",(function(){return pi.a})),n.d(t,"makeDebugContext",(function(){return _})),n.d(t,"ClipSpaceQuad",(function(){return Or})),n.d(t,"glGet",(function(){return o.c})),n.d(t,"glKey",(function(){return o.d})),n.d(t,"glKeyType",(function(){return o.e}));var r=n(69),i=n(107),o=n(39),a=n(9),s=n(38);function u(e){var t=e.width,n=e.height,r=e.opts,i=e.onError,o=r.webgl1;if(r.webgl2&&!o)return i("headless-gl does not support WebGL2");if(!s.d)return i("Failed to create WebGL context in Node.js, headless gl not available");var a=Object(s.d)(t,n,r);return a||i("Failed to create WebGL context in Node.js, headless gl returned null")}var l,c=n(7),d=c.c&&"undefined"!==typeof document,f=d&&"complete"===document.readyState;function h(){return l||(l=d?new Promise((function(e,t){if(d&&"complete"===document.readyState)return f=!0,void e(document);window.onload=function(){f=!0,e(document)}})):Promise.resolve({})),l}function p(e){var t,n=e.canvas,r=e.width,i=e.height,o=e.onError,a=void 0===o?function(){}:o;return"string"===typeof n?(f||a("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):t=n||function(e){var t=e.width,n=void 0===t?800:t,r=e.height,i=void 0===r?600:r,o=e.id,a=void 0===o?"gl-canvas":o,s=e.insert,u=void 0===s||s,l=document.createElement("canvas");if(l.id=a,l.style.width=Number.isFinite(n)?"".concat(n,"px"):"100%",l.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",u){var c=document.body;c.insertBefore(l,c.firstChild)}return l}({id:"lumagl-canvas",width:r,height:i,onError:a}),t}function g(e){var t=e.canvas,n=e.opts,r=void 0===n?{}:n,i=e.onError,o=void 0===i?function(e){return null}:i;function a(e){o("WebGL context: ".concat(e.statusMessage||"Unknown error"))}t.addEventListener("webglcontextcreationerror",a,!1);var s=r.webgl1,u=void 0===s||s,l=r.webgl2,c=void 0===l||l,d=null;return c&&(d=(d=d||t.getContext("webgl2",r))||t.getContext("experimental-webgl2",r)),u&&(d=(d=d||t.getContext("webgl",r))||t.getContext("experimental-webgl",r)),t.removeEventListener("webglcontextcreationerror",a,!1),d||o("Failed to create ".concat(c&&!u?"WebGL2":"WebGL"," context"))}var m=n(74),v=n(4),b=n(31);function y(e){return e.luma=e.luma||{},e.luma}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.debug,r=void 0===n||n;return null===e?null:r?S(e):x(e)}function x(e){if(null===e)return null;var t=y(e);return t.realContext?t.realContext:e}function S(e){if(null===e)return null;if(!b.b.WebGLDebug)return c.g.warn('WebGL debug mode not activated. import "luma.gl/debug" to enable.')(),e;var t=y(e);if(t.realContext)return e;if(t.debugContext)return t.debugContext;var n=b.b.WebGLDebug.makeDebugContext(e,C,k);return Object.assign(function e(){Object(v.a)(this,e)}.prototype,n),t.debugContext=n,n.debug=!0,n.gl=e,c.g.info("debug context actived."),n}function w(e,t){var n=b.b.WebGLDebug.glFunctionArgsToString(e,t);return n="".concat(n.slice(0,100)).concat(n.length>100?"...":""),"gl.".concat(e,"(").concat(n,")")}function C(e,t,n){var r=b.b.WebGLDebug.glEnumToString(e),i=b.b.WebGLDebug.glFunctionArgsToString(t,n),o="".concat(r," in gl.").concat(t,"(").concat(i,")");if(c.g.throw)throw new Error(o);c.g.error(o)()}function k(e,t){var n;if(c.g.priority>=4&&(n=w(e,t),c.g.log(4,n)()),c.g.break){n=n||w(e,t);c.g.break&&c.g.break.every((function(e){return-1!==n.indexOf(e)}))}var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(void 0===a.value){if(n=n||w(e,t),c.g.throw)throw new Error("Undefined argument: ".concat(n));c.g.error("Undefined argument: ".concat(n))}}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}var E,O=n(3),T=(E={},Object(O.a)(E,33902,{gl1:new Float32Array([1,1])}),Object(O.a)(E,33901,{gl1:new Float32Array([1,1])}),Object(O.a)(E,3379,{gl1:64,gl2:2048}),Object(O.a)(E,34076,{gl1:16}),Object(O.a)(E,34930,{gl1:8}),Object(O.a)(E,35661,{gl1:8}),Object(O.a)(E,35660,{gl1:0}),Object(O.a)(E,34024,{gl1:1}),Object(O.a)(E,36348,{gl1:8}),Object(O.a)(E,34921,{gl1:8}),Object(O.a)(E,36347,{gl1:128}),Object(O.a)(E,36349,{gl1:16}),Object(O.a)(E,3386,{gl1:new Int32Array([0,0])}),Object(O.a)(E,32883,{gl1:0,gl2:256}),Object(O.a)(E,35071,{gl1:0,gl2:256}),Object(O.a)(E,37447,{gl1:0,gl2:0}),Object(O.a)(E,36063,{gl1:0,gl2:4}),Object(O.a)(E,35379,{gl1:0,gl2:0}),Object(O.a)(E,35374,{gl1:0,gl2:0}),Object(O.a)(E,35377,{gl1:0,gl2:0}),Object(O.a)(E,34852,{gl1:0,gl2:4}),Object(O.a)(E,36203,{gl1:0,gl2:0}),Object(O.a)(E,33001,{gl1:0,gl2:0}),Object(O.a)(E,33e3,{gl1:0,gl2:0}),Object(O.a)(E,37157,{gl1:0,gl2:0}),Object(O.a)(E,35373,{gl1:0,gl2:0}),Object(O.a)(E,35657,{gl1:0,gl2:0}),Object(O.a)(E,36183,{gl1:0,gl2:0}),Object(O.a)(E,37137,{gl1:0,gl2:0}),Object(O.a)(E,34045,{gl1:0,gl2:0}),Object(O.a)(E,35978,{gl1:0,gl2:0}),Object(O.a)(E,35979,{gl1:0,gl2:0}),Object(O.a)(E,35968,{gl1:0,gl2:0}),Object(O.a)(E,35376,{gl1:0,gl2:0}),Object(O.a)(E,35375,{gl1:0,gl2:0}),Object(O.a)(E,35659,{gl1:0,gl2:0}),Object(O.a)(E,37154,{gl1:0,gl2:0}),Object(O.a)(E,35371,{gl1:0,gl2:0}),Object(O.a)(E,35658,{gl1:0,gl2:0}),Object(O.a)(E,35076,{gl1:0,gl2:-8,negative:!0}),Object(O.a)(E,35077,{gl1:0,gl2:7}),Object(O.a)(E,35380,{gl1:0,gl2:0}),E);function P(e){if(e.luma=e.luma||{},!e.luma.limits){e.luma.limits={},e.luma.webgl1MinLimits={},e.luma.webgl2MinLimits={};var t=Object(a.n)(e);for(var n in T){var r=T[n],i=r.gl1,o="gl2"in r?r.gl2:r.gl1,s=t?o:i,u="gl2"in r&&!t||"extension"in r&&!e.getExtension(r.extension)?s:e.getParameter(n);e.luma.limits[n]=u,e.luma.webgl1MinLimits[n]=i,e.luma.webgl2MinLimits[n]=o}}return e.luma.limits}function I(e){if(e.luma=e.luma||{},!e.luma.info){var t,n=e.getExtension("WEBGL_debug_renderer_info");e.luma.info=(t={},Object(O.a)(t,7936,e.getParameter(7936)),Object(O.a)(t,7937,e.getParameter(7937)),Object(O.a)(t,37445,e.getParameter(n&&n.UNMASKED_VENDOR_WEBGL||7936)),Object(O.a)(t,37446,e.getParameter(n&&n.UNMASKED_RENDERER_WEBGL||7937)),Object(O.a)(t,7938,e.getParameter(7938)),Object(O.a)(t,35724,e.getParameter(35724)),t)}return e.luma.info}function D(e){var t=P(e),n=I(e);return{vendor:n[37445]||n[7936],renderer:n[37446]||n[7937],version:n[7938],shadingLanguageVersion:n[35724],info:n,limits:t,webgl1MinLimits:e.luma.webgl1MinLimits,webgl2MinLimits:e.luma.webgl2MinLimits}}function A(e){return function(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e)}var M=n(5),j=function(e){return e},R=new(function(){function e(){Object(v.a)(this,e),this.pendingQueries=new Set,this.invalidQueryType=null,this.invalidErrorMessage="",this.checkInvalid=function(){return!1}}return Object(M.a)(e,[{key:"poll",value:function(e){this.cancelInvalidQueries(e);var t=!0,n=!1,r=void 0;try{for(var i,o=this.pendingQueries.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.isResultAvailable()){var s=a.getResult();this.resolveQuery(a,s)}}}catch(u){n=!0,r=u}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"setInvalidator",value:function(e){var t=e.queryType,n=e.errorMessage,r=e.checkInvalid;this.invalidQueryType=t,this.invalidErrorMessage=n,this.checkInvalid=r}},{key:"beginQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;this.cancelInvalidQueries(e.gl),this.cancelQuery(e);var r={};return e.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),Object.assign(e.promise,r),this.pendingQueries.add(e),e.promise.then(t).catch(n)}},{key:"resolveQuery",value:function(e,t){this.pendingQueries.delete(e),e.promise.resolve(t)}},{key:"rejectQuery",value:function(e,t){this.pendingQueries.delete(e),e.promise&&e.promise.reject(new Error(t))}},{key:"deleteQuery",value:function(e){return this.rejectQuery(e,"Query was deleted before result was available")}},{key:"cancelQuery",value:function(e){return this.rejectQuery(e,"Query was canceled before result was available")}},{key:"invalidateQuery",value:function(e){e instanceof this.invalidQueryType&&this.rejectQuery(e,this.invalidErrorMessage)}},{key:"cancelInvalidQueries",value:function(e){if(this.checkInvalid(e)){var t=!0,n=!1,r=void 0;try{for(var i,o=this.pendingQueries.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.invalidateQuery(a)}}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}}}]),e}()),F=n(6);function N(e){return Boolean(e&&(e instanceof a.c||34962===e.ARRAY_BUFFER))}function L(e){return Boolean(e&&(e instanceof a.a||32874===e.TEXTURE_BINDING_3D))}var B={webgl2:!0,webgl1:!0,throwOnFailure:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(B,{width:1,height:1},e)}function U(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t=Object.assign({},B,t),r=n.canvas,i=n.width,o=n.height,a=n.throwOnError,s=n.manageState,l=n.debug;function d(e){if(a)throw new Error(e);return null}if(c.c){var f=p({canvas:r,width:i,height:o,onError:d});e=g({canvas:f,opts:t})}else e=u({width:i,height:o,opts:t,onError:d});return e?(s&&Object(m.a)(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.g.log.apply(c.g,[1].concat(t))()}}),c.c&&l&&(e=_(e,{debug:l}),c.g.priority=Math.max(c.g.priority,1)),G(e),e):null}function H(e){var t=e.getExtension("STACKGL_destroy_context");t&&t.destroy()}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var n=t.useDevicePixels&&window.devicePixelRatio||1,r="width"in t?t.width:e.canvas.clientWidth,i="height"in t?t.height:e.canvas.clientHeight;return e.canvas.width=r*n,void(e.canvas.height=i*n)}var o=e.getExtension("STACKGL_resize_drawingbuffer");o&&"width"in t&&"height"in t&&o.resize(t.width,t.height)}function W(e){R.poll(e)}function G(e){var t=L(e)?"WebGL2":"WebGL1",n=A(e),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=e.debug?" debug":"";c.g.once(0,"".concat(t).concat(i," context ").concat(r))()}var K=n(34),q={VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:["WEBGL_color_buffer_float","EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:[!1,"EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Y={};Object.keys(q).forEach((function(e){Y[e]=e}));var X={};function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=q[t];if(Object(F.a)(r,t),!Object(c.e)(n))return!0;if(t in X)return X[t];var i=r[0],o="#extension GL_".concat(i," : enable\nvoid main(void) {}"),a=e.createShader(35633);e.shaderSource(a,o),e.compileShader(a);var s=e.getShaderParameter(a,35713);return e.deleteShader(a),X[t]=s,s}function Q(e,t){var n=q[t];Object(F.a)(n,t);var r=Object(a.n)(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return Object(F.a)(!1===i||!0===i),i}function $(e,t){return J(e,t)}function J(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return Q(e,t)}))}function ee(e){if(e.luma=e.luma||{},!e.luma.caps)for(var t in e.luma.caps={},e.luma.caps.webgl2=Object(a.n)(e),q)e.luma.caps[t]=Q(e,t);return e.luma.caps}var te=n(27),ne=n(13),re=n(12),ie=n(14),oe=n(36),ae=function(e){function t(e,n){var r;Object(v.a)(this,t),Object(a.e)(e),Object(F.a)("string"===typeof n.source,"Shader: GLSL source code must be a JavaScript string");var i=Object(a.k)(n.source,null)||n.id||Object(c.i)("unnamed ".concat(t.getTypeName(n.shaderType)));return(r=Object(ne.a)(this,Object(re.a)(t).call(this,e,{id:i}))).shaderType=n.shaderType,r.source=n.source,r.initialize(n),r}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(F.a)(!1),"unknown"}}}]),Object(M.a)(t,[{key:"initialize",value:function(e){var t=e.source,n=Object(a.k)(t,null);n&&(this.id=Object(c.i)(n)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(this.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return Object(a.k)(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){if(this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){var e=this.gl.getShaderInfoLog(this.handle),t=Object(a.o)(e,this.source,this.shaderType,this.id),n=t.shaderName,r=t.errors,i=t.warnings;throw c.g.error("GLSL compilation errors in ".concat(n,"\n").concat(r))(),c.g.warn("GLSL compilation warnings in ".concat(n,"\n").concat(i))(),new Error("GLSL compilation errors in ".concat(n))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),t}(oe.a),se=function(e){function t(e,n){return Object(v.a)(this,t),"string"===typeof n&&(c.g.deprecated("new FragmentShader(gl, source)","new FragmentShader(gl, {source})","6.1"),n={source:n}),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{shaderType:35633})))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),t}(ae),ue=function(e){function t(e,n){return Object(v.a)(this,t),"string"===typeof n&&(c.g.deprecated("new FragmentShader(gl, source)","new FragmentShader(gl, {source})","6.1"),n={source:n}),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{shaderType:35632})))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),t}(ae);function le(e,t,n){return(le="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(re.a)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var ce,de=n(24),fe=n(53),he=n(22),pe=n(60),ge="EXT_color_buffer_float",me=(ce={},Object(O.a)(ce,33189,{}),Object(O.a)(ce,33190,{gl2:!0}),Object(O.a)(ce,36012,{gl2:!0}),Object(O.a)(ce,36168,{}),Object(O.a)(ce,34041,{}),Object(O.a)(ce,35056,{gl2:!0}),Object(O.a)(ce,36013,{gl2:!0}),Object(O.a)(ce,32854,{}),Object(O.a)(ce,36194,{}),Object(O.a)(ce,32855,{}),Object(O.a)(ce,33321,{gl2:!0}),Object(O.a)(ce,33330,{gl2:!0}),Object(O.a)(ce,33329,{gl2:!0}),Object(O.a)(ce,33332,{gl2:!0}),Object(O.a)(ce,33331,{gl2:!0}),Object(O.a)(ce,33334,{gl2:!0}),Object(O.a)(ce,33333,{gl2:!0}),Object(O.a)(ce,33323,{gl2:!0}),Object(O.a)(ce,33336,{gl2:!0}),Object(O.a)(ce,33335,{gl2:!0}),Object(O.a)(ce,33338,{gl2:!0}),Object(O.a)(ce,33337,{gl2:!0}),Object(O.a)(ce,33340,{gl2:!0}),Object(O.a)(ce,33339,{gl2:!0}),Object(O.a)(ce,32849,{gl2:!0}),Object(O.a)(ce,32856,{gl2:!0}),Object(O.a)(ce,32857,{gl2:!0}),Object(O.a)(ce,36220,{gl2:!0}),Object(O.a)(ce,36238,{gl2:!0}),Object(O.a)(ce,36975,{gl2:!0}),Object(O.a)(ce,36214,{gl2:!0}),Object(O.a)(ce,36232,{gl2:!0}),Object(O.a)(ce,36226,{gl2:!0}),Object(O.a)(ce,36208,{gl2:!0}),Object(O.a)(ce,33325,{gl2:ge}),Object(O.a)(ce,33327,{gl2:ge}),Object(O.a)(ce,34842,{gl2:ge}),Object(O.a)(ce,33326,{gl2:ge}),Object(O.a)(ce,33328,{gl2:ge}),Object(O.a)(ce,34836,{gl2:ge}),Object(O.a)(ce,35898,{gl2:ge}),ce);function ve(e,t,n){var r=n[t];if(!r)return!1;var i=Object(a.n)(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}var be=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,r))).initialize(r),Object.seal(Object(de.a)(Object(de.a)(n))),n}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format;return!n||ve(e,n,me)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),Object(M.a)(t,[{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,o=void 0===i?1:i,s=e.samples,u=void 0===s?0:s;return Object(F.a)(t,"Needs format"),this.gl.bindRenderbuffer(36161,this.handle),0!==u&&Object(a.n)(this.gl)?this.gl.renderbufferStorageMultisample(36161,u,t,r,o):this.gl.renderbufferStorage(36161,t,r,o),this.format=t,this.width=r,this.height=o,this.samples=u,this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}]),t}(oe.a);function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,i=t.color,o=void 0===i?null:i,a=t.depth,s=void 0===a?null:a,u=t.stencil,l=void 0===u?null:u,c={};r&&(c.framebuffer=r);var d=0;o&&(d|=16384,!0!==o&&(c.clearColor=o)),s&&(d|=256,!0!==s&&(c.clearDepth=s)),l&&(d|=1024,!0!==s&&(c.clearStencil=s)),Object(F.a)(0!==d,"clear: bad arguments"),Object(K.g)(e,c,(function(){e.clear(d)}))}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,i=t.buffer,o=void 0===i?6144:i,s=t.drawBuffer,u=void 0===s?0:s,l=t.value,c=void 0===l?[0,0,0,0]:l;Object(a.d)(e),Object(K.g)(e,{framebuffer:r},(function(){switch(o){case 6144:switch(c.constructor){case Int32Array:e.clearBufferiv(o,u,c);break;case Uint32Array:e.clearBufferuiv(o,u,c);break;case Float32Array:default:e.clearBufferfv(o,u,c)}break;case 6145:e.clearBufferfv(6145,0,[c]);break;case 6146:e.clearBufferiv(6146,0,[c]);break;case 34041:var t=Object(he.a)(c,2),n=t[0],r=t[1];e.clearBufferfi(34041,0,n,r);break;default:Object(F.a)(!1,"clear: bad arguments")}}))}var xe=n(44);function Se(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(F.a)(!1),0}}var we=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,r))).width=null,n.height=null,n.attachments={},n.readBuffer=36064,n.drawBuffers=[36064],n.initialize(r),Object.seal(Object(de.a)(Object(de.a)(n))),n}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat;return n&&e.getExtension(Object(a.n)(e)?"EXT_color_buffer_float":"WEBGL.color_buffer_float"),r&&e.getExtension(Object(a.n)(e)?"EXT_color_buffer_float":"EXT_color_buffer_half_float")}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new t(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),Object(M.a)(t,[{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,d=e.stencil,f=void 0!==d&&d,h=e.check,p=void 0===h||h,g=e.readBuffer,m=e.drawBuffers;if(Object(F.a)(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var v in a){var b=a[v];(Array.isArray(b)?b[0]:b).resize({width:n,height:i})}else a=this._createDefaultAttachments(u,c,f,n,i);this.update({clearAttachments:!0,attachments:a,readBuffer:g,drawBuffers:m}),a&&p&&this.checkStatus()}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(n,{clearAttachments:a,resizeAttachments:u});var l=this.gl,c=l.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),l.bindFramebuffer(36160,c||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return Object(F.a)(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&c.g.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n)),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,i=void 0!==r&&r,o=n.resizeAttachments,a=void 0===o||o,s={};i&&Object.keys(this.attachments).forEach((function(e){s[e]=null})),Object.assign(s,e);var u=this.gl.bindFramebuffer(36160,this.handle);for(var l in s){Object(F.a)(void 0!==l,"Misspelled framebuffer binding point?");var c=Number(l),d=s[c],f=d;if(f)if(f instanceof be)this._attachRenderbuffer({attachment:c,renderbuffer:f});else if(Array.isArray(d)){var h=Object(he.a)(d,3),p=h[0],g=h[1],m=void 0===g?0:g,v=h[2],b=void 0===v?0:v;f=p,this._attachTexture({attachment:c,texture:p,layer:m,level:b})}else this._attachTexture({attachment:c,texture:f,layer:0,level:0});else this._unattach(c);a&&f&&f.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,u||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);if(e.bindFramebuffer(36160,t||null),36053!==n)throw new Error(function(e){return(we.STATUS||{})[e]||"Framebuffer error ".concat(e)}(n));return this}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.depth,r=e.stencil,i=e.drawBuffers,o=void 0===i?[]:i,a=this.gl.bindFramebuffer(36160,this.handle);return(t||n||r)&&ye(this.gl,{color:t,depth:n,stencil:r}),o.forEach((function(e,t){_e({drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,a||null),this}},{key:"readPixels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?this.width:o,s=e.height,u=void 0===s?this.height:s,l=e.format,c=void 0===l?6408:l,d=e.type,f=e.pixelArray,h=void 0===f?null:f,p=e.attachment,g=void 0===p?36064:p;this.gl;if(36064===g&&null===this.handle&&(g=1028),Object(F.a)(this.attachments[g]),d=d||this.attachments[g].type,!h){d=d||5121;var m=Object(xe.c)(d,{clamped:!1}),v=Se(c);h=h||new m(a*u*v)}d=d||Object(xe.b)(h);var b=this.gl.bindFramebuffer(36160,this.handle);return this.gl.readPixels(n,i,a,u,c,d,h),this.gl.bindFramebuffer(36160,b||null),h}},{key:"readPixelsToBuffer",value:function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,s=void 0===o?this.width:o,u=e.height,l=void 0===u?this.height:u,c=e.format,d=void 0===c?6408:c,f=e.type,h=e.buffer,p=void 0===h?null:h,g=e.byteOffset,m=void 0===g?0:g,v=this.gl;if(Object(a.d)(v),f=f||(p?p.type:5121),!p){var b=Se(d),y=function(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return Object(F.a)(!1),0}}(f),_=m+s*l*b*y;p=new te.a(v,{bytes:_,type:f,size:b})}return p.bind({target:35051}),Object(K.g)(v,{framebuffer:this},(function(){v.readPixels(n,i,s,l,d,f,m)})),p.unbind({target:35051}),p}},{key:"copyToDataUrl",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attachment,n=void 0===t?36064:t,r=e.maxHeight,i=void 0===r?Number.MAX_SAFE_INTEGER:r,o=this.readPixels({attachment:n}),s=this.width,u=this.height;u>i;){var l=Object(a.q)({data:o,width:s,height:u});o=l.data,s=l.width,u=l.height}Object(a.h)({data:o,width:s,height:u});var c=document.createElement("canvas");c.width=s,c.height=u;var d=c.getContext("2d"),f=d.createImageData(s,u);return f.data.set(o),d.putImageData(f,0,0),c.toDataURL()}},{key:"copyToImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image,n=void 0===t?null:t,r=e.attachment,i=void 0===r?36064:r,o=e.maxHeight,a=(void 0===o&&Number.MAX_SAFE_INTEGER,this.readDataUrl({attachment:i}));return(n=n||new Image).src=a,n}},{key:"copyToTexture",value:function(e){var t=e.texture,n=e.target,r=e.xoffset,i=void 0===r?0:r,o=e.yoffset,a=void 0===o?0:o,s=e.zoffset,u=void 0===s?0:s,l=e.mipmapLevel,c=void 0===l?0:l,d=(e.attachment,e.x),f=void 0===d?0:d,h=e.y,p=void 0===h?0:h,g=e.width,m=e.height,v=this.gl,b=v.bindFramebuffer(36160,this.handle);switch(Object(F.a)(n||t),t&&(g=Number.isFinite(g)?g:t.width,m=Number.isFinite(m)?m:t.height,t.bind(0)),t.target){case 3553:case 34067:v.copyTexSubImage2D(n||t.target,c,i,a,f,p,g,m);break;case 35866:case 32879:v.copyTexSubImage3D(n||t.target,c,i,a,u,f,p,g,m)}return t&&t.unbind(),v.bindFramebuffer(36160,b||null),t}},{key:"blit",value:function(e){var t=e.srcFramebuffer,n=e.attachment,r=void 0===n?36064:n,i=e.srcX0,o=void 0===i?0:i,s=e.srcY0,u=void 0===s?0:s,l=e.srcX1,c=e.srcY1,d=e.dstX0,f=void 0===d?0:d,h=e.dstY0,p=void 0===h?0:h,g=e.dstX1,m=e.dstY1,v=e.color,b=void 0===v||v,y=e.depth,_=void 0!==y&&y,x=e.stencil,S=void 0!==x&&x,w=e.mask,C=void 0===w?0:w,k=e.filter,E=void 0===k?9728:k,O=this.gl;Object(a.d)(O),t.handle||36064!==r||(r=1028),b&&(C|=16384),_&&(C|=256),S&&(C|=1024),Object(F.a)(C),l=void 0===l?t.width:l,c=void 0===c?t.height:c,g=void 0===g?this.width:g,m=void 0===m?this.height:m;var T=O.bindFramebuffer(36009,this.handle),P=O.bindFramebuffer(36008,t.handle);return O.readBuffer(r),O.blitFramebuffer(o,u,l,c,f,p,g,m,C,E),O.readBuffer(this.readBuffer),O.bindFramebuffer(36008,P||null),O.bindFramebuffer(36009,T||null),this}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,i=void 0===r?0:r,o=e.y,s=void 0===o?0:o,u=e.width,l=e.height,c=this.gl;Object(a.d)(c);var d=c.bindFramebuffer(36008,this.handle);return 0===i&&0===s&&void 0===u&&void 0===l?c.invalidateFramebuffer(36008,n):c.invalidateFramebuffer(36008,n,i,s,u,l),c.bindFramebuffer(36008,d),this}},{key:"getAttachmentParameter",value:function(e,t,n){var r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=Object(o.d)(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],r={},i=!0,a=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,d=t?Object(o.d)(this.gl,c):c;r[d]=this.getAttachmentParameter(e,c,t)}}catch(f){a=!0,s=f}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return r}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),n={},r=0;r<t.length;r++){var i=t[r],a=Number(i),s=e?Object(o.d)(this.gl,a):a;n[s]=this.getAttachmentParameters(a,e)}return n}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open(this.copyToDataUrl(),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>c.g.priority||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var n=this.copyToDataUrl({maxHeight:100});return c.g.image({priority:e,message:t,image:n},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,null),this}},{key:"_createDefaultAttachments",value:function(e,t,n,r,i){var o,a=null;e&&((a=a||{})[36064]=new pe.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:i,mipmaps:!1,parameters:(o={},Object(O.a)(o,10241,9728),Object(O.a)(o,10240,9728),Object(O.a)(o,10242,33071),Object(O.a)(o,10243,33071),o)}));return t&&n?(a=a||{})[33306]=new be(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}):t?(a=a||{})[36096]=new be(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:i}):n&&Object(F.a)(!1),a}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof be?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:a.framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:Object(F.a)(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e,t){Object(a.n)(e)?e.readBuffer(t):Object(F.a)(36064===t||1029===t,"Multiple render targets not supported"),this.readBuffer=t}},{key:"_setDrawBuffers",value:function(e,t){if(Object(a.n)(e))e.drawBuffers(t);else{var n=e.getExtension("WEBGL.draw_buffers");n?n.drawBuffersWEBGL(t):Object(F.a)(1===t.length&&(36064===t[0]||1029===t[0]),"Multiple render targets not supported")}this.drawBuffers=t}},{key:"_getAttachmentParameterFallback",value:function(e){var t=ee(this.gl);switch(e){case 36052:return t.webgl2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.webgl2?null:8;case 33297:return t.webgl2?null:5125;case 33296:return t.webgl2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),t}(oe.a);we.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];var Ce,ke=function(e){function t(e,n){var r;return Object(v.a)(this,t),Object(a.d)(e),r=Object(ne.a)(this,Object(re.a)(t).call(this,e,n)),Object.seal(Object(de.a)(Object(de.a)(r))),r}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){return Object(a.n)(e)}}]),Object(M.a)(t,[{key:"bind",value:function(e){return this.gl.bindSampler(e,this.handle),this}},{key:"unbind",value:function(e){return this.gl.bindSampler(e,null),this}},{key:"_createHandle",value:function(){return this.gl.createSampler()}},{key:"_deleteHandle",value:function(){this.gl.deleteSampler(this.handle)}},{key:"_getParameter",value:function(e){return this.gl.getSamplerParameter(this.handle,e)}},{key:"_setParameter",value:function(e,t){switch(e){case 33082:case 33083:this.gl.samplerParameterf(this.handle,e,t);break;default:this.gl.samplerParameteri(this.handle,e,t)}return this}}]),t}(oe.a),Ee=(Ce={},Object(O.a)(Ce,5126,(function(e,t,n){return e.uniform1fv(t,Ae(n,1))})),Object(O.a)(Ce,35664,(function(e,t,n){return e.uniform2fv(t,Ae(n,2))})),Object(O.a)(Ce,35665,(function(e,t,n){return e.uniform3fv(t,Ae(n,3))})),Object(O.a)(Ce,35666,(function(e,t,n){return e.uniform4fv(t,Ae(n,4))})),Object(O.a)(Ce,5124,(function(e,t,n){return e.uniform1iv(t,Me(n,1))})),Object(O.a)(Ce,35667,(function(e,t,n){return e.uniform2iv(t,Me(n,2))})),Object(O.a)(Ce,35668,(function(e,t,n){return e.uniform3iv(t,Me(n,3))})),Object(O.a)(Ce,35669,(function(e,t,n){return e.uniform4iv(t,Me(n,4))})),Object(O.a)(Ce,35670,(function(e,t,n){return e.uniform1iv(t,Me(n,1))})),Object(O.a)(Ce,35671,(function(e,t,n){return e.uniform2iv(t,Me(n,2))})),Object(O.a)(Ce,35672,(function(e,t,n){return e.uniform3iv(t,Me(n,3))})),Object(O.a)(Ce,35673,(function(e,t,n){return e.uniform4iv(t,Me(n,4))})),Object(O.a)(Ce,35674,(function(e,t,n){return e.uniformMatrix2fv(t,!1,Ae(n,4))})),Object(O.a)(Ce,35675,(function(e,t,n){return e.uniformMatrix3fv(t,!1,Ae(n,9))})),Object(O.a)(Ce,35676,(function(e,t,n){return e.uniformMatrix4fv(t,!1,Ae(n,16))})),Object(O.a)(Ce,35678,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,35680,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,5125,(function(e,t,n){return e.uniform1uiv(t,je(n,1))})),Object(O.a)(Ce,36294,(function(e,t,n){return e.uniform2uiv(t,je(n,2))})),Object(O.a)(Ce,36295,(function(e,t,n){return e.uniform3uiv(t,je(n,3))})),Object(O.a)(Ce,36296,(function(e,t,n){return e.uniform4uiv(t,je(n,4))})),Object(O.a)(Ce,35685,(function(e,t,n){return e.uniformMatrix2x3fv(t,!1,Ae(n,6))})),Object(O.a)(Ce,35686,(function(e,t,n){return e.uniformMatrix2x4fv(t,!1,Ae(n,8))})),Object(O.a)(Ce,35687,(function(e,t,n){return e.uniformMatrix3x2fv(t,!1,Ae(n,6))})),Object(O.a)(Ce,35688,(function(e,t,n){return e.uniformMatrix3x4fv(t,!1,Ae(n,12))})),Object(O.a)(Ce,35689,(function(e,t,n){return e.uniformMatrix4x2fv(t,!1,Ae(n,8))})),Object(O.a)(Ce,35690,(function(e,t,n){return e.uniformMatrix4x3fv(t,!1,Ae(n,12))})),Object(O.a)(Ce,35679,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,35682,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36289,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36292,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36293,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36298,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36299,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36300,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36303,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36306,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36307,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36308,(function(e,t,n){return e.uniform1i(t,n)})),Object(O.a)(Ce,36311,(function(e,t,n){return e.uniform1i(t,n)})),Ce),Oe={},Te={},Pe={},Ie=[0];function De(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(Ie[0]=e,e=Ie);var i=e.length;if(i%t&&c.g.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function Ae(e,t){return De(e,t,Float32Array,Oe)}function Me(e,t){return De(e,t,Int32Array,Te)}function je(e,t){return De(e,t,Uint32Array,Pe)}function Re(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^\[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function Fe(e,t,n){var r=Ee[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r.bind(null,e,t)}function Ne(e,t,n){for(var r in e){var i=e[r];if((!n||Boolean(n[r]))&&!Le(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}return!0}function Le(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof fe.a||e instanceof ke||(e instanceof be||e instanceof we&&Boolean(e.texture))))}function Be(e,t){if(Array.isArray(e)||ArrayBuffer.isView(e)){if(!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return e===t}function ze(e){return Array.isArray(e)||ArrayBuffer.isView(e)?e.slice():e}var Ue,He=n(55),Ve=(Ue={},Object(O.a)(Ue,5126,[5126,1,"float"]),Object(O.a)(Ue,35664,[5126,2,"vec2"]),Object(O.a)(Ue,35665,[5126,3,"vec3"]),Object(O.a)(Ue,35666,[5126,4,"vec4"]),Object(O.a)(Ue,5124,[5124,1,"int"]),Object(O.a)(Ue,35667,[5124,2,"ivec2"]),Object(O.a)(Ue,35668,[5124,3,"ivec3"]),Object(O.a)(Ue,35669,[5124,4,"ivec4"]),Object(O.a)(Ue,5125,[5125,1,"uint"]),Object(O.a)(Ue,36294,[5125,2,"uvec2"]),Object(O.a)(Ue,36295,[5125,3,"uvec3"]),Object(O.a)(Ue,36296,[5125,4,"uvec4"]),Object(O.a)(Ue,35670,[5126,1,"bool"]),Object(O.a)(Ue,35671,[5126,2,"bvec2"]),Object(O.a)(Ue,35672,[5126,3,"bvec3"]),Object(O.a)(Ue,35673,[5126,4,"bvec4"]),Object(O.a)(Ue,35674,[5126,8,"mat2"]),Object(O.a)(Ue,35685,[5126,8,"mat2x3"]),Object(O.a)(Ue,35686,[5126,8,"mat2x4"]),Object(O.a)(Ue,35675,[5126,12,"mat3"]),Object(O.a)(Ue,35687,[5126,12,"mat3x2"]),Object(O.a)(Ue,35688,[5126,12,"mat3x4"]),Object(O.a)(Ue,35676,[5126,16,"mat4"]),Object(O.a)(Ue,35689,[5126,16,"mat4x2"]),Object(O.a)(Ue,35690,[5126,16,"mat4x3"]),Ue);function We(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(F.a)(!1),0}}function Ge(e){var t=Ve[e];if(!t)return null;var n=Object(he.a)(t,2);return{type:n[0],components:n[1]}}function Ke(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=5126}for(var n in Ve){var r=Object(he.a)(Ve[n],3),i=r[0],o=r[1],a=r[2];if(i===e&&o===t)return{glType:n,name:a}}return null}var qe=function(){function e(t){Object(v.a)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return Object(M.a)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfos[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,n=t.getProgramParameter(e.handle,35721),r=0;r<n;r++){var i=t.getActiveAttrib(e.handle,r),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(Object(a.n)(t)){for(var n=t.getProgramParameter(e.handle,35971),r=0;r<n;r++){var i=t.getTransformFeedbackVarying(e.handle,r),o=i.name,s=i.type,u=i.size;this._addVarying(r,o,s,u)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,n,r){var i=Ge(n),o={type:i.type,size:r*i.components};this._inferProperties(e,t,o);var a={location:e,name:t,accessor:new He.a(o)};this.attributeInfos.push(a),this.attributeInfosByName[a.name]=a}},{key:"_inferProperties",value:function(e,t,n){/instance/i.test(t)&&(n.divisor=1)}},{key:"_addVarying",value:function(e,t,n,r){var i=Ge(n),o=i.type,a=i.components,s={location:e,name:t,accessor:new He.a({type:o,size:r*a})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),Ye=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,r))).stubRemovedMethods("Program","v6.0",["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"]),n._isCached=!1,n.initialize(r),Object.seal(Object(de.a)(Object(de.a)(n))),n._setId(r.id),n}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vs,n=e.fs,r=e.varyings,i=e.bufferMode,o=void 0===i?35981:i;return this.vs="string"===typeof t?new se(this.gl,{id:"".concat(e.id,"-vs"),source:t}):t,this.fs="string"===typeof n?new ue(this.gl,{id:"".concat(e.id,"-fs"),source:n}):n,Object(F.a)(this.vs instanceof se),Object(F.a)(this.fs instanceof ue),this.uniforms={},this.samplers={},r&&(Object(a.d)(this.gl),this.varyings=r,this.gl.transformFeedbackVaryings(this.handle,r,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new qe(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:le(Object(re.a)(t.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms,e.samplers),this}},{key:"draw",value:function(e){var t=this,n=e.logPriority,r=e.drawMode,i=void 0===r?4:r,s=e.vertexCount,u=e.offset,l=void 0===u?0:u,d=e.start,f=e.end,h=e.isIndexed,p=void 0!==h&&h,g=e.indexType,m=void 0===g?5123:g,v=e.isInstanced,b=void 0!==v&&v,y=e.instanceCount,_=void 0===y?0:y,x=e.vertexArray,S=void 0===x?null:x,w=e.transformFeedback,C=e.framebuffer,k=e.parameters,E=void 0===k?{}:k,O=e.uniforms,T=void 0===O?{}:O,P=e.samplers,I=void 0===P?{}:P;if(void 0!==n){var D=C?C.id:"default",A="mode=".concat(Object(o.a)(this.gl,i)," verts=").concat(s," ")+"instances=".concat(_," indexType=").concat(Object(o.a)(this.gl,m)," ")+"isInstanced=".concat(b," isIndexed=").concat(p," ")+"Framebuffer=".concat(D);c.g.log(n,A)()}return this.gl.useProgram(this.handle),Object(F.a)(S),S.bindForDraw(s,_,(function(){if(T&&(c.g.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)"),t.setUniforms(T,I)),t._bindTextures(),void 0!==C&&(E=Object.assign({},E,{framebuffer:C})),w){var e=We(i);w.begin(e)}Object(K.g)(t.gl,E,(function(){p&&b?t.gl.drawElementsInstanced(i,s,m,l,_):p&&Object(a.n)(t.gl)&&!isNaN(d)&&!isNaN(f)?t.gl.drawRangeElements(i,d,f,s,m,l):p?t.gl.drawElements(i,s,m,l):b?t.gl.drawArraysInstanced(i,l,s,_):t.gl.drawArrays(i,l,s)})),w&&w.end()})),this}},{key:"setSamplers",value:function(e){Object.assign(this.samplers,e)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=!1,i={};for(var o in e)Be(this.uniforms[o],e[o])||(r=!0,i[o]=e[o],this.uniforms[o]=ze(e[o]));return r&&(n(),Ne(i,this.id,this._uniformSetters),Object.assign(this.samplers,t),this._setUniforms(i)),this}},{key:"_bindTextures",value:function(){for(var e in this.uniforms){var t=this._uniformSetters[e];if(t&&void 0!==t.textureIndex){var n=this.uniforms[e],r=this.samplers[e];n instanceof we&&(n=n.texture),n instanceof fe.a&&n.bind(t.textureIndex),r&&r.bind(t.textureIndex)}}}},{key:"_setUniforms",value:function(e){for(var t in this.gl.useProgram(this.handle),e){var n=e[t],r=this._uniformSetters[t];if(r)if(n instanceof we&&(n=n.texture),n instanceof fe.a){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var i=n,o=r.textureIndex;i.bind(o),r(o)}else r(n)}return this}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t=this.gl.getAttachedShaders(e),n={},r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new se({handle:u});break;case 35632:n.fs=new ue({handle:u})}}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=Object(c.i)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if((e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),c.g.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),c.g.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||c.g.priority>0)&&(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35714)))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)))}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var n=this.gl.getActiveUniform(this.handle,t),r=Re(n.name),i=r.name,o=(r.isArray,e.getUniformLocation(this.handle,i));this._uniformSetters[i]=Fe(e,o,n)}this._textureIndexCounter=0}},{key:"reset",value:function(){}},{key:"getActiveUniforms",value:function(e,t){return this.gl.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl.uniformBlockBinding(this.handle,e,t)}}]),t}(oe.a),Xe=n(81),Ze=function(e){function t(e,n){var r;return Object(v.a)(this,t),Object(a.d)(e),(r=Object(ne.a)(this,Object(re.a)(t).call(this,e,n))).promise=null,Object.seal(Object(de.a)(Object(de.a)(r))),r}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"wait",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flags,n=void 0===t?0:t,r=e.timeout,i=void 0===r?-1:r;return this.gl.waitSync(this.handle,n,i),this}},{key:"clientWait",value:function(e){var t=e.flags,n=void 0===t?1:t,r=e.timeout,i=this.gl.clientWaitSync(this.handle,n,r);return i}},{key:"cancel",value:function(){R.cancelQuery(this)}},{key:"isSignaled",value:function(){return 37145===this.getParameter(37140)}},{key:"isResultAvailable",value:function(){return this.isSignaled()}},{key:"getResult",value:function(){return this.isSignaled()}},{key:"getParameter",value:function(e){return this.gl.getSyncParameter(this.handle,e)}},{key:"_createHandle",value:function(){return this.gl.fenceSync(37143,0)}},{key:"_deleteHandle",value:function(){R.deleteQuery(this),this.gl.deleteSync(this.handle)}}]),t}(oe.a),Qe=function(e){return e},$e=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,e,r));var i=r.onComplete,o=void 0===i?Qe:i,a=r.onError,s=void 0===a?Qe:a;return n.target=null,n.onComplete=o,n.onError=s,n.promise=null,Object.seal(Object(de.a)(Object(de.a)(n))),n}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.n)(e),r=J(e,Y.TIMER_QUERY),i=n||r,o=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var d=l.value;switch(d){case"queries":i=i&&n;break;case"timers":i=i&&r;break;case"timestamps":var f=r?e.getQuery(36392,34916):0;i=i&&f>0;break;default:Object(F.a)(!1)}}}catch(h){s=!0,u=h}finally{try{o||null==c.return||c.return()}finally{if(s)throw u}}return i}}]),Object(M.a)(t,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,n=void 0!==t&&t;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"getTimestamp",value:function(){R.beginQuery(this,this.onComplete,this.onError);try{this.gl.queryCounter(this.handle,36392)}catch(e){R.rejectQuery(this,'Timer queries require "EXT_disjoint_timer_query" extension')}return this}},{key:"begin",value:function(e){R.beginQuery(this,this.onComplete,this.onError),this.target=e;try{this.gl.beginQuery(this.target,this.handle)}catch(t){R.rejectQuery(this,"Query not supported")}return this}},{key:"end",value:function(){return this.target&&(this.gl.endQuery(this.target),this.target=null),this}},{key:"cancel",value:function(){return this.end(),R.cancelQuery(this),this}},{key:"isResultAvailable",value:function(){return this.gl.getQueryParameter(this.handle,34919)}},{key:"getResult",value:function(){var e=this.gl.getQueryParameter(this.handle,34918);return Number.isFinite(e)?e/1e6:0}},{key:"_createHandle",value:function(){return t.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){R.deleteQuery(this),this.gl.deleteQuery(this.handle)}}],[{key:"poll",value:function(e){R.poll(e)}}]),t}(oe.a);R.setInvalidator({queryType:$e,errorMessage:"Disjoint GPU operation invalidated timer queries",checkInvalid:function(e){return e.getParameter(36795)}});var Je=n(110),et=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};throw Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,n)),new Error("Texture2DArray not yet implemented")}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){return Object(a.n)(e)}}]),t}(fe.a),tt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(a.d)(e),(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,r))).initialize(r),n.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(de.a)(Object(de.a)(n))),n}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){return Object(a.n)(e)}}]),Object(M.a)(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(c.d)(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in t)e.setBuffer(n,t[n])})),this}},{key:"setBuffer",value:function(e,t){var n=this,r=this._getVaryingIndex(e),i=this._getBufferParams(t),o=i.buffer,a=i.sizeInBytes,s=i.offsetInBytes;return r<0?(this.unused[e]=o,c.g.warn((function(){return"".concat(n.id," unused varying buffer ").concat(e)}))(),this):(this.buffers[r]=t,this.bindOnUse||this._bindBuffer(r,o,s,a),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,n,r;return e instanceof te.a===!1?(r=e.buffer,n=e.sizeInBytes,t=e.offsetInBytes):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,offsetInBytes:t,sizeInBytes:n}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),n=t.buffer,r=t.sizeInBytes,i=t.offsetInBytes;this._bindBuffer(e,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}]),t}(oe.a),nt=null;function rt(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!nt||nt.byteLength<n)&&(nt=new ArrayBuffer(n)),nt),0,t)}var it=n(47),ot=n(127),at=n(128);function st(e){if(!e&&!Object(ot.a)())return"Node";if(Object(at.a)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i?"IE":it.b.chrome?"Chrome":it.b.safari?"Safari":it.b.mozInnerScreenX?"Firefox":"Unknown"}var ut="elements must be GL.ELEMENT_ARRAY_BUFFER",lt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t);var i=r.id||r.program&&r.program.id;return(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},r,{id:i})))).hasVertexArrays=t.isSupported(e),n.buffer=null,n.bufferValue=null,n.initialize(r),Object.seal(Object(de.a)(Object(de.a)(n))),n}return Object(ie.a)(t,e),Object(M.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.constantAttributeZero?Object(a.n)(e)||"Chrome"===st():Object(a.n)(e)||e.getExtension("OES_vertex_array_object")}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new t(e,{handle:null})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return t.MAX_ATTRIBUTES=t.MAX_ATTRIBUTES||e.getParameter(34921),t.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,n,r){switch(r.constructor){case Float32Array:t._setConstantFloatArray(e,n,r);break;case Int32Array:t._setConstantIntArray(e,n,r);break;case Uint32Array:t._setConstantUintArray(e,n,r);break;default:Object(c.a)(!1)}}}]),Object(M.a)(t,[{key:"delete",value:function(){le(Object(re.a)(t.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(!t||34963===t.target,ut),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);var r=n.size,i=n.type,o=n.stride,s=n.offset,u=n.normalized,l=n.integer,d=n.divisor,f=this.gl;return e=Number(e),this.bind((function(){f.bindBuffer(34962,t.handle),l?(Object(c.a)(Object(a.n)(f)),f.vertexAttribIPointer(e,r,i,o,s)):f.vertexAttribPointer(e,r,i,u,o,s),f.enableVertexAttribArray(e),f.vertexAttribDivisor(e,d||0)})),this}},{key:"enable",value:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!r&&0===e&&!t.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return r?n.gl.enableVertexAttribArray(e):n.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t,n){var r=this._normalizeConstantArrayValue(t,n),i=r.byteLength*e,o=r.length*e,a=!this.buffer;if(this.buffer=this.buffer||new te.a(this.gl,i),a=(a=a||this.buffer.setByteLength(i))||!this._compareConstantArrayValues(r,this.bufferValue)){var s=rt(t.constructor,o);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u)}({target:s,source:r,start:0,count:o}),this.buffer.subData(s),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e,t){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.hasVertexArrays=t.isSupported(this.gl),this.hasVertexArrays?this.gl.createVertexArray():null}},{key:"_deleteHandle",value:function(e){return this.hasVertexArrays&&this.gl.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.hasVertexArrays&&this.gl.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var n=this,r=t.location;return Object(c.a)(Number.isFinite(r)),this.bind((function(){switch(e){case 34373:return n.gl.getVertexAttribOffset(r,e);default:return n.gl.getVertexAttrib(r,e)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return t.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(e,t,n){switch(Object(c.a)(Object(a.n)(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(e,t,n){switch(Object(c.a)(Object(a.n)(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:Object(c.a)(!1)}}}]),t}(oe.a),ct=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,e);var r=n.id||n.program&&n.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.vertexArrayObject=lt.isSupported(t)?new lt(t):lt.getDefaultArray(t),Object(c.h)(this,"VertexArray","v6.0",["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"]),this.initialize(n),Object.seal(this)}return Object(M.a)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(e){return this.drawParams=this.drawParams||this._updateDrawParams(),Object.assign({},this.drawParams,e)}},{key:"setAttributes",value:function(e){var t=this;return this.vertexArrayObject.bind((function(){for(var n in e){var r=e[n];if(r instanceof te.a)t.setBuffer(n,r);else if(Array.isArray(r)&&r.length&&r[0]instanceof te.a){var i=r[0],o=r[1];t.setBuffer(n,i,o)}else{if(!ArrayBuffer.isView(r)&&!Array.isArray(r))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");t.setConstant(n,r)}}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t);var r=this._resolveLocationAndAccessor(e,t,t.accessor,n),i=r.location,o=r.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(e,t,n),i=r.location,o=r.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t,o),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(null),e.buffer=e.buffer||new te.a(e.gl,{size:4});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof te.a&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var n=e.values[t];n instanceof te.a&&e.setBuffer(t,n)}})),this}},{key:"bindForDraw",value:function(e,t,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),i.vertexArrayObject.hasVertexArrays||i.bindBuffers(),r=n(),i.vertexArrayObject.hasVertexArrays||i.unbindBuffers()})),r}},{key:"_resolveLocationAndAccessor",value:function(e,t,n,r){var i=this,o=this._getAttributeIndex(e);if(!Number.isFinite(o)||o<0)return this.unused[e]=t,c.g.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),this;var a=this._getAttributeInfo(e),s=He.a.resolve(a.accessor,n,r),u=s.size,l=s.type;return Object(c.a)(Number.isFinite(u)&&Number.isFinite(l)),{location:o,accessor:s}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){if(this.configuration)return this.configuration.getAttributeLocation(e);var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_setConstantAttributes",value:function(e,t){var n=Math.max(0|e,0|t),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(e,t){if(lt.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){lt.setConstant(this.gl,e,t),this.vertexArrayObject.isDefault&&this.vertexArrayObject.enable(e,!1)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elements.accessor.type),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var n=this.values[t],r=this.accessors[t];if(n){var i=r.divisor>0;if(e.isInstanced=e.isInstanced||i,n instanceof te.a){var o=n;if(i){var a=o.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,a)}else{var s=o.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.g.deprecated("setElements","setElementBuffer"),this.setElementBuffer(e,t)}}]),e}(),dt=function(){function e(t){var n;for(var r in Object(v.a)(this,e),this.layout={},this.size=0,t)this._addUniform(r,t[r]);var i=new Float32Array(this.size);this.typedArray=(n={},Object(O.a)(n,5126,i),Object(O.a)(n,5124,new Int32Array(i.buffer)),Object(O.a)(n,5125,new Uint32Array(i.buffer)),n)}return Object(M.a)(e,[{key:"getBytes",value:function(){return 4*this.size}},{key:"getData",value:function(){return this.typedArray[5126]}},{key:"getSubData",value:function(e){var t,n;if(void 0===e)t=this.data,n=0;else{var r=this.offsets[e],i=r+this.sizes[e];t=this.data.subarray(r,i),n=4*r}return{data:t,offset:n}}},{key:"setUniforms",value:function(e){for(var t in e)this._setValue(t,e[t]);return this}},{key:"_setValue",value:function(e,t){var n=this.layout[e];Object(F.a)(n,"UniformLayoutStd140 illegal argument");var r=this.typedArray[n.type];1===n.size?r[n.offset]=t:r.set(t,n.offset)}},{key:"_addUniform",value:function(e,t){var n=Ge(t);Object(F.a)(n,"UniformBufferLayout illegal argument");var r=n.type,i=n.components;this.size=this._alignTo(this.size,i);var o=this.size;this.size+=i,this.layout[e]={type:r,size:i,offset:o}}},{key:"_alignTo",value:function(e,t){switch(t){case 1:return e;case 2:return e+e%2;default:return e+(4-e%4)%4}}}]),e}(),ft=n(99),ht=n(256),pt=function(){function e(t){var n=t.id;t.display;Object(v.a)(this,e),this.id=n||Object(c.i)(this.constructor.name),this.display=!0,this.position=new ft.a,this.rotation=new ft.a,this.scale=new ft.a(1,1,1),this.matrix=new ht.a,this.userData={}}return Object(M.a)(e,[{key:"toString",value:function(){return"{id: ".concat(this.id,", children: ").concat(this.children,")}")}},{key:"setPosition",value:function(e){return Object(F.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this}},{key:"setRotation",value:function(e){return Object(F.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}},{key:"setScale",value:function(e){return Object(F.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this}},{key:"setMatrixComponents",value:function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,o=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),o&&this.updateMatrix(),this}},{key:"updateMatrix",value:function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=e.rotation,r=e.scale;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}},{key:"getCoordinateUniforms",value:function(e,t){Object(F.a)(e),t=t||this.matrix;var n=new ht.a(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}}},{key:"transform",value:function(){if(this.parent){var e=this.parent;this.endPosition.set(this.position.add(e.endPosition)),this.endRotation.set(this.rotation.add(e.endRotation)),this.endScale.set(this.scale.add(e.endScale))}else this.endPosition.set(this.position),this.endRotation.set(this.rotation),this.endScale.set(this.scale);for(var t=this.children,n=0;n<t.length;++n)t[n].transform();return this}}]),e}(),gt=n(29),mt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var r=n=Array.isArray(n)?{children:n}:n,i=r.children,o=void 0===i?[]:i;return o.every((function(e){return Object(F.a)(e instanceof pt)})),(e=Object(ne.a)(this,Object(re.a)(t).call(this,n))).children=o,e}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?this.add.apply(this,Object(gt.a)(i)):this.children.push(i)}return this}},{key:"remove",value:function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this}},{key:"removeAll",value:function(){return this.children=[],this}},{key:"traverse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.modelMatrix,i=void 0===r?new ht.a:r,o=!0,a=!1,s=void 0;try{for(var u,l=this.children[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,d=c.matrix;i=i.multiplyRight(d);var f=void 0;if(f=c instanceof t?c.traverse(e,{modelMatrix:i}):e(c,{}))return f}}catch(h){a=!0,s=h}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return null}},{key:"traverseReverse",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.modelMatrix,i=void 0===r?new ht.a:r,o=this.children.length-1;o>=0;--o){var a=this.children[o],s=a.matrix;i=i.multiplyRight(s);var u=void 0;if(u=a instanceof t?a.traverseReverse(e,{modelMatrix:i}):e(a,{}))return u}return null}}]),t}(pt),vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,e);var r=n.id,i=void 0===r?Object(c.i)("attribute"):r,o=n.type,a=n.isIndexed,s=void 0!==a&&a;this.gl=t,this.id=i,this.isIndexed=s,this.target=s?34963:34962,this.type=o,s&&!o&&(this.type=t&&$(t,Y.ELEMENT_INDEX_UINT32)?5125:5123),this.value=null,this.externalBuffer=null,this.buffer=null,this.userData={},this.update(n),Object.seal(this),this._validateAttributeDefinition()}return Object(M.a)(e,[{key:"delete",value:function(){this.buffer&&(this.buffer.delete(),this.buffer=null)}},{key:"update",value:function(e){var t=e.value,n=e.buffer,r=e.constant,i=void 0===r?this.constant||!1:r;this.constant=i,n?(this.externalBuffer=n,this.constant=!1,this.type=n.accessor.type,void 0!==n.accessor.divisor&&(this.divisor=n.accessor.divisor)):t&&(this.externalBuffer=null,this.value=t,!i&&this.gl&&(this.buffer=this.buffer||new te.a(this.gl,Object.assign({},e,{id:this.id,target:this.target,type:this.type})),this.buffer.setData({data:t}),this.type=this.buffer.accessor.type)),this._setAccessor(e)}},{key:"getBuffer",value:function(){return this.constant?null:this.externalBuffer||this.buffer}},{key:"getValue",value:function(){if(this.constant)return this.value;var e=this.externalBuffer||this.buffer;return e?[e,this]:null}},{key:"_setAccessor",value:function(e){var t=e.size,n=void 0===t?this.size:t,r=e.offset,i=void 0===r?this.offset||0:r,o=e.stride,a=void 0===o?this.stride||0:o,s=e.normalized,u=void 0===s?this.normalized||!1:s,l=e.integer,d=void 0===l?this.integer||!1:l,f=e.divisor,h=void 0===f?this.divisor||0:f,p=e.instanced,g=e.isInstanced;this.size=n,this.offset=i,this.stride=a,this.normalized=u,this.integer=d,this.divisor=h,void 0!==g&&(c.g.deprecated("Attribute.isInstanced"),this.divisor=g?1:0),void 0!==p&&(c.g.deprecated("Attribute.instanced"),this.divisor=p?1:0)}},{key:"_validateAttributeDefinition",value:function(){}}]),e}(),bt={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};function yt(e){var t="string"===typeof e?bt[e]||bt.TRIANGLES:e;return Object(F.a)(t>=0&&t<=bt.TRIANGLE_FAN,"Illegal drawMode"),t}var _t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,e);var n=t.id,r=t.drawMode,i=void 0===r?bt.TRIANGLES:r,o=t.vertexCount,a=void 0===o?void 0:o,s=t.attributes;this.id=n||Object(c.i)(this.constructor.name),this.drawMode=yt(i),this.vertexCount=a,this.attributes={},this.needsRedraw=!0,this.userData={},Object.seal(this),s&&this.setAttributes(s)}return Object(M.a)(e,[{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=e,this}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0!==t&&t,r=!1;return r=r||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!n,r}},{key:"setVertexCount",value:function(e){this.vertexCount=e}},{key:"getVertexCount",value:function(){return void 0!==this.vertexCount?this.vertexCount:this.attributes.indices?this.attributes.indices.value.length:this.attributes.vertices?this.attributes.vertices.value.length/3:!!this.attributes.positions&&this.attributes.positions.value.length/3}},{key:"hasAttribute",value:function(e){return Boolean(this.attributes[e])}},{key:"getAttribute",value:function(e){var t=this.attributes[e];return Object(F.a)(t),t.value}},{key:"getArray",value:function(e){var t=this.attributes[e];return Object(F.a)(t),t.value}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){for(var t in e){var n=e[t];n=ArrayBuffer.isView(n)?{value:n}:n,Object(F.a)(ArrayBuffer.isView(n.value),"".concat(this._print(t),": must be typed array or object with value as typed array")),this._autoDetectAttribute(t,n),this.attributes[t]=n}return this.setNeedsRedraw(),this}},{key:"_autoDetectAttribute",value:function(e,t){var n;switch(e){case"indices":n=n||"indices";break;case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2;break;case"indices":t.size=t.size||1,t.isIndexed=void 0===t.isIndexed||t.isIndexed,Object(F.a)(t.value instanceof Uint16Array||t.value instanceof Uint32Array,'attribute array for "indices" must be of integer type')}Object(F.a)(t.size,"attribute ".concat(e," needs size"))}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}}]),e}(),xt="#define SHADER_NAME luma_modular_vertex\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec2 texCoords;\nattribute vec3 pickingColors;\n\nvoid main(void) {\n\n  // Set up position\n#ifdef MODULE_GEOMETRY\n  geometry_setPosition(positions);\n  geometry_setNormal(normals);\n#endif\n\n#ifdef MODULE_PROJECT\n  project_setPositionAndNormal_Model(positions, normals);\n  gl_Position = project_model_to_clipspace(positions);\n#endif\n\n  // Set up depth\n#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n\n#ifdef MODULE_DIFFUSE\n  diffuse_setTextureCoordinate(texCoords);\n#endif\n\n  // Set up color calculations\n#ifdef MODULE_MATERIAL\n  material_setDiffuseColor(colors);\n  material_setDiffuseTextureCoordinates(texCoords);\n#endif\n\n#ifdef MODULE_LIGHTING\n  lighting_setPositionAndNormal(positions, normals);\n  lighting_apply_light(positions);\n  lighting_apply_reflection(positions);\n#endif\n\n#ifdef MODULE_PICKING\n  picking_setPickingColor(pickingColors);\n#endif\n\n}\n",St="#define SHADER_NAME luma-modular-fragment\n\nprecision highp float;\n\n// varyings\nvarying vec4 vColor;\n\nvoid main(){\n  gl_FragColor = vec4(1., 0., 1., 1.);\n\n#ifdef MODULE_DIFFUSE\n  gl_FragColor = diffuse_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth(gl_Position);\n#endif\n}\n";function wt(e,t,n){switch(t){case 300:return n?function(e){return e.replace(/attribute\s+/g,"in ").replace(/varying\s+/g,"out ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(+/g,"texture(")}(e):function(e){return e.replace(/varying\s+/g,"in ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(/g,"texture(")}(e);case 100:return n?function(e){return e.replace(/^in\s+/gm,"attribute ").replace(/^out\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e):function(e){return e.replace(/^in\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function Ct(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}var kt=function(){function e(t){var n=t.name,r=t.vs,i=t.fs,o=t.dependencies,a=void 0===o?[]:o,s=t.getUniforms,u=void 0===s?function(){return{}}:s,l=t.deprecations,c=void 0===l?[]:l,d=t.vertexShader,f=t.fragmentShader;Object(v.a)(this,e),Ct("string"===typeof n),this.name=n,this.vs=r||d,this.fs=i||f,this.getModuleUniforms=u,this.dependencies=a,this.deprecations=this._parseDeprecationDefinitions(c)}return Object(M.a)(e,[{key:"getModuleSource",value:function(e,t){var n;switch(e){case"vs":n=wt(this.vs||"",t,!0);break;case"fs":n=wt(this.fs||"",t,!1);break;default:Ct(!1)}return"string"!==typeof n?"":"#define MODULE_".concat(this.name.toUpperCase(),"\n").concat(n,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms(e,t)}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(n){n.regex.test(e)&&(n.deprecated&&t?t.deprecated(n.old,n.new)():t&&t.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){switch(e.type){case"function":e.regex=new RegExp("\\b".concat(e.old,"\\("));break;default:e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))}})),e}}]),e}(),Et=new(function(){function e(){Object(v.a)(this,e),this.shaderModules={},this.defaultShaderModules=[]}return Object(M.a)(e,[{key:"setDefaultShaderModules",value:function(e){this.defaultShaderModules=this.resolveModules(e)}},{key:"registerShaderModules",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreMultipleRegistrations,r=void 0!==n&&n,i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this._registerShaderModule(l,r)}}catch(c){o=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}},{key:"getShaderModule",value:function(e){if(e instanceof kt)return e;if("string"!==typeof e)return this._registerShaderModule(e,!0);var t=this.shaderModules[e];return t||Ct(!1,"Unknown shader module ".concat(e)),t}},{key:"resolveModules",value:function(e){var t=this;return e.map((function(e){return t.getShaderModule(e)}))}},{key:"_registerShaderModule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof kt)return e;if(Ct(e.name,"shader module has no name"),this.shaderModules[e.name]&&!t)throw new Error("shader module ".concat(e.name," already registered"));return(e=new kt(e)).dependencies=this.resolveModules(e.dependencies),this.shaderModules[e.name]=e,this.shaderModules[e.name]}}]),e}());function Ot(e){Et.setDefaultShaderModules(e)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreMultipleRegistrations,r=void 0!==n&&n;Et.registerShaderModules(e,{ignoreMultipleRegistrations:r})}function Pt(e){return e=e.concat(Et.defaultShaderModules),It(e=Et.resolveModules(e))}function It(e){var t={},n={};return Dt({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return t[e]}))}function Dt(e){var t=e.modules,n=e.level,r=e.moduleMap,i=e.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r[c.name]=c,(void 0===i[c.name]||i[c.name]<n)&&(i[c.name]=n)}}catch(v){a=!0,s=v}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}var d=!0,f=!1,h=void 0;try{for(var p,g=t[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var m=p.value;m.dependencies&&Dt({modules:m.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}}catch(v){f=!0,h=v}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var Mt={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},jt={};Object.keys(Mt).forEach((function(e){jt[e]=e}));var Rt={};function Ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Mt[t];if(Ct(r,t),!At(n))return!0;if(t in Rt)return Rt[t];var i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),Rt[t]=u,u}function Nt(e,t){var n=Mt[t];Ct(n,t);var r=function(e){return Boolean(e&&("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||!0))}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return Ct(!1===i||!0===i),i}function Lt(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return Nt(e,t)}))}var Bt,zt,Ut=n(63),Ht=n.n(Ut),Vt=(Bt={},Object(O.a)(Bt,"vs","#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(O.a)(Bt,"fs","#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),Bt),Wt=/void main\s*\([^\)]*\)\s*\{\n?/,Gt=/}\n?[^{}]*$/;function Kt(e){var t={};return Ht()(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}var qt=(zt={},Object(O.a)(zt,"vs","vertex"),Object(O.a)(zt,"fs","fragment"),zt);function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vs,r=t.fs,i=Pt(t.modules||[]);return{gl:e,vs:Xt(e,Object.assign({},t,{source:n,type:"vs",modules:i})),fs:Xt(e,Object.assign({},t,{source:r,type:"fs",modules:i})),getUniforms:Zt(i),modules:Qt(i)}}function Xt(e,t){var n=t.id,r=t.source,i=t.type,o=t.modules,a=void 0===o?[]:o,s=t.defines,u=void 0===s?{}:s,l=t.inject,c=void 0===l?{}:l,d=t.prologue,f=void 0===d||d,h=t.log;Ct("string"===typeof r,"shader source must be a string");var p="vs"===i,g=r.split("\n"),m=100,v="",b=r;0===g[0].indexOf("#version ")&&(m=300,v=g[0],b=g.slice(1).join("\n"));var y=f?"".concat(v,"\n").concat(function(e){var t=e.id,n=e.source,r=e.type;return t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(qt[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(e){switch(function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(e,t){if(e.match(/NVIDIA/i)||t.match(/NVIDIA/i))return"NVIDIA";if(e.match(/INTEL/i)||t.match(/INTEL/i))return"INTEL";if(e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){var r="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return Lt(e,jt.GLSL_FRAG_DEPTH)&&(r+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Lt(e,jt.GLSL_DERIVATIVES)&&Ft(e,jt.GLSL_DERIVATIVES)&&(r+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),Lt(e,jt.GLSL_FRAG_DATA)&&Ft(e,jt.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),Lt(e,jt.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),r}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;var i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(u),"\n").concat(p?"":"precision highp float;\n\n","\n"):"".concat(v,"\n"),_=!1,x=!0,S=!1,w=void 0;try{for(var C,k=a[Symbol.iterator]();!(x=(C=k.next()).done);x=!0){var E=C.value;switch(E.name){case"inject":_=!0;break;default:E.checkDeprecations(b,h),y+=E.getModuleSource(i,m)}}}catch(O){S=!0,w=O}finally{try{x||null==k.return||k.return()}finally{if(S)throw w}}return y=function(e,t,n,r){var i="vs"===t,o=function(t){var r=n[t];switch(t){case"vs:#decl":i&&(e=e.replace(Wt,(function(e){return"".concat(r,"\n").concat(e)})));break;case"vs:#main-start":i&&(e=e.replace(Wt,(function(e){return e+r})));break;case"vs:#main-end":i&&(e=e.replace(Gt,(function(e){return r+e})));break;case"fs:#decl":i||(e=e.replace(Wt,(function(e){return"".concat(r,"\n").concat(e)})));break;case"fs:#main-start":i||(e=e.replace(Wt,(function(e){return e+r})));break;case"fs:#main-end":i||(e=e.replace(Gt,(function(e){return r+e})));break;default:e=e.replace(t,(function(e){return e+r}))}};for(var a in n)o(a);return r&&(e=e.replace("}s*$",(function(e){return e+Vt[t]}))),e}(y+=b,i,c,_)}function Zt(e){return function(t){var n={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value.getUniforms(t,n);Object.assign(n,u)}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function Qt(e){var t,n={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=(t=u,Et.getShaderModule(t));n[u]=l}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}var $t={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null};function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.fround(e),i=e-r;return t[n]=r,t[n+1]=i,t}var en="uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",tn="".concat(en,"\n").concat("const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n"),nn={ONE:1};var rn={name:"fp64",vs:tn,fs:null,fp64ify:Jt,fp64LowPart:function(e){return e-Math.fround(e)},fp64ifyMatrix4:function(e){for(var t=new Float32Array(32),n=0;n<4;++n)for(var r=0;r<4;++r){var i=4*n+r;Jt(e[4*r+n],t,2*i)}return t},getUniforms:function(){return Object.assign({},nn)}},on=("".concat(en),[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),an={modelMatrix:on,viewMatrix:on,projectionMatrix:on,cameraPositionWorld:[0,0,0]};var sn="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",un={name:"project",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],{});return void 0!==e.modelMatrix&&(t.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(t.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(t.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(t.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(t.viewProjectionMatrix=new ht.a(e.projectionMatrix).multiplyRight(e.viewMatrix)),t},vs:"".concat(sn,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(sn)};var ln={name:"lighting",vs:"".concat("\n","\n").concat("#define LIGHT_MAX 4\n\nuniform bool lighting_uEnableLights;\nuniform vec3 lighting_uAmbientColor;\nuniform vec3 lighting_uDirection;\nuniform vec3 lighting_uDirectionalColor;\nuniform int  lighting_uPointCount;\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform bool lighting_uEnableReflections;\nvarying vec4 lighting_vPosition;\nvarying vec4 lighting_vNormal;\nvarying vec3 lighting_vColor;\nvarying vec3 lighting_vLightWeighting;\nvarying vec3 lighting_vReflection;\n\nvoid lighting_setPositionAndNormal(vec3 position, vec3 normal) {\n  lighting_vPosition = worldMatrix * vec4(position, 1.);\n  lighting_vNormal = worldInverseTransposeMatrix * vec4(normal, 1.);;\n}\n\nvoid lighting__getLightWeigting() {\n  float directionalLightWeighting = max(dot(lighting_vNormal.xyz, lighting_uDirection), 0.);\n  vec3 pointWeight = vec3(0., 0., 0.);\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec4 mvLightPosition = viewMatrix * vec4(lighting_uPointLocation[i], 1.);\n      vec3 pointLightDirection = normalize(mvLightPosition.xyz - lighting_vPosition.xyz);\n      pointWeight += max(dot(lighting_vNormal.xyz, pointLightDirection), 0.) * pointColor[i];\n     } else {\n       break;\n     }\n   }\n   return ambientColor + (directionalColor * directionalLightWeighting) + pointWeight;\n}\n\nvoid lighting_apply(vec3 position, vec3 normal) {\n  lighting_setPositionAndNormal(position, normal);\n  if(!lighting_uEnableLights) {\n    lighting_vLightWeighting = vec3(1., 1., 1.);\n  } else {\n    lighting_vLightWeighting = lighting__getLightWeighting();\n  }\n}\n\nvoid lighting_set_reflection(vec3 position) {\n  if (lighting_uEnableReflections) {\n    lighting_vReflection = (viewInverseMatrix[3] - (worldMatrix * vec4(position, 1.))).xyz;\n  } else {\n    lighting_vReflection = vec3(1., 1., 1.);\n  }\n}\n","\n"),fs:"".concat("\n","\n").concat("precision highp float;\n\n#define LIGHT_MAX 4\n\nvarying vec3 lighting_vLightWeighting;\n\nvec4 lighting_apply(vec4 color) {\n  return vec4(color.rgb * lighting_vLightWeighting, color.a);\n}\n\nuniform mat4 viewMatrix;\n\n\nvarying vec4 lighting_vColor;\nvarying vec4 lighting_vTransformedNormal;\nvarying vec4 lighting_vPosition;\n\nuniform float shininess;\nuniform bool enableSpecularMap;\nuniform bool enableLights;\n\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform float lighting_uPointSpecularEnable[LIGHT_MAX];\nuniform vec3 lighting_uPointSpecularColor[LIGHT_MAX];\nuniform int numberPoints;\n\n\nvec3 lighting__calculate_light_weighting() {\n\treturn lighting__calculate_light_weighting(shininess);\n}\n\nvec3 lighting__calculate_light_weighting(shininess) {\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0., 0., 0.);\n  vec3 diffuseLight = vec3(0., 0., 0.);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(lighting_uPointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (lighting_uPointSpecularEnable > 0.) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininessVal);\n        specularLight += specularLightWeighting * lighting_uPointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * lighting_uPointColor[i];\n    } else {\n      break;\n    }\n  }\n\n  return ambientColor + diffuseLight + specularLight;\n}\n\nvoid lighting_filterColor(fragmentColor) {\n  if (!lighting_enable) {\n  \treturn fragmentColor;\n  } else {\n  \tvec3 lightWeighting = lighting__calculate_light_weighting();\n  \treturn vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n  }\n}\n\nuniform vec3 material_uAmbientColor;\nuniform vec3 material_uDiffuseColor;\nuniform vec3 material_uSpecularColor;\nuniform vec3 material_uEmissiveColor;\n\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\n\nuniform mat4 viewMatrix;\n\nvoid apply_lighting(color) {\n  vec3 ambientLightWeighting = ambientColor;\n\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (enableSpecularHighlights) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n        specularLight += specularLightWeighting * pointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * pointColor[i];\n    } else {\n        break;\n    }\n  }\n\n  vec3 matAmbientColor = material_uAmbientColor * color.rgb;\n  vec3 matDiffuseColor = material_uDiffuseColor * color.rgb;\n  vec3 matSpecularColor = material_uSpecularColor * color.rgb;\n  vec3 matEmissiveColor = material_uEmissiveColor * color.rgb;\n  gl_FragColor = vec4(\n    matAmbientColor * ambientLightWeighting\n    + matDiffuseColor * diffuseLightWeighting\n    + matSpecularColor * specularLightWeighting\n    + matEmissiveColor,\n    color.a\n  );\n}\n\n  vec3 lightWeighting;\n  if (!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 lightDirection;\n    float specularLightWeighting = 0.0;\n    float diffuseLightWeighting = 0.0;\n    vec3  specularLight = vec3(0.0, 0.0, 0.0);\n    vec3  diffuseLight = vec3(0.0, 0.0, 0.0);\n\n    vec3 transformedPointLocation;\n    vec3 normal = vTransformedNormal.xyz;\n\n    vec3 eyeDirection = normalize(-vPosition.xyz);\n    vec3 reflectionDirection;\n\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n        lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n        if (enableSpecular[i] > 0.0) {\n          reflectionDirection = reflect(-lightDirection, normal);\n          specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n          specularLight += specularLightWeighting * pointSpecularColor[i];\n        }\n\n        diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        diffuseLight += diffuseLightWeighting * pointColor[i];\n      } else {\n        break;\n      }\n    }\n\n    lightWeighting = ambientColor + diffuseLight + specularLight;\n  }\nuniform float reflection;\nuniform float refraction;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n"),getUniforms:function(e){var t=e.lightingEnable,n=void 0!==t&&t,r=e.lightingAmbientColor,i=void 0===r?[.2,.2,.2]:r,o=e.lightingDirection,a=void 0===o?[1,1,1]:o,s=(e.lightingDirectionalColor,e.lightingPointLights),u=void 0===s?[]:s;return Object.assign({lightingEnable:n,lightingAmbientColor:i},function(e){var t=e.color,n=e.direction,r=new ft.a(n.x,n.y,n.z).normalize().scale(-1,-1,-1);return{directionalColor:[t.r,t.g,t.b],lightingDirection:[r.x,r.y,r.z]}}(a),function(e){var t=(e=e instanceof Array?e:[e]).length,n=[],r=[],i=[],o=[],a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value,f=d.position,h=d.color,p=d.diffuse,g=d.specular,m=h||p;n.push(f.x,f.y,f.z),r.push(m.r,m.g,m.b),i.push(Number(Boolean(g))),g?o.push(g.r,g.g,g.b):o.push(0,0,0)}}catch(v){s=!0,u=v}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return{numberPoints:t,pointLocation:n,pointColor:r,enableSpecular:i,pointSpecularColor:o}}(u))}},cn={lightDirection:new Float32Array([1,1,2])};var dn={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[un]},fn={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingThreshold:1,pickingActive:!1};var hn={name:"picking",vs:"uniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n\n  if (selected) {\n    vec4 highLightColor = picking_uHighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  if (picking_uActive && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t={};if(void 0!==e.pickingSelectedColor)if(null===e.pickingSelectedColor)t.picking_uSelectedColorValid=0;else{var n=[e.pickingSelectedColor[0],e.pickingSelectedColor[1],e.pickingSelectedColor[2]];t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}return void 0!==e.pickingHighlightColor&&(t.picking_uHighlightColor=e.pickingHighlightColor),void 0!==e.pickingThreshold&&(t.picking_uThreshold=e.pickingThreshold),void 0!==e.pickingActive&&(t.picking_uActive=e.pickingActive?1:0),t}},pn={diffuseTexture:null,diffuseColor:[.5,.5,.5,1]};var gn={name:"diffuse",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t={};return void 0!==e.diffuseTexture&&(t.diffuse_uHasTexture=Boolean(e.diffuseTexture),t.diffuse_uTexture=e.diffuseTexture),void 0!==e.diffuseColor&&(t.diffuse_uColor=e.diffuseColor),t},vs:"out vec2 diffuse_vTexCoord;\nvoid diffuse_setTextureCoordinate(vec2 uv) {\n  diffuse_vTexCoord = uv;\n}\n",fs:"uniform vec4 diffuse_uColor;\nuniform bool diffuse_uHasTexture;\nuniform sampler2D diffuse_uTexture;\n\nin vec2 diffuse_vTexCoord;\n\n\n\nvec4 diffuse_getColor() {\n  vec2 texCoord = diffuse_vTexCoord;\n  return diffuse_uHasTexture ?\n    texture2D(diffuse_uTexture, vec2(texCoord.s, texCoord.t)) :\n    diffuse_uColor;\n}\n\nvec4 diffuse_filterColor(vec4 color) {\n  return diffuse_getColor();\n}\n"},mn="void main() {}",vn="#version 300 es\n".concat(mn);function bn(e,t){t=Array.isArray(t)?t:[t];var n=e.replace(/^\s+/,"").split(/\s+/),r=Object(he.a)(n,3),i=r[0],o=r[1],a=r[2];return t.includes(i)&&o&&a?{qualifier:i,type:o,name:a.split(";")[0]}:null}function yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=void 0===t?100:t,r=e.input,i=e.inputType,o=e.output;if(!r)return 300===n?vn:mn;var a=xn(r,i);return 300===n?"#version 300 es\nin ".concat(i," ").concat(r,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(r,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}function _n(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Ht()(!1),null}}function xn(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return Ht()(!1),null}}var Sn={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},wn=n(35),Cn=n.n(wn),kn={},En=function(e){kn[e.id]||(kn[e.id]=e,Cn.a.listItem("luma.gl",e.id))},On=function e(t,n,r){t&&(n.length>1?e(t[n[0]],n.slice(1),r):t[n[0]]=r)},Tn=new Map,Pn=function(e,t){if(b.d.__SEER_INITIALIZED__&&e){var n=Tn.get(e);n&&n.forEach((function(e,n){On(t,n,e)}))}};function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=void 0===t?"Uniforms":t,r=e.program,i=e.uniforms,o=e.undefinedOnly,a=void 0!==o&&o;Object(F.a)(r);var s=".*_.*",u=".*Matrix",l=r._uniformSetters,d={},f=Object.keys(l).sort(),h=0,p=!0,g=!1,m=void 0;try{for(var v,b=f[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var y=v.value;y.match(s)||y.match(u)||Dn({table:d,header:n,uniforms:i,uniformName:y,undefinedOnly:a})&&h++}}catch(L){g=!0,m=L}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}var _=!0,x=!1,S=void 0;try{for(var w,C=f[Symbol.iterator]();!(_=(w=C.next()).done);_=!0){var k=w.value;k.match(u)&&Dn({table:d,header:n,uniforms:i,uniformName:k,undefinedOnly:a})&&h++}}catch(L){x=!0,S=L}finally{try{_||null==C.return||C.return()}finally{if(x)throw S}}var E=!0,T=!1,P=void 0;try{for(var I,D=f[Symbol.iterator]();!(E=(I=D.next()).done);E=!0){var A=I.value;d[A]||Dn({table:d,header:n,uniforms:i,uniformName:A,undefinedOnly:a})&&h++}}catch(L){T=!0,P=L}finally{try{E||null==D.return||D.return()}finally{if(T)throw P}}var M=0,j={};if(!a)for(var R in i){var N=i[R];d[R]||(M++,j[R]=Object(O.a)({Type:"NOT USED: ".concat(N)},n,Object(c.b)(N)))}return{table:d,count:h,unusedTable:j,unusedCount:M}}function Dn(e){var t,n=e.table,r=e.header,i=e.uniforms,o=e.uniformName,a=e.undefinedOnly,s=i[o],u=function(e){return void 0!==e&&null!==e}(s);return(!a||!u)&&(n[o]=(t={},Object(O.a)(t,r,u?Object(c.b)(s):"N/A"),Object(O.a)(t,"Uniform Type",u?s:"NOT PROVIDED"),t),!0)}function An(e,t,n,r){var i,a,s,u,l=e.gl,d="NOT PROVIDED",f="N/A",h="N/A",p="N/A";if(n&&(d=n.type,f=n.size,a=-1!==(d=String(d).replace("Array","")).indexOf("nt")),t instanceof te.a){var g,m,v=t,b=v.getDebugData(),y=b.data;if(s=b.modified?"*":"",u=y,h=(p=v.byteLength)/y.BYTES_PER_ELEMENT/f,n){var _=n.divisor>0;m="".concat(_?"I ":"P "," ").concat(h," (x").concat(f,"=").concat(p," bytes ").concat(Object(o.d)(l,d),")")}else a=!0,m="".concat(p," bytes");return g={},Object(O.a)(g,r,"".concat(s).concat(Object(c.b)(u,{size:f,isInteger:a}))),Object(O.a)(g,"Format ",m),g}return u=t,f=t.length,a=-1!==(d=String(t.constructor.name).replace("Array","")).indexOf("nt"),i={},Object(O.a)(i,r,"".concat(Object(c.b)(u,{size:f,isInteger:a})," (constant)")),Object(O.a)(i,"Format ","".concat(f,"x").concat(d," (constant)")),i}function Mn(e,t){var n=Ke(t.type,t.size);return n?"".concat(e," (").concat(n.name,")"):e}function jn(e){var t=e.accessor,n=Ke(t.type,t.size);return n?"".concat(n.name," ").concat(e.name):e.name}Cn.a.listenFor("luma.gl",(function(e){var t=kn[e.itemKey];if(t&&"edit"===e.type&&"uniforms"===e.valuePath[0]){var n=e.valuePath.slice(1);!function(e,t,n){b.d.__SEER_INITIALIZED__&&(Tn.has(e)||Tn.set(e,new Map),Tn.get(e).set(t,n))}(e.itemKey,n,e.value);var r=t.getUniforms();On(r,n,e.value),t.setUniforms(r)}}));var Rn=["renderPickingBuffer","pickingEnabled"],Fn=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,r)),Object(F.a)(Object(a.m)(e)),n.gl=e,n.lastLogTime=0,n.initialize(r),n}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={},this.program=this._createProgram(e),this.vertexArray=new ct(this.gl,{program:this.program}),this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.animatedUniforms={},this.animated=!1,this.animationLoop=null,this.timerQueryEnabled=!1,this.timeElapsedQuery=void 0,this.lastQueryReturned=!0,this.stats={accumulatedFrameTime:0,averageFrameTime:0,profileFrameCount:0},this.pickable=!0,this.setProps(e),this.setUniforms(Object.assign({},this.getModuleUniforms(),this.getModuleUniforms(e.moduleSettings))),this.isInstanced=e.isInstanced||e.instanced,this.onBeforeRender=e.onBeforeRender||function(){},this.onAfterRender=e.onAfterRender||function(){},Object(F.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){Object.assign(this.props,e),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"uniforms"in e&&this.setUniforms(e.uniforms,e.samplers),"pickable"in e&&(this.pickable=e.pickable),"timerQueryEnabled"in e&&(this.timerQueryEnabled=e.timerQueryEnabled&&$e.isSupported(this.gl,["timers"]),e.timerQueryEnabled&&!this.timerQueryEnabled&&c.g.warn("GPU timer not supported")()),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers),"_animationProps"in e&&this._setAnimationProps(e._animationProps),"_animationLoop"in e&&(this.animationLoop=e._animationLoop)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();var t;this.program.delete(),this.vertexArray.delete(),t=this.id,delete kn[t],Cn.a.deleteItem("luma.gl",t)}},{key:"destroy",value:function(){this.delete()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0!==t&&t,r=!1;return r=r||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!n,this.geometry&&(r=r||this.geometry.getNeedsRedraw({clearRedrawFlags:n})),this.animated&&(r=r||"animated model ".concat(this.id)),r}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getProgram",value:function(){return this.program}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getUniforms",value:function(){return this.program.getUniforms}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=e,this}},{key:"setDrawMode",value:function(e){return this.props.drawMode=yt(e),this}},{key:"setVertexCount",value:function(e){return Object(F.a)(Number.isFinite(e)),this.props.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return Object(F.a)(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){this.geometry=e;var t=this._createBuffersFromAttributeDescriptors(this.geometry.getAttributes());return this.vertexArray.setAttributes(t),this.setNeedsRedraw(),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(c.d)(e))return this;Object.assign(this.attributes,e);var t=this._createBuffersFromAttributeDescriptors(e);return this.vertexArray.setAttributes(t),this.setNeedsRedraw(),this}},{key:"setUniforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},t),Pn(this.id,t),t=this._extractAnimatedUniforms(t),this.program.setUniforms(t,n,(function(){e._checkForDeprecatedUniforms(t),e.setNeedsRedraw()}))}},{key:"_setAnimationProps",value:function(e){var t=this;if(this.animated){Object(F.a)(e,"Model.draw(): animated uniforms but no animationProps");var n=this._evaluateAnimateUniforms(e);this.program.setUniforms(n,{},(function(){t._checkForDeprecatedUniforms(n),t.setNeedsRedraw()}))}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return ye(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleSettings,n=void 0===t?null:t,r=e.framebuffer,i=e.uniforms,o=void 0===i?{}:i,a=e.attributes,s=void 0===a?{}:a,u=e.samplers,l=void 0===u?{}:u,d=e.transformFeedback,f=void 0===d?this.transformFeedback:d,h=e.parameters,p=void 0===h?{}:h,g=e.vertexArray,m=void 0===g?this.vertexArray:g,v=e.animationProps;En(this),this.setAttributes(s),this.updateModuleSettings(n),this.setUniforms(o,l),this._refreshAnimationProps(v);var b=this._logDrawCallStart(2),y=this.vertexArray.getDrawParams(this.props);y.isInstanced&&!this.isInstanced&&c.g.warn("Found instanced attributes on non-instanced model",this.id)();var _=y.isIndexed,x=y.indexType,S=this.isInstanced,w=this.instanceCount;return this.onBeforeRender(),this._timerQueryStart(),this.program.draw(Object.assign({},e,{logPriority:b,uniforms:null,framebuffer:r,parameters:p,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:m,transformFeedback:f,isIndexed:_,indexType:x,isInstanced:S,instanceCount:w})),this._timerQueryEnd(),this.onAfterRender(),this.setNeedsRedraw(!1),this._logDrawCallEnd(b,m,r),this}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,n=void 0===t||t,r=e.feedbackBuffers,i=e.unbindModels,o=void 0===i?[]:i,a=e.parameters;r&&this._setFeedbackBuffers(r),n&&(a=Object.assign({},a,Object(O.a)({},35977,n))),o.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:a}))}finally{o.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(F.a)(arguments.length<=1),this.draw({uniforms:e})}},{key:"_createProgram",value:function(e){var t=e.vs,n=void 0===t?null:t,r=e.fs,i=void 0===r?null:r,o=e.modules,a=void 0===o?null:o,s=e.defines,u=void 0===s?{}:s,l=e.inject,d=void 0===l?{}:l,f=e.shaderCache,h=void 0===f?null:f,p=e.varyings,g=void 0===p?null:p,m=e.bufferMode,v=void 0===m?35981:m,b=e.program,y=void 0===b?null:b;this.getModuleUniforms=function(e){};var _=this.id;if(!y){n=n||xt,i=i||St;var x=Yt(this.gl,{vs:n,fs:i,modules:a,inject:d,defines:u,log:c.g});n=x.vs,i=x.fs,y=h?h.getProgram(this.gl,{id:_,vs:n,fs:i}):new Ye(this.gl,{id:_,vs:n,fs:i,varyings:g,bufferMode:v}),this.getModuleUniforms=x.getUniforms||function(e){}}return Object(F.a)(y instanceof Ye,"Model needs a program"),y}},{key:"_checkForDeprecatedUniforms",value:function(e){Rn.forEach((function(t){t in e&&c.g.deprecated(t,"use picking shader module and Model class updateModuleSettings()")()}))}},{key:"_refreshAnimationProps",value:function(e){(e=e||this.animationLoop&&this.animationLoop.animationProps)&&this._setAnimationProps(e)}},{key:"_evaluateAnimateUniforms",value:function(e){if(!this.animated)return{};var t={};for(var n in this.animatedUniforms){var r=this.animatedUniforms[n];t[n]=r(e)}return t}},{key:"_extractAnimatedUniforms",value:function(e){var t=!1;for(var n in e){var r=e[n];"function"===typeof r?(this.animatedUniforms[n]=r,t=!0):delete this.animatedUniforms[n]}if(this.animated=!Object(c.d)(this.animatedUniforms),!t)return e;var i={};for(var o in e)this.animatedUniforms[o]||(i[o]=e[o]);return i}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(c.d)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new tt(t,{program:this.program}),this.transformFeedback.setBuffers(e),this.setNeedsRedraw(),this}},{key:"_timerQueryStart",value:function(){!0===this.timerQueryEnabled&&(this.timeElapsedQuery||(this.timeElapsedQuery=new $e(this.gl)),this.lastQueryReturned&&(this.lastQueryReturned=!1,this.timeElapsedQuery.beginTimeElapsedQuery()))}},{key:"_timerQueryEnd",value:function(){if(!0===this.timerQueryEnabled&&(this.timeElapsedQuery.end(),this.timeElapsedQuery.isResultAvailable())){this.lastQueryReturned=!0;var e=this.timeElapsedQuery.getResult();this.stats.lastFrameTime=e,this.stats.accumulatedFrameTime+=e,this.stats.profileFrameCount++,this.stats.averageFrameTime=this.stats.accumulatedFrameTime/this.stats.profileFrameCount,c.g.log(2,"GPU time ".concat(this.program.id,": ").concat(this.stats.lastFrameTime,"ms average ").concat(this.stats.averageFrameTime,"ms accumulated: ").concat(this.stats.accumulatedFrameTime,"ms count: ").concat(this.stats.profileFrameCount))()}}},{key:"_createBuffersFromAttributeDescriptors",value:function(e){var t=this.program.gl,n={};for(var r in e){var i=e[r],o=this._attributes[r];i instanceof vt?o=i:i instanceof te.a?(o=o||new vt(t,Object.assign({},i,i.layout,{id:r}))).update({buffer:i}):o?o.update(i):o=new vt(t,Object.assign({},i,{id:r})),this._attributes[r]=o,n[r]=o.getValue()}return n}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(c.g.priority<e||Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),c.g.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:c.g.priority<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,n,r){if(void 0!==e){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertexArray,n=e.header,r=void 0===n?"Attributes":n;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=An(t,t.elements,null,r));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),l=t.accessors[s.location];l&&(u="".concat(a,": ").concat(Mn(s.name,l))),i[u]=An(t,o[a],l,r)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),o=In({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),a=o.table,s=o.unusedTable,u=o.unusedCount,l=In({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),d=l.table;l.count>0&&c.g.log("MISSING UNIFORMS",Object.keys(d))(),u>0&&c.g.log("UNUSED UNIFORMS",Object.keys(s))();var f=function(e){var t={},n="Accessors for ".concat(e.id),r=!0,i=!1,o=void 0;try{for(var a,s=e.attributeInfos[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u){var l=jn(u);t["in ".concat(l)]=Object(O.a)({},n,JSON.stringify(u.accessor))}}}catch(v){i=!0,o=v}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}var c=!0,d=!1,f=void 0;try{for(var h,p=e.varyingInfos[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var g=h.value;if(g){var m=jn(g);t["out ".concat(m)]=Object(O.a)({},n,JSON.stringify(g.accessor))}}}catch(v){d=!0,f=v}finally{try{c||null==p.return||p.return()}finally{if(d)throw f}}return t}(this.vertexArray.configuration);c.g.table(e,i)(),c.g.table(e,a)(),c.g.table(e+1,f)(),function(e,t){if(Cn.a.isReady()&&!Cn.a.throttle("luma.gl:".concat(e.id),1e3)){var n=e.geometry?Object.assign({},e.geometry.attributes,e.attributes):e.attributes,r=Object.assign({},e.uniforms,t);Cn.a.multiUpdate("luma.gl",e.id,[{path:"objects.uniforms",data:r},{path:"objects.attributes",data:n}])}}(this,n),r&&r.log({priority:2,message:"Rendered to ".concat(r.id)}),c.g.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}},{key:"vertexCount",get:function(){return Number.isFinite(this.props.vertexCount)?this.props.vertexCount:this.geometry&&this.geometry.getVertexCount()}},{key:"drawMode",get:function(){return Number.isFinite(this.props.drawMode)?this.props.drawMode:this.geometry&&this.geometry.drawMode}}]),t}(pt),Nn=n(32),Ln={preserveDrawingBuffer:!0},Bn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,e);var n=t.onCreateContext,r=void 0===n?function(e){return U(e)}:n,i=t.onAddHTML,o=void 0===i?null:i,a=t.onInitialize,s=void 0===a?function(){}:a,u=t.onRender,l=void 0===u?function(){}:u,d=t.onFinalize,f=void 0===d?function(){}:d,h=t.gl,p=void 0===h?null:h,g=t.glOptions,m=void 0===g?{}:g,b=t.debug,y=void 0!==b&&b,_=t.createFramebuffer,x=void 0!==_&&_,S=t.autoResizeViewport,w=void 0===S||S,C=t.autoResizeDrawingBuffer,k=void 0===C||C,E=t.useDevicePixels,O=void 0===E||E;return"useDevicePixelRatio"in t&&(c.g.deprecated("useDevicePixelRatio","useDevicePixels")(),O=t.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:o,onInitialize:s,onRender:l,onFinalize:f,gl:p,glOptions:m,debug:y,createFramebuffer:x},this.gl=p,this.needsRedraw=null,this._initialized=!1,this._running=!1,this._animationFrameId=null,this._startPromise=null,this.setProps({autoResizeViewport:w,autoResizeDrawingBuffer:k,useDevicePixels:O}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this),this}return Object(M.a)(e,[{key:"setNeedsRedraw",value:function(e){return Object(F.a)("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._running||(this._running=!0,this._startPromise=h().then((function(){if(!e._running||e._initialized)return null;e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport();var n=e.onInitialize(e.animationProps);return e._initialized=!0,n})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}))),this}},{key:"redraw",value:function(){return this._setupFrame(),this._updateCallbackData(),this.onRender(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),Object(a.f)(this._animationFrameId),this._animationFrameId=null,this._running=!1),this}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(e);return n?Number(n.value):t}},{key:"setViewParameters",value:function(){return c.g.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;Object(a.f)(this._animationFrameId),this._animationFrameId=Object(a.p)((function t(){e._running&&(e.redraw(),e._animationFrameId=Object(a.p)(t))}))}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),time:0,tick:0,tock:0,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,n=e.height,r=e.aspect;t===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.time=Date.now()-this.animationProps.startTime,this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===Object(Nn.a)(e)&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,Ln,this.props.glOptions),this.gl=this.props.gl||this.onCreateContext(e),!Object(a.m)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");this.props.debug&&(this.gl=_(this.gl)),Object(K.d)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas,i=r.clientWidth,o=r.clientHeight;return i>=0&&o>=0?n=t>0?i/o:1:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&V(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new we(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_startEventHandling",value:function(){this.gl.canvas.addEventListener("mousemove",this._onMousemove),this.gl.canvas.addEventListener("mouseleave",this._onMouseleave)}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}();function zn(e,t){var n=t.models,r=t.position,i=t.uniforms,o=void 0===i?{}:i,a=t.parameters,s=void 0===a?{}:a,u=t.settings,l=t.useDevicePixels,c=void 0===l||l,d=t.framebuffer,f=t.context;Object(F.a)(N(e)&&d&&r);var h=Object(he.a)(r,2),p=h[0],g=h[1];d.resize({width:e.canvas.width,height:e.canvas.height});var m=c&&"undefined"!==typeof window?window.devicePixelRatio:1,v=p*m,b=e.canvas.height-g*m;return new mt({children:n}).traverseReverse((function(n){if(n.pickable){ye(e,{framebuffer:d,color:!0,depth:!0}),n.setUniforms({picking_uActive:1}),n.draw(Object.assign({},t,{uniforms:o,parameters:s,settings:u,framebuffer:d,context:f})),n.setUniforms({picking_uActive:0});var r=d.readPixels({x:v,y:b,width:1,height:1,format:6408,type:5121});if(0!==r[0]||0!==r[1]||0!==r[2])return{model:n,color:r,x:p,y:g,deviceX:v,deviceY:b}}return null}))}var Un=new Uint8Array([0,0,0]);function Hn(e){return[e+1&255,e+1>>8&255,e+1>>16&255]}function Vn(e){var t=Object(he.a)(e,3);return t[0]+256*t[1]+65536*t[2]-1}function Wn(){return Un}var Gn;function Kn(e){var t=e.vs,n=e.sourceTextureMap,r=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(n).length,a=null,s={},u=t,l={};if(o>0||r){var c=u.split("\n"),d=c.slice();if(c.forEach((function(e,t,i){if(o>0){var u=function(e,t){var n={},r=function(e){return bn(e,["attribute","in"])}(e);if(!r)return null;var i=r.type,o=r.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),s=function(e){var t="".concat("transform_uSampler_").concat(e),n="".concat("transform_uSize_").concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),u=s.samplerName,l=s.sizeName,c=s.uniformDeclerations,d=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Ht()(!1),null}}(i),f="  ".concat(i," ").concat(o," = transform_getInput(").concat(u,", ").concat(l,").").concat(d,";\n");return n[u]=o,{updatedLine:a,inject:{"vs:#decl":c,"vs:#main-start":f},samplerTextureMap:n}}return null}(e,n);if(u){var c=u.updatedLine,f=u.inject;d[t]=c,l=Kt([l,f]),Object.assign(s,u.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){var n=bn(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){Ht()(i);var f="".concat("transform_uSize_").concat(r),h="uniform vec2 ".concat(f,";\n"),p="     vec2 ".concat("transform_position"," = transform_getPos(").concat(f,");\n     gl_Position = vec4(").concat("transform_position",", 0, 1.);\n");l=Kt([l,{"vs:#decl":h,"vs:#main-start":p}])}u=d.join("\n")}return{vs:u,targetTextureType:a,inject:l,samplerTextureMap:s}}var qn=(Gn={},Object(O.a)(Gn,10241,9728),Object(O.a)(Gn,10240,9728),Object(O.a)(Gn,10242,33071),Object(O.a)(Gn,10243,33071),Gn),Yn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,e),Object(a.d)(t),this.gl=t,this.model=null,this.elementCount=0,this.currentIndex=0,this.sourceBuffers=new Array(2),this.sourceTextures=new Array(2),this.feedbackBuffers=new Array(2),this.targetTextures=new Array(2),this.transformFeedbacks=new Array(2),this.framebuffers=new Array(2),this._createdBuffers={},this.elementIDBuffer=null,this._targetRefTexName=null,this._initialize(n),Object.seal(this)}return Object(M.a)(e,null,[{key:"isSupported",value:function(e){return Object(a.n)(e)}}]),Object(M.a)(e,[{key:"delete",value:function(){for(var e in this._createdBuffers)this._createdBuffers[e].delete();this.model.delete()}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?this.feedbackBuffers[this.currentIndex][e]:null;return t?t instanceof te.a?t:t.buffer:null}},{key:"_getTargetTexture",value:function(){return this.framebuffers[this.currentIndex]?this.framebuffers[this.currentIndex].attachments[36064]:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,n=void 0===t?null:t,r=e.packed,i=void 0!==r&&r,o=this.getBuffer(n);if(o)return o.getData();Object(F.a)(!n||n===this.targetTextureVarying);var a=this.framebuffers[this.currentIndex].readPixels();if(!i)return a;for(var s=a.constructor,u=_n(this.targetTextureType),l=new s(a.length*u/4),c=0,d=0;d<a.length;d+=4)for(var f=0;f<u;f++)l[c++]=a[d+f];return l}},{key:"getFramebuffer",value:function(){return this.framebuffers[this.currentIndex]}},{key:"_getInputs",value:function(){var e={},t=this.currentIndex,n=Object.assign({},this.sourceBuffers[t]);if(this.hasSourceTextures||this.targetTextureVarying){for(var r in n.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var i=this.samplerTextureMap[r];e[r]=this.sourceTextures[t][i]}this._setSourceTextureParameters();var o=function(e){var t,n,r=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,n=o.height,a["".concat("transform_uSize_").concat(i)]=[t,n]),r){var u=r[s];t=u.width,n=u.height,a["".concat("transform_uSize_").concat(s)]=[t,n]}return a}({sourceTextureMap:this.sourceTextures[t],targetTextureVarying:this.targetTextureVarying,targetTexture:this.targetTextures[t]});Object.assign(e,o)}return{attributes:n,uniforms:e}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getInputs(),n=t.attributes,r=t.uniforms;Object.assign(r,e.uniforms);var i=Object.assign({},e.parameters),o=e.clearRenderTarget,a=void 0===o||o,s=null,u=!0;this.renderingToTexture&&(u=!1,s=this.framebuffers[this.currentIndex],Object(F.a)(s),i.viewport=[0,0,s.width,s.height],a&&this.gl.clear(this.gl.COLOR_BUFFER_BIT)),this.model.setAttributes(n),this.model.transform(Object.assign({},e,{transformFeedback:this.transformFeedbacks[this.currentIndex],uniforms:r,discard:u,framebuffer:s,parameters:i}))}},{key:"swapBuffers",value:function(){c.g.deprecated("swapBuffers()","swap()"),this.swap()}},{key:"swap",value:function(){Object(F.a)(this.feedbackMap||this._swapTexture),this.currentIndex=(this.currentIndex+1)%2}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.elementCount&&this._setElementCount(e.elementCount);var t=e.sourceBuffers,n=void 0===t?null:t,r=e.feedbackBuffers,i=void 0===r?null:r,o=this.currentIndex;if(n||i){for(var a in i)Object(F.a)(i[a]instanceof te.a||i[a].buffer instanceof te.a);Object.assign(this.sourceBuffers[o],n),Object.assign(this.feedbackBuffers[o],i),this._createFeedbackBuffers({feedbackBuffers:i}),this.transformFeedbacks[o]&&this.transformFeedbacks[o].setBuffers(this.feedbackBuffers[o]),this._setupSwapBuffers()}var s=e._sourceTextures,u=e._targetTexture;(s||u)&&(Object.assign(this.sourceTextures[o],s),this._updateTargetTexture(u||this._targetRefTexName,o),this._setupSwapTextures())}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex;for(var t in this.sourceTextures[e])this.sourceTextures[e][t].setParameters(qn)}},{key:"_setElementCount",value:function(e){this.elementCount!==e&&(this.elementCount<e&&this._updateElementIDBuffer(e),this.model.setVertexCount(e),this.elementCount=e)}},{key:"_updateTargetTexture",value:function(e,t){var n=this._buildTargetTexture(e);n&&(this.targetTextures[t]=n,this.framebuffers[t]&&(this.framebuffers[t].update({attachments:Object(O.a)({},36064,this.targetTextures[t]),resizeAttachments:!1}),this.framebuffers[t].resize({width:n.width,height:n.height})))}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._validateProps(e),n=t.feedbackBuffers,r=t.feedbackMap,i=e.sourceBuffers,o=e.varyings,a=e._targetTexture,s=e._targetTextureVarying,u=e._swapTexture,l=o;r&&!Array.isArray(o)&&(l=Object.values(r)),this.varyingsArray=l,this.feedbackMap=r,this._swapTexture=u,a&&(this.targetTextureVarying=s,this.renderingToTexture=!0,Object(F.a)(this.targetTextureVarying)),this._setupBuffers({sourceBuffers:i,feedbackBuffers:n}),this._setupTextures(e),this._setupSwapBuffers(),this._setupSwapTextures(),this._buildModel(Object.assign({},e,{id:e.id||"transform-model",drawMode:e.drawMode||0,varyings:l}))}},{key:"_validateProps",value:function(e){var t=e.feedbackBuffers,n=e.feedbackMap,r=e.destinationBuffers,i=e.sourceDestinationMap;r&&(c.g.deprecated("destinationBuffers","feedbackBuffers")(),t=t||r),i&&(c.g.deprecated("sourceDestinationMap","feedbackMap")(),n=n||i);var o=e.vs,a=e.elementCount,s=e.varyings,u=e._sourceTextures,l=e._targetTexture,d=e._targetTextureVarying,f=e._swapTexture;for(var h in Object(F.a)(o&&(s||n||l)&&a),t||{})Object(F.a)(t[h]instanceof te.a||t[h].buffer instanceof te.a);for(var p in u||{})Object(F.a)(u[p]instanceof pe.a);return Object(F.a)(!l||d),Object(F.a)(!f||u[f]),{feedbackBuffers:t,feedbackMap:n}}},{key:"_setupBuffers",value:function(e){var t=e.sourceBuffers,n=void 0===t?null:t,r=e.feedbackBuffers,i=void 0===r?null:r;this.sourceBuffers[0]=Object.assign({},n),this.feedbackBuffers[0]=Object.assign({},i),this._createFeedbackBuffers({feedbackBuffers:i}),this.sourceBuffers[1]={},this.feedbackBuffers[1]={}}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._sourceTextures,n=e._targetTexture;if(this.sourceTextures[0]=Object.assign({},t),this.sourceTextures[1]={},this.hasSourceTextures=Object.keys(this.sourceTextures[0]).length>0,this.targetTextureVarying){var r=this._buildTargetTexture(n);Object(F.a)(r),this.targetTextures[0]=r,this.targetTextures[1]=null}}},{key:"_buildTargetTexture",value:function(e){var t;if(e instanceof pe.a)return e;var n=this.sourceTextures[0][e];return n?(this._targetRefTexName=e,Object(a.g)(n,{parameters:(t={},Object(O.a)(t,10241,9728),Object(O.a)(t,10240,9728),Object(O.a)(t,10242,33071),Object(O.a)(t,10243,33071),t),pixelStore:Object(O.a)({},37440,!1)})):null}},{key:"_createFeedbackBuffers",value:function(e){var t=e.feedbackBuffers;if(this.feedbackMap){var n=this.currentIndex;for(var r in this.feedbackMap){var i=this.feedbackMap[r];if(i!==this.targetTextureVarying&&(!t||!t[i])){var o=this.sourceBuffers[n][r],a=o.bytes,s=o.type,u=o.usage,l=o.accessor,c=new te.a(this.gl,{bytes:a,type:s,usage:u,accessor:l});this._createdBuffers[i]&&this._createdBuffers[i].delete(),this._createdBuffers[i]=c,this.feedbackBuffers[n][i]=c}}}}},{key:"_createNewBuffer",value:function(e,t){var n=new te.a(this.gl,t);return this._createdBuffers[e]&&(this._createdBuffers[e].delete(),this._createdBuffers[e]=n),n}},{key:"_setupSwapBuffers",value:function(){if(this.feedbackMap){var e=this.currentIndex,t=(e+1)%2;for(var n in Object.assign(this.sourceBuffers[t],this.sourceBuffers[e]),Object.assign(this.feedbackBuffers[t],this.feedbackBuffers[e]),this.feedbackMap){var r=this.feedbackMap[n];r!==this.targetTextureVarying&&(this.sourceBuffers[t][n]=this.feedbackBuffers[e][r],this.feedbackBuffers[t][r]=this.sourceBuffers[e][n],Object(F.a)(this.feedbackBuffers[t][r]instanceof te.a))}this.transformFeedbacks[t]&&this.transformFeedbacks[t].setBuffers(this.feedbackBuffers[t])}}},{key:"_setupSwapTextures",value:function(){if(this._swapTexture&&this.targetTextureVarying){var e=this.currentIndex,t=(e+1)%2;Object.assign(this.sourceTextures[t],this.sourceTextures[e]),this.sourceTextures[t][this._swapTexture]=this.targetTextures[e],this._updateTargetTexture(this.sourceTextures[e][this._swapTexture],t)}}},{key:"_buildModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getShaders(e),n=t.vs,r=t.fs,i=t.modules,o=t.uniforms,a=t.inject,s=t.samplerTextureMap;this.model=new Fn(this.gl,Object.assign({},e,{vs:n,fs:r,vertexCount:e.elementCount,modules:i,uniforms:o,inject:a})),this.samplerTextureMap=s,this._setupTransformFeedback(),this._setupFramebuffers(),this._setElementCount(e.elementCount)}},{key:"_setupTransformFeedback",value:function(){Object(c.d)(this.feedbackBuffers[0])||(this.transformFeedbacks[0]=new tt(this.gl,{program:this.model.program,buffers:this.feedbackBuffers[0]}),this.feedbackMap&&(this.transformFeedbacks[1]=new tt(this.gl,{program:this.model.program,buffers:this.feedbackBuffers[1]})))}},{key:"_setupFramebuffers",value:function(){if(this.renderingToTexture){var e=this.targetTextures[0],t=e.width,n=e.height;if(this.framebuffers[0]=new we(this.gl,{id:"".concat(this.id||"transform","-framebuffer-0"),width:t,height:n,attachments:Object(O.a)({},36064,this.targetTextures[0])}),this._swapTexture){var r=this.targetTextures[1];t=r.width,n=r.height,this.framebuffers[1]=new we(this.gl,{id:"".concat(this.id||"transform","-framebuffer-1"),width:t,height:n,attachments:Object(O.a)({},36064,this.targetTextures[1])})}}}},{key:"_updateElementIDBuffer",value:function(e){if(this.hasSourceTextures||this.targetTextureVarying){var t=new Float32Array(e);t.forEach((function(e,t,n){n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new te.a(this.gl,{data:t,size:1})}}},{key:"_getShaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e.vs),n=t.vs,r=t.uniforms,i=t.targetTextureType,o=t.inject,s=t.samplerTextureMap,u=Kt([e.inject||{},o]);this.targetTextureType=i;var l=yn({version:Object(a.l)(n),input:this.targetTextureVarying,inputType:i,output:"transform_output"}),c=this.hasSourceTextures||this.targetTextureVarying?[Sn].concat(e.modules||[]):e.modules;return{vs:n,fs:l,modules:c,uniforms:r,inject:u,samplerTextureMap:s}}},{key:"_processVertexShader",value:function(e){return Kn({vs:e,sourceTextureMap:this.sourceTextures[this.currentIndex],targetTextureVarying:this.targetTextureVarying,targetTexture:this.targetTextures[this.currentIndex]})}}]),e}(),Xn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t._cachePrograms,i=void 0!==r&&r;Object(v.a)(this,e),Object(F.a)(n),this.gl=n,this.vertexShaders={},this.fragmentShaders={},this.programs={},this._cachePrograms=i}return Object(M.a)(e,[{key:"delete",value:function(){return this}},{key:"getVertexShader",value:function(e,t){Object(F.a)("string"===typeof t),Object(F.a)(this._compareContexts(e,this.gl));var n=this.vertexShaders[t];return n||(n=new se(e,t),this.vertexShaders[t]=n),n}},{key:"getFragmentShader",value:function(e,t){Object(F.a)("string"===typeof t),Object(F.a)(this._compareContexts(e,this.gl));var n=this.fragmentShaders[t];return n||(n=new ue(e,t),this.fragmentShaders[t]=n),n}},{key:"getProgram",value:function(e,t){Object(F.a)(this._compareContexts(e,this.gl)),Object(F.a)("string"===typeof t.vs),Object(F.a)("string"===typeof t.fs),Object(F.a)("string"===typeof t.id);var n=this._getProgramKey(t),r=this.programs[n];return r?(this._resetProgram(r),r):(r=this._createNewProgram(e,t),this._cachePrograms&&this._checkProgramProp(r)&&(r._isCached=!0,this.programs[n]=r),r)}},{key:"_getProgramKey",value:function(e){return"".concat(e.id,"-").concat(e.vs,"-").concat(e.fs)}},{key:"_checkProgramProp",value:function(e){return!e.varyings}},{key:"_createNewProgram",value:function(e,t){var n=t.vs,r=t.fs,i=this.getVertexShader(e,n),o=this.getFragmentShader(e,r);return new Ye(this.gl,Object.assign({},t,{vs:i,fs:o}))}},{key:"_resetProgram",value:function(e,t){e.reset()}},{key:"_compareContexts",value:function(e,t){return(e.gl||e)===(t.gl||t)}}]),e}(),Zn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,e);var r=n.onInitialize,i=void 0===r?function(){}:r,o=n.onFinalize,a=void 0===o?function(){}:o,s=n.useDevicePixels,u=void 0===s||s,l=n.autoResizeDrawingBuffer,c=void 0===l||l;this.props={onInitialize:i,onFinalize:a},this.setProps({autoResizeDrawingBuffer:c,useDevicePixels:u}),Object(F.a)(t instanceof Worker),this.worker=t,this.canvas=null,this.width=null,this.height=null,this._stopped=!0,this._animationFrameId=null,this._startPromise=null,this._onMessage=this._onMessage.bind(this),this._onEvent=this._onEvent.bind(this),this._updateFrame=this._updateFrame.bind(this)}return Object(M.a)(e,null,[{key:"createWorker",value:function(e){return function(t){e.setProps({useDevicePixels:!1,autoResizeDrawingBuffer:!1}),t.canvas=null,t.addEventListener("message",(function(n){switch(n.data.command){case"start":!function(e){var n=new Map;e.addEventListener=function(e,r){t.postMessage({command:"addEventListener",type:e}),n.has(e)||n.set(e,[]),n.get(e).push(r)},e.removeEventListener=function(e,r){t.postMessage({command:"removeEventListener",type:e});var i=n.get(e);i&&i.splice(i.indexOf(r),1)},e.dispatchEvent=function(e,t){var r=n.get(e);r&&r.forEach((function(e){return e(t)}))},t.canvas=e}(n.data.opts.canvas),e.start(n.data.opts);break;case"stop":e.stop();break;case"resize":t.canvas.width=n.data.width,t.canvas.height=n.data.height;break;case"event":t.canvas.dispatchEvent(n.data.type,n.data.event)}}))}}}]),Object(M.a)(e,[{key:"setProps",value:function(e){return"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._stopped=!1,this._animationFrameId||(this.worker.onmessage=this._onMessage,this._startPromise=h().then((function(){return e._createAndTransferCanvas(t),e.props.onInitialize(e)})).then((function(){e._stopped||(e._animationFrameId=Object(a.p)(e._updateFrame))}))),this}},{key:"stop",value:function(){return this._animationFrameId&&(Object(a.f)(this._animationFrameId),this._animationFrameId=null,this._stopped=!0,this.props.onFinalize(this)),this.worker.postMessage({command:"stop"}),this}},{key:"_onMessage",value:function(e){switch(e.data.command){case"addEventListener":this.canvas.addEventListener(e.data.type,this._onEvent);break;case"removeEventListener":this.canvas.removeEventListener(e.data.type,this._onEvent)}}},{key:"_onEvent",value:function(e){var t=this.useDevicePixels&&window.devicePixelRatio||1,n=e.type,r={};for(var i in e){var o=e[i],a=Object(Nn.a)(o);"offsetX"!==i&&"offsetY"!==i||(o*=t),"number"!==a&&"boolean"!==a&&"string"!==a||(r[i]=o)}this.worker.postMessage({command:"event",type:n,event:r})}},{key:"_updateFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._animationFrameId=Object(a.p)(this._updateFrame)}},{key:"_createAndTransferCanvas",value:function(e){var t=p(e);t.transferControlToOffscreen||c.g.error("OffscreenCanvas is not available in your browser.")();var n=t.transferControlToOffscreen();this.worker.postMessage({command:"start",opts:Object.assign({},e,{canvas:n})},[n]),this.canvas=t}},{key:"_resizeCanvasDrawingBuffer",value:function(){if(this.autoResizeDrawingBuffer){var e=this.useDevicePixels&&window.devicePixelRatio||1,t=this.canvas.clientWidth*e,n=this.canvas.clientHeight*e;this.width===t&&this.height===n||(this.width=t,this.height=n,this.worker.postMessage({command:"resize",width:t,height:n}))}}}]),e}(),Qn=function(){function e(t,n){Object(v.a)(this,e);var r=n.id,i=void 0===r?"pass":r;this.id=i,this.gl=t,this.props={enabled:!0,screen:!1,swap:!1},Object.assign(this.props,n)}return Object(M.a)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(e,t){var n=this;if(this.props.enabled){var r=this.gl,i={gl:r,outputBuffer:e.writeBuffer,inputBuffer:e.readBuffer,animationProps:t,swapBuffers:function(){return e._swapFramebuffers()}};this.props.screen?(i.inputBuffer=i.outputBuffer,i.outputBuffer=we.getDefaultFramebuffer(r)):this.props.swap&&(i.inputBuffer=e.writeBuffer,i.outputBuffer=e.readBuffer),Object(K.g)(r,{framebuffer:i.outputBuffer},(function(){return n._renderPass(i)})),this.props.debug&&i.outputBuffer.log(0,this.id),this.props.swap&&e._swapFramebuffers()}}},{key:"_renderPass",value:function(e){e.gl,e.inputBuffer,e.outputBuffer,e.animationProps}}]),e}(),$n=function(e){function t(e,n){return Object(v.a)(this,t),n=Array.isArray(n)?{passes:n}:n,Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"composite-pass"},n)))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.props.passes,t=void 0===e?[]:e,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.render.apply(s,arguments)}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}]),t}(Qn),Jn=function(){function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(v.a)(this,e),this.gl=t,this.framebuffer1=new we(t,{id:"multi-pass-1",stencil:!0}),this.framebuffer2=new we(t,{id:"multi-pass-2",stencil:!0}),this.reset()}return Object(M.a)(e,[{key:"reset",value:function(){this.framebuffer1.resize(),this.framebuffer2.resize(),this.writeBuffer=this.framebuffer1,this.readBuffer=this.framebuffer2,this.maskActive=!1}},{key:"_swapFramebuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}}]),e}(),er=function(e){function t(e,n){var r;return Object(v.a)(this,t),n=Array.isArray(n)?{passes:n}:n,(r=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"multi-pass"},n)))).renderState=new Jn(e,n),r}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"render",value:function(e){this.renderState.reset();var t=this.props.passes,n=void 0===t?[]:t,r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.render(this.renderState,e)}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this}}]),t}($n),tr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"clear-pass"},n)))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.gl,n=this.props.clearBits,r=void 0===n?16640:n;t.clear(r)}}]),t}(Qn),nr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"render-pass"},n)))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.animationProps,n=this.props,r=n.models,i=void 0===r?[]:r,o=n.drawParams,a=!0,s=!1,u=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){l.value.draw(Object.assign({},o,{animationProps:t}))}}catch(d){s=!0,u=d}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}}}]),t}(Qn),rr={x:[2,0,1],y:[0,1,2],z:[1,2,0]},ir=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);for(var n=e.bottomRadius,r=void 0===n?0:n,i=e.topRadius,o=void 0===i?0:i,a=e.height,s=void 0===a?1:a,u=e.nradial,l=void 0===u?10:u,c=e.nvertical,d=void 0===c?10:c,f=e.verticalAxis,h=void 0===f?"y":f,p=e.topCap,g=void 0!==p&&p,m=e.bottomCap,b=void 0!==m&&m,y=(g?2:0)+(b?2:0),_=(l+1)*(d+1+y),x=Math.atan2(r-o,s),S=Math.sin,w=Math.cos,C=Math.PI,k=w(x),E=S(x),O=g?-2:0,T=d+(b?2:0),P=l+1,I=new Float32Array(3*_),D=new Float32Array(3*_),A=new Float32Array(2*_),M=new Uint16Array(l*(d+y)*6),j=rr[h],R=0,F=0,N=O;N<=T;N++){var L=N/d,B=s*L,z=void 0;N<0?(B=0,L=1,z=r):N>d?(B=s,L=1,z=o):z=r+N/d*(o-r),-2!==N&&N!==d+2||(z=0,L=0),B-=s/2;for(var U=0;U<P;U++){var H=S(U*C*2/l),V=w(U*C*2/l);I[R+j[0]]=H*z,I[R+j[1]]=B,I[R+j[2]]=V*z,D[R+j[0]]=N<0||N>d?0:H*k,D[R+j[1]]=N<0?-1:N>d?1:E,D[R+j[2]]=N<0||N>d?0:V*k,A[F+0]=U/l,A[F+1]=L,F+=2,R+=3}}for(var W=0;W<d+y;W++)for(var G=0;G<l;G++){var K=6*(W*l+G);M[K+0]=P*(W+0)+0+G,M[K+1]=P*(W+0)+1+G,M[K+2]=P*(W+1)+1+G,M[K+3]=P*(W+0)+0+G,M[K+4]=P*(W+1)+1+G,M[K+5]=P*(W+1)+0+G}return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{attributes:{positions:I,normals:D,texCoords:A,indices:M}})))}return Object(ie.a)(t,e),t}(_t),or=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.radius,r=void 0===n?1:n,i=e.cap,o=void 0===i||i;return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{topRadius:0,topCap:Boolean(o),bottomCap:Boolean(o),bottomRadius:r})))}return Object(ie.a)(t,e),t}(ir),ar=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.id,r=void 0===n?Object(c.i)("cube-geometry"):n;return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{id:r,attributes:dr()})))}return Object(ie.a)(t,e),t}(_t),sr=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),ur=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),lr=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),cr=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]);function dr(){return{indices:new Uint16Array(sr),positions:new Float32Array(ur),normals:new Float32Array(lr),texCoords:new Float32Array(cr)}}var fr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.radius,r=void 0===n?1:n;return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{bottomRadius:r,topRadius:r})))}return Object(ie.a)(t,e),t}(ir),hr=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],pr=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],gr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.iterations,r=void 0===n?0:n,i=Math.PI,o=2*i,a=hr.concat(),s=pr.concat();a.push(),s.push();for(var u=function(){var e={};return function(t,n){var r=(t*=3)>(n*=3)?t:n,i="".concat(t<n?t:n,"|").concat(r);if(i in e)return e[i];var o=a[t],s=a[t+1],u=a[t+2],l=(o+a[n])/2,c=(s+a[n+1])/2,d=(u+a[n+2])/2,f=Math.sqrt(l*l+c*c+d*d);return l/=f,c/=f,d/=f,a.push(l,c,d),e[i]=a.length/3-1}}(),l=0;l<r;l++){for(var c=[],d=0;d<s.length;d+=3){var f=u(s[d+0],s[d+1]),h=u(s[d+1],s[d+2]),p=u(s[d+2],s[d+0]);c.push(p,s[d+0],f,f,s[d+1],h,h,s[d+2],p,f,h,p)}s=c}for(var g=new Array(3*s.length),m=new Array(2*s.length),b=s.length,y=b-3;y>=0;y-=3){var _=s[y+0],x=s[y+1],S=s[y+2],w=3*_,C=3*x,k=3*S,E=2*_,O=2*x,T=2*S,P=a[w+0],I=a[w+1],D=a[w+2],A=Math.acos(D/Math.sqrt(P*P+I*I+D*D)),M=Math.atan2(I,P)+i,j=A/i,R=1-M/o,F=a[C+0],N=a[C+1],L=a[C+2],B=Math.acos(L/Math.sqrt(F*F+N*N+L*L)),z=Math.atan2(N,F)+i,U=B/i,H=1-z/o,V=a[k+0],W=a[k+1],G=a[k+2],K=Math.acos(G/Math.sqrt(V*V+W*W+G*G)),q=Math.atan2(W,V)+i,Y=K/i,X=1-q/o,Z=[V-F,W-N,G-L],Q=[P-F,I-N,D-L],$=new ft.a(Z).cross(Q).normalize(),J=void 0;(0===R||0===H||0===X)&&(0===R||R>.5)&&(0===H||H>.5)&&(0===X||X>.5)&&(a.push(a[w+0],a[w+1],a[w+2]),J=a.length/3-1,s.push(J),m[2*J+0]=1,m[2*J+1]=j,g[3*J+0]=$.x,g[3*J+1]=$.y,g[3*J+2]=$.z,a.push(a[C+0],a[C+1],a[C+2]),J=a.length/3-1,s.push(J),m[2*J+0]=1,m[2*J+1]=U,g[3*J+0]=$.x,g[3*J+1]=$.y,g[3*J+2]=$.z,a.push(a[k+0],a[k+1],a[k+2]),J=a.length/3-1,s.push(J),m[2*J+0]=1,m[2*J+1]=Y,g[3*J+0]=$.x,g[3*J+1]=$.y,g[3*J+2]=$.z),g[w+0]=g[C+0]=g[k+0]=$.x,g[w+1]=g[C+1]=g[k+1]=$.y,g[w+2]=g[C+2]=g[k+2]=$.z,m[E+0]=R,m[E+1]=j,m[O+0]=H,m[O+1]=U,m[T+0]=X,m[T+1]=Y}return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{attributes:{positions:new Float32Array(a),normals:new Float32Array(g),texCoords:new Float32Array(m),indices:new Uint16Array(s)}})))}return Object(ie.a)(t,e),t}(_t),mr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.type,r=void 0===n?"x,y":n,i=e.offset,o=void 0===i?0:i,a=e.flipCull,s=void 0!==a&&a,u=e.unpack,l=void 0!==u&&u,d=e.id,f=void 0===d?Object(c.i)("plane-geometry"):d,h=r.split(","),p=e["".concat(h[0],"len")],g=e["".concat(h[1],"len")],m=e["n".concat(h[0])]||1,b=e["n".concat(h[1])]||1,y=(m+1)*(b+1),_=new Float32Array(3*y),x=new Float32Array(3*y),S=new Float32Array(2*y);s&&(p=-p);for(var w=0,C=0,k=0;k<=b;k++)for(var E=0;E<=m;E++){var O=E/m,T=k/b;switch(S[w+0]=s?1-O:O,S[w+1]=T,r){case"x,y":_[C+0]=p*O-.5*p,_[C+1]=g*T-.5*g,_[C+2]=o,x[C+0]=0,x[C+1]=0,x[C+2]=s?1:-1;break;case"x,z":_[C+0]=p*O-.5*p,_[C+1]=o,_[C+2]=g*T-.5*g,x[C+0]=0,x[C+1]=s?1:-1,x[C+2]=0;break;case"y,z":_[C+0]=o,_[C+1]=p*O-.5*p,_[C+2]=g*T-.5*g,x[C+0]=s?1:-1,x[C+1]=0,x[C+2]=0}w+=2,C+=3}for(var P=m+1,I=new Uint16Array(m*b*6),D=0;D<b;D++)for(var A=0;A<m;A++){var M=6*(D*m+A);I[M+0]=(D+0)*P+A,I[M+1]=(D+1)*P+A,I[M+2]=(D+0)*P+A+1,I[M+3]=(D+1)*P+A,I[M+4]=(D+1)*P+A+1,I[M+5]=(D+0)*P+A+1}if(l){for(var j=new Float32Array(3*I.length),R=new Float32Array(3*I.length),F=new Float32Array(2*I.length),N=0;N<I.length;++N){var L=I[N];j[3*N+0]=_[3*L+0],j[3*N+1]=_[3*L+1],j[3*N+2]=_[3*L+2],R[3*N+0]=x[3*L+0],R[3*N+1]=x[3*L+1],R[3*N+2]=x[3*L+2],F[2*N+0]=S[2*L+0],F[2*N+1]=S[2*L+1]}_=j,x=R,S=F,I=void 0}var B={positions:_,normals:x,texCoords:S};return I&&(B.indices=I),Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{attributes:B,id:f})))}return Object(ie.a)(t,e),t}(_t),vr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t);var n=e.nlat,r=void 0===n?10:n,i=e.nlong,o=void 0===i?10:i,a=e.radius,s=void 0===a?1:a,u=e.id,l=void 0===u?Object(c.i)("sphere-geometry"):u;return Object(ne.a)(this,Object(re.a)(t).call(this,Object.assign({},e,{id:l,attributes:br(r,o,s)})))}return Object(ie.a)(t,e),t}(_t);function br(e,t,n){var r=Math.PI-0,i=2*Math.PI-0,o=(e+1)*(t+1);if("number"===typeof n){var a=n;n=function(e,t,n,r,i){return a}}for(var s=new Float32Array(3*o),u=new Float32Array(3*o),l=new Float32Array(2*o),c=new Uint16Array(e*t*6),d=0;d<=e;d++)for(var f=0;f<=t;f++){var h=f/t,p=d/e,g=f+d*(t+1),m=2*g,v=3*g,b=i*h,y=r*p,_=Math.sin(b),x=Math.cos(b),S=Math.sin(y),w=x*S,C=Math.cos(y),k=_*S,E=n(w,C,k,h,p);s[v+0]=E*w,s[v+1]=E*C,s[v+2]=E*k,u[v+0]=w,u[v+1]=C,u[v+2]=k,l[m+0]=h,l[m+1]=p}for(var O=e+1,T=0;T<e;T++)for(var P=0;P<t;P++){var I=6*(T*t+P);c[I+0]=P*O+T,c[I+1]=P*O+T+1,c[I+2]=(P+1)*O+T,c[I+3]=(P+1)*O+T,c[I+4]=P*O+T+1,c[I+5]=(P+1)*O+T+1}return{positions:s,indices:c,normals:u,texCoords:l}}var yr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{geometry:new or(n)})))}return Object(ie.a)(t,e),t}(Fn),_r=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t);var r=n.id,i=void 0===r?Object(c.i)("cube"):r;return Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{id:i,geometry:new ar(n)})))}return Object(ie.a)(t,e),t}(Fn),xr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{geometry:new fr(n)})))}return Object(ie.a)(t,e),t}(Fn),Sr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{geometry:new gr(n)})))}return Object(ie.a)(t,e),t}(Fn),wr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t);var r=n.id,i=void 0===r?Object(c.i)("plane"):r;return Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{id:i,geometry:new mr(n)})))}return Object(ie.a)(t,e),t}(Fn),Cr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t);var r=n.id,i=void 0===r?Object(c.i)("sphere"):r;return Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{id:i,geometry:new vr(n)})))}return Object(ie.a)(t,e),t}(Fn),kr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{geometry:new ir(n)})))}return Object(ie.a)(t,e),t}(Fn),Er=[-1,-1,1,-1,-1,1,1,1],Or=function(e){function t(e,n){var r;Object(v.a)(this,t);var i=Er.map((function(e){return-1===e?0:e}));return(r=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({},n,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new _t({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(Er)},aTexCoord:{size:2,value:new Float32Array(i)},aCoordinate:{size:2,value:new Float32Array(i)}}})})))).setVertexCount(4),r}return Object(ie.a)(t,e),t}(Fn),Tr="uniform sampler2D uDiffuseSampler;\nuniform float uOpacity;\n\nvarying vec2 uv;\n\nvoid main() {\n  vec4 texel = texture2D(uDiffuseSampler, uv);\n  gl_FragColor = uOpacity * texel;\n}\n",Pr=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),(n=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"copy-pass",swap:!0},r)))).clipspace=new Or(e,{id:"copy-pass",fs:Tr}),n}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.inputBuffer,n=this.props.opacity,r=void 0===n?1:n;this.clipspace.draw({uniforms:{uDiffuseSampler:t,uOpacity:r},parameters:{depthWrite:!1,depthTest:!1}})}}]),t}(Qn),Ir="uniform sampler2D uDiffuseSampler;\nuniform float uOpacity;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 texel = texture2D(uDiffuseSampler, uv);\n  gl_FragColor = uOpacity * texel;\n}\n",Dr=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(v.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"texture-pass"},r)));var i=r.texture,o=r.opacity,a=void 0===o?1:o;return n.clipspace=new Or(e,{id:"texture-pass",fs:Ir,uniforms:{uDiffuseSampler:i,uOpacity:a}}),n}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(){this.clipspace.draw({parameters:{depthWrite:!1,depthTest:!1}})}}]),t}(Qn),Ar=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:"picking-pass"},n)))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.gl,n=e.inputBuffer,r=e.animationProps,i=this.props,o=r?r._mousePosition:i.mousePosition,a=r?r.useDevicePixels:i.useDevicePixels;if(o){var s=zn(t,{models:this.props.models,position:o,useDevicePixels:a,framebuffer:n}),u=!0,l=!1,c=void 0;try{for(var d,f=this.props.models[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value;if(s&&s.model===h){var p=s&&s.color||null;h.updateModuleSettings({pickingSelectedColor:p})}}}catch(_){l=!0,c=_}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}else{var g=!0,m=!1,v=void 0;try{for(var b,y=this.props.models[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){b.value.updateModuleSettings({pickingSelectedColor:null})}}catch(_){m=!0,v=_}finally{try{g||null==y.return||y.return()}finally{if(m)throw v}}}}}]),t}(Qn),Mr={boolean:{validate:function(e,t){return!0}},number:{validateType:function(e,t){return"value"in t&&(!("max"in t)||Number.isFinite(t.max))&&(!("min"in t)||Number.isFinite(t.min))},validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}}};function jr(e,t){switch(Rr(t)){case"object":return function(e){var t=e.type;(Mr[t]||{}).typeValidator;return e}(t=function(e,t){if(!("type"in t))return"value"in t?Object.assign({name:e,type:Rr(t.value)},t):{name:e,type:"object",value:t};return Object.assign({name:e},t)}(e,t));case"array":return function(e,t){if(/color/i.test(e)&&(3===t.length||4===t.length))return{name:e,type:"color",value:t};return{name:e,type:"array",value:t}}(e,t);case"boolean":return{name:e,type:"boolean",value:t};case"number":return function(e,t){var n=/radius|scale|width|height|pixel|size|miter/i.test(e)&&/^((?!scale).)*$/.test(e)?100:1;return{name:e,type:"number",max:Math.max(t,n),min:Math.min(t,0),value:t}}(e,t);case"function":return{name:e,type:"function",value:t};default:return{name:e,type:"unknown",value:t}}}function Rr(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":null===e?"null":Object(Nn.a)(e)}function Fr(e,t){var n={};if(void 0===t){for(var r in e.uniforms)n[r]=e.uniforms[r].value;return n}for(var i in t)n[i]=t[i];return n}function Nr(e){if(!e.normalized){if(e.normalized=!0,e.uniforms){var t=function(e){for(var t={},n={},r=Object.entries(e),i=0;i<r.length;i++){var o=Object(he.a)(r[i],2),a=o[0],s=jr(a,o[1]);t[a]=s,n[a]=s.value}return{propTypes:t,defaultProps:n}}(e.uniforms).propTypes;e.uniforms=t}e.uniforms&&!e.getUniforms&&(e.getUniforms=Fr.bind(null,e))}return e}var Lr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({swap:!0},n)))}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.inputBuffer;e.swapBuffers;this.props.model.setUniforms(this.props),this.props.model.draw({uniforms:{texture:t,texSize:[t.width,t.height]},parameters:{depthWrite:!1,depthTest:!1}})}}]),t}(Qn),Br=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(v.a)(this,t);var o="".concat(n.name,"-pass");Nr(n);var a=zr(e,n,o,i);return(r=Object(ne.a)(this,Object(re.a)(t).call(this,e,Object.assign({id:o,passes:a},i)))).module=n,r}return Object(ie.a)(t,e),Object(M.a)(t,[{key:"_renderPass",value:function(e){var t=e.inputBuffer,n=e.swapBuffers,r=!0,i=!0,o=!1,a=void 0;try{for(var s,u=this.module.passes[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r||n(),r=!1,l.uniforms&&l.model.setUniforms(l.uniforms),l.model.draw({uniforms:{texture:t,texSize:[t.width,t.height]},parameters:{depthWrite:!1,depthTest:!1}})}}catch(c){o=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}}]),t}($n);function zr(e,t,n,r){if(t.filter||t.sampler){var i=Wr(t);return[new Lr(e,{id:n,model:Ur(e,t,i,n,r),uniforms:null})]}var o=t.passes||[];return o.map((function(i){var a=Wr(t,i),s="".concat(n,"-").concat(o.length+1);return new Lr(e,Object.assign({id:s,model:Ur(e,t,a,s,r),uniforms:i.uniforms},r))}))}function Ur(e,t,n,r,i){var o=new Or(e,{id:r,fs:n,modules:[t]}),a=Object.assign(t.getUniforms(),t.getUniforms(i));return o.setUniforms(a),o}var Hr=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(e,"(gl_FragColor, texSize, texCoord);\n}\n")},Vr=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(e,"(texture, texSize, texCoord);\n}\n")};function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.filter){var n="string"===typeof t.filter?t.filter:"".concat(e.name,"_filterColor");return Hr(n)}if(t.sampler){var r="string"===typeof t.sampler?t.sampler:"".concat(e.name,"_sampleColor");return Vr(r)}return null}n(216);var Gr=function(){function e(){if(Object(v.a)(this,e),this.canvas=document.createElement("canvas"),this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,this.gl=U({canvas:this.canvas,opts:{premultipliedAlpha:!1}}),!this.gl)throw new Error("This browser does not support WebGL");this.texture=null,this.spareTexture=null,this.flippedModel=null}return Object(M.a)(e,[{key:"installFiltersAsMethods",value:function(e){var t=this,n=function(n){"canvas"!==n&&(t[n]=function(r){return t.filter(e[n],r).bind(t)})};for(var r in e)n(r)}},{key:"setTexture",value:function(e){return this.texture=new pe.a(this.gl,{pixels:e}),this.resize(this.gl,this.texture.width,this.texture.height),this}},{key:"resize",value:function(e,t,n){if(e.canvas.width!==t||e.canvas.height!==n){e.canvas.width=t,e.canvas.height=n;var r=Math.floor(t/1),i=Math.floor(n/1);e.canvas.style.width="".concat(r,"px"),e.canvas.style.height="".concat(i,"px"),e.viewport(0,0,t,n),this.width=r,this.height=i}}},{key:"replace",value:function(e){return e.parentNode.insertBefore(this.canvas,e),e.parentNode.removeChild(e),this}},{key:"draw",value:function(){return this.multiPassRenderer=new er(this.gl,[new tr(this.gl),new Dr(this.gl,{texture:this.texture}),new Pr(this.gl,{screen:!0})]),this.multiPassRenderer.render(),this}},{key:"update",value:function(){return this.multiPassRenderer.render({}),this}},{key:"filter",value:function(e,t){return this.multiPassRenderer=new er(this.gl,[new tr(this.gl),new Dr(this.gl,{texture:this.texture}),new Br(this.gl,e,t),new Pr(this.gl,{screen:!0})]),this.multiPassRenderer.render(),this}},{key:"getPixelArray",value:function(){var e=this.gl,t=this.texture.width,n=this.texture.height,r=new Uint8Array(t*n*4);return this.texture.drawTo((function(){return e.readPixels(0,0,t,n,6408,5121,r)})),r}},{key:"_initialize",value:function(e,t){var n=this.gl,r=5121;if(this.gl.getExtension("OES_texture_float")&&n.getExtension("OES_texture_float_linear")){var i=new pe.a(this.gl,{width:100,height:100,format:6408,type:5126});try{i.drawTo((function(){r=5126}))}catch(o){}i.destroy()}this.spareTexture&&this.spareTexture.destroy(),this.width=e,this.height=t,this.texture=new pe.a(this.gl,{width:e,height:t,format:6408,type:r}),this.spareTexture=new pe.a(this.gl,{width:e,height:t,format:6408,type:r}),this.extraTexture=this.extraTexture||new pe.a(this.gl,{width:0,height:0,format:6408,type:r}),this.flippedModel=this.flippedModel||new Fn(this.gl,{vs:"attribute vec2 vertex;\nattribute vec2 _texCoord;\nvarying vec2 texCoord;\nvoid main() {\n  texCoord = _texCoord;\n  gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);\n}\n",fs:"uniform sampler2D texture;\nvarying vec2 texCoord;\nvoid main() {\n  gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));\n}\n"}),this.isInitialized=!0}}]),e}();function Kr(){}var qr=4,Yr=function(){function e(t){var n=t.url,r=t.path,i=void 0===r?null:r,o=t.method,a=void 0===o?"GET":o,s=t.asynchronous,u=void 0===s||s,l=t.noCache,c=void 0!==l&&l,d=t.sendAsBinary,f=void 0!==d&&d,h=t.responseType,p=void 0!==h&&h,g=t.onProgress,m=void 0===g?Kr:g,b=t.onError,y=void 0===b?Kr:b,_=t.onAbort,x=void 0===_?Kr:_,S=t.onComplete,w=void 0===S?Kr:S;Object(v.a)(this,e),this.url=i?i.join(i,n):n,this.method=a,this.async=u,this.noCache=c,this.sendAsBinary=f,this.responseType=p,this.req=new XMLHttpRequest,this.req.onload=function(e){return w(e)},this.req.onerror=function(e){return y(e)},this.req.onabort=function(e){return x(e)},this.req.onprogress=function(e){e.lengthComputable?m(e,Math.round(e.loaded/e.total*100)):m(e,-1)}}return Object(M.a)(e,[{key:"setRequestHeader",value:function(e,t){return this.req.setRequestHeader(e,t),this}},{key:"sendAsync",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.body||null;return new Promise((function(n,r){try{var i=e.req,o=e.method,a=e.noCache,s=e.sendAsBinary,u=e.responseType,l=a?e.url+(e.url.indexOf("?")>=0?"&":"?")+Date.now():e.url;i.open(o,l,e.async),u&&(i.responseType=u),e.async&&(i.onreadystatechange=function(e){i.readyState===qr&&(200===i.status?n(i.responseType?i.response:i.responseText):r(new Error("".concat(i.status,": ").concat(l))))}),s?i.sendAsBinary(t):i.send(t),e.async||(200===i.status?n(i.responseType?i.response:i.responseText):r(new Error("".concat(i.status,": ").concat(l))))}catch(c){r(c)}}))}}]),e}();function Xr(e){return new Yr(e).sendAsync()}var Zr="";function Qr(e){Zr=e}function $r(e,t){return"string"===typeof e||t||(e=(t=e).url),t.url=Zr?Zr+e:e,Xr(t)}function Jr(e,t){return e=Zr?Zr+e:e,"undefined"===typeof Image?Xr({url:e=new URL(e,location.pathname).href,responseType:"arraybuffer"}).then((function(e){var t=new Blob([new Uint8Array(e)]);return createImageBitmap(t)})):new Promise((function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image ".concat(e,".")))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(o){r(o)}}))}function ei(){}function ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(F.a)("string"===typeof t,"loadTexture: url must be string"),Jr(t,n).then((function(r){return new pe.a(e,Object.assign({id:t},n,{data:r}))}))}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.urls,n=e.onProgress,r=void 0===n?ei:n;Object(F.a)(t.every((function(e){return"string"===typeof e})),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(t.map((function(n){var o=$r(Object.assign({url:n},e));return o.then((function(e){return r({progress:++i/t.length,count:i,total:t.length,url:n})})),o})))}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.urls,n=e.onProgress,r=void 0===n?ei:n;Object(F.a)(t.every((function(e){return"string"===typeof e})),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(t.map((function(n){var o=Jr(n,e);return o.then((function(e){return r({progress:++i/t.length,count:i,total:t.length,url:n})})),o})))}function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.urls,r=t.onProgress,i=void 0===r?ei:r;return Object(F.a)(n.every((function(e){return"string"===typeof e})),"loadTextures: {urls} must be array of strings"),ri(Object.assign({urls:n,onProgress:i},t)).then((function(r){return r.map((function(r,i){return new pe.a(e,Object.assign({id:n[i]},t,{data:r}))}))}))}function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vs,r=t.fs,i=t.onProgress,o=void 0===i?ei:i;return ni(Object.assign({urls:[n,r],onProgress:o},t)).then((function(n){var r=Object(he.a)(n,2),i=r[0],o=r[1];return new Ye(e,Object.assign({vs:i,fs:o},t))}))}function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.onProgress,i=void 0===r?ei:r;return ni(Object.assign({urls:[n],onProgress:i},t)).then((function(n){var r=Object(he.a)(n,1)[0];return si(e,Object.assign({file:r},t))}))}function si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.file,r=t.program,i=void 0===r?new Ye(e):r,o="string"===typeof n?ui(n):n,a={},s={};for(var u in o){var l=o[u];Array.isArray(l)?a[u]="indices"===u?new Uint16Array(l):new Float32Array(l):s[u]=l}return new Fn(e,Object.assign({program:i,geometry:new _t({attributes:a})},s,t))}function ui(e){try{return JSON.parse(e)}catch(t){throw new Error("Failed to parse JSON: ".concat(t))}}var li="uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n",ci={name:"pbr",vs:"varying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n\nuniform vec3 u_LightDirection;\nuniform vec3 u_LightColor;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\nuniform vec4 u_ScaleIBLAmbient;\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n  #ifdef MANUAL_SRGB\n  #ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n  #else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n  #endif\n  return vec4(linOut,srgbIn.w);;\n  #else\n  return srgbIn;\n  #endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n\n\n  float perceptualRoughness = u_MetallicRoughnessValues.y;\n  float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n  vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n  perceptualRoughness = mrSample.g * perceptualRoughness;\n  metallic = mrSample.b * metallic;\n#endif\n  perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n  metallic = clamp(metallic, 0.0, 1.0);\n\n  float alphaRoughness = perceptualRoughness * perceptualRoughness;\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n  vec3 f0 = vec3(0.04);\n  vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n  diffuseColor *= 1.0 - metallic;\n  vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n  float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n  float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n  vec3 specularEnvironmentR0 = specularColor.rgb;\n  vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n  vec3 n = getNormal();\n  vec3 v = normalize(u_Camera - pbr_vPosition);\n  vec3 l = normalize(u_LightDirection);\n  vec3 h = normalize(l+v);\n  vec3 reflection = -normalize(reflect(v, n));\n\n  float NdotL = clamp(dot(n, l), 0.001, 1.0);\n  float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n  float NdotH = clamp(dot(n, h), 0.0, 1.0);\n  float LdotH = clamp(dot(l, h), 0.0, 1.0);\n  float VdotH = clamp(dot(v, h), 0.0, 1.0);\n\n  PBRInfo pbrInputs = PBRInfo(\n    NdotL,\n    NdotV,\n    NdotH,\n    LdotH,\n    VdotH,\n    perceptualRoughness,\n    metallic,\n    specularEnvironmentR0,\n    specularEnvironmentR90,\n    alphaRoughness,\n    diffuseColor,\n    specularColor\n  );\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);\n  vec3 color = NdotL * u_LightColor * (diffuseContrib + specContrib);\n#ifdef USE_IBL\n  color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n  float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n  color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n  vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n  color += emissive;\n#endif\n\n  color = mix(color, F, u_ScaleFGDSpec.x);\n  color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n  color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n  color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n  color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n  color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n  color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n  color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",dependencies:[{name:"project2",vs:li,fs:li}]},di=n(42),fi=n(70),hi=n(108),pi=n(109);n(133)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"m",(function(){return i.c})),n.d(t,"n",(function(){return i.d})),n.d(t,"e",(function(){return i.b})),n.d(t,"d",(function(){return i.a})),n.d(t,"p",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return d.a})),n.d(t,"q",(function(){return d.d})),n.d(t,"j",(function(){return f.b})),n.d(t,"i",(function(){return f.a})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return p.a}));var r=n(38),i=n(69);function o(e){return"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60)}function a(e){return"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=e.match(n);return r?r[1]:t}function u(e,t,n,r){for(var i=e.split(/\r?\n/),o={},a={},u=r||s(t)||"(unnamed)",d="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(u),f=0;f<i.length;f++){var h=i[f];if(!(h.length<=1)){var p=h.split(":"),g=p[0],m=parseInt(p[2],10);if(isNaN(m))throw new Error("GLSL compilation error in ".concat(d,": ").concat(e));"WARNING"!==g?o[m]=h:a[m]=h}}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map((function(e,r){var o=r+t,a=String(o).length;return c(o,i-a)+n+e}))}(t);return{shaderName:d,errors:l(o,v),warnings:l(a,v)}}function l(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,l=o.substring(a.join(":").length+1).trim();n+=c("^^^ ".concat(s,": ").concat(l,"\n\n"),u)}}return n}function c(e,t){for(var n="",r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}var d=n(44),f=n(39);function h(e){var t=100,n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){var r=parseInt(n[1],10);Number.isFinite(r)&&(t=r)}return t}var p=n(107)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(222)},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(24);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(87);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return y}));var r=n(20);function i(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],b=n*s-r*a,y=n*u-i*a,_=n*l-o*a,x=r*u-i*s,S=r*l-o*s,w=i*l-o*u,C=c*g-d*p,k=c*m-f*p,E=c*v-h*p,O=d*m-f*g,T=d*v-h*g,P=f*v-h*m,I=b*P-y*T+_*O+x*E-S*k+w*C;return I?(I=1/I,e[0]=(s*P-u*T+l*O)*I,e[1]=(i*T-r*P-o*O)*I,e[2]=(g*w-m*S+v*x)*I,e[3]=(f*S-d*w-h*x)*I,e[4]=(u*E-a*P-l*k)*I,e[5]=(n*P-i*E+o*k)*I,e[6]=(m*_-p*w-v*y)*I,e[7]=(c*w-f*_+h*y)*I,e[8]=(a*T-s*E+l*C)*I,e[9]=(r*E-n*T-o*C)*I,e[10]=(p*S-g*_+v*b)*I,e[11]=(d*_-c*S-h*b)*I,e[12]=(s*k-a*O-u*C)*I,e[13]=(n*O-r*k+i*C)*I,e[14]=(g*y-p*x-m*b)*I,e[15]=(c*x-d*y+f*b)*I,e):null}function a(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],g=e[14],m=e[15];return(t*a-n*o)*(d*m-f*g)-(t*s-r*o)*(c*m-f*p)+(t*u-i*o)*(c*g-d*p)+(n*s-r*a)*(l*m-f*h)-(n*u-i*a)*(l*g-d*h)+(r*u-i*s)*(l*p-c*h)}function s(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15],y=n[0],_=n[1],x=n[2],S=n[3];return e[0]=y*r+_*s+x*d+S*g,e[1]=y*i+_*u+x*f+S*m,e[2]=y*o+_*l+x*h+S*v,e[3]=y*a+_*c+x*p+S*b,y=n[4],_=n[5],x=n[6],S=n[7],e[4]=y*r+_*s+x*d+S*g,e[5]=y*i+_*u+x*f+S*m,e[6]=y*o+_*l+x*h+S*v,e[7]=y*a+_*c+x*p+S*b,y=n[8],_=n[9],x=n[10],S=n[11],e[8]=y*r+_*s+x*d+S*g,e[9]=y*i+_*u+x*f+S*m,e[10]=y*o+_*l+x*h+S*v,e[11]=y*a+_*c+x*p+S*b,y=n[12],_=n[13],x=n[14],S=n[15],e[12]=y*r+_*s+x*d+S*g,e[13]=y*i+_*u+x*f+S*m,e[14]=y*o+_*l+x*h+S*v,e[15]=y*a+_*c+x*p+S*b,e}function u(e,t,n){var r,i,o,a,s,u,l,c,d,f,h,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*g+s*m+d*v+t[12],e[13]=i*g+u*m+f*v+t[13],e[14]=o*g+l*m+h*v+t[14],e[15]=a*g+c*m+p*v+t[15]),e}function l(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t,n,i){var o,a,s,u,l,c,d,f,h,p,g,m,v,b,y,_,x,S,w,C,k,E,O,T,P=i[0],I=i[1],D=i[2],A=Math.hypot(P,I,D);return A<r.b?null:(P*=A=1/A,I*=A,D*=A,o=Math.sin(n),s=1-(a=Math.cos(n)),u=t[0],l=t[1],c=t[2],d=t[3],f=t[4],h=t[5],p=t[6],g=t[7],m=t[8],v=t[9],b=t[10],y=t[11],_=P*P*s+a,x=I*P*s+D*o,S=D*P*s-I*o,w=P*I*s-D*o,C=I*I*s+a,k=D*I*s+P*o,E=P*D*s+I*o,O=I*D*s-P*o,T=D*D*s+a,e[0]=u*_+f*x+m*S,e[1]=l*_+h*x+v*S,e[2]=c*_+p*x+b*S,e[3]=d*_+g*x+y*S,e[4]=u*w+f*C+m*k,e[5]=l*w+h*C+v*k,e[6]=c*w+p*C+b*k,e[7]=d*w+g*C+y*k,e[8]=u*E+f*O+m*T,e[9]=l*E+h*O+v*T,e[10]=c*E+p*O+b*T,e[11]=d*E+g*O+y*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function d(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+d*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=d*i-s*r,e[11]=f*i-u*r,e}function f(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-d*r,e[3]=u*i-f*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+d*i,e[11]=u*r+f*i,e}function h(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+d*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=d*i-s*r,e[7]=f*i-u*r,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,d=r*s,f=i*a,h=i*s,p=i*u,g=o*a,m=o*s,v=o*u;return e[0]=1-d-p,e[1]=c+v,e[2]=f-m,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=h+g,e[7]=0,e[8]=f+m,e[9]=h-g,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}function m(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function v(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e}function b(e,t,n,i){var o,a,s,u,l,c,d,f,h,p,g=t[0],m=t[1],v=t[2],b=i[0],y=i[1],_=i[2],x=n[0],S=n[1],w=n[2];return Math.abs(g-x)<r.b&&Math.abs(m-S)<r.b&&Math.abs(v-w)<r.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(d=g-x,f=m-S,h=v-w,o=y*(h*=p=1/Math.hypot(d,f,h))-_*(f*=p),a=_*(d*=p)-b*h,s=b*f-y*d,(p=Math.hypot(o,a,s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=f*s-h*a,l=h*o-d*s,c=d*a-f*o,(p=Math.hypot(u,l,c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=o,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(o*g+a*m+s*v),e[13]=-(u*g+l*m+c*v),e[14]=-(d*g+f*m+h*v),e[15]=1,e)}function y(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],g=e[12],m=e[13],v=e[14],b=e[15],y=t[0],_=t[1],x=t[2],S=t[3],w=t[4],C=t[5],k=t[6],E=t[7],O=t[8],T=t[9],P=t[10],I=t[11],D=t[12],A=t[13],M=t[14],j=t[15];return Math.abs(n-y)<=r.b*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-_)<=r.b*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=r.b*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-S)<=r.b*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-w)<=r.b*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-C)<=r.b*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(l-k)<=r.b*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(c-E)<=r.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(d-O)<=r.b*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(f-T)<=r.b*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(h-P)<=r.b*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-I)<=r.b*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(g-D)<=r.b*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(m-A)<=r.b*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(v-M)<=r.b*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(b-j)<=r.b*Math.max(1,Math.abs(b),Math.abs(j))}},function(e,t,n){e.exports=n(223)},function(e,t,n){"use strict";n.r(t),n.d(t,"COORDINATE_SYSTEM",(function(){return d})),n.d(t,"Deck",(function(){return Hi})),n.d(t,"LayerManager",(function(){return Tn})),n.d(t,"AttributeManager",(function(){return ze})),n.d(t,"Layer",(function(){return Gt})),n.d(t,"CompositeLayer",(function(){return Zi})),n.d(t,"Viewport",(function(){return Sn})),n.d(t,"WebMercatorViewport",(function(){return nr})),n.d(t,"project",(function(){return C})),n.d(t,"project64",(function(){return T})),n.d(t,"lighting",(function(){return ne})),n.d(t,"View",(function(){return Nn})),n.d(t,"MapView",(function(){return ii})),n.d(t,"FirstPersonView",(function(){return go})),n.d(t,"ThirdPersonView",(function(){return So})),n.d(t,"OrbitView",(function(){return ra})),n.d(t,"PerspectiveView",(function(){return da})),n.d(t,"OrthographicView",(function(){return Da})),n.d(t,"Controller",(function(){return Pr})),n.d(t,"MapController",(function(){return $r})),n.d(t,"_FirstPersonController",(function(){return so})),n.d(t,"_OrbitController",(function(){return Wo})),n.d(t,"_OrthographicController",(function(){return Ca})),n.d(t,"_EffectManager",(function(){return ai})),n.d(t,"_Effect",(function(){return li})),n.d(t,"_ReflectionEffect",(function(){return La})),n.d(t,"TRANSITION_EVENTS",(function(){return vr})),n.d(t,"LinearInterpolator",(function(){return hr})),n.d(t,"FlyToInterpolator",(function(){return Ya})),n.d(t,"log",(function(){return i})),n.d(t,"_GPUGridAggregator",(function(){return js})),n.d(t,"AGGREGATION_OPERATION",(function(){return us})),n.d(t,"_pointToDensityGridData",(function(){return zs})),n.d(t,"createIterable",(function(){return Ns})),n.d(t,"experimental",(function(){return Hs}));var r=n(78),i=new(n(244).a)({id:"deck"}).enable();if(r.a.deck&&"6.4.10"!==r.a.deck.VERSION)throw new Error("deck.gl - multiple versions detected: ".concat(r.a.deck.VERSION," vs ").concat("6.4.10"));r.a.deck||(i.log(0,"deck.gl ".concat("6.4.10"," - ").concat("set deck.log.priority=1 (or higher) to trace attribute updates"))(),r.a.deck=r.a.deck||{VERSION:"6.4.10",version:"6.4.10",log:i}),console.table||(console.table=function(){});var o=n(8),a={LNG_LAT:1,LNGLAT_AUTO_OFFSET:4,METER_OFFSETS:2,LNGLAT_OFFSETS:3,IDENTITY:0},s=Object.keys(a).map((function(e){return"const float COORDINATE_SYSTEM_".concat(e," = ").concat(a[e],".;")})).join(""),u="".concat(s,'\n\nuniform float project_uCoordinateSystem;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform float project_uAntimeridian;\nuniform vec3 project_uPixelsPerMeter;\nuniform vec3 project_uPixelsPerDegree;\nuniform vec3 project_uPixelsPerUnit;\nuniform vec3 project_uPixelsPerUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec2 project_coordinate_origin;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);\n\n//\n// Scaling offsets - scales meters to "pixels"\n// Note the scalar version of project_scale is for scaling the z component only\n//\nfloat project_scale(float meters) {\n  return meters * project_uPixelsPerMeter.z;\n}\n\nvec2 project_scale(vec2 meters) {\n  return meters * project_uPixelsPerMeter.xy;\n}\n\nvec3 project_scale(vec3 meters) {\n  return meters * project_uPixelsPerMeter;\n}\n\nvec4 project_scale(vec4 meters) {\n  return vec4(meters.xyz * project_uPixelsPerMeter, meters.w);\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uPixelsPerDegree);\n  }\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  return normalize(normal_modelspace.xyz * project_uPixelsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_AUTO_OFFSET) {\n    dy = clamp(dy, -1., 1.);\n  }\n  vec3 pixelsPerUnit = project_uPixelsPerUnit + project_uPixelsPerUnit2 * dy;\n  return vec4(offset.xyz * pixelsPerUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x - project_uAntimeridian, 360.0) + project_uAntimeridian;\n  }\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\n//\n// Projects lnglats (or meter offsets, depending on mode) to pixels\n//\nvec4 project_position(vec4 position, vec2 position64xyLow) {\n  // TODO - why not simply subtract center and fall through?\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT) {\n    return project_uModelMatrix * vec4(\n      project_mercator_(position.xy) * WORLD_SCALE * project_uScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_AUTO_OFFSET) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    float X = position.x - project_coordinate_origin.x;\n    float Y = position.y - project_coordinate_origin.y;\n    return project_offset_(vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w));\n  }\n\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return project_offset_(position);\n  }\n\n  // METER_OFFSETS or IDENTITY\n  // Apply model matrix\n  vec4 position_modelspace = project_uModelMatrix * position;\n  return project_offset_(position_modelspace);\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_XY_LOW);\n}\n\nvec3 project_position(vec3 position, vec2 position64xyLow) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64xyLow);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_XY_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_XY_LOW);\n  return projected_position.xy;\n}\n\n//\n// Projects from "world" coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_to_clipspace(vec4 position) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_METER_OFFSETS ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // Needs to be divided with project_uPixelsPerMeter\n    position.w *= project_uPixelsPerMeter.z;\n  }\n  return project_uViewProjectionMatrix * position + project_uCenter;\n}\n\n// Returns a clip space offset that corresponds to a given number of **non-device** pixels\nvec4 project_pixel_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return vec4(offset * project_uFocalDistance, 0.0, 0.0);\n}\n'),l=n(15),c=n(49),d={LNGLAT:1,LNGLAT_EXPERIMENTAL:1,LNGLAT_DEPRECATED:5,METER_OFFSETS:2,METERS:2,LNGLAT_OFFSETS:3,IDENTITY:0},f={panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}};function h(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function p(e){var t,n={};return function(r){for(var i in r)if(!h(r[i],n[i])){t=e(r),n=r;break}return t}}function g(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}var m=[0,0,0,0],v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],y=[0,0,0],_=[0,0,0],x=p((function(e){var t=e.viewport,n=e.devicePixelRatio,r=e.coordinateSystem,i=e.coordinateOrigin,o=e.wrapLongitude,s=t.zoom,u=function(e){var t,n=e.viewport,r=e.coordinateSystem,i=e.coordinateOrigin,o=e.coordinateZoom,s=n.viewMatrixUncentered,u=n.viewMatrix,f=n.projectionMatrix,h=n.viewProjectionMatrix,p=function(e){switch(e){case d.LNGLAT:case d.LNGLAT_EXPERIMENTAL:default:return a.LNGLAT_AUTO_OFFSET;case d.LNGLAT_DEPRECATED:return a.LNG_LAT;case d.METER_OFFSETS:case d.METERS:return a.METER_OFFSETS;case d.LNGLAT_OFFSETS:return a.LNGLAT_OFFSETS;case d.IDENTITY:return a.IDENTITY}}(r),g=i;if(p===a.LNGLAT_AUTO_OFFSET)if(o<12)p=a.LNG_LAT;else{var b=Math.fround(n.longitude),y=Math.fround(n.latitude);g=[b,y]}switch(p){case a.IDENTITY:case a.LNG_LAT:t=m;break;case a.LNGLAT_OFFSETS:case a.METER_OFFSETS:case a.LNGLAT_AUTO_OFFSET:var _=n.projectFlat(g,Math.pow(2,o));t=c.c([],[_[0],_[1],0,1],h),u=s||u,h=l.g([],f,u),h=l.g([],h,v);break;default:throw new Error("Unknown projection mode")}return{viewMatrix:u,viewProjectionMatrix:h,projectionCenter:t,cameraPos:n.cameraPosition,shaderCoordinateSystem:p,shaderCoordinateOrigin:g}}({coordinateSystem:r,coordinateOrigin:i,coordinateZoom:s,viewport:t}),f=u.projectionCenter,h=u.viewProjectionMatrix,p=u.cameraPos,b=u.shaderCoordinateSystem,_=u.shaderCoordinateOrigin;g(h,"Viewport missing modelViewProjectionMatrix");var x=t.getDistanceScales(),S=[t.width*n,t.height*n],w={project_uCoordinateSystem:b,project_uCenter:f,project_uWrapLongitude:o,project_uAntimeridian:(t.longitude||0)-180,project_uViewportSize:S,project_uDevicePixelRatio:n,project_uFocalDistance:t.focalDistance||1,project_uPixelsPerMeter:x.pixelsPerMeter,project_uPixelsPerDegree:x.pixelsPerDegree,project_uPixelsPerUnit:x.pixelsPerMeter,project_uPixelsPerUnit2:y,project_uScale:t.scale,project_uViewProjectionMatrix:h,project_uCameraPosition:p},C=t.getDistanceScales(_);switch(b){case a.METER_OFFSETS:w.project_uPixelsPerUnit=C.pixelsPerMeter,w.project_uPixelsPerUnit2=C.pixelsPerMeter2;break;case a.LNGLAT_AUTO_OFFSET:w.project_coordinate_origin=_;case a.LNGLAT_OFFSETS:w.project_uPixelsPerUnit=C.pixelsPerDegree,w.project_uPixelsPerUnit2=C.pixelsPerDegree2}return w}));function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewport,n=e.devicePixelRatio,r=void 0===n?1:n,o=e.modelMatrix,a=void 0===o?null:o,s=e.coordinateSystem,u=void 0===s?d.LNGLAT:s,l=e.coordinateOrigin,c=void 0===l?_:l,f=e.wrapLongitude,h=void 0!==f&&f,p=e.projectionMode,m=e.positionOrigin;return g(t),void 0!==p&&i.removed("projectionMode","coordinateSystem")(),void 0!==m&&i.removed("positionOrigin","coordinateOrigin")(),Object.assign({project_uModelMatrix:a||b},x({viewport:t,devicePixelRatio:r,coordinateSystem:u,coordinateOrigin:c,wrapLongitude:h}))}var w={};var C={name:"project",dependencies:[o.fp32],vs:u,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e.viewport?S(e):{}},deprecations:[{type:"uniform vec3",old:"selectedPickingColor",new:"luma.gl's picking module"},{type:"uniform float",old:"renderPickingBuffer",new:"luma.gl's picking module"},{type:"uniform float",old:"pickingEnabled",new:"luma.gl's picking module"},{type:"uniform float",old:"projectionMode",new:"project_uCoordinateSystem"},{type:"uniform vec4",old:"projectionCenter",new:"project_uCenter"},{type:"uniform vec2",old:"projectionOrigin"},{type:"uniform mat4",old:"modelMatrix",new:"project_uModelMatrix"},{type:"uniform mat4",old:"viewMatrix"},{type:"uniform mat4",old:"projectionMatrix",new:"project_uViewProjectionMatrix"},{type:"uniform vec3",old:"projectionPixelsPerUnit",new:"project_uPixelsPerUnit"},{type:"uniform float",old:"projectionScale",new:"project_uScale"},{type:"uniform vec2",old:"viewportSize",new:"project_uViewportSize"},{type:"uniform float",old:"devicePixelRatio",new:"project_uDevicePixelRatio"},{type:"uniform vec3",old:"cameraPos",new:"project_uCameraPosition"},{type:"function",old:"scale",new:"project_scale"},{type:"function",old:"preproject",new:"project_position"},{type:"function",old:"project",new:"project_to_clipspace"}]},k={name:"project32",dependencies:[C],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset, out vec4 worldPosition\n) {\n  vec3 projectedPosition = project_position(position, position64xyLow);\n  worldPosition = vec4(projectedPosition + offset, 1.0);\n  return project_to_clipspace(worldPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset\n) {\n  vec4 worldPosition;\n  return project_position_to_clipspace(position, position64xyLow, offset, worldPosition);\n}\n"},E=o.fp64.fp64ify,O=o.fp64.fp64ifyMatrix4,T={name:"project64",dependencies:[C,o.fp64],vs:"\nconst vec2 WORLD_SCALE_FP64 = vec2(81.4873275756836, 0.0000032873668232014097);\n\nuniform vec2 project64_uScale;\nuniform vec2 project_uViewProjectionMatrixFP64[16];\n\n// longitude: lnglat_fp64.xy; latitude: lnglat_fp64.zw\nvoid mercatorProject_fp64(vec4 lnglat_fp64, out vec2 out_val[2]) {\n\n#if defined(NVIDIA_FP64_WORKAROUND)\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64 * ONE);\n#else\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64);\n#endif\n  out_val[1] = sub_fp64(PI_FP64,\n    log_fp64(tan_fp64(sum_fp64(PI_4_FP64, radians_fp64(lnglat_fp64.zw) / 2.0))));\n  return;\n}\n\nvoid project_position_fp64(vec4 position_fp64, out vec2 out_val[2]) {\n  vec2 pos_fp64[2];\n  mercatorProject_fp64(position_fp64, pos_fp64);\n  vec2 x_fp64 = mul_fp64(pos_fp64[0], project64_uScale);\n  vec2 y_fp64 = mul_fp64(pos_fp64[1], project64_uScale);\n  out_val[0] = mul_fp64(x_fp64, WORLD_SCALE_FP64);\n  out_val[1] = mul_fp64(y_fp64, WORLD_SCALE_FP64);\n\n  return;\n}\n\nvoid project_position_fp64(vec2 position, vec2 position64xyLow, out vec2 out_val[2]) {\n  vec4 position64xy = vec4(\n    position.x, position64xyLow.x,\n    position.y, position64xyLow.y);\n\n  project_position_fp64(position64xy, out_val);\n}\n\nvec4 project_to_clipspace_fp64(vec2 vertex_pos_modelspace[4]) {\n  vec2 vertex_pos_clipspace[4];\n  mat4_vec4_mul_fp64(project_uViewProjectionMatrixFP64, vertex_pos_modelspace,\n    vertex_pos_clipspace);\n  return vec4(\n    vertex_pos_clipspace[0].x,\n    vertex_pos_clipspace[1].x,\n    vertex_pos_clipspace[2].x,\n    vertex_pos_clipspace[3].x\n    );\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset, out vec4 worldPosition\n) {\n  // This is the local offset to the instance position\n  vec2 offset64[4];\n  vec4_fp64(vec4(offset, 0.0), offset64);\n\n  float z = project_scale(position.z);\n\n  // Apply web mercator projection (depends on coordinate system imn use)\n  vec2 projectedPosition64xy[2];\n  project_position_fp64(position.xy, position64xyLow, projectedPosition64xy);\n\n  vec2 worldPosition64[4];\n  worldPosition64[0] = sum_fp64(offset64[0], projectedPosition64xy[0]);\n  worldPosition64[1] = sum_fp64(offset64[1], projectedPosition64xy[1]);\n  worldPosition64[2] = sum_fp64(offset64[2], vec2(z, 0.0));\n  worldPosition64[3] = vec2(1.0, 0.0);\n\n  worldPosition = vec4(projectedPosition64xy[0].x, projectedPosition64xy[1].x, z, 1.0);\n\n  return project_to_clipspace_fp64(worldPosition64);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec2 position64xyLow, vec3 offset\n) {\n  vec4 worldPosition;\n  return project_position_to_clipspace(\n    position, position64xyLow, offset, worldPosition\n  );\n}\n",getUniforms:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.project_uViewProjectionMatrix,n=e.project_uScale;if(t&&n)return P({project_uViewProjectionMatrix:t,project_uScale:n});return{}},deprecations:[{type:"uniform vec2",old:"projectionFP64[16]",new:"project_uViewProjectionMatrixFP64"},{type:"uniform vec2",old:"projectionScaleFP64",new:"project64_uScale"}]},P=p((function(e){var t=e.project_uViewProjectionMatrix,n=e.project_uScale,r=O(t),i=E(n);return{project_uViewProjectionMatrixFP64:r,project64_uViewProjectionMatrix:r,project64_uScale:i}}));var I=n(56),D=n(22);function A(e,t){var n=c.c([],t,e);return c.b(n,n,1/n[3]),n}function M(e,t){var n=e%t;return n<0?t+n:n}function j(e,t,n){return n*t+(1-n)*e}var R=n(40);function F(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var N=Math.PI,L=N/4,B=N/180,z=180/N;function U(e){return Math.pow(2,e)}function H(e){return Math.log2(e)}function V(e,t){var n=Object(D.a)(e,2),r=n[0],i=n[1];F(Number.isFinite(r)&&Number.isFinite(t)),F(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var o=i*B;return[(t*=512)*(r*B+N)/(2*N),t*(N-Math.log(Math.tan(L+.5*o)))/(2*N)]}function W(e,t){var n=Object(D.a)(e,2),r=n[0],i=n[1],o=r/(t*=512)*(2*N)-N,a=2*(Math.atan(Math.exp(N-i/t*(2*N)))-L);return[o*z,a*z]}function G(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,o=e.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:U(r),F(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=512*i,l=Math.cos(t*B),c=u/360,d=c/l,f=u/4003e4/l;if(s.pixelsPerMeter=[f,-f,f],s.metersPerPixel=[1/f,-1/f,1/f],s.pixelsPerDegree=[c,-d,f],s.degreesPerPixel=[1/c,-1/d,1/f],a){var h=B*Math.tan(t*B)/l,p=c*h/2,g=u/4003e4*h,m=g/d*f;s.pixelsPerDegree2=[0,-p,g],s.pixelsPerMeter2=[m,0,m]}return s}function K(e,t){var n=Object(D.a)(e,3),r=n[0],i=n[1],o=n[2],a=Object(D.a)(t,3),s=a[0],u=a[1],l=a[2],c=G({longitude:r,latitude:i,scale:1,highPrecision:!0}),d=c.pixelsPerMeter,f=c.pixelsPerMeter2,h=V(e,1);h[0]+=s*(d[0]+f[0]*u),h[1]+=u*(d[1]+f[1]*u);var p=W(h,1),g=(o||0)+(l||0);return Number.isFinite(o)||Number.isFinite(l)?[p[0],p[1],g]:p}function q(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.center,a=void 0===o?null:o,s=e.flipY,u=void 0!==s&&s,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return l.o(c,c,[0,0,-i]),l.n(c,c,[1,1,1/t]),l.k(c,c,-n*B),l.m(c,c,r*B),u&&l.n(c,c,[1,-1,1]),a&&l.o(c,c,I.d([],a)),c}function Y(e){var t=e.width,n=e.height,r=e.altitude,i=void 0===r?1.5:r,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,u=void 0===s?1:s,l=e.farZMultiplier,c=void 0===l?1:l,d=a*B,f=Math.atan(.5/i),h=Math.sin(f)*i/Math.sin(Math.PI/2-d-f),p=Math.cos(Math.PI/2-d)*h+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:u,far:p*c}}function X(e){var t=e.width,n=e.height,r=e.pitch,i=Y({width:t,height:n,altitude:e.altitude,pitch:r,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),o=i.fov,a=i.aspect,s=i.near,u=i.far;return l.i([],o,a,s,u)}function Z(e,t){var n=Object(D.a)(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return F(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),A(t,[r,i,a,1])}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(D.a)(e,3),i=r[0],o=r[1],a=r[2];if(F(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=A(t,[i,o,a,1]);return s}var u=A(t,[i,o,0,1]),l=A(t,[i,o,1,1]),c=u[2],d=l[2],f=c===d?0:((n||0)-c)/(d-c);return R.d([],u,l,f)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=$(e,3),i=r[0],o=r[1],a=r[2],s=void 0===a?0:a,u=t.projectFlat(e),l=$(u,2),c=l[0],d=l[1],f=n?G({longitude:i,latitude:o,scale:t.scale}):t.getDistanceScales(),h=s*f.pixelsPerMeter[2];return[c,d,h]}function ee(e,t){var n=t.viewport,r=t.modelMatrix,i=t.coordinateSystem,o=t.coordinateOrigin,a=t.offsetMode,s=$(e,3),u=s[0],l=s[1],f=s[2];if(r){var h=$(c.c([],[u,l,f,1],r),3);u=h[0],l=h[1],f=h[2]}switch(i){case d.LNGLAT:case d.LNGLAT_DEPRECATED:return J([u,l,f],n,a);case d.LNGLAT_OFFSETS:return J([u+o[0],l+o[1],f+(o[2]||0)],n,a);case d.METER_OFFSETS:return J(K(o,[u,l,f]),n,a);case d.IDENTITY:default:return[u,l,f]}}function te(e,t){var n=function(e){var t=Object.assign({},e),n=e.viewport,r=e.coordinateSystem,i=e.coordinateOrigin,o=e.fromCoordinateSystem,a=e.fromCoordinateOrigin;return void 0===o&&(t.fromCoordinateSystem=r),void 0===a&&(t.fromCoordinateOrigin=i),r===d.LNGLAT&&n.zoom>=12&&(t.coordinateSystem=d.LNGLAT_OFFSETS,t.coordinateOrigin=[Math.fround(n.longitude),Math.fround(n.latitude)]),t}(t),r=n.viewport,i=n.coordinateSystem,o=n.coordinateOrigin,a=n.modelMatrix,s=n.fromCoordinateSystem,u=n.fromCoordinateOrigin;switch(i){case d.LNGLAT_OFFSETS:case d.METER_OFFSETS:var l=ee(e,{viewport:r,modelMatrix:a,coordinateSystem:s,coordinateOrigin:u,offsetMode:!0}),c=J(o,r,!0);return I.h(l,l,c),l;case d.LNGLAT:case d.LNGLAT_DEPRECATED:case d.IDENTITY:default:return ee(e,{viewport:r,modelMatrix:a,coordinateSystem:s,coordinateOrigin:u,offsetMode:!1})}}var ne={name:"lighting",dependencies:[C],vs:"#define MAX_NUM_OF_LIGHTS 5\n\n// TODO these should be using lighting_ prefix\nuniform vec3 lighting_lightPositions[MAX_NUM_OF_LIGHTS];\nuniform vec2 lighting_lightStrengths[MAX_NUM_OF_LIGHTS];\nuniform float lighting_ambientRatio;\nuniform float lighting_diffuseRatio;\nuniform float lighting_specularRatio;\nuniform int lighting_numberOfLights;\n\nfloat lighting_getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  float lightWeight = 0.0;\n\n  vec3 normals_worldspace_vec3 = normals_worldspace.xyz;\n\n  vec3 camera_pos_worldspace = project_uCameraPosition;\n  vec3 view_direction = normalize(camera_pos_worldspace - position_worldspace_vec3);\n\n  for (int i = 0; i < MAX_NUM_OF_LIGHTS; i++) {\n    if (i >= lighting_numberOfLights) {\n      break;\n    }\n    vec3 light_position_worldspace = lighting_lightPositions[i];\n    vec3 light_direction = normalize(light_position_worldspace - position_worldspace_vec3);\n\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normals_worldspace_vec3);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normals_worldspace_vec3, halfway_direction), 0.0);\n      specular = pow(specular_angle, 32.0);\n    }\n    lambertian = max(lambertian, 0.0);\n    lightWeight += (lighting_ambientRatio + lambertian * lighting_diffuseRatio + specular * lighting_specularRatio) *\n      lighting_lightStrengths[i].x;\n  }\n\n  return lightWeight;\n}\n\n// DEPRECATED - Backwards compatibility\n\nfloat getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  return lighting_getLightWeight(position_worldspace_vec3, normals_worldspace);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;if(!e.lightSettings)return{};var t=e.coordinateSystem,n=e.coordinateOrigin,r=e.lightSettings,i=r.numberOfLights,o=void 0===i?1:i,a=r.lightsPosition,s=void 0===a?ie:a,u=r.lightsStrength,l=void 0===u?oe:u,c=r.coordinateSystem,d=r.coordinateOrigin,f=r.modelMatrix,h=void 0===f?null:f,p=r.ambientRatio,g=void 0===p?.4:p,m=r.diffuseRatio,v=void 0===m?.6:m,b=r.specularRatio,y=void 0===b?.8:b,_=ae({lightsPosition:s,numberOfLights:o,viewport:e.viewport,modelMatrix:h,coordinateSystem:t,coordinateOrigin:n,fromCoordinateSystem:c,fromCoordinateOrigin:d});return{lighting_lightPositions:_,lighting_lightStrengths:l,lighting_ambientRatio:g,lighting_diffuseRatio:v,lighting_specularRatio:y,lighting_numberOfLights:o}},deprecations:[{type:"function",old:"getLightWeight",new:"lighting_getLightWeight",deprecated:!0}]},re={},ie=[-122.45,37.75,8e3],oe=[2,0],ae=p((function(e){for(var t=e.lightsPosition,n=e.numberOfLights,r=e.viewport,i=e.modelMatrix,o=e.coordinateSystem,a=e.coordinateOrigin,s=e.fromCoordinateSystem,u=e.fromCoordinateOrigin,l={viewport:r,modelMatrix:i,coordinateSystem:o,coordinateOrigin:a,fromCoordinateSystem:s,fromCoordinateOrigin:u},c=[],d=0;d<n;d++){var f=te(t.slice(3*d,3*d+3),l);c[3*d]=f[0],c[3*d+1]=f[1],c[3*d+2]=f[2]}return c}));Object(o.registerShaderModules)([o.fp32,o.fp64,C,k,T,ne,o.picking]),Object(o.setDefaultShaderModules)([C]);var se=n(35),ue=n.n(se),le=n(11),ce=n.n(le);function de(e){return(de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return!t||"object"!==de(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve={isExternalBuffer:!1,needsUpdate:!0,needsRedraw:!1,allocedInstances:-1},be=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fe(this,t),n=pe(this,ge(t).call(this,e,r));var i=r.transition,o=void 0!==i&&i,a=r.noAlloc,s=void 0!==a&&a,u=r.update,l=void 0===u?null:u,c=r.accessor,d=void 0===c?null:c,f=r.bufferLayout,h=void 0===f?null:f,p=r.defaultValue,g=void 0===p?[0,0,0,0]:p;return g=Array.isArray(g)?g:[g],Object.assign(n.userData,ve,r,{transition:o,noAlloc:s,update:l,accessor:d,defaultValue:g,bufferLayout:h}),Object.seal(n.userData),n._validateAttributeUpdaters(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,e),n=t,(r=[{key:"needsUpdate",value:function(){return this.userData.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,n=void 0!==t&&t,r=this.userData.needsRedraw;return this.userData.needsRedraw=this.userData.needsRedraw&&!n,r}},{key:"getInstanceCount",value:function(){return null!==this.value?this.value.length/this.size:0}},{key:"getUpdateTriggers",value:function(){var e=this.userData.accessor;return[this.id].concat(e||[])}},{key:"getAccessor",value:function(){return this.userData.accessor}},{key:"supportsTransition",value:function(){return this.userData.transition}},{key:"getTransitionSetting",value:function(e){var t=this.userData,n=t.transition,r=t.accessor;if(!n)return null;var i=Array.isArray(r)?e[r.find((function(t){return e[t]}))]:e[r];return Number.isFinite(i)&&(i={duration:i}),i&&i.duration>0?Object.assign({},n,i):null}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.userData.needsUpdate=this.userData.needsUpdate||e}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.userData.needsRedraw=this.userData.needsRedraw||e}},{key:"allocate",value:function(e){var t=this.userData;if(t.isExternalBuffer||t.noAlloc)return!1;var n=this.getInstanceCount();if((0===n||n<e)&&(t.update||t.accessor)){g(Number.isFinite(e));var r=Math.max(e,1),i=ye(this.type||ce.a.FLOAT);return this.constant=!1,this.value=new i(this.size*r),t.needsUpdate=!0,t.allocedInstances=r,!0}return!1}},{key:"updateBuffer",value:function(e){var t=e.numInstances,n=e.data,r=e.props,i=e.context;if(!this.needsUpdate())return!1;var o=this.userData,a=o.update,s=o.accessor,u=!0;return a?(a.call(i,this,{data:n,props:r,numInstances:t}),this.update({value:this.value,constant:this.constant}),this._checkAttributeArray()):s?(this._updateBufferViaStandardAccessor(n,r),this._checkAttributeArray()):u=!1,o.needsUpdate=!1,o.needsRedraw=!0,u}},{key:"setGenericValue",value:function(e){var t=this.userData;if(void 0===e||"function"===typeof e)return t.isExternalBuffer=!1,!1;e=this._normalizeValue(e);var n=!this.constant||!this._areValuesEqual(e,this.value);return n&&this.update({constant:!0,value:e}),t.needsRedraw=t.needsUpdate||n,t.needsUpdate=!1,t.isExternalBuffer=!0,!0}},{key:"setExternalBuffer",value:function(e,t){var n=this.userData;if(e){if(n.isExternalBuffer=!0,n.needsUpdate=!1,e instanceof o.Buffer)this.externalBuffer!==e&&(this.update({constant:!1,buffer:e}),n.needsRedraw=!0);else if(this.value!==e){if(!ArrayBuffer.isView(e))throw new Error("Attribute prop must be typed array");if(n.auto&&e.length<=t*this.size)throw new Error("Attribute prop array must match length and size");var r=ye(this.type||ce.a.FLOAT);e instanceof r?this.update({constant:!1,value:e}):(i.warn("Attribute prop ".concat(this.id," is casted to ").concat(r.name))(),this.update({constant:!1,value:new r(e)})),this.value=e,n.needsRedraw=!0}return!0}return n.isExternalBuffer=!1,!1}},{key:"_normalizeValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.userData.defaultValue;if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return t[n]=Number.isFinite(e)?e:r[0],t;switch(this.size){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:r[0]}return t}},{key:"_areValuesEqual",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},{key:"_updateBufferViaStandardAccessor",value:function(e,t){var n=this.userData.accessor,r=this.value,i=this.size,o=t[n];g("function"===typeof o,'accessor "'.concat(n,'" is not a function'));var a=0,s=!0,u=!1,l=void 0;try{for(var c,d=e[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=o(c.value);this._normalizeValue(f,r,a),a+=i}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}this.update({value:r})}},{key:"_validateAttributeUpdaters",value:function(){var e=this.userData;if(!e.noAlloc&&"function"!==typeof e.update&&"string"!==typeof e.accessor)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value;if(e&&e.length>=4&&!(Number.isFinite(e[0])&&Number.isFinite(e[1])&&Number.isFinite(e[2])&&Number.isFinite(e[3])))throw new Error("Illegal attribute generated for ".concat(this.id))}},{key:"bufferLayout",get:function(){return this.userData.bufferLayout},set:function(e){this.userData.bufferLayout=e}}])&&he(n.prototype,r),a&&he(n,a),t}(o._Attribute);function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clamped,r=void 0===n||n;switch(e){case ce.a.FLOAT:return Float32Array;case ce.a.UNSIGNED_SHORT:case ce.a.UNSIGNED_SHORT_5_6_5:case ce.a.UNSIGNED_SHORT_4_4_4_4:case ce.a.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case ce.a.UNSIGNED_INT:return Uint32Array;case ce.a.UNSIGNED_BYTE:return r?Uint8ClampedArray:Uint8Array;case ce.a.BYTE:return Int8Array;case ce.a.SHORT:return Int16Array;case ce.a.INT:return Int32Array;default:throw new Error("Failed to deduce type from array")}}function _e(e){var t=e.source,n=e.target,r=e.start,i=void 0===r?0:r,o=e.end,a=e.getData;o=o||n.length;var s=t.length,u=o-i;if(s>u)n.set(t.subarray(0,u),i);else if(n.set(t,i),a)for(var l=s;l<u;)for(var c=a(l,t),d=0;d<c.length;d++)n[i+l]=c[d],l++}var xe={1:"float",2:"vec2",3:"vec3",4:"vec4"};function Se(e){var t={},n={};for(var r in e){var i=e[r],o=i.fromState,a=i.toState,s=i.buffer;t["".concat(r,"From")]=o,t["".concat(r,"To")]=a,n["".concat(r)]=s}return{sourceBuffers:t,feedbackBuffers:n}}function we(e){var t=e.fromState,n=e.toState,r=e.fromLength,i=e.toLength,a=e.fromBufferLayout,s=e.toBufferLayout,u=e.getData,l=void 0===u?function(e){return e}:u;if((a&&s||!(r>=i))&&t instanceof o.Buffer){var c=new Float32Array(i),d=t.getData({}),f=n.value,h=n.buffer,p=n.size,g=n.constant,m=f||h.getData({}),v=g?function(e,t){return l(f,t)}:function(e,t){return l(m.subarray(e,e+p),t)};!function(e){var t=e.source,n=e.target,r=e.size,i=e.getData,o=e.sourceLayout,a=e.targetLayout;if(!Array.isArray(a))return _e({source:t,target:n,getData:i}),n;for(var s=0,u=0,l=i&&function(e,t){return i(e+u,t)},c=Math.min(o.length,a.length),d=0;d<c;d++){var f=o[d]*r,h=a[d]*r;_e({source:t.subarray(s,s+f),target:n,start:u,end:u+h,getData:l}),s+=f,u+=h}u<n.length&&_e({source:[],target:n,start:u,getData:l})}({source:d,target:c,sourceLayout:a,targetLayout:s,size:n.size,getData:v}),t.setData({data:c})}}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ke="none",Ee="pending",Oe="in_progress",Te="ended";function Pe(){}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._startTime=null,this._state=ke,this.duration=1,this.easing=function(e){return e},this.onStart=Pe,this.onUpdate=Pe,this.onInterrupt=Pe,this.onEnd=Pe,Object.assign(this,t)}var t,n,r;return t=e,(n=[{key:"start",value:function(e){this.inProgress&&this.onInterrupt(this),Object.assign(this,e),this._setState(Ee)}},{key:"cancel",value:function(){this.inProgress&&(this.onInterrupt(this),this._setState(ke))}},{key:"update",value:function(e){if(this.state===Ee&&(this._startTime=e,this._setState(Oe)),this.state===Oe){var t=!1,n=(e-this._startTime)/this.duration;return n>=1&&(n=1,t=!0),this.time=this.easing(n),this.onUpdate(this),t&&this._setState(Te),!0}return!1}},{key:"_setState",value:function(e){if(this._state!==e)switch(this._state=e,e){case Ee:this.onStart(this);break;case Te:this.onEnd(this)}}},{key:"state",get:function(){return this._state}},{key:"inProgress",get:function(){return this._state===Ee||this._state===Oe}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}();function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae=function(){},Me={duration:0,easing:function(e){return e},onStart:Ae,onEnd:Ae,onInterrupt:Ae},je=function(){function e(t,n){var r=n.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.gl=t,this.attributeTransitions={},this.needsRedraw=!1,this.transform=null,this.numInstances=0,o.Transform.isSupported(t)?this.isSupported=!0:t&&i.warn("WebGL2 not supported by this browser. Transition animation is disabled.")()}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){for(var e in this.transform&&this.transform.delete(),this.attributeTransitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,n=e.transitions,r=void 0===n?{}:n,i=e.numInstances;if(this.opts=r,this.numInstances=i||1,this.isSupported){var o=this.attributeTransitions,a={};for(var s in t)this._updateAttribute(s,t[s])&&(a[s]=o[s]);for(var u in o){var l=t[u];l&&l.supportsTransition()||this._removeTransition(u)}if(this.transform){if(this.transform){var c=Se(a),d=c.sourceBuffers,f=c.feedbackBuffers;this.transform.update({elementCount:this.numInstances,sourceBuffers:d,feedbackBuffers:f})}}else this._createModel()}}},{key:"hasAttribute",value:function(e){return e in this.attributeTransitions}},{key:"getAttributes",value:function(){var e={};for(var t in this.attributeTransitions){var n=this.attributeTransitions[t];n.buffer&&(e[t]=n.attributeInTransition)}return e}},{key:"setCurrentTime",value:function(e){if(!this.transform||0===this.numInstances)return!1;var t={},n=this.needsRedraw;for(var r in this.needsRedraw=!1,this.attributeTransitions){var i=this.attributeTransitions[r];i.update(e)&&(t["".concat(r,"Time")]=i.time,n=!0)}return n&&this.transform.run({uniforms:t}),n}},{key:"_createTransition",value:function(e,t){var n=this.attributeTransitions[e];return n?null:(n=new Ie({name:e,attribute:t,attributeInTransition:new be(this.gl,t),bufferLayout:t.bufferLayout}),this.attributeTransitions[e]=n,this._invalidateModel(),n)}},{key:"_removeTransition",value:function(e){var t=this.attributeTransitions[e];t&&(t.buffer&&t.buffer.delete(),t._swapBuffer&&t._swapBuffer.delete(),delete this.attributeTransitions[e],this._invalidateModel())}},{key:"_updateAttribute",value:function(e,t){var n=t.getTransitionSetting(this.opts);if(n){var r,i=this.attributeTransitions[e];if(i?r=t.needsRedraw():(i=this._createTransition(e,t),r=!0),r)return this._triggerTransition(i,n),!0}return!1}},{key:"_invalidateModel",value:function(){this.transform&&(this.transform.delete(),this.transform=null)}},{key:"_createModel",value:function(){0!==Object.keys(this.attributeTransitions).length&&(this.transform=new o.Transform(this.gl,Object.assign({elementCount:this.numInstances},Se(this.attributeTransitions),function(e){var t=[],n=[],r=[],i=[],o=[];for(var a in e){var s=e[a],u=xe[s.attribute.size];u&&(s.bufferIndex=t.length,t.push(a),n.push("attribute ".concat(u," ").concat(a,"From;")),n.push("attribute ".concat(u," ").concat(a,"To;")),r.push("uniform float ".concat(a,"Time;")),i.push("varying ".concat(u," ").concat(a,";")),o.push("".concat(a," = mix(").concat(a,"From, ").concat(a,"To,\n        ").concat(a,"Time);")))}return{vs:"\n#define SHADER_NAME feedback-vertex-shader\n".concat(n.join("\n"),"\n").concat(r.join("\n"),"\n").concat(i.join("\n"),"\n\nvoid main(void) {\n  ").concat(o.join("\n"),"\n  gl_Position = vec4(0.0);\n}\n"),fs:"#define SHADER_NAME feedback-fragment-shader\n\nprecision highp float;\n\n".concat(i.join("\n"),"\n\nvoid main(void) {\n  gl_FragColor = vec4(0.0);\n}\n"),varyings:t}}(this.attributeTransitions))))}},{key:"_getNextTransitionStates",value:function(e,t){var n,r=e.attribute,i=r.size;n=r.constant?{constant:!0,value:r.value,size:i}:{constant:!1,buffer:r.getBuffer(),size:i,value:r.externalBuffer?null:r.value};var a=e.buffer||n,s=this.numInstances*i,u=a instanceof o.Buffer&&a.getElementCount()||s,l=e._swapBuffer;return e._swapBuffer=e.buffer,l?l.getElementCount()<s&&l.setData({data:new Float32Array(s)}):l=new o.Buffer(this.gl,{data:new Float32Array(s),usage:ce.a.DYNAMIC_COPY}),e.attributeInTransition.update({buffer:l}),we({fromState:a,toState:n,fromLength:u,toLength:s,fromBufferLayout:e.bufferLayout,toBufferLayout:r.bufferLayout,getData:t.enter}),e.bufferLayout=r.bufferLayout,{fromState:a,toState:n,buffer:l}}},{key:"_triggerTransition",value:function(e,t){g(t&&t.duration>0),this.needsRedraw=!0;var n=Object.assign({},Me,t);e.start(Object.assign({},this._getNextTransitionStates(e,t),n))}}])&&De(t.prototype,n),r&&De(t,r),e}();function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),e}function Le(){}var Be={savedMessages:null,timeStart:null,onLog:function(e){var t=e.level,n=e.message;i.log(t,n)()},onUpdateStart:function(e){e.level,e.numInstances;Be.savedMessages=[],Be.timeStart=new Date},onUpdate:function(e){e.level;var t=e.message;Be.savedMessages&&Be.savedMessages.push(t)},onUpdateEnd:function(e){var t=e.level,n=e.id,r=e.numInstances,o=Math.round(new Date-Be.timeStart),a="".concat(o,"ms");i.group(t,"Updated attributes for ".concat(r," instances in ").concat(n," in ").concat(a),{collapsed:!0})();var s=!0,u=!1,l=void 0;try{for(var c,d=Be.savedMessages[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;i.log(t,f)()}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}i.groupEnd(t,"Updated attributes for ".concat(r," instances in ").concat(n," in ").concat(a))(),Be.savedMessages=null}},ze=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,i=void 0===r?"attribute-manager":r,o=n.stats;Re(this,e),this.id=i,this.gl=t,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=o,this.attributeTransitionManager=new je(t,{id:"".concat(i,"-transitions")}),Object.seal(this)}return Ne(e,null,[{key:"setDefaultLogFunctions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onLog,n=e.onUpdateStart,r=e.onUpdate,i=e.onUpdateEnd;void 0!==t&&(Be.onLog=t||Le),void 0!==n&&(Be.onUpdateStart=n||Le),void 0!==r&&(Be.onUpdate=r||Le),void 0!==i&&(Be.onUpdateEnd=i||Le)}}]),Ne(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0!==t&&t,r=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!n,r&&this.id}},{key:"setNeedsRedraw",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=!0,this}},{key:"add",value:function(e,t){this._add(e,t)}},{key:"addInstanced",value:function(e,t){this._add(e,t,{instanced:1})}},{key:"remove",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];void 0!==this.attributes[n]&&(this.attributes[n].delete(),delete this.attributes[n])}}},{key:"invalidate",value:function(e){var t=this._invalidateTrigger(e);Be.onLog({level:3,message:"invalidated attributes ".concat(t," (").concat(e,") for ").concat(this.id)})}},{key:"invalidateAll",value:function(){for(var e in this.attributes)this.attributes[e].setNeedsUpdate();Be.onLog({level:3,message:"invalidated all attributes for ".concat(this.id)})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.numInstances,r=e.transitions,i=e.props,o=void 0===i?{}:i,a=e.buffers,s=void 0===a?{}:a,u=e.context,l=void 0===u?{}:u,c=!1;for(var d in Be.onUpdateStart({level:2,id:this.id,numInstances:n}),this.stats&&this.stats.timeStart("attribute updates",this.id),this.attributes){var f=this.attributes[d];f.setExternalBuffer(s[d],this.numInstances)||f.setGenericValue(o[f.getAccessor()])||f.needsUpdate()&&(c=!0,this._updateAttribute({attribute:f,numInstances:n,data:t,props:o,context:l})),this.needsRedraw|=f.needsRedraw()}c&&(this.stats&&this.stats.timeEnd("attribute updates",this.id),Be.onUpdateEnd({level:2,id:this.id,numInstances:n})),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:r})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.setCurrentTime(Date.now());return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(e){e.clearChangedFlags;var t=this.attributes,n=this.attributeTransitionManager,r=Object.assign({},n.getAttributes());for(var i in t){var o=t[i];o.needsRedraw({clearChangedFlags:!0})&&(n.hasAttribute(i)||(r[i]=o))}return r}},{key:"getAccessors",value:function(){return this.updateTriggers}},{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&i.warn("AttributeManager.add({updaters}) - updater map no longer supported")();var r={};for(var o in e){var a=e[o];r[o]=new be(this.gl,Object.assign({},a,{id:o,constant:a.constant||!1,isIndexed:a.isIndexed||a.elements,size:a.elements?1:a.size,value:a.value||null,instanced:a.instanced||n.instanced}))}Object.assign(this.attributes,r),this._mapUpdateTriggersToAttributes()}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){e.attributes[n].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}))};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e){var t=this.attributes,n=this.updateTriggers[e];if(n)n.forEach((function(e){var n=t[e];n&&n.setNeedsUpdate()}));else{var r="invalidating non-existent trigger ".concat(e," for ").concat(this.id,"\n");r+="Valid triggers: ".concat(Object.keys(t).join(", ")),i.warn(r,n)()}return n}},{key:"_updateAttribute",value:function(e){var t=e.attribute,n=e.numInstances,r=e.data,i=e.props,o=e.context;t.allocate(n)&&Be.onUpdate({level:3,message:"".concat(t.id," allocated ").concat(n),id:this.id});var a=Date.now();if(t.updateBuffer({numInstances:n,data:r,props:i,context:o})){this.needsRedraw=!0;var s=Math.round(Date.now()-a);Be.onUpdate({level:3,message:"".concat(t.id," updated ").concat(n," in ").concat(s,"ms")})}}}]),e}();function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var He=new Map,Ve=function(e){if(ue.a.isReady()&&e.id){var t=He.get(e.id);t&&t.forEach((function(t,n){!function e(t,n,r){t&&(n.length>1?e(t[n[0]],n.slice(1),r):t[n[0]]=r)}(e,n,t),"data"===n[0]&&(e.data=Ue(e.data))}))}},We=function(e){ue.a.isReady()&&ue.a.listenFor("deck.gl",e)},Ge=function(e){ue.a.isReady()&&ue.a.listenFor("init",e)},Ke=function(e){if(ue.a.isReady()&&e){var t=[e.constructor.layerName];ue.a.listItem("deck.gl",e.id,{badges:t,links:e.state&&e.state.model?["luma.gl:".concat(e.state.model.id)]:void 0,parent:e.parent?e.parent.id:void 0})}},qe=function(e){if(ue.a.isReady()&&!ue.a.throttle("deck.gl:".concat(e.id),1e3)){var t=function(e){var t=[{path:"objects.props",data:e.props}],n=[e.constructor.layerName];if(e.state){if(e.getAttributeManager()){var r=e.getAttributeManager().getAttributes();t.push({path:"objects.attributes",data:r}),n.push(e.getAttributeManager().stats.getTimeString())}if(e.state.model){e.state.model.setProps({timerQueryEnabled:!0});var i=e.state.model.stats.lastFrameTime;i&&n.push("".concat((1e3*i).toFixed(0),"\u03bcs"))}}return t.push({path:"badges",data:n}),t}(e);ue.a.multiUpdate("deck.gl",e.id,t)}};function Ye(e){return(Ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){var n=Ze({newProps:e,oldProps:t,propTypes:$e(e),ignoreProps:{data:null,updateTriggers:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=e.dataComparator;if(n){if(!n(e.data,t.data))return"Data comparator detected a change"}else if(e.data!==t.data)return"A new data container was supplied";return null}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return"oldProps is null, initial diff";if("all"in e.updateTriggers){if(Qe(e,t,"all"))return{all:!0}}var n={},r=!1;for(var i in e.updateTriggers){if("all"!==i)Qe(e,t,i)&&(n[i]=!0,r=n)}return r}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i}}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,u=void 0===s?"props":s;if(g(void 0!==n&&void 0!==t,"compareProps args"),n===t)return null;if("object"!==Ye(t)||null===t)return"".concat(u," changed shallowly");if("object"!==Ye(n)||null===n)return"".concat(u," changed shallowly");for(var l in n)if(!(l in i)){if(!(l in t))return"".concat(u,".").concat(l," dropped");var c=t[l],d=n[l],f=a[l],h=f&&f.equal;if(h&&!h(c,d,f))return"".concat(u,".").concat(l," changed deeply");if(!h&&(h=c&&d&&c.equals)&&!h.call(c,d))return"".concat(u,".").concat(l," changed deeply");if(!h&&d!==c)return"".concat(u,".").concat(l," changed shallowly")}for(var p in t)if(!(p in i)&&!(p in n))return"".concat(u,".").concat(p," added: undefined -> ").concat(t[p]);return null}function Qe(e,t,n){var r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;var i=t.updateTriggers[n];return Ze({oldProps:i=void 0===i||null===i?{}:i,newProps:r,triggerName:n})}function $e(e){var t=e._component,n=t&&t.constructor;return n?n._propTypes:{}}function Je(e){return(Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e){if(null===(t=e)||"object"!==Je(t))throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===Je(e)&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}var tt="Awaiting state",nt="Matched. State transferred from previous layer",rt="Initialized",it="Discarded. Awaiting garbage collection",ot="No longer matched. Awaiting garbage collection",at="Finalized! Awaiting garbage collection";function st(e){return(st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var lt={boolean:{validate:function(e,t){return!0},equal:function(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return ht(e)&&(3===e.length||4===e.length)},equal:function(e,t,n){return ct(e,t)}},accessor:{validate:function(e,t){var n=pt(e);return"function"===n||n===pt(t.value)},equal:function(e,t,n){return"function"===typeof t||ct(e,t)}},array:{validate:function(e,t){return t.optional&&!e||ht(e)},equal:function(e,t,n){return n.compare?ct(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,n){return!n.compare||e===t}}};function ct(e,t){if(e===t)return!0;if(!ht(e)||!ht(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function dt(e,t){switch(pt(t)){case"object":return ft(e,t);case"array":return ft(e,{type:"array",value:t,compare:!1});case"boolean":return ft(e,{type:"boolean",value:t});case"number":return ft(e,{type:"number",value:t});case"function":return ft(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function ft(e,t){return"type"in t?Object.assign({name:e},lt[t.type],t):"value"in t?Object.assign({name:e,type:pt(t.value)},t):{name:e,type:"object",value:t}}function ht(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function pt(e){return ht(e)?"array":null===e?"null":st(e)}function gt(){for(var e=this,t=vt(e.constructor),n=t.defaultProps,r=Object.create(n,{_component:{enumerable:!1,value:e},_asyncPropOriginalValues:{enumerable:!1,value:{}},_asyncPropResolvedValues:{enumerable:!1,value:{}}}),i=0;i<arguments.length;++i)Object.assign(r,arguments[i]);var o=e.constructor.layerName,a=t.deprecatedProps;return mt(o,r,a),mt(o,r.updateTriggers,a),mt(o,r.transitions,a),Ve(r),Object.freeze(r),r}function mt(e,t,n){if(t)for(var r in n)if(yt(t,r)){var o="".concat(e||"Layer",": ").concat(r),a=!0,s=!1,u=void 0;try{for(var l,c=n[r][Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;yt(t,d)||(t[d]=t[r])}}catch(f){s=!0,u=f}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}i.deprecated(o,n[r].join("/"))()}}function vt(e){var t=_t(e,"_mergedDefaultProps");return t?{defaultProps:t,propTypes:_t(e,"_propTypes"),deprecatedProps:_t(e,"_deprecatedProps")}:function(e){var t=e.prototype;if(!t)return{defaultProps:{}};var n=Object.getPrototypeOf(e),r=t&&vt(n)||null,o=function(e){for(var t={},n={},r={},i=Object.entries(e),o=0;o<i.length;o++){var a=ut(i[o],2),s=a[0],u=a[1];if(u&&u.deprecatedFor)r[s]=Array.isArray(u.deprecatedFor)?u.deprecatedFor:[u.deprecatedFor];else{var l=dt(s,u);t[s]=l,n[s]=l.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(_t(e,"defaultProps")||{}),a=Object.assign({},r&&r.propTypes,o.propTypes),s=function(e,t,n,r){var o=Object.create(null);Object.assign(o,t,e);var a=function(e){var t=_t(e,"layerName")||_t(e,"componentName");t||i.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(r);return delete e.id,Object.defineProperties(o,{id:{configurable:!1,writable:!0,value:a}}),function(e,t){var n={},r={_asyncPropDefaultValues:{enumerable:!1,value:n},_asyncPropOriginalValues:{enumerable:!1,value:{}}};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(n[a]=s,r[a]=bt(a))}Object.defineProperties(e,r)}(o,n),o}(o.defaultProps,r&&r.defaultProps,a,e),u=Object.assign({},r&&r.deprecatedProps,o.deprecatedProps);return e._mergedDefaultProps=s,e._propTypes=a,e._deprecatedProps=u,{propTypes:a,defaultProps:s,deprecatedProps:u}}(e)}function bt(e){return{configurable:!1,enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise?this._asyncPropOriginalValues[e]=t:this._asyncPropResolvedValues[e]=t},get:function(){if(this._asyncPropResolvedValues){if(e in this._asyncPropResolvedValues){var t=this._asyncPropResolvedValues[e];return"data"===e?t||this._asyncPropDefaultValues[e]:t}if(e in this._asyncPropOriginalValues){var n=this._component&&this._component.internalState;if(n&&n.hasAsyncProp(e))return n.getAsyncProp(e)}}return this._asyncPropDefaultValues[e]}}}function yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _t(e,t){return yt(e,t)&&e[t]}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wt=Object.freeze({}),Ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;xt(this,e),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=wt,this.oldAsyncProps=null}var t,n,r;return t=e,(n=[{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps)for(var e in this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps={},this.oldProps)this.oldAsyncProps[e]=this.oldProps[e]}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}},{key:"setAsyncProps",value:function(e){var t=e._asyncPropResolvedValues||{},n=e._asyncPropOriginalValues||e,r=e._asyncPropDefaultValues||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,o,r[i]),this._updateAsyncProp(i,o)}for(var a in n){var s=n[a];this._createAsyncPropData(a,s,r[a]),this._updateAsyncProp(a,s)}}},{key:"_updateAsyncProp",value:function(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=(0,this.layer.props.fetch)(t)),t instanceof Promise?this._watchPromise(e,t):this._setPropValue(e,t))}},{key:"_didAsyncInputValueChange",value:function(e,t){var n=this.asyncProps[e];return t!==n.lastValue&&(n.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){var n=this.asyncProps[e];n.value=t,n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount}},{key:"_setAsyncPropValue",value:function(e,t,n){var r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&(g(void 0!==t),this.freezeAsyncOldProps(),t=this._postProcessValue(e,t),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var n=this,r=this.asyncProps[e];r.pendingLoadCount++;var o=r.pendingLoadCount;t.then((function(t){return n._setAsyncPropValue(e,t,o)})).catch((function(e){return i.error(e)()}))}},{key:"_postProcessValue",value:function(e,t){var n=(this.component?this.component.props:{}).dataTransform;return"data"===e&&n&&(t=n(t)),t}},{key:"_createAsyncPropData",value:function(e,t,n){this.asyncProps[e]||(this.asyncProps[e]={lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0})}}])&&St(t.prototype,n),r&&St(t,r),e}();function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=0,Tt=function(){function e(){kt(this,e),this.props=gt.apply(this,arguments),this.id=this.props.id,this.count=Ot++,this.lifecycle=tt,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}var t,n,r;return t=e,(n=[{key:"clone",value:function(e){var t=this.props,n={};for(var r in t._asyncPropDefaultValues)r in t._asyncPropResolvedValues?n[r]=t._asyncPropResolvedValues[r]:r in t._asyncPropOriginalValues&&(n[r]=t._asyncPropOriginalValues[r]);return new this.constructor(Object.assign({},t,n,e))}},{key:"_initState",value:function(){this.internalState=new Ct({})}},{key:"stats",get:function(){return this.internalState.stats}}])&&Et(t.prototype,n),r&&Et(t,r),e}();function Pt(e){return(Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Pt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Tt.defaultProps={};var jt=function(e){function t(e){var n,r=e.attributeManager,i=e.layer;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Dt(this,At(t).call(this,i))).attributeManager=r,n.model=null,n.needsRedraw=!0,n.subLayers=null,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,e),n=t,(r=[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}}])&&It(n.prototype,r),i&&It(n,i),t}(Ct);function Rt(e){return(Rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t){return!t||"object"!==Rt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ht=Object.freeze([]),Vt=new Uint8ClampedArray(0),Wt={data:{type:"data",value:Ht,async:!0},dataComparator:null,dataTransform:{type:"function",value:function(e){return e},compare:!1},fetch:{type:"function",value:function(e){return fetch(e).then((function(e){return e.json()}))},compare:!1},updateTriggers:{},numInstances:void 0,visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:.8},onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:d.LNGLAT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,parameters:{},uniforms:{},framebuffer:null,animation:null,getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"color",value:[0,0,128,128]}},Gt=function(e){function t(){return Nt(this,t),Bt(this,zt(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,e),n=t,(r=[{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.internalState&&(this.internalState.needsRedraw=e)}},{key:"setLayerNeedsUpdate",value:function(){this.context.layerManager.setNeedsUpdate(String(this))}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0!==t&&t;return this._getNeedsRedraw(n)}},{key:"needsUpdate",value:function(){return this.shouldUpdateState(this._getUpdateParams())}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}},{key:"getSingleModel",value:function(){return this.state&&this.state.model}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getFirstObject",value:function(){var e=this.props.data,t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)return i.value}catch(a){n=!0,r=a}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}},{key:"project",value:function(e){var t=this.context.viewport,n=Ft(Z(ee(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),t.pixelProjectionMatrix),3),r=n[0],i=n[1],o=n[2];return 2===e.length?[r,i]:[r,i,o]}},{key:"unproject",value:function(e){var t=this.context.viewport;return g(Array.isArray(e)),t.unproject(e)}},{key:"projectPosition",value:function(e){return g(Array.isArray(e)),te(e,{viewport:this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem})}},{key:"projectFlat",value:function(e){i.deprecated("layer.projectFlat","layer.projectPosition")();var t=this.context.viewport;return g(Array.isArray(e)),t.projectFlat(e)}},{key:"unprojectFlat",value:function(e){i.deprecated("layer.unprojectFlat")();var t=this.context.viewport;return g(Array.isArray(e)),t.unprojectFlat(e)}},{key:"use64bitProjection",value:function(){if(this.props.fp64){if(this.props.coordinateSystem===d.LNGLAT_DEPRECATED)return!0;i.once(0,"Legacy 64-bit mode only works with coordinateSystem set to\n        COORDINATE_SYSTEM.LNGLAT_DEPRECATED. Rendering in 32-bit mode instead")()}return!1}},{key:"use64bitPositions",value:function(){return this.props.fp64||this.props.coordinateSystem===d.LNGLAT}},{key:"screenToDevicePixels",value:function(e){return i.deprecated("screenToDevicePixels","DeckGL prop useDevicePixels for conversion")(),e*("undefined"!==typeof window?window.devicePixelRatio:1)}},{key:"onHover",value:function(e){return!!this.props.onHover&&this.props.onHover(e,this.context.pickingEvent)}},{key:"onClick",value:function(e){return!!this.props.onClick&&this.props.onClick(e,this.context.pickingEvent)}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return g(e<16777215,"index out of picking color range"),t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){g(e instanceof Uint8Array);var t=Ft(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"initializeState",value:function(){throw new Error("Layer ".concat(this," has not defined initializeState"))}},{key:"shouldUpdateState",value:function(e){return e.oldProps,e.props,e.context,e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){e.oldProps,e.props,e.context;var t=e.changeFlags,n=this.getAttributeManager();t.dataChanged&&n&&n.invalidateAll()}},{key:"finalizeState",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.getModels()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.delete()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}var o=this.getAttributeManager();o&&o.finalize()}},{key:"draw",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.getModels()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.draw(e)}catch(a){n=!0,r=a}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.getAttributeManager();n&&("all"===e?(i.log(1,"updateTriggers invalidating all attributes: ".concat(t))(),n.invalidateAll()):(i.log(1,"updateTriggers invalidating attribute ".concat(e,": ").concat(t))(),n.invalidate(e)))}},{key:"updateAttributes",value:function(e){var t=this.getAttributeManager();if(t){var n=this.getNumInstances(e);t.update({data:e.data,numInstances:n,props:e,transitions:e.transitions,buffers:e,context:this,ignoreUnknownAttributes:!0});var r=this.getSingleModel();if(r){var i=t.getChangedAttributes({clearChangedFlags:!0});r.setAttributes(i)}}}},{key:"updateTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"calculateInstancePickingColors",value:function(e,t){var n=t.numInstances,r=e.value,i=e.size;if(1!==r[0]){var o=Vt.length/i;if(o<n){var a=new Uint8ClampedArray(n*i);a.set(Vt);for(var s=[],u=o;u<n;u++)this.encodePickingColor(u,s),a[u*i+0]=s[0],a[u*i+1]=s[1],a[u*i+2]=s[2];Vt=a}r.set(n<o?Vt.subarray(0,n*i):Vt)}}},{key:"_clearInstancePickingColor",value:function(e){var t=this.getAttributeManager().attributes.instancePickingColors,n=t.value,r=t.size,i=this.decodePickingColor(e);n[i*r+0]=0,n[i*r+1]=0,n[i*r+2]=0,t.update({value:n})}},{key:"_clearPickingColor",value:function(e){for(var t=this.getAttributeManager().attributes.pickingColors,n=t.value,r=0;r<n.length;r+=3)n[r+0]===e[0]&&n[r+1]===e[1]&&n[r+2]===e[2]&&(n[r+0]=0,n[r+1]=0,n[r+2]=0);t.update({value:n})}},{key:"clearPickingColor",value:function(e){this.getAttributeManager().attributes.pickingColors?this._clearPickingColor(e):this._clearInstancePickingColor(e)}},{key:"copyPickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,n=e.instancePickingColors;return new Uint8ClampedArray((t||n).value)}},{key:"restorePickingColors",value:function(e){var t=this.getAttributeManager().attributes,n=t.pickingColors,r=t.instancePickingColors;(n||r).update({value:e})}},{key:"getNumInstances",value:function(e){return void 0!==(e=e||this.props).numInstances?e.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:et(this.props.data)}},{key:"_initialize",value:function(){this._initState(),this.initializeState(this.context),this.state.attributeManager=this.getAttributeManager(),this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0}),this._updateState();var e=this.getSingleModel();e&&(e.id=this.props.id,e.program.id="".concat(this.props.id,"-program"),e.geometry.id="".concat(this.props.id,"-geometry"))}},{key:"_update",value:function(){this.needsUpdate()&&this._updateState()}},{key:"_updateState",value:function(){var e=this._getUpdateParams();if(this.context.gl)this.updateState(e);else try{this.updateState(e)}catch(t){}this.isComposite?this._renderLayers(e):(this.setNeedsRedraw(),this.updateAttributes(this.props),this._updateBaseUniforms(),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances())),this.clearChangeFlags(),this.internalState.resetOldProps()}},{key:"_finalize",value:function(){var e;g(this.internalState&&this.state),this.finalizeState(this.context),e=this.id,ue.a.isReady()&&e&&ue.a.deleteItem("deck.gl",e)}},{key:"drawLayer",value:function(e){var t=this,n=e.moduleParameters,r=void 0===n?null:n,i=e.uniforms,a=void 0===i?{}:i,s=e.parameters,u=void 0===s?{}:s;a.picking_uActive||this.updateTransition(),r&&this.setModuleParameters(r);var l=this.context.animationProps;if(l){var c=!0,d=!1,f=void 0;try{for(var h,p=this.getModels()[Symbol.iterator]();!(c=(h=p.next()).done);c=!0)h.value._setAnimationProps(l)}catch(v){d=!0,f=v}finally{try{c||null==p.return||p.return()}finally{if(d)throw f}}}var g=this.props.getPolygonOffset,m=g&&g(a)||[0,0];u.polygonOffset=m,Object(o.withParameters)(this.context.gl,u,(function(){t.draw({moduleParameters:r,uniforms:a,parameters:u,context:t.context})}))}},{key:"pickLayer",value:function(e){return this.getPickingInfo(e)}},{key:"getChangeFlags",value:function(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function(e){var t=this;this.internalState.changeFlags=this.internalState.changeFlags||{};var n=this.internalState.changeFlags;e.dataChanged&&!n.dataChanged&&(n.dataChanged=e.dataChanged,i.log(2,(function(){return"dataChanged: ".concat(e.dataChanged," in ").concat(t.id)}))()),e.updateTriggersChanged&&!n.updateTriggersChanged&&(n.updateTriggersChanged=n.updateTriggersChanged&&e.updateTriggersChanged?Object.assign({},e.updateTriggersChanged,n.updateTriggersChanged):e.updateTriggersChanged||n.updateTriggersChanged,i.log(2,(function(){return"updateTriggersChanged: "+"".concat(Object.keys(e.updateTriggersChanged).join(", ")," in ").concat(t.id)}))()),e.propsChanged&&!n.propsChanged&&(n.propsChanged=e.propsChanged,i.log(2,(function(){return"propsChanged: ".concat(e.propsChanged," in ").concat(t.id)}))()),e.viewportChanged&&!n.viewportChanged&&(n.viewportChanged=e.viewportChanged,i.log(3,(function(){return"viewportChanged: ".concat(e.viewportChanged," in ").concat(t.id)}))()),e.stateChanged&&!n.stateChanged&&(n.stateChanged=e.stateChanged,i.log(2,(function(){return"stateChanged: ".concat(e.stateChanged," in ").concat(t.id)}))());var r=e.dataChanged||e.updateTriggersChanged||e.propsChanged;n.propsOrDataChanged=n.propsOrDataChanged||r,n.somethingChanged=n.somethingChanged||r||e.viewportChanged||e.stateChanged}},{key:"clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"printChangeFlags",value:function(){var e=this.internalState.changeFlags;return"".concat(e.dataChanged?"data ":"").concat(e.propsChanged?"props ":"").concat(e.updateTriggersChanged?"triggers ":"").concat(e.viewportChanged?"viewport":"")}},{key:"diffProps",value:function(e,t){var n=Xe(e,t);if(n.updateTriggersChanged)for(var r in n.updateTriggersChanged)n.updateTriggersChanged[r]&&this._activeUpdateTrigger(r);return this.setChangeFlags(n)}},{key:"validateProps",value:function(){!function(e){var t=$e(e);for(var n in t){var r=t[n],i=r.validate;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}},{key:"setModuleParameters",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.getModels()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.updateModuleSettings(e)}catch(a){n=!0,r=a}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e;var n=this.getAttributeManager(),r=n&&n.getNeedsRedraw({clearRedrawFlags:e});return t=t||r}},{key:"_getAttributeManager",value:function(){return new ze(this.context.gl,{id:this.props.id,stats:this.context.stats})}},{key:"_initState",value:function(){g(!this.internalState&&!this.state);var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:ce.a.UNSIGNED_BYTE,size:3,update:this.calculateInstancePickingColors}}),this.internalState=new jt({attributeManager:e,layer:this}),this.state={},this.state.attributeManager=e,this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}},{key:"_transferState",value:function(e){var t=e.state,n=e.internalState;if(g(t&&n),this!==e){this.internalState=n,this.internalState.component=this,this.state=t,t.layer=this,this.internalState.setAsyncProps(this.props);var r=!0,i=!1,o=void 0;try{for(var a,s=this.getModels()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)a.value.userData.layer=this}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}this.diffProps(this.props,this.internalState.getOldProps())}}},{key:"_onAsyncPropUpdated",value:function(){this.diffProps(this.props,this.internalState.getOldProps()),this.setLayerNeedsUpdate()}},{key:"_activeUpdateTrigger",value:function(e){this.invalidateAttribute(e)}},{key:"_updateBaseUniforms",value:function(){var e=this,t={opacity:"function"===typeof this.props.opacity?function(t){return Math.pow(e.props.opacity(t),1/2.2)}:Math.pow(this.props.opacity,1/2.2)},n=!0,r=!1,i=void 0;try{for(var o,a=this.getModels()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.setUniforms(t)}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"setUniforms",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.getModels()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.setUniforms(e)}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}this.setNeedsRedraw(),i.deprecated("layer.setUniforms","model.setUniforms")()}},{key:"is64bitEnabled",value:function(){return i.deprecated("is64bitEnabled","use64bitProjection")(),this.use64bitProjection()}}])&&Lt(n.prototype,r),a&&Lt(n,a),t}(Tt);Gt.layerName="Layer",Gt.defaultProps=Wt;var Kt=0,qt=function(e){var t=e.useDevicePixels;return g("boolean"===typeof t,"Invalid useDevicePixels"),t&&"undefined"!==typeof window?window.devicePixelRatio:1};function Yt(e,t){var n=t.layers,r=t.viewports,a=t.views,s=t.onViewportActive,u=t.useDevicePixels,l=t.drawPickingColors,c=void 0!==l&&l,d=t.deviceRect,f=void 0===d?null:d,h=t.parameters,p=void 0===h?{}:h,g=t.layerFilter,m=void 0===g?null:g,v=t.pass,b=void 0===v?"draw":v,y=t.redrawReason,_=void 0===y?"":y,x=t.stats;t.customRender||function(e,t){t.useDevicePixels;var n=e.drawingBufferWidth,r=e.drawingBufferHeight;Object(o.withParameters)(e,{viewport:[0,0,n,r]},(function(){e.clear(ce.a.COLOR_BUFFER_BIT|ce.a.DEPTH_BUFFER_BIT)}))}(e,{useDevicePixels:u}),r.forEach((function(t,r){var l=function(e){return e.viewport?e.viewport:e}(t),d=a&&a[l.id];s(l),function(e,t){var n=t.layers,r=t.viewport,a=t.view,s=t.useDevicePixels,u=t.drawPickingColors,l=void 0!==u&&u,c=(t.deviceRect,t.parameters),d=void 0===c?{}:c,f=t.layerFilter,h=t.pass,p=void 0===h?"draw":h,g=t.redrawReason,m=void 0===g?"":g,v=t.stats,b=qt({useDevicePixels:s}),y=function(e,t){var n=t.viewport,r=t.pixelRatio,i=e.canvas?e.canvas.clientHeight||e.canvas.height:100,o=n;return[o.x*r,(i-o.y-o.height)*r,o.width*r,o.height*r]}(e,{viewport:r,pixelRatio:b});if(a&&a.props.clear){var _=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;Object(o.withParameters)(e,{scissorTest:!0,scissor:y},(function(){return Object(o.clear)(e,_)}))}var x={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};Object(o.setParameters)(e,d||{}),n.forEach((function(t,n){var i=!t.isComposite&&t.props.visible;l&&(i=i&&t.props.pickable),i&&f&&(i=f({layer:t,viewport:r,isPicking:l})),i&&t.props.pickable&&x.pickableCount++,t.isComposite&&x.compositeCount++,i&&(x.visibleCount++,function(e){e.gl;var t=e.layer,n=e.layerIndex,r=e.drawPickingColors,i=e.pixelRatio,o=e.glViewport,a=e.parameters,s=Object.assign(Object.create(t.props),{viewport:t.context.viewport,pickingActive:r?1:0,devicePixelRatio:i}),u=Object.assign({},t.context.uniforms,{layerIndex:n}),l=Object.assign({},t.props.parameters||{},a);Object.assign(l,{viewport:o}),r?Object.assign(l,{blendColor:[0,0,0,(n+1)/255]}):Object.assign(s,function(e){var t=e.props,n=t.highlightedObjectIndex,r=t.highlightColor,i={pickingHighlightColor:[r[0],r[1],r[2],r[3]||255]};Number.isInteger(n)&&(i.pickingSelectedColor=n>=0?e.encodePickingColor(n):null);return i}(t));t.drawLayer({moduleParameters:s,uniforms:u,parameters:l})}({gl:e,layer:t,layerIndex:n,drawPickingColors:l,pixelRatio:b,glViewport:y,parameters:d}))})),Kt++,function(e){var t=e.renderStats,n=e.pass,r=e.redrawReason,o=e.stats;if(i.priority>=2){var a=t.totalCount,s=t.visibleCount,u=t.compositeCount,l=t.pickableCount,c=a-u-s,d="";d+="RENDER #".concat(Kt," ").concat(s," (of ").concat(a," layers) to ").concat(n," because ").concat(r," "),i.priority>2&&(d+="(".concat(c," hidden, ").concat(u," composite ").concat(l," pickable)")),i.log(2,d)(),o&&o.increment("redraw layers",s)}}({renderStats:x,pass:p,redrawReason:m,stats:v})}(e,{layers:n,viewport:l,view:d,useDevicePixels:u,drawPickingColors:c,deviceRect:f,parameters:p,layerFilter:m,pass:b,redrawReason:_,stats:x})}))}var Xt={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function Zt(e,t){for(var n=t.layers,r=t.viewports,i=t.x,o=t.y,a=t.radius,s=t.layerFilter,u=t.depth,l=void 0===u?1:u,c=t.mode,d=t.onViewportActive,f=t.pickingFBO,h=t.lastPickedInfo,p=t.useDevicePixels,g=qt({useDevicePixels:p}),m=Math.round(i*g),v=Math.round(e.canvas.height-o*g),b=Math.round(a*g),y=function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight;if(!(t>=0&&n>=0&&t<i&&n<o))return null;var a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r)-a+1,l=Math.min(o,n+r)-s+1;return{x:a,y:s,width:u,height:l}}({deviceX:m,deviceY:v,deviceRadius:b,deviceWidth:f.width,deviceHeight:f.height}),_=[],x={},S=0;S<l;S++){var w=y&&$t(e,{layers:n,viewports:r,onViewportActive:d,useDevicePixels:p,pickingFBO:f,deviceRect:y,layerFilter:s,redrawReason:c}),C=w&&en(e,{pickedColors:w,layers:n,deviceX:m,deviceY:v,deviceRadius:b,deviceRect:y})||Xt;if(C.pickedColor&&S+1<l){var k=C.pickedColor[3]-1;x[k]||(x[k]=n[k].copyPickingColors()),n[k].clearPickingColor(C.pickedColor)}var E=Jt({pickInfo:C,lastPickedInfo:h,mode:c,layers:n,viewports:r,x:i,y:o,deviceX:m,deviceY:v,pixelRatio:g});if(E&&E.forEach((function(e){return _.push(e)})),!C.pickedColor)break}return Object.keys(x).forEach((function(e){return n[e].restorePickingColors(x[e])})),_}function Qt(e,t){var n=t.layers,r=t.viewports,o=t.x,a=t.y,s=t.width,u=t.height,l=t.mode,c=t.layerFilter,d=t.onViewportActive,f=t.pickingFBO,h=t.useDevicePixels,p=qt({useDevicePixels:h}),g=Math.round(o*p),m=Math.round(e.canvas.height-a*p),v=Math.round((o+s)*p),b=Math.round(e.canvas.height-(a+u)*p),y=function(e,t){var n=t.pickedColors,r=t.layers,o=new Map;if(n)for(var a=0;a<n.length;a+=4){var s=n[a+3]-1;if(s>=0){var u=n.slice(a,a+4),l=u.join(",");if(!o.has(l)){var c=r[s];c?o.set(l,{pickedColor:u,pickedLayer:c,pickedObjectIndex:c.decodePickingColor(u)}):i.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(o.values())}(0,{pickedColors:$t(e,{layers:n,viewports:r,onViewportActive:d,pickingFBO:f,useDevicePixels:h,deviceRect:{x:g,y:b,width:v-g,height:m-b},layerFilter:c,redrawReason:l}),layers:n}),_=new Map;return y.forEach((function(e){var t={color:e.pickedColor,layer:null,index:e.pickedObjectIndex,picked:!0,x:o,y:a,width:s,height:u,pixelRatio:p};t=tn({layer:e.pickedLayer,info:t,mode:l}),_.has(t.object)||_.set(t.object,t)})),Array.from(_.values())}function $t(e,t){var n=t.layers,r=t.viewports,i=t.onViewportActive,a=t.useDevicePixels,s=t.pickingFBO,u=t.deviceRect,l=t.layerFilter,c=t.redrawReason;if(g(u),g(Number.isFinite(u.width)&&u.width>0,"`width` must be > 0"),g(Number.isFinite(u.height)&&u.height>0,"`height` must be > 0"),n.filter((function(e){return e.isPickable()})).length<1)return null;!function(e,t){var n=t.layers,r=t.viewports,i=t.onViewportActive,a=t.useDevicePixels,s=t.pickingFBO,u=t.deviceRect,l=u.x,c=u.y,d=u.width,f=u.height,h=t.layerFilter,p=void 0===h?null:h,g=t.redrawReason,m=void 0===g?"":g;Object(o.withParameters)(e,{framebuffer:s,scissorTest:!0,scissor:[l,c,d,f],clearColor:[0,0,0,0]},(function(){Yt(e,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:a,drawPickingColors:!0,layerFilter:p,pass:"picking",redrawReason:m,parameters:{blend:!0,blendFunc:[e.ONE,e.ZERO,e.CONSTANT_ALPHA,e.ZERO],blendEquation:e.FUNC_ADD,blendColor:[0,0,0,0]}})}))}(e,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:a,pickingFBO:s,deviceRect:u,layerFilter:l,redrawReason:c});var d=u.x,f=u.y,h=u.width,p=u.height,m=new Uint8Array(h*p*4);return s.readPixels({x:d,y:f,width:h,height:p,pixelArray:m}),m}function Jt(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,o=e.viewports,a=e.x,s=e.y,u=e.deviceX,l=e.deviceY,c=e.pixelRatio,d=t.pickedColor,f=t.pickedLayer,h=t.pickedObjectIndex,p=f?[f]:[];if("hover"===r){var g=n.index,m=n.layerId,v=f&&f.props.id;if(v!==m||h!==g){if(v!==m){var b=i.find((function(e){return e.props.id===m}));b&&p.unshift(b)}n.layerId=v,n.index=h,n.info=null}}var y={viewports:o}.viewports[0],_=y&&y.unproject([a,s]),x={color:null,layer:null,index:-1,picked:!1,x:a,y:s,pixel:[a,s],coordinate:_,lngLat:_,devicePixel:[u,l],pixelRatio:c},S=new Map;return p.forEach((function(e){var t=Object.assign({},x);if(e===f&&(t.color=d,t.index=h,t.picked=!0),t=tn({layer:e,info:t,mode:r}),e===f&&"hover"===r&&(n.info=t),"hover"===r){var i=e.props.autoHighlight&&f===e?d:null;e.setModuleParameters({pickingSelectedColor:i}),e.setNeedsRedraw()}t&&S.set(t.layer.id,t)})),function(e,t){var n=[];return e.forEach((function(e){var r=!1;switch(t){case"click":r=e.layer.onClick(e);break;case"hover":r=e.layer.onHover(e);break;case"query":break;default:throw new Error("unknown pick type")}r||n.push(e)})),n}(S,r)}function en(e,t){var n=t.pickedColors,r=t.layers,o=t.deviceX,a=t.deviceY,s=t.deviceRadius,u=t.deviceRect;g(n);for(var l=u.x,c=u.y,d=u.width,f=u.height,h=s*s,p=-1,m=0,v=0;v<f;v++){var b=v+c-a,y=b*b;if(y>h)m+=4*d;else for(var _=0;_<d;_++){if(n[m+3]-1>=0){var x=_+l-o,S=x*x+y;S<=h&&(h=S,p=m)}m+=4}}if(p>=0){var w=n[p+3]-1,C=n.slice(p,p+4),k=r[w];if(k){var E=k.decodePickingColor(C);return{pickedColor:C,pickedLayer:k,pickedObjectIndex:E}}i.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Xt}function tn(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||t;n.layer=t,n=t.pickLayer({info:n,mode:r,sourceLayer:i}),t=t.parent}return n}function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.filter,r=void 0===n?function(){return!0}:n,i=t.map,o=void 0===i?function(e){return e}:i,a=t.result,s=void 0===a?[]:a;return Array.isArray(e)?rn(e,r,o,s):r(e)?[o(e)]:[]}function rn(e,t,n,r){for(var i=-1;++i<e.length;){var o=e[i];Array.isArray(o)?rn(o,t,n,r):t(o)&&r.push(n(o))}return r}function on(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t}var an=n(4),sn=n(5),un=n(50),ln=n(65),cn=function(){function e(t){var n=t.id;Object(an.a)(this,e),this.id=n,this.time=Object(un.a)(),this.counters={},Object.seal(this)}return Object(sn.a)(e,[{key:"addCounter",value:function(e){return this._getCounter(e),this}},{key:"bump",value:function(e){var t=this._getCounter(e);return t.call++,t.count++,this}},{key:"increment",value:function(e,t){var n=this._getCounter(e);return n.call++,n.count+=t,this}},{key:"addTimer",value:function(e){return this._getCounter(e).time=0,this}},{key:"addTime",value:function(e,t){var n=this._getCounter(e);return n.time+=t,n.count++,this}},{key:"timeStart",value:function(e,t){this._getCounter(e)._startTime=Object(un.a)()}},{key:"timeEnd",value:function(e,t){var n=this._getCounter(e);this.addTime(e,Object(un.a)()-n._startTime)}},{key:"reset",value:function(){for(var e in this.time=Object(un.a)(),this.counters){var t=this.counters[e];t.count=0,t.time=0}return this}},{key:"hasTimeElapsed",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(un.a)()-this.time>1e3}},{key:"getStats",value:function(){var e=(Object(un.a)()-this.time)/1e3,t={};for(var n in this.counters){var r=this.counters[n];t[r.title]={total:r.count,fps:Math.round(r.count/e)},r.time&&(t[r.title].totalTime=Object(ln.b)(r.time),t[r.title].avgTime=Object(ln.b)(r.time/r.count))}return t}},{key:"getStatsTable",value:function(){var e=this.getStats();for(var t in e)0===e[t].total&&delete e[t];return e}},{key:"getStatNames",value:function(){return Object.keys(this.counters)}},{key:"get",value:function(e){return this._getCounter(e).count}},{key:"getCount",value:function(e){return this._getCounter(e).count}},{key:"getFPS",value:function(e){var t=this._getCounter(e),n=(Object(un.a)()-this.time)/1e3;return Math.round(t.count/n)}},{key:"getTimeString",value:function(){return"".concat(this.id,":").concat(Object(ln.b)(this.time),"(").concat(this.count,")")}},{key:"oneSecondPassed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return this.hasTimeElapsed(e)}},{key:"_getCounter",value:function(e){var t=this.counters[e];return t||(t={title:e,unit:"",timer:!1,count:0,time:0,totalTime:0,averageTime:0},this.counters[e]=t),t}},{key:"_incrementTimer",value:function(e,t,n){e.count+=n,e.totalTime+=t,e.averageTime=e.totalTime/n}}]),e}();function dn(e,t){if(!e)return null;var n=c.c([0,0,0,0],t,e),r=1/n[3];return c.a(n,n,[r,r,r,r]),n}var fn=n(26),hn=n(256),pn=n(99);function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bn=Math.PI/180,yn=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_n=[0,0,0],xn={pixelsPerMeter:[1,1,1],metersPerPixel:[1,1,1],pixelsPerDegree:[1,1,1],degreesPerPixel:[1,1,1]},Sn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};mn(this,e);var n=t.id,r=void 0===n?null:n,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,u=t.width,l=void 0===u?1:u,c=t.height,d=void 0===c?1:c;this.id=r||this.constructor.displayName||"viewport",this.x=o,this.y=s,this.width=l||1,this.height=d||1,this._initViewMatrix(t),this._initProjectionMatrix(t),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this),this.getMatrices=this.getMatrices.bind(this)}var t,n,r;return t=e,(n=[{key:"equals",value:function(t){return t instanceof e&&t.width===this.width&&t.height===this.height&&Object(fn.e)(t.projectionMatrix,this.projectionMatrix)&&Object(fn.e)(t.viewMatrix,this.viewMatrix)}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=this.projectPosition(e),o=Z(i,this.pixelProjectionMatrix),a=gn(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===e.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=gn(e,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=i&&i*this.distanceScales.pixelsPerMeter[2],d=Q([a,l,u],this.pixelUnprojectionMatrix,c),f=this.unprojectPosition(d),h=gn(f,3),p=h[0],g=h[1],m=h[2];return Number.isFinite(u)?[p,g,m]:Number.isFinite(i)?[p,g,i]:[p,g]}},{key:"projectPosition",value:function(e){var t=gn(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.pixelsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=gn(this.unprojectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.distanceScales.metersPerPixel[2]]}},{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this.isGeospatial?V(e,t):e}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this.isGeospatial?W(e,t):e}},{key:"getDistanceScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?G({longitude:e[0],latitude:e[1],scale:this.scale,highPrecision:!0}):this.distanceScales}},{key:"getMatrices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.modelMatrix,n=void 0===t?null:t,r=this.viewProjectionMatrix,i=this.pixelProjectionMatrix,o=this.pixelUnprojectionMatrix;n&&(r=l.g([],this.viewProjectionMatrix,n),i=l.g([],this.pixelProjectionMatrix,n),o=l.e([],i));var a=Object.assign({modelViewProjectionMatrix:r,viewProjectionMatrix:this.viewProjectionMatrix,viewMatrix:this.viewMatrix,projectionMatrix:this.projectionMatrix,pixelProjectionMatrix:i,pixelUnprojectionMatrix:o,width:this.width,height:this.height,scale:this.scale});return a}},{key:"containsPixel",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&n<this.y+this.height&&this.y<n+a}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"getCameraDirection",value:function(){return this.cameraDirection}},{key:"getCameraUp",value:function(){return this.cameraUp}},{key:"_addMetersToLngLat",value:function(e,t){var n=gn(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o,s=gn(this._metersToLngLatDelta(t),3),u=s[0],l=s[1],c=s[2],d=void 0===c?0:c;return 2===e.length?[r+u,i+l]:[r+u,i+l,a+d]}},{key:"_metersToLngLatDelta",value:function(e){var t=gn(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;g(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to Viewport");var a=this.distanceScales,s=a.pixelsPerMeter,u=a.degreesPerPixel,l=n*s[0]*u[0],c=r*s[1]*u[1];return 2===e.length?[l,c]:[l,c,o]}},{key:"_createProjectionMatrix",value:function(e){var t=e.orthographic,n=e.fovyRadians,r=e.aspect,i=e.focalDistance,o=e.near,a=e.far;return g(Number.isFinite(n)),t?(new hn.a).orthographic({fovy:n,aspect:r,focalDistance:i,near:o,far:a}):(new hn.a).perspective({fovy:n,aspect:r,near:o,far:a})}},{key:"_initViewMatrix",value:function(e){var t=e.viewMatrix,n=void 0===t?yn:t,r=e.longitude,i=void 0===r?null:r,o=e.latitude,a=void 0===o?null:o,s=e.zoom,u=void 0===s?null:s,c=e.position,d=void 0===c?null:c,f=e.modelMatrix,h=void 0===f?null:f,p=e.focalDistance,g=void 0===p?1:p,m=e.distanceScales,v=void 0===m?null:m;this.isGeospatial=Number.isFinite(a)&&Number.isFinite(i),this.zoom=u,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?function(e){var t=e.latitude;return F(Number.isFinite(t)),H(4003e4*Math.cos(t*B))-9}({latitude:a})+Math.log2(g):0),this.scale=Math.pow(2,this.zoom),this.distanceScales=this.isGeospatial?G({latitude:a,longitude:i,scale:this.scale}):v||xn,this.focalDistance=g,this.distanceScales.metersPerPixel=new pn.a(this.distanceScales.metersPerPixel),this.distanceScales.pixelsPerMeter=new pn.a(this.distanceScales.pixelsPerMeter),this.position=_n,this.meterOffset=_n,d&&(this.position=d,this.modelMatrix=h,this.meterOffset=h?h.transformVector(d):d),this.isGeospatial?(this.longitude=i,this.latitude=a,this.center=this._getCenterInWorld({longitude:i,latitude:a}),this.viewMatrixUncentered=l.n([],n,[1,-1,1]),this.viewMatrix=(new hn.a).multiplyRight(this.viewMatrixUncentered).translate(new pn.a(this.center||_n).negate())):(this.center=d,this.viewMatrixUncentered=n,this.viewMatrix=n)}},{key:"_getCenterInWorld",value:function(e){var t=e.longitude,n=e.latitude,r=this.meterOffset,i=this.scale,o=this.distanceScales,a=this.projectFlat([t,n],i),s=new pn.a(a[0],a[1],0);if(r){var u=new pn.a(r).scale(o.pixelsPerMeter);s.add(u)}return s}},{key:"_initProjectionMatrix",value:function(e){var t=e.projectionMatrix,n=void 0===t?null:t,r=e.orthographic,i=void 0!==r&&r,o=e.fovyRadians,a=e.fovyDegrees,s=e.fovy,u=e.near,l=void 0===u?.1:u,c=e.far,d=void 0===c?1e3:c,f=e.focalDistance,h=void 0===f?1:f,p=e.orthographicFocalDistance,g=o||(a||s||75)*bn;this.projectionMatrix=n||this._createProjectionMatrix({orthographic:i,fovyRadians:g,aspect:this.width/this.height,focalDistance:p||h,near:l,far:d})}},{key:"_initPixelMatrices",value:function(){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.g(e,e,this.projectionMatrix),l.g(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=l.e([],this.viewMatrix)||this.viewMatrix;var t=function(e){var t=e.viewMatrix,n=e.viewMatrixInverse;return{eye:[n[12],n[13],n[14]],direction:[t[2],t[6],t[10]],up:[t[1],t[5],t[9]]}}({viewMatrix:this.viewMatrix,viewMatrixInverse:this.viewMatrixInverse}),n=t.eye,r=t.direction,o=t.up;this.cameraPosition=n,this.cameraDirection=r,this.cameraUp=o;var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.n(a,a,[this.width/2,-this.height/2,1]),l.o(a,a,[1,-1,0]),l.g(s,a,this.viewProjectionMatrix),this.pixelProjectionMatrix=s,this.viewportMatrix=a,this.pixelUnprojectionMatrix=l.e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||i.warn("Pixel project matrix not invertible")()}}])&&vn(t.prototype,n),r&&vn(t,r),e}();function wn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Sn.displayName="Viewport";var En=Object.seal({layerManager:null,gl:null,useDevicePixels:!0,stats:null,shaderCache:null,pickingFBO:null,pickingEvent:null,lastPickedInfo:null,animationProps:null,userData:{}}),On=function(e){return e instanceof Gt?"".concat(e):e?"invalid":"null"},Tn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.stats,i=n.viewport,a=void 0===i?null:i;Cn(this,e),this.lastRenderedLayers=[],this.layers=[],this.context=Object.assign({},En,{layerManager:this,gl:t,shaderCache:t&&new o._ShaderCache({gl:t,_cachePrograms:!0}),stats:r||new cn({id:"deck.gl"}),lastPickedInfo:{index:-1,layerId:null,info:null},viewport:a||new Sn({id:"DEFAULT-INITIAL-VIEWPORT"})}),this.layerFilter=null,this.drawPickingColors=!1,this._needsRedraw="Initial render",this._needsUpdate=!1,this._debug=!1,this._activateViewport=this._activateViewport.bind(this),this._initSeer=this._initSeer.bind(this),this._editSeer=this._editSeer.bind(this),Object.seal(this),Ge(this._initSeer),We(this._editSeer)}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){ue.a.removeListener(this._initSeer),ue.a.removeListener(this._editSeer)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0===t||t;return this._checkIfNeedsRedraw(n)}},{key:"needsUpdate",value:function(){return this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds,n=void 0===t?null:t;return n?this.layers.filter((function(e){return n.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"useDevicePixels"in e&&(this.context.useDevicePixels=e.useDevicePixels),"layers"in e&&this.setLayers(e.layers),"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this.setNeedsRedraw("layerFilter changed")),"drawPickingColors"in e&&e.drawPickingColors!==this.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this.setNeedsRedraw("drawPickingColors changed"))}},{key:"setLayers",value:function(e){if(e===this.lastRenderedLayers)return i.log(3,"Ignoring layer update due to layer array not changed")(),this;this.lastRenderedLayers=e,e=nn(e,{filter:Boolean});var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.context=this.context}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var s=this._updateLayers({oldLayers:this.layers,newLayers:e}),u=s.error,l=s.generatedLayers;if(this.layers=l,u)throw u;return this}},{key:"updateLayers",value:function(){var e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(wn(this.lastRenderedLayers)))}},{key:"drawLayers",value:function(e){var t=e.pass,n=void 0===t?"render to screen":t,r=e.viewports,i=e.views,o=e.redrawReason,a=void 0===o?"unknown reason":o,s=e.customRender,u=void 0!==s&&s,l=this.drawPickingColors,c=this.context,d=c.gl,f=c.useDevicePixels;Yt(d,{layers:this.layers,viewports:r,views:i,onViewportActive:this._activateViewport,useDevicePixels:f,drawPickingColors:l,pass:n,layerFilter:this.layerFilter,redrawReason:a,customRender:u})}},{key:"getLastPickedObject",value:function(e){var t=e.x,n=e.y,r=e.viewports,i=this.context.lastPickedInfo.info,o=i&&i.layer&&i.layer.id,a=o?this.layers.find((function(e){return e.id===o})):null,s=r[0]&&r[0].unproject([t,n]),u={x:t,y:n,coordinate:s,lngLat:s,layer:a};return a?Object.assign({},i,u):Object.assign(u,{color:null,object:null,index:-1})}},{key:"pickObject",value:function(e){var t=e.x,n=e.y,r=e.mode,i=e.radius,o=void 0===i?0:i,a=e.layerIds,s=e.viewports,u=e.depth,l=void 0===u?1:u,c=e.event,d=void 0===c?null:c,f=this.context,h=f.gl,p=f.useDevicePixels;this.context.pickingEvent=d;var g=Zt(h,{x:t,y:n,radius:o,layers:this.getLayers({layerIds:a}),mode:r,layerFilter:this.layerFilter,depth:l,viewports:s,onViewportActive:this._activateViewport,pickingFBO:this._getPickingBuffer(),lastPickedInfo:this.context.lastPickedInfo,useDevicePixels:p});return this.context.pickingEvent=null,g}},{key:"pickObjects",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.layerIds,a=e.viewports,s=this.context,u=s.gl,l=s.useDevicePixels;return Qt(u,{x:t,y:n,width:r,height:i,layers:this.getLayers({layerIds:o}),layerFilter:this.layerFilter,mode:"pickObjects",viewports:a,onViewportActive:this._activateViewport,pickingFBO:this._getPickingBuffer(),useDevicePixels:l})}},{key:"_checkIfNeedsRedraw",value:function(e){var t=this._needsRedraw;e&&(this._needsRedraw=!1);var n=!0,r=!1,i=void 0;try{for(var o,a=this.layers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getNeedsRedraw({clearRedrawFlags:e});t=t||s}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"_activateViewport",value:function(e){var t=this.context.viewport;if(!t||!e.equals(t)){i.log(4,"Viewport changed",e)(),this.context.viewport=e;var n=!0,r=!1,o=void 0;try{for(var a,s=this.layers[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u.setChangeFlags({viewportChanged:"Viewport changed"}),this._updateLayer(u)}}catch(l){r=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}return g(this.context.viewport,"LayerManager: viewport not set"),this}},{key:"_getPickingBuffer",value:function(){var e=this.context.gl;return this.context.pickingFBO=this.context.pickingFBO||new o.Framebuffer(e),this.context.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.context.pickingFBO}},{key:"_updateLayers",value:function(e){var t=e.oldLayers,n=e.newLayers,r={},o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r[c.id]?i.warn("Multiple old layers with same id ".concat(On(c)))():r[c.id]=c}}catch(p){a=!0,s=p}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}var d=[],f=this._updateSublayersRecursively({newLayers:n,oldLayerMap:r,generatedLayers:d}),h=this._finalizeOldLayers(r);return this._needsUpdate=!1,{error:f||h,generatedLayers:d}}},{key:"_updateSublayersRecursively",value:function(e){var t=e.newLayers,n=e.oldLayerMap,r=e.generatedLayers,o=null,a=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;d.context=this.context;var f=n[d.id];null===f&&i.warn("Multiple new layers with same id ".concat(On(d)))(),n[d.id]=null;var h=null;try{this._debug&&f!==d&&d.validateProps(),f?(this._transferLayerState(f,d),this._updateLayer(d),qe(d)):(this._initializeLayer(d),Ke(d)),r.push(d),h=d.isComposite&&d.getSubLayers()}catch(p){i.warn("error during matching of ".concat(On(d)),p)(),o=o||p}h&&this._updateSublayersRecursively({newLayers:h,oldLayerMap:n,generatedLayers:r})}}catch(p){s=!0,u=p}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return o}},{key:"_finalizeOldLayers",value:function(e){var t=null;for(var n in e){var r=e[n];r&&(t=t||this._finalizeLayer(r))}return t}},{key:"_initializeLayer",value:function(e){i.log(2,"initializing ".concat(On(e)))();var t=null;try{e._initialize(),e.lifecycle=rt}catch(u){i.warn("error while initializing ".concat(On(e),"\n"),u)(),t=t||u}e.internalState.layer=e;var n=!0,r=!1,o=void 0;try{for(var a,s=e.getModels()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)a.value.userData.layer=e}catch(u){r=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return t}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=nt,t!==e?(i.log(4,"matched ".concat(On(t)),e,"->",t)(),e.lifecycle=it):i.log(4,"Matching layer is unchanged ".concat(t.id))()}},{key:"_updateLayer",value:function(e){i.log(4,"updating ".concat(e," because: ").concat(e.printChangeFlags()))();var t=null;try{e._update()}catch(n){i.warn("error during update of ".concat(On(e)),n)(),t=n}return t}},{key:"_finalizeLayer",value:function(e){g(e.lifecycle!==ot),e.lifecycle=ot;var t=null;this.setNeedsRedraw("finalized ".concat(On(e)));try{e._finalize()}catch(n){i.warn("error during finalization of ".concat(On(e)),n)(),t=n}return e.lifecycle=at,i.log(2,"finalizing ".concat(On(e)))(),t}},{key:"_initSeer",value:function(){this.layers.forEach((function(e){Ke(e),qe(e)}))}},{key:"_editSeer",value:function(e){if("edit"===e.type&&"props"===e.valuePath[0]){var t,n,r;t=e.itemKey,n=e.valuePath.slice(1),r=e.value,ue.a.isReady()&&(He.has(t)||He.set(t,new Map),He.get(t).set(n,r));var i=this.layers.map((function(e){return new e.constructor(e.props)}));this.updateLayers({newLayers:i})}}}])&&kn(t.prototype,n),r&&kn(t,r),e}();function Pn(e,t){return e===t||Object.keys(e).every((function(n){return Array.isArray(e[n])&&Array.isArray(t[n])?Pn(e[n],t[n]):e[n]===t[n]}))}function In(e){return(In="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Dn=/([0-9]+\.?[0-9]*)(%|px)/;function An(e){switch(In(e)){case"number":return{position:e,relative:!1};case"string":var t=e.match(Dn);if(t&&t.length>=3){var n="%"===t[2],r=parseFloat(t[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(e))}}function Mn(e,t){return e.relative?Math.round(e.position*t):e.position}function jn(e){return(jn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rn(this,e);var n=t.id,r=void 0===n?null:n,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,u=t.width,l=void 0===u?"100%":u,c=t.height,d=void 0===c?"100%":c,f=t.projectionMatrix,h=void 0===f?null:f,p=t.fovy,m=void 0===p?75:p,v=t.near,b=void 0===v?.1:v,y=t.far,_=void 0===y?1e3:y,x=t.modelMatrix,S=void 0===x?null:x,w=t.viewportInstance,C=void 0===w?null:w,k=t.type,E=void 0===k?Sn:k;g(!C||C instanceof Sn),this.viewportInstance=C,this.id=r||this.constructor.displayName||"view",this.type=E,this.props=Object.assign({},t,{projectionMatrix:h,fovy:m,near:b,far:_,modelMatrix:S}),this._parseDimensions({x:o,y:s,width:l,height:d}),this.equals=this.equals.bind(this),Object.seal(this)}var t,n,r;return t=e,(n=[{key:"equals",value:function(e){return this===e||(this.viewportInstance?e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):Pn(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,n=e.height,r=e.viewState;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);var i=this.getDimensions({width:t,height:n}),o=Object.assign({viewState:r},r,this.props,i);return this._getViewport(o)}},{key:"getViewStateId",value:function(){switch(jn(this.props.viewState)){case"string":return this.props.viewState;case"object":return this.props.viewState&&this.props.viewState.id;default:return this.id}}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===jn(this.props.viewState)){if(!this.props.viewState.id)return this.props.viewState;var t=Object.assign({},e);for(var n in this.props.viewState)"id"!==n&&(t[n]=this.props.viewState[n]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,n=e.height;return{x:Mn(this._x,t),y:Mn(this._y,n),width:Mn(this._width,t),height:Mn(this._height,n)}}},{key:"_getControllerProps",value:function(e){var t=this.props.controller;return t?!0===t?e:("function"===typeof t&&(t={type:t}),Object.assign({},e,t)):null}},{key:"_getViewport",value:function(e){return new(0,this.type)(e)}},{key:"_parseDimensions",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;this._x=An(t),this._y=An(n),this._width=An(r),this._height=An(i)}}])&&Fn(t.prototype,n),r&&Fn(t,r),e}();function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ln(this,e),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="Initial render",this._needsUpdate=!0,this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractiveStateChange:t.onInteractiveStateChange},Object.seal(this),this.setProps(t)}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){for(var e in this.controllers)this.controllers[e]&&this.controllers[e].finalize();this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0===t||t,r=this._needsRedraw;return n&&(this._needsRedraw=!1),r}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return"string"===typeof e?this.views.find((function(t){return t.id===e})):e}},{key:"getViewState",value:function(e){var t=this.getView(e),n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"project",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{topLeft:!0},n=this.getViewports(),r=n.length-1;r>=0;--r){var i=n[r];if(i.contains(e,t))return i.project(e,t)}return null}},{key:"unproject",value:function(e,t){for(var n=this.getViewports(),r=n.length-1;r>=0;--r){var i=n[r];if(i.containsPixel(e,t))return i.unproject(e)}return null}},{key:"setProps",value:function(e){"views"in e&&this._setViews(e.views),"viewState"in e&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){g(Number.isFinite(e)&&Number.isFinite(t)),e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=nn(e,{filter:Boolean}).map((function(e){return e instanceof Sn?new Nn({viewportInstance:e}):e})),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!Pn(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):i.warn("setting null viewState")()}},{key:"_onViewStateChange",value:function(e,t){t.viewId=e,this._eventCallbacks.onViewStateChange(t)}},{key:"_createController",value:function(e){return new(0,e.type)(Object.assign({eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,e.id),onStateChange:this._eventCallbacks.onInteractiveStateChange},e))}},{key:"_updateController",value:function(e,t,n,r){if(e.controller){var i=Object.assign({},e.controller,t,{id:e.id,x:n.x,y:n.y,width:n.width,height:n.height});return r?r.setProps(i):r=this._createController(i),r}return null}},{key:"_rebuildViewports",value:function(){var e=this,t=this.width,n=this.height,r=this.views,i=this.controllers;for(var o in this.controllers={},this._viewports=r.map((function(r){var o=e.getViewState(r),a=r.makeViewport({width:t,height:n,viewState:o});return e.controllers[r.id]=e._updateController(r,o,a,i[r.id]),a})),i)i[o]&&!this.controllers[o]&&i[o].finalize();this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(n,r){return!e[r].equals(t[r])}))}}])&&Bn(t.prototype,n),r&&Bn(t,r),e}(),Un=n(13),Hn=n(12),Vn=n(14),Wn=n(24),Gn=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Kn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,i=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,l=n.zoom,c=void 0===l?0:l,d=n.pitch,f=void 0===d?0:d,h=n.bearing,p=void 0===h?0:h,g=n.altitude,m=void 0===g?1.5:g,v=n.nearZMultiplier,b=n.farZMultiplier;Object(an.a)(this,t),r=r||1,i=i||1;var y=U(c);m=Math.max(.75,m);var _=V([u,a],y);_[2]=0;var x=X({width:r,height:i,pitch:f,bearing:p,altitude:m,nearZMultiplier:v||1/i,farZMultiplier:b||1.01}),S=q({height:i,center:_,pitch:f,bearing:p,altitude:m,flipY:!0});return(e=Object(Un.a)(this,Object(Hn.a)(t).call(this,{width:r,height:i,viewMatrix:S,projectionMatrix:x}))).latitude=a,e.longitude=u,e.zoom=c,e.pitch=f,e.bearing=p,e.altitude=m,e.scale=y,e.center=_,e.pixelsPerMeter=G(Object(Wn.a)(Object(Wn.a)(e))).pixelsPerMeter[2],Object.freeze(Object(Wn.a)(Object(Wn.a)(e))),e}return Object(Vn.a)(t,e),Object(sn.a)(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return V(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return W(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=Q(e.pos,this.pixelUnprojectionMatrix),r=V(t,this.scale),i=R.a([],r,R.e([],n));return W(R.a([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=qn(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height,i=t.viewMatrix,o=void 0===i?Gn:i,a=t.projectionMatrix,s=void 0===a?Gn:a;Object(an.a)(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.g(u,u,this.projectionMatrix),l.g(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.n(c,c,[this.width/2,-this.height/2,1]),l.o(c,c,[1,-1,0]),l.g(c,c,this.viewProjectionMatrix);var d=l.e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c);if(!d)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=d,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(sn.a)(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&l.b(t.projectionMatrix,this.projectionMatrix)&&l.b(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=this.projectPosition(e),o=Z(i,this.pixelProjectionMatrix),a=Object(D.a)(o,2),s=a[0],u=a[1],l=r?u:this.height-u;return 2===e.length?[s,l]:[s,l,o[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=Object(D.a)(e,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=i&&i*this.pixelsPerMeter,d=Q([a,l,u],this.pixelUnprojectionMatrix,c),f=this.unprojectPosition(d),h=Object(D.a)(f,3),p=h[0],g=h[1],m=h[2];return Number.isFinite(u)?[p,g,m]:Number.isFinite(i)?[p,g,i]:[p,g]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(D.a)(t,2);return[n[0],n[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(D.a)(t,2);return[n[0],n[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}}]),e}());function qn(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,a=e.maxZoom,s=void 0===a?24:a,u=e.padding,l=void 0===u?0:u,c=e.offset,d=void 0===c?[0,0]:c,f=Object(D.a)(r,2),h=Object(D.a)(f[0],2),p=h[0],g=h[1],m=Object(D.a)(f[1],2),v=m[0],b=m[1];if(Number.isFinite(l)){l={top:l,bottom:l,left:l,right:l}}else F(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var y=new Kn({width:t,height:n,longitude:0,latitude:0,zoom:0}),_=y.project([p,b]),x=y.project([v,g]),S=[Math.max(Math.abs(x[0]-_[0]),o),Math.max(Math.abs(x[1]-_[1]),o)],w=[t-l.left-l.right-2*Math.abs(d[0]),n-l.top-l.bottom-2*Math.abs(d[1])];F(w[0]>0&&w[1]>0);var C=w[0]/S[0],k=w[1]/S[1],E=(l.right-l.left)/2/C,O=(l.bottom-l.top)/2/k,T=[(x[0]+_[0])/2+E,(x[1]+_[1])/2+O],P=y.unproject(T),I=y.zoom+Math.log2(Math.abs(Math.min(C,k)));return{longitude:P[0],latitude:P[1],zoom:Math.min(I,s)}}function Yn(e){return(Yn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return!t||"object"!==Yn(t)&&"function"!==typeof t?tr(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var nr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Zn(this,t);var r=n.latitude,i=void 0===r?0:r,o=n.longitude,a=void 0===o?0:o,s=n.zoom,u=void 0===s?11:s,l=n.pitch,c=void 0===l?0:l,d=n.bearing,f=void 0===d?0:d,h=n.nearZMultiplier,p=void 0===h?.1:h,g=n.farZMultiplier,m=void 0===g?10:g,v=n.orthographic,b=void 0!==v&&v,y=n.width,_=n.height,x=n.altitude,S=void 0===x?1.5:x,w=Y({width:y=y||1,height:_=_||1,pitch:c,altitude:S=Math.max(.75,S),nearZMultiplier:p,farZMultiplier:m}),C=w.fov,k=w.aspect,E=w.focalDistance,O=w.near,T=w.far,P=q({height:_,pitch:c,bearing:f,altitude:S}),I=n.position&&[n.position[0],n.position[1],0],D=Object.assign({},n,{width:y,height:_,viewMatrix:P,longitude:a,latitude:i,zoom:u,position:I,orthographic:b,fovyRadians:C,aspect:k,orthographicFocalDistance:E,near:O,far:T});return(e=$n(this,Jn(t).call(this,D))).latitude=i,e.longitude=a,e.zoom=u,e.pitch=c,e.bearing=f,e.altitude=S,e.orthographic=b,e.metersToLngLatDelta=e.metersToLngLatDelta.bind(tr(tr(e))),e.lngLatDeltaToMeters=e.lngLatDeltaToMeters.bind(tr(tr(e))),e.addMetersToLngLat=e.addMetersToLngLat.bind(tr(tr(e))),Object.freeze(tr(tr(e))),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,e),n=t,(r=[{key:"metersToLngLatDelta",value:function(e){var t=Xn(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;g(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to WebMercatorViewport");var a=this.distanceScales,s=a.pixelsPerMeter,u=a.degreesPerPixel,l=n*s[0]*u[0],c=r*s[1]*u[1];return 2===e.length?[l,c]:[l,c,o]}},{key:"lngLatDeltaToMeters",value:function(e){var t=Xn(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;g(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to WebMercatorViewport");var a=this.distanceScales,s=a.pixelsPerDegree,u=a.metersPerPixel,l=n*s[0]*u[0],c=r*s[1]*u[1];return 2===e.length?[l,c]:[l,c,o]}},{key:"addMetersToLngLat",value:function(e,t){return K(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=Q(e.pos,this.pixelUnprojectionMatrix),r=this.projectFlat(t),i=R.a([],r,R.e([],n)),o=R.a([],this.center,i);return this.unprojectFlat(o)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=qn(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}}])&&Qn(n.prototype,r),i&&Qn(n,i),t}(Sn);function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}nr.displayName="WebMercatorViewport";var or=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rr(this,e),Array.isArray(t)&&(t={compare:t,extract:t,required:t});var n=t,r=n.compare,i=n.extract,o=n.required;this._propsToCompare=r,this._propsToExtract=i,this._requiredProps=o}var t,n,r;return t=e,(n=[{key:"arePropsEqual",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=(this._propsToCompare||Object.keys(t))[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!Object(fn.e)(e[s],t[s]))return!1}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(e,t){var n;if(this._propsToExtract){var r={},i={},o=!0,a=!1,s=void 0;try{for(var u,l=this._propsToExtract[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r[c]=e[c],i[c]=t[c]}}catch(d){a=!0,s=d}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}n={start:r,end:i}}else n={start:e,end:t};return this._checkRequiredProps(n.start),this._checkRequiredProps(n.end),n}},{key:"interpolateProps",value:function(e,t,n){g(!1,"interpolateProps is not implemented")}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var n=e[t];g(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}])&&ir(t.prototype,n),r&&ir(t,r),e}();function ar(e){return(ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==ar(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fr=["longitude","latitude","zoom","bearing","pitch"],hr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr;return sr(this,t),lr(this,cr(t).call(this,e))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(t,e),n=t,(r=[{key:"interpolateProps",value:function(e,t,n){var r={};for(var i in t)r[i]=Object(fn.g)(e[i],t[i],n);return r}}])&&ur(n.prototype,r),i&&ur(n,i),t}(or);function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mr=function(){},vr={BREAK:1,SNAP_TO_END:2,IGNORE:3},br={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new hr,transitionInterruption:vr.BREAK,onTransitionStart:mr,onTransitionInterrupt:mr,onTransitionEnd:mr},yr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pr(this,e),g(t),this.ControllerState=t,this.props=Object.assign({},br,n),this.animation=null,this.propsInTransition=null,this.transition=new Ie,this.onViewStateChange=n.onViewStateChange,this._onTransitionFrame=this._onTransitionFrame.bind(this),this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){cancelAnimationFrame(this.animation)}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,n=this.props;if(e=Object.assign({},br,e),this.props=e,this._shouldIgnoreViewportChange(n,e))return t;if(this._isTransitionEnabled(e)){var r=Object.assign({},n,this.transition.interruption===vr.SNAP_TO_END?this.transition.endProps:this.propsInTransition||n);this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}},{key:"_isTransitionEnabled",value:function(e){return e.transitionDuration>0&&e.transitionInterpolator}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.transition.inProgress&&this.transition.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.interruption===vr.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){g(this._isTransitionEnabled(t),"Transition is not enabled"),cancelAnimationFrame(this.animation);var n=new this.ControllerState(e),r=new this.ControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator.initializeProps(e,r);this.propsInTransition={},this.transition.start({duration:t.transitionDuration,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startProps:i.start,endProps:i.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)}),this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function(){this.animation=requestAnimationFrame(this._onTransitionFrame),this.transition.update(Date.now())}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(n){cancelAnimationFrame(t.animation),t.propsInTransition=null,e(n)}}},{key:"_onTransitionUpdate",value:function(e){var t=e.interpolator,n=e.startProps,r=e.endProps,i=e.time,o=t.interpolateProps(n,r,i);this.propsInTransition=new this.ControllerState(Object.assign({},this.props,o)).getViewportProps(),this.onViewStateChange&&this.onViewStateChange({viewState:this.propsInTransition,interactionState:{inTransition:!0}})}}])&&gr(t.prototype,n),r&&gr(t,r),e}();function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}yr.defaultProps=br;var wr={transitionDuration:0},Cr=["wheel"],kr=["panstart","panmove","panend"],Er=["pinchstart","pinchmove","pinchend"],Or=["doubletap"],Tr=["keydown"],Pr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xr(this,e),g(t),this.ControllerState=t,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new yr(t,n),this._events=null,this._state={isDragging:!1},this.events=[],this.onViewStateChange=null,this.onStateChange=null,this.invertPan=!1,this.handleEvent=this.handleEvent.bind(this),this.setProps(n)}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){for(var e in this._events)this._events[e]&&this.eventManager.off(e,this.handleEvent);this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){var t=this.ControllerState;switch(this.controllerState=new t(Object.assign({},this.controllerStateProps,this._state)),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=this.controllerStateProps,n=t.x,r=t.y,i=e.offsetCenter;return[i.x-n,i.y-r]}},{key:"isPointInBounds",value:function(e){var t=this.controllerStateProps,n=t.width,r=t.height;return e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=r}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._state.isDragging}},{key:"setProps",value:function(e){"onViewportChange"in e&&i.removed("onViewportChange")(),"onViewStateChange"in e&&(this.onViewStateChange=e.onViewStateChange),"onStateChange"in e&&(this.onStateChange=e.onStateChange),this.controllerStateProps=e,"eventManager"in e&&this.eventManager!==e.eventManager&&(this.eventManager=e.eventManager,this._events={},this.toggleEvents(this.events,!0)),this.transitionManager.processViewStateChange(this.controllerStateProps);var t=e.scrollZoom,n=void 0===t||t,r=e.dragPan,o=void 0===r||r,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,l=void 0===u||u,c=e.touchZoom,d=void 0===c||c,f=e.touchRotate,h=void 0!==f&&f,p=e.keyboard,g=void 0===p||p,m=Boolean(this.onViewStateChange);this.toggleEvents(Cr,m&&n),this.toggleEvents(kr,m&&(o||s)),this.toggleEvents(Er,m&&(d||h)),this.toggleEvents(Or,m&&l),this.toggleEvents(Tr,m&&g),this.scrollZoom=n,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=d,this.touchRotate=h,this.keyboard=g}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"setOptions",value:function(e){return this.setProps(e)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},e.getViewportProps(),t),i=this.controllerState!==e;if(i){var o=this.controllerState?this.controllerState.getViewportProps():null;this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:n,oldViewState:o})}Object.assign(this._state,Object.assign({},e.getInteractiveState(),n)),this.onStateChange&&this.onStateChange(this._state)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t))return!1;var n=this.controllerState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,wr,{isDragging:!0})}},{key:"_onPan",value:function(e){var t=this.isFunctionKeyPressed(e)||e.rightButton;return(t=this.invertPan?!t:t)?this._onPanMove(e):this._onPanRotate(e)}},{key:"_onPanEnd",value:function(e){var t=this.controllerState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1})}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e);if(!this.isDragging())return!1;var n=this.controllerState.pan({pos:t});return this.updateViewport(n,wr,{isDragging:!0})}},{key:"_onPanRotate",value:function(e){return!!this.dragRotate&&this._onPanRotateStandard(e)}},{key:"_onPanRotateStandard",value:function(e){var t=e.deltaX,n=e.deltaY,r=this.controllerState.getViewportProps(),i=t/r.width,o=n/r.height,a=this.controllerState.rotate({deltaScaleX:i,deltaScaleY:o});return this.updateViewport(a,wr,{isDragging:!0})}},{key:"_onPanRotateMap",value:function(e){var t=e.deltaX,n=e.deltaY,r=_r(this.getCenter(e),2)[1],i=r-n,o=this.controllerState.getViewportProps(),a=o.width,s=o.height,u=t/a,l=0;n>0?Math.abs(s-i)>5&&(l=n/(i-s)*1.2):n<0&&i>5&&(l=1-r/i),l=Math.min(1,Math.max(-1,l));var c=this.controllerState.rotate({deltaScaleX:u,deltaScaleY:l});return this.updateViewport(c,wr,{isDragging:!0})}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t))return!1;var n=e.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.controllerState.zoom({pos:t,scale:r});return this.updateViewport(i,wr)}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t))return!1;var n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,wr,{isDragging:!0})}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.controllerState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,wr,{isDragging:!0})}},{key:"_onPinchEnd",value:function(e){var t=this.controllerState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t))return!1;var n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps())}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=this.controllerState;switch(e.srcEvent.keyCode){case 189:t=n?r.zoomOut().zoomOut():r.zoomOut();break;case 187:t=n?r.zoomIn().zoomIn():r.zoomIn();break;case 37:t=n?r.rotateLeft():r.moveLeft();break;case 39:t=n?r.rotateRight():r.moveRight();break;case 38:t=n?r.rotateUp():r.moveUp();break;case 40:t=n?r.rotateDown():r.moveDown();break;default:return!1}return this.updateViewport(t,this._getTransitionProps())}},{key:"_getTransitionProps",value:function(){return wr}}])&&Sr(t.prototype,n),r&&Sr(t,r),e}(),Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phi,r=t.theta,i=t.radius,o=t.bearing,a=t.pitch,s=(t.altitude,t.radiusScale),u=void 0===s?6371e3:s;Object(an.a)(this,e),0===arguments.length?(this.phi=0,this.theta=0,this.radius=1):Number.isFinite(n)||Number.isFinite(r)?(this.phi=n||0,this.theta=r||0):(Number.isFinite(o)||Number.isFinite(a))&&(this.bearing=o||0,this.pitch=a||0),this.radius=i||1,this.radiusScale=u||1,this.check()}return Object(sn.a)(e,[{key:"toString",value:function(){return this.formatString(fn.c)}},{key:"formatString",value:function(e){var t=e.printTypes,n=(e.printDegrees,fn.f);return"".concat(t?"Spherical":"","[rho:").concat(n(this.radius),",theta:").concat(n(this.theta),",phi:").concat(n(this.phi),"]")}},{key:"equals",value:function(e){return Object(fn.e)(this.radius,e.radius)&&Object(fn.e)(this.theta,e.theta)&&Object(fn.e)(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this.check()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=Object(D.a)(e,3),n=t[0],r=t[1],i=t[2];this.radius=1+i/this.radiusScale,this.phi=Object(fn.h)(r),this.theta=Object(fn.h)(n)}},{key:"fromVector3",value:function(e){return this.radius=I.c(e),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(fn.b)(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new pn.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi))}},{key:"check",value:function(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}},{key:"bearing",get:function(){return 180-Object(fn.d)(this.phi)},set:function(e){this.phi=Math.PI-Object(fn.h)(e)}},{key:"pitch",get:function(){return Object(fn.d)(this.theta)},set:function(e){this.theta=Object(fn.h)(e)}},{key:"longitude",get:function(){return Object(fn.d)(this.phi)}},{key:"latitude",get:function(){return Object(fn.d)(this.theta)}},{key:"lng",get:function(){return Object(fn.d)(this.phi)}},{key:"lat",get:function(){return Object(fn.d)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}}]),e}();function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ar={position:[0,0,0],lookAt:[0,0,0],up:[0,0,1],rotationX:0,rotationY:0,fov:50,near:1,far:100},Mr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.width,r=t.height,i=t.position,o=void 0===i?Ar.position:i;g(Number.isFinite(n),"`width` must be supplied"),g(Number.isFinite(r),"`height` must be supplied"),this._viewportProps=this._applyConstraints(Object.assign({},t,{position:new pn.a(o)}))}var t,n,r;return t=e,(n=[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getDirection",value:function(){return new Ir({bearing:this._viewportProps.bearing,pitch:this._viewportProps.pitch}).toVector3().normalize()}},{key:"getDirectionFromBearing",value:function(e){return new Ir({bearing:e,pitch:90}).toVector3().normalize()}},{key:"shortestPathFrom",value:function(e){return this._viewportProps}},{key:"_applyConstraints",value:function(e){return e}}])&&Dr(t.prototype,n),r&&Dr(t,r),e}();function jr(e){return(jr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t,n){return t&&Nr(e.prototype,t),n&&Nr(e,n),e}function Br(e,t){return!t||"object"!==jr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vr={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new hr,transitionInterruption:vr.BREAK},Wr=0,Gr=20,Kr=0,qr=60,Yr=0,Xr=0,Zr=1.5,Qr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,i=n.height,o=n.latitude,a=n.longitude,s=n.zoom,u=n.bearing,l=void 0===u?Xr:u,c=n.pitch,d=void 0===c?Yr:c,f=n.altitude,h=void 0===f?Zr:f,p=n.maxZoom,m=void 0===p?Gr:p,v=n.minZoom,b=void 0===v?Wr:v,y=n.maxPitch,_=void 0===y?qr:y,x=n.minPitch,S=void 0===x?Kr:x,w=n.startPanLngLat,C=n.startZoomLngLat,k=n.startBearing,E=n.startPitch,O=n.startZoom;return Fr(this,t),g(Number.isFinite(a),"`longitude` must be supplied"),g(Number.isFinite(o),"`latitude` must be supplied"),g(Number.isFinite(s),"`zoom` must be supplied"),(e=Br(this,zr(t).call(this,{width:r,height:i,latitude:o,longitude:a,zoom:s,bearing:l,pitch:d,altitude:h,maxZoom:m,minZoom:b,maxPitch:_,minPitch:S})))._interactiveState={startPanLngLat:w,startZoomLngLat:C,startBearing:k,startPitch:E,startZoom:O},e}return Ur(t,e),Lr(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=Rr(this._calculateNewLngLat({startPanLngLat:r,pos:t}),2),o=i[0],a=i[1];return this._getUpdatedState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,r=e.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;g(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),g(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o}),u=Rr(new Kn(Object.assign({},this._viewportProps,{zoom:s})).getLocationAtPoint({lngLat:a,pos:t}),2),l=u[0],c=u[1];return this._getUpdatedState({zoom:s,longitude:l,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){return this._zoomFromCenter(2)}},{key:"zoomOut",value:function(){return this._zoomFromCenter(.5)}},{key:"moveLeft",value:function(){return this._panFromCenter([100,0])}},{key:"moveRight",value:function(){return this._panFromCenter([-100,0])}},{key:"moveUp",value:function(){return this._panFromCenter([0,100])}},{key:"moveDown",value:function(){return this._panFromCenter([0,-100])}},{key:"rotateLeft",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing-15})}},{key:"rotateRight",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing+15})}},{key:"rotateUp",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch+10})}},{key:"rotateDown",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch-10})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=Object.assign({},this._viewportProps),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"_zoomFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=Object(fn.b)(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=Object(fn.b)(a,o,i),Object.assign(e,function(e){var t=e.width,n=e.height,r=e.longitude,i=e.latitude,o=e.zoom,a=e.pitch,s=void 0===a?0:a,u=e.bearing,l=void 0===u?0:u;(r<-180||r>180)&&(r=M(r+180,360)-180),(l<-180||l>180)&&(l=M(l+180,360)-180);var c=new Kn({width:t,height:n,longitude:r,latitude:i,zoom:o}),d=c.project([r,85.05113])[1],f=c.project([r,-85.05113])[1],h=0;return f-d<n&&(o+=Math.log2(n/(f-d)),d=(c=new Kn({width:t,height:n,longitude:r,latitude:i,zoom:o})).project([r,85.05113])[1],f=c.project([r,-85.05113])[1]),d>0?h=d:f<n&&(h=f-n),h&&(i=c.unproject([t/2,n/2+h])[1]),{width:t,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:l}}(e)),e}},{key:"_unproject",value:function(e){var t=new Kn(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new Kn(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom,a=n+Math.log2(t);return Object(fn.b)(a,o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=Object(fn.b)(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}}]),t}(Mr),$r=function(e){function t(e){var n;return Fr(this,t),(n=Br(this,zr(t).call(this,Qr,e))).invertPan=!0,n}return Ur(t,e),Lr(t,[{key:"_getTransitionProps",value:function(){return Vr}},{key:"_onPanRotate",value:function(e){return!!this.dragRotate&&this._onPanRotateMap(e)}}]),t}(Pr);function Jr(e){return(Jr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t){return!t||"object"!==Jr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ii=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ti(this,ni(t).call(this,Object.assign({},e,{type:nr})))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}(t,e),n=t,(r=[{key:"controller",get:function(){return this._getControllerProps({type:$r})}}])&&ei(n.prototype,r),i&&ei(n,i),t}(Nn);function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ii.displayName="MapView";var ai=function(){function e(t){var n=t.gl,r=t.layerManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=n,this.layerManager=r,this._effects=[]}var t,n,r;return t=e,(n=[{key:"addEffect",value:function(e){this._effects.push(e),this._sortEffects(),e.initialize({gl:this.gl,layerManager:this.layerManager})}},{key:"removeEffect",value:function(e){var t=this._effects.indexOf(e);return t>=0&&(e.finalize({gl:this.gl,layerManager:this.layerManager}),this._effects.splice(t,1),!0)}},{key:"preDraw",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._effects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.needsRedraw&&o.preDraw({gl:this.gl,layerManager:this.layerManager})}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"draw",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._effects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.needsRedraw&&o.draw({gl:this.gl,layerManager:this.layerManager})}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"_sortEffects",value:function(){this._effects.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.count-t.count}))}}])&&oi(t.prototype,n),r&&oi(t,r),e}();function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ui=0,li=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="effect",this.count=ui++,this.visible=!0,this.priority=0,this.needsRedraw=!1}var t,n,r;return t=e,(n=[{key:"initialize",value:function(e){e.gl,e.layerManager}},{key:"finalize",value:function(e){e.gl,e.layerManager}},{key:"preDraw",value:function(e){e.gl,e.layerManager}},{key:"draw",value:function(e){e.gl,e.layerManager}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.needsRedraw=e}}])&&si(t.prototype,n),r&&si(t,r),e}(),ci=n(101),di=n.n(ci),fi={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(di.a.PointerEventInput),di.a.MouseInput.prototype.handler=function(e){var t=fi[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var hi=di.a.Manager,pi=di.a,gi=pi?[[pi.Rotate,{enable:!1}],[pi.Pinch,{enable:!1}],[pi.Swipe,{enable:!1}],[pi.Pan,{threshold:0,enable:!1}],[pi.Press,{enable:!1}],[pi.Tap,{event:"doubletap",taps:2,enable:!1}],[pi.Tap,{event:"anytap",enable:!1}],[pi.Tap,{enable:!1}]]:null,mi={rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},vi={doubletap:["tap"]},bi={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},yi=["keydown","keyup"],_i=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],xi=["wheel","mousewheel","DOMMouseScroll"],Si={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},wi={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Ci=n(79),ki=-1!==Ci.b.indexOf("firefox"),Ei=xi,Oi=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(an.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=Ei.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent,!!Ci.a&&{passive:!1})}))}return Object(sn.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"wheel"===e&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){var t=e.deltaY;Ci.c.WheelEvent&&(ki&&e.deltaMode===Ci.c.WheelEvent.DOM_DELTA_PIXEL&&(t/=Ci.c.devicePixelRatio),e.deltaMode===Ci.c.WheelEvent.DOM_DELTA_LINE&&(t*=40));var n={x:e.clientX,y:e.clientY};0!==t&&t%4.000244140625===0&&(t=Math.floor(t/4.000244140625)),e.shiftKey&&t&&(t*=.25),this._onWheel(e,-t,n)}}},{key:"_onWheel",value:function(e,t,n){this.callback({type:"wheel",center:n,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),Ti=_i,Pi=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(an.a)(this,e),this.element=t,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=Ti.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return Object(sn.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"pointermove"===e&&(this.enableMoveEvent=t),"pointerover"===e&&(this.enableOverEvent=t),"pointerout"===e&&(this.enableOutEvent=t),"pointerleave"===e&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){this.handleOverEvent(e),this.handleOutEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this.callback({type:"pointerover",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this.callback({type:"pointerout",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:"pointerleave",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}(),Ii=yi,Di=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(an.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Ii.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=i.tabIndex||0,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,r.handleEvent)}))}return Object(sn.a)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"keydown"===e&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:"keydown",srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:"keyup",srcEvent:e,key:e.key,target:e.target}))}}]),e}(),Ai=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(an.a)(this,e),this.element=t,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return Object(sn.a)(e,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){"contextmenu"===e&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){this.options.enable&&this.callback({type:"contextmenu",center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),Mi=n(32),ji={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Ri={srcElement:"root",priority:0},Fi=function(){function e(t){Object(an.a)(this,e),this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(sn.a)(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Object(Mi.a)(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Ri,n):Ri;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:e,handler:t,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),i&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var l=s.length-1;l>=0&&!(s[l].priority>=u.priority);)l--;s.splice(l+1,0,u)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"handleEvent",value:function(e){if(!this.isEmpty()){for(var t=this._normalizeEvent(e),n=e.srcEvent.target;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")}}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],l=u.type,c=u.handler,d=u.once;if(c(Object.assign({},e,{type:l,stopPropagation:i,stopImmediatePropagation:o})),d&&a.push(n[s]),r)break}for(var f=0;f<a.length;f++){var h=a[f];l=h.type,c=h.handler;this.remove(l,c)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.element;return Object.assign({},e,function(e){var t=ji[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===t&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(e),function(e,t){var n=e.srcEvent;if(!e.center&&!Number.isFinite(n.clientX))return null;var r=e.center||{x:n.clientX,y:n.clientY},i=t.getBoundingClientRect(),o=i.width/t.offsetWidth,a=i.height/t.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-t.clientLeft)/o,y:(r.y-i.top-t.clientTop)/a}}}(e,t),{handled:!1,rootElement:t})}}]),e}(),Ni={events:null,recognizers:null,recognizerOptions:{},Manager:hi,touchAction:"none",tabIndex:0},Li=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(an.a)(this,e),this.options=Object.assign({},Ni,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var r=n.events;r&&this.on(r)}return Object(sn.a)(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,r=n.Manager;for(var i in this.manager=new r(e,{touchAction:n.touchAction,recognizers:n.recognizers||gi}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(mi).forEach((function(e){var n=t.manager.get(e);n&&mi[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new Oi(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Pi(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Di(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Ai(e,this._onOtherEvent,{enable:!1});var s=!0,u=!1,l=void 0;try{for(var c,d=this.events[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=Object(D.a)(c.value,2),h=f[0],p=f[1];p.isEmpty()||(this._toggleRecognizer(p.recognizerName,!0),this.manager.on(h,p.handleEvent))}}catch(g){u=!0,l=g}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=vi[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=wi[e]||e,u=a.get(s);u||(u=new Fi(this),a.set(s,u),u.recognizerName=Si[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=t,e)this._addEventHandler(l,e[l],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=wi[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){var o=i.recognizerName,a=!1,s=!0,u=!1,l=void 0;try{for(var c,d=n.values()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;if(f.recognizerName===o&&!f.isEmpty()){a=!0;break}}}catch(p){u=!0,l=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}a||this._toggleRecognizer(o,!1)}}else for(var h in e)this._removeEventHandler(h,e[h])}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,n=bi[t.type];n&&this.manager.emit(n,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}();function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(){}var Ui={id:"deckgl-overlay",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,_animate:!1,onWebGLInitialized:zi,onResize:zi,onViewStateChange:zi,onBeforeRender:zi,onAfterRender:zi,onLayerClick:null,onLayerHover:null,onLoad:zi,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},debug:!1,drawPickingColors:!1},Hi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},Ui,t),this.width=0,this.height=0,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.stats=new cn({id:"deck.gl"}),this._needsRedraw=!0,this.viewState=t.initialViewState||null,this.interactiveState={isDragging:!1},this._onEvent=this._onEvent.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerLeave=this._onPointerLeave.bind(this),this._pickAndCallback=this._pickAndCallback.bind(this),this._onRendererInitialized=this._onRendererInitialized.bind(this),this._onRenderFrame=this._onRenderFrame.bind(this),this._onViewStateChange=this._onViewStateChange.bind(this),this._onInteractiveStateChange=this._onInteractiveStateChange.bind(this),t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.setProps(t),this.animationLoop.start()}var t,n,r;return t=e,(n=[{key:"finalize",value:function(){this.animationLoop.stop(),this.animationLoop=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null),this.viewManager&&(this.viewManager.finalize(),this.viewManager=null),this.eventManager&&this.eventManager.destroy()}},{key:"setProps",value:function(e){this.stats.timeStart("deck.setProps"),e=Object.assign({},this.props,e),this.props=e,this._setCanvasSize(e);var t=Object.assign({},e,{views:this._getViews(e),width:this.width,height:this.height}),n=this._getViewState(e);n&&(t.viewState=n),this.viewManager&&this.viewManager.setProps(t),this.layerManager&&this.layerManager.setProps(t),this.animationLoop&&this.animationLoop.setProps(t),this.stats.timeEnd("deck.setProps")}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRedrawFlags,n=void 0===t||t;if(this.props._animate)return"Deck._animate";var r=this._needsRedraw;n&&(this._needsRedraw=!1);var i=this.viewManager.needsRedraw({clearRedrawFlags:n}),o=this.layerManager.needsRedraw({clearRedrawFlags:n});return r=r||i||o}},{key:"getViews",value:function(){return this.viewManager.views}},{key:"getViewports",value:function(e){return this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=e.x,n=e.y,r=e.radius,i=void 0===r?0:r,o=e.layerIds,a=void 0===o?null:o;this.stats.timeStart("deck.pickObject");var s=this.layerManager.pickObject({x:t,y:n,radius:i,layerIds:a,viewports:this.getViewports({x:t,y:n}),mode:"query",depth:1});return this.stats.timeEnd("deck.pickObject"),s.length?s[0]:null}},{key:"pickMultipleObjects",value:function(e){var t=e.x,n=e.y,r=e.radius,i=void 0===r?0:r,o=e.layerIds,a=void 0===o?null:o,s=e.depth,u=void 0===s?10:s;this.stats.timeStart("deck.pickMultipleObjects");var l=this.layerManager.pickObject({x:t,y:n,radius:i,layerIds:a,viewports:this.getViewports({x:t,y:n}),mode:"query",depth:u});return this.stats.timeEnd("deck.pickMultipleObjects"),l}},{key:"pickObjects",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o,s=e.layerIds,u=void 0===s?null:s;this.stats.timeStart("deck.pickObjects");var l=this.layerManager.pickObjects({x:t,y:n,width:i,height:a,layerIds:u,viewports:this.getViewports({x:t,y:n,width:i,height:a})});return this.stats.timeEnd("deck.pickObjects"),l}},{key:"_createCanvas",value:function(e){var t=e.canvas;"string"===typeof t&&g(t=document.getElementById(t)),t||(t=document.createElement("canvas"),(e.parent||document.body).appendChild(t));var n=e.id,r=e.style;return t.id=n,Object.assign(t.style,r),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,n=e.height;(t||0===t)&&(t=Number.isFinite(t)?"".concat(t,"px"):t,this.canvas.style.width=t),(n||0===n)&&(n=Number.isFinite(n)?"".concat(n,"px"):n,this.canvas.style.position="absolute",this.canvas.style.height=n)}}},{key:"_updateCanvasSize",value:function(){if(this._checkForCanvasSizeChange()){var e=this.width,t=this.height;this.viewManager.setProps({width:e,height:t}),this.props.onResize({width:this.width,height:this.height})}}},{key:"_checkForCanvasSizeChange",value:function(){var e=this.canvas;if(!e)return!1;var t=e.clientWidth||e.width,n=e.clientHeight||e.height;return(t!==this.width||n!==this.height)&&(this.width=t,this.height=n,!0)}},{key:"_createAnimationLoop",value:function(e){var t=this,n=e.width,r=e.height,i=e.gl,a=e.glOptions,s=e.debug,u=e.useDevicePixels,l=e.autoResizeDrawingBuffer;return new o.AnimationLoop({width:n,height:r,useDevicePixels:u,autoResizeDrawingBuffer:l,onCreateContext:function(e){return i||Object(o.createGLContext)(Object.assign({},a,e,{canvas:t.canvas,debug:s}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:e.onBeforeRender,onAfterRender:e.onAfterRender})}},{key:"_getViewState",value:function(e){return e.viewState||this.viewState}},{key:"_getViews",value:function(e){var t=e.views||[new ii({id:"default-view"})];return(t=Array.isArray(t)?t:[t]).length&&e.controller&&(t[0].props.controller=e.controller),t}},{key:"_pickAndCallback",value:function(e){var t=e.event.offsetCenter;if(t){var n=this.props.pickingRadius,r=this.layerManager.pickObject({x:t.x,y:t.y,radius:n,viewports:this.getViewports(t),mode:e.mode,depth:1,event:e.event});if(e.callback&&r){var i=r.find((function(e){return e.index>=0}))||null;e.callback(i,r,e.event.srcEvent)}}}},{key:"_updateCursor",value:function(){this.canvas&&(this.canvas.style.cursor=this.props.getCursor(this.interactiveState))}},{key:"_updateAnimationProps",value:function(e){this.layerManager.context.animationProps=e}},{key:"_setGLContext",value:function(e){if(!this.layerManager){if(this.canvas||(this.canvas=e.canvas,Object(o.trackContextState)(e,{enable:!0,copyState:!0})),Object(o.setParameters)(e,{blend:!0,blendFunc:[ce.a.SRC_ALPHA,ce.a.ONE_MINUS_SRC_ALPHA,ce.a.ONE,ce.a.ONE_MINUS_SRC_ALPHA],polygonOffsetFill:!0,depthTest:!0,depthFunc:ce.a.LEQUAL}),this.props.onWebGLInitialized(e),!this.props._customRender)for(var t in this.eventManager=new Li(e.canvas,{events:{click:this._onClick,pointermove:this._onPointerMove,pointerleave:this._onPointerLeave}}),f)this.eventManager.on(t,this._onEvent);this.viewManager=new zn({eventManager:this.eventManager,onViewStateChange:this._onViewStateChange,onInteractiveStateChange:this._onInteractiveStateChange,views:this._getViews(this.props),viewState:this._getViewState(this.props),width:this.width,height:this.height}),g(this.viewManager);var n=this.viewManager.getViewports()[0];this.layerManager=new Tn(e,{stats:this.stats,viewport:n}),this.effectManager=new ai({gl:e,layerManager:this.layerManager});var r=!0,i=!1,a=void 0;try{for(var s,u=this.props.effects[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;this.effectManager.addEffect(l)}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e){var t=this.layerManager.context.gl;Object(o.setParameters)(t,this.props.parameters),this.props.onBeforeRender({gl:t}),this.layerManager.drawLayers({pass:"screen",viewports:this.viewManager.getViewports(),views:this.viewManager.getViews(),redrawReason:e,drawPickingColors:this.props.drawPickingColors,customRender:Boolean(this.props._customRender)}),this.props.onAfterRender({gl:t})}},{key:"_onRendererInitialized",value:function(e){var t=e.gl;this._setGLContext(t)}},{key:"_onRenderFrame",value:function(e){if(this.stats.oneSecondPassed()){var t=this.stats.getStatsTable();if(this.stats.reset(),i.table(3,t)(),this.props._onMetrics){for(var n in t)t[n]=t[n].total;this.props._onMetrics(t)}}this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this.stats.bump("fps"),this._updateAnimationProps(e);var r=this.needsRedraw({clearRedrawFlags:!0});r&&(this.stats.bump("redraw"),this.props._customRender?this.props._customRender():this._drawLayers(r))}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState[e.viewId]=t,this.viewManager.setProps({viewState:t}))}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,n=void 0!==t&&t;n!==this.interactiveState.isDragging&&(this.interactiveState.isDragging=n)}},{key:"_onClick",value:function(e){this._pickAndCallback({callback:this.props.onLayerClick,event:e,mode:"click"})}},{key:"_onEvent",value:function(e){var t=f[e.type],n=e.offsetCenter;if(t&&n){var r=this.layerManager.getLastPickedObject({x:n.x,y:n.y,viewports:this.getViewports(n)}),i=r.layer,o=i&&(i[t.handler]||i.props[t.handler]),a=this.props[t.handler],s=!1;o&&(s=o.call(i,r,e)),!s&&a&&a(r,e)}}},{key:"_onPointerMove",value:function(e){e.leftButton||e.rightButton||this._pickAndCallback({callback:this.props.onLayerHover,event:e,mode:"hover"})}},{key:"_onPointerLeave",value:function(e){this.layerManager.pickObject({x:-1,y:-1,viewports:[],radius:1,mode:"hover"}),this.props.onLayerHover&&this.props.onLayerHover(null,[],e.srcEvent)}}])&&Bi(t.prototype,n),r&&Bi(t,r),e}();function Vi(e){return(Vi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return!t||"object"!==Vi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qi(e,t,n){return(qi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Hi.getPropTypes=function(e){return{id:e.string,width:e.oneOfType([e.number,e.string]),height:e.oneOfType([e.number,e.string]),layers:e.oneOfType([e.object,e.array]),layerFilter:e.func,views:e.oneOfType([e.object,e.array]),viewState:e.object,effects:e.arrayOf(e.instanceOf(li)),controller:e.oneOfType([e.func,e.bool,e.object]),gl:e.object,glOptions:e.object,parameters:e.object,pickingRadius:e.number,useDevicePixels:e.bool,onWebGLInitialized:e.func,onResize:e.func,onViewStateChange:e.func,onBeforeRender:e.func,onAfterRender:e.func,onLayerClick:e.func,onLayerHover:e.func,onLoad:e.func,debug:e.bool,drawPickingColors:e.bool,_animate:e.bool}},Hi.defaultProps=Ui;var Zi=function(e){function t(){return Wi(this,t),Ki(this,Yi(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,e),n=t,(r=[{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"setState",value:function(e){qi(Yi(t.prototype),"setState",this).call(this,e),this.setLayerNeedsUpdate()}},{key:"getPickingInfo",value:function(e){return e.info}},{key:"renderLayers",value:function(){return null}},{key:"shouldRenderSubLayer",value:function(e,t){var n=this.props._subLayerProps;return t&&t.length||n&&n[e]}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerProps",value:function(e){var t=this.props,n=t.opacity,r=t.pickable,i=t.visible,o=t.parameters,a=t.getPolygonOffset,s=t.highlightedObjectIndex,u=t.autoHighlight,l=t.highlightColor,c=t.coordinateSystem,d=t.coordinateOrigin,f=t.wrapLongitude,h=t.positionFormat,p=t.modelMatrix,g=t._subLayerProps,m={opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:u,highlightColor:l,coordinateSystem:c,coordinateOrigin:d,wrapLongitude:f,positionFormat:h,modelMatrix:p};return e&&Object.assign(m,e,g&&g[e.id],{id:"".concat(this.props.id,"-").concat(e.id),updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers)}),m}},{key:"_getAttributeManager",value:function(){return null}},{key:"_renderLayers",value:function(){var e=this.internalState.subLayers;e&&!this.needsUpdate()?i.log(3,"Composite layer reused subLayers ".concat(this),this.internalState.subLayers)():(e=nn(e=this.renderLayers(),{filter:Boolean}),this.internalState.subLayers=e,i.log(2,"Composite layer rendered new subLayers ".concat(this),e)());var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.parent=this}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"isComposite",get:function(){return!0}}])&&Gi(n.prototype,r),o&&Gi(n,o),t}(Gt);function Qi(e){return(Qi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return!t||"object"!==Qi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Zi.layerName="CompositeLayer";function oo(e,t){return Number.isFinite(e)?e:t}var ao=function(e){function t(e){var n,r=e.width,i=e.height,o=e.position,a=e.bearing,s=e.pitch,u=e.longitude,l=e.latitude,c=e.zoom,d=(e.syncBearing,e.bounds,e.startPanEventPosition),f=e.startPanPosition,h=e.startRotateCenter,p=e.startRotateViewport,g=e.startZoomPos,m=e.startZoom;return Ji(this,t),(n=to(this,no(t).call(this,{width:r,height:i,position:o,bearing:a,pitch:s,longitude:u,latitude:l,zoom:c})))._interactiveState={startPanEventPosition:d,startPanPosition:f,startRotateCenter:h,startRotateViewport:p,startZoomPos:g,startZoom:m},n}var n,r,i;return ro(t,e),n=t,(r=[{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos,n=this._viewportProps,r=n.translationX,i=n.translationY;return this._getUpdatedState({startPanPosition:[r,i],startPanEventPosition:t})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanEventPosition||n;if(!r)return this;var i=$i(this._interactiveState.startPanPosition||[],2),o=i[0],a=i[1];o=oo(o,this._viewportProps.translationX),a=oo(a,this._viewportProps.translationY);var s=t[0]-r[0],u=t[1]-r[1];return this._getUpdatedState({translationX:o+s,translationY:a-u})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null,startPanPos:null})}},{key:"rotateStart",value:function(e){return e.pos,this._getUpdatedState({startRotateCenter:this._viewportProps.position,startRotateViewport:this._viewportProps})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY;if(!this._interactiveState.startRotateCenter)return this;var r=this._viewportProps,i=r.bearing,o=r.pitch;return this._getUpdatedState({bearing:i+10*t,pitch:o-10*n})}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotateCenter:null,startRotateViewport:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPos:t,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this._viewportProps,o=i.zoom,a=i.minZoom,s=i.maxZoom,u=(i.width,i.height,i.translationX,i.translationY,this._interactiveState.startZoomPos||n||t),l=Object(fn.b)(o*r,a,s);return t[0],u[0],t[1],u[1],u[0],u[1],l/o<1?this.moveBackward():this.moveForward()}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPos:null,startZoom:null})}},{key:"moveLeft",value:function(){var e=this._viewportProps.bearing-2;return this._getUpdatedState({bearing:e})}},{key:"moveRight",value:function(){var e=this._viewportProps.bearing+2;return this._getUpdatedState({bearing:e})}},{key:"moveForward",value:function(){var e=this._viewportProps.position,t=this.getDirection(),n=new pn.a(t).normalize().scale(1);return this._getUpdatedState({position:new pn.a(e).add(n)})}},{key:"moveBackward",value:function(){var e=this._viewportProps.position,t=this.getDirection(),n=new pn.a(t).normalize().scale(-1);return this._getUpdatedState({position:new pn.a(e).add(n)})}},{key:"moveUp",value:function(){var e=this._viewportProps.position;return this._getUpdatedState({position:new pn.a(e).add([0,0,1])})}},{key:"moveDown",value:function(){var e=this._viewportProps.position,t=e[2]>=1?[0,0,-1]:[0,0,0];return this._getUpdatedState({position:new pn.a(e).add(t)})}},{key:"zoomIn",value:function(){return this._getUpdatedState({zoom:this._viewportProps.zoom+.2})}},{key:"zoomOut",value:function(){return this._getUpdatedState({zoom:this._viewportProps.zoom-.2})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}}])&&eo(n.prototype,r),i&&eo(n,i),t}(Mr),so=function(e){function t(e){return Ji(this,t),to(this,no(t).call(this,ao,e))}return ro(t,e),t}(Pr);function uo(e){return(uo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return!t||"object"!==uo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var go=function(e){function t(){return lo(this,t),fo(this,ho(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,e),n=t,(r=[{key:"_getViewport",value:function(e){var t=e.viewState,n=t.modelMatrix,r=void 0===n?null:n,i=t.bearing,o=t.up,a=void 0===o?[0,0,1]:o,s=function(e){var t=e.bearing,n=e.pitch;return new Ir({bearing:t,pitch:n}).toVector3().normalize()}({bearing:i,pitch:89}),u=r?r.transformDirection(s):s,l=(new hn.a).lookAt({eye:[0,0,0],center:u,up:a});return new Sn(Object.assign({},e,{zoom:null,viewMatrix:l}))}},{key:"controller",get:function(){return this._getControllerProps({type:so})}}])&&co(n.prototype,r),i&&co(n,i),t}(Nn);function mo(e){return(mo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t){return!t||"object"!==mo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}go.displayName="FirstPersonView";var So=function(e){function t(){return vo(this,t),yo(this,_o(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,e),n=t,(r=[{key:"_getViewport",value:function(e){var t=e.viewState,n=t.bearing,r=t.pitch,i=t.position,o=t.up,a=50*t.zoom,s=function(e){var t=e.bearing,n=e.pitch;return new Ir({bearing:t,pitch:n}).toVector3().normalize()}({bearing:n,pitch:r}).scale(-a).multiply(new pn.a(1,1,-1)),u=(new hn.a).multiplyRight((new hn.a).lookAt({eye:s,center:i,up:o}));return new Sn(Object.assign({},e,{id:this.id,zoom:null,viewMatrix:u}))}}])&&bo(n.prototype,r),i&&bo(n,i),t}(Nn);function wo(e){return(wo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ko(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return!t||"object"!==wo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}So.displayName="ThirdPersonView";var Io=Math.PI/180,Do=function(e){function t(e){var n,r=e.id,i=void 0===r?"orbit-viewport":r,o=e.width,a=e.height,s=e.distance,u=e.rotationX,c=void 0===u?0:u,d=e.rotationOrbit,f=void 0===d?0:d,h=e.orbitAxis,p=void 0===h?"Z":h,g=e.lookAt,m=void 0===g?[0,0,0]:g,v=e.up,b=void 0===v?[0,1,0]:v,y=e.fov,_=void 0===y?75:y,x=e.near,S=void 0===x?1:x,w=e.far,C=void 0===w?100:w,k=e.zoom,E=void 0===k?1:k;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var O=l.k([],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],-c/180*Math.PI);"Z"===p?l.m(O,O,-f/180*Math.PI):l.l(O,O,-f/180*Math.PI);var T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.n(T,T,[E,E,E]),l.o(T,T,[-m[0],-m[1],-m[2]]);var P=l.f([],[0,0,s],[0,0,0],b),I=_*Io,D=o/a,A=l.i([],I,D,S,C);return(n=Oo(this,To(t).call(this,{id:i,viewMatrix:l.g(P,P,l.g(O,O,T)),projectionMatrix:A,width:o,height:a}))).width=o,n.height=a,n.distance=s,n.rotationX=c,n.rotationOrbit=f,n.orbitAxis=p,n.lookAt=m,n.up=b,n.fov=_,n.near=S,n.far=C,n.zoom=E,n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(t,e),n=t,(r=[{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0!==n&&n,i=dn(this.pixelProjectionMatrix,[].concat(ko(e),[1])),o=Co(i,3),a=o[0],s=o[1],u=o[2],l=r?this.height-s:s;return[a,l,u]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0!==n&&n,i=Co(e,3),o=i[0],a=i[1],s=i[2],u=r?this.height-a:a;return dn(this.pixelUnprojectionMatrix,[o,u,s,1])}},{key:"getDistance",value:function(e){var t=e.boundingBox,n=e.fov;return Math.max(t[0],t[1],t[2])/2/Math.tan(n/180*Math.PI/2)}},{key:"fitBounds",value:function(e){var n=this.width,r=this.height,i=this.rotationX,o=this.rotationOrbit,a=this.orbitAxis,s=this.lookAt,u=this.up,l=this.fov;return new t({width:n,height:r,rotationX:i,rotationOrbit:o,orbitAxis:a,up:u,fov:l,near:this.near,far:this.far,zoom:this.zoom,lookAt:s,distance:this.getDistance({boundingBox:e,fov:l})})}}])&&Eo(n.prototype,r),i&&Eo(n,i),t}(Sn);function Ao(e){return(Ao="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){return!t||"object"!==Ao(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t&&No(e.prototype,t),n&&No(e,n),e}Do.displayName="OrbitViewport";var Bo={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new hr(["zoom"]),transitionInterruption:vr.BREAK},zo={lookAt:[0,0,0],rotationX:0,rotationOrbit:0,fov:50,near:1,far:100,translationX:0,translationY:0,zoom:1},Uo={minZoom:0,maxZoom:1/0};function Ho(e,t){return Number.isFinite(e)?e:t}var Vo=function(){function e(t){var n=t.width,r=t.height,i=t.distance,o=t.rotationX,a=t.rotationOrbit,s=t.orbitAxis,u=t.bounds,l=t.lookAt,c=t.fov,d=t.near,f=t.far,h=t.translationX,p=t.translationY,m=t.zoom,v=t.minZoom,b=t.maxZoom,y=t.startPanViewport,_=t.startPanPos,x=t.isPanning,S=t.startRotateViewport,w=t.isRotating,C=t.startZoomViewport,k=t.startZoomPos;Fo(this,e),g(Number.isFinite(n),"`width` must be supplied"),g(Number.isFinite(r),"`height` must be supplied"),g(Number.isFinite(i),"`distance` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,distance:i,rotationX:Ho(o,zo.rotationX),rotationOrbit:Ho(a,zo.rotationOrbit),orbitAxis:s,bounds:u,lookAt:l||zo.lookAt,fov:Ho(c,zo.fov),near:Ho(d,zo.near),far:Ho(f,zo.far),translationX:Ho(h,zo.translationX),translationY:Ho(p,zo.translationY),zoom:Ho(m,zo.zoom),minZoom:Ho(v,Uo.minZoom),maxZoom:Ho(b,Uo.maxZoom)}),this._interactiveState={startPanViewport:y,startPanPos:_,isPanning:x,startRotateViewport:S,isRotating:w,startZoomViewport:C,startZoomPos:k}}return Lo(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos,n=new Do(this._viewportProps);return this._getUpdatedOrbitState({startPanPos:t,startPanViewport:n})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos;if(this._interactiveState.isRotating)return this._getUpdatedOrbitState();var r=this._interactiveState.startPanPos||n;g(r,"`startPanPos` props is required");var i=this._interactiveState.startPanViewport||new Do(this._viewportProps),o=t[0]-r[0],a=t[1]-r[1],s=i.project(i.lookAt),u=i.unproject([s[0]-o,s[1]-a,s[2]]);return this._getUpdatedOrbitState({lookAt:u,isPanning:!0})}},{key:"panEnd",value:function(){return this._getUpdatedOrbitState({startPanViewport:null,startPanPos:null,isPanning:null})}},{key:"rotateStart",value:function(e){e.pos;var t=new Do(this._viewportProps);return this._getUpdatedOrbitState({startRotateViewport:t})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY;if(this._interactiveState.isPanning)return this._getUpdatedOrbitState();var r=this._interactiveState.startRotateViewport||{},i=r.rotationX,o=r.rotationOrbit;i=Ho(i,this._viewportProps.rotationX),o=Ho(o,this._viewportProps.rotationOrbit);var a=Object(fn.b)(i-180*n,-89.999,89.999),s=(o-180*t)%360;return this._getUpdatedOrbitState({rotationX:a,rotationOrbit:s,isRotating:!0})}},{key:"rotateEnd",value:function(){return this._getUpdatedOrbitState({startRotateViewport:null,isRotating:null})}},{key:"shortestPathFrom",value:function(e){return Object.assign({},this._viewportProps)}},{key:"zoomStart",value:function(e){var t=e.pos,n=new Do(this._viewportProps);return this._getUpdatedOrbitState({startZoomViewport:n,startZoomPos:t})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this._viewportProps,o=i.zoom,a=i.minZoom,s=i.maxZoom,u=i.width,l=i.height,c=this._interactiveState.startZoomPos||n||t,d=this._interactiveState.startZoomViewport||new Do(this._viewportProps),f=Object(fn.b)(o*r,a,s),h=t[0]-c[0],p=t[1]-c[1],g=c[0]-u/2,m=l/2-c[1],v=d.project(d.lookAt),b=v[0]-g+g*f/o+h,y=v[1]+m-m*f/o-p,_=d.unproject([b,y,v[2]]);return this._getUpdatedOrbitState({lookAt:_,zoom:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedOrbitState({startZoomPos:null})}},{key:"_getUpdatedOrbitState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;return e.zoom=r>t?t:r,e.zoom=r<n?n:r,e}}]),e}(),Wo=function(e){function t(e){return Fo(this,t),Mo(this,jo(t).call(this,Vo,e))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(t,e),Lo(t,[{key:"_getTransitionProps",value:function(){return Bo}}]),t}(Pr);function Go(e){return(Go="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t,n){return t&&Xo(e.prototype,t),n&&Xo(e,n),e}function Qo(e,t){return!t||"object"!==Go(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ta=Math.PI/180,na=function(e){function t(){return Yo(this,t),Qo(this,$o(t).apply(this,arguments))}return Jo(t,e),Zo(t,[{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0!==n&&n,i=dn(this.pixelProjectionMatrix,[].concat(qo(e),[1])),o=Ko(i,3),a=o[0],s=o[1],u=o[2],l=r?this.height-s:s;return[a,l,u]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0!==n&&n,i=Ko(e,3),o=i[0],a=i[1],s=i[2],u=r?this.height-a:a;return dn(this.pixelUnprojectionMatrix,[o,u,s,1])}}]),t}(Sn),ra=function(e){function t(){return Yo(this,t),Qo(this,$o(t).apply(this,arguments))}return Jo(t,e),Zo(t,[{key:"_getViewport",value:function(e){var t=e.viewState,n=e.width||1,r=e.height||1,i=e.fov||e.fovy||t.fovy||75,o=e.near||t.near||1,a=e.far||t.far||100,s=Number.isFinite(t.aspect)?t.aspect:n/r,u=i*ta;return new na({id:this.id,viewMatrix:this._getViewMatrix(e.viewState),projectionMatrix:l.i([],u,s,o,a),x:e.x,y:e.y,width:n,height:r})}},{key:"_getViewMatrix",value:function(e){var t=e.distance,n=e.rotationX,r=void 0===n?0:n,i=e.rotationOrbit,o=void 0===i?0:i,a=e.orbitAxis,s=void 0===a?"Z":a,u=e.lookAt,c=void 0===u?[0,0,0]:u,d=e.up,f=void 0===d?[0,1,0]:d,h=e.zoom,p=void 0===h?1:h,g=l.k([],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],-r/180*Math.PI);"Z"===s?l.m(g,g,-o/180*Math.PI):l.l(g,g,-o/180*Math.PI);var m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.n(m,m,[p,p,p]),l.o(m,m,[-c[0],-c[1],-c[2]]);var v=l.f([],[0,0,t],[0,0,0],f);return l.g(v,v,l.g(g,g,m)),v}},{key:"fitBounds",value:function(e,t){var n=this.width,r=this.height,i=this.fov,o=this.near,a=this.far;return this._getViewport({width:n,height:r,fov:i,near:o,far:a})}},{key:"controller",get:function(){return this._getControllerProps({type:Wo})}}],[{key:"getDistance",value:function(e){var t=e.boundingBox,n=e.fov;return Math.max(t[0],t[1],t[2])/2/Math.tan(n/180*Math.PI/2)}}]),t}(Nn);function ia(e){return(ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return!t||"object"!==ia(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ra.displayName="OrbitView";var ca=Math.PI/180,da=function(e){function t(){return oa(this,t),sa(this,ua(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(t,e),n=t,(r=[{key:"_getViewport",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.viewState,a=o.eye,s=o.lookAt,u=void 0===s?[0,0,0]:s,c=o.up,d=void 0===c?[0,1,0]:c,f=e.fovy||o.fovy||75,h=e.near||o.near||1,p=e.far||o.far||100,g=Number.isFinite(o.aspect)?o.aspect:r/i,m=f*ca;return new Sn({id:this.id,x:t,y:n,width:r,height:i,viewMatrix:l.f([],a,u,d),projectionMatrix:l.i([],m,g,h,p)})}}])&&aa(n.prototype,r),i&&aa(n,i),t}(Nn);da.displayName="PerspectiveView";var fa=n(141);function ha(e){return(ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),e}function va(e,t){return!t||"object"!==ha(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ba(e){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xa={zoom:0,offset:[0,0],minZoom:-10,maxZoom:10},Sa=function(e){return Math.pow(2,e)},wa=function(e){function t(e){var n,r=e.width,i=e.height,o=e.offset,a=void 0===o?xa.offset:o,s=e.zoom,u=void 0===s?xa.zoom:s,l=e.minZoom,c=void 0===l?xa.minZoom:l,d=e.maxZoom,f=void 0===d?xa.maxZoom:d,h=e.startPanPosition,p=e.startPanOffset,g=e.startZoomPosition,m=e.startZoom;return pa(this,t),(n=va(this,ba(t).call(this,{width:r,height:i,offset:a,zoom:u,minZoom:c,maxZoom:f})))._interactiveState={startPanPosition:h,startPanOffset:p,startZoomPosition:g,startZoom:m},n}return ya(t,e),ma(t,[{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos,n=this._viewportProps.offset;return this._getUpdatedState({startPanPosition:t,startPanOffset:n})}},{key:"pan",value:function(e){var t=e.pos,n=this._interactiveState,r=n.startPanPosition,i=n.startPanOffset,o=new fa.a(t).subtract(r);return this._getUpdatedState({offset:new fa.a(i).subtract(o)})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null,startPanOffset:null})}},{key:"rotateStart",value:function(e){e.pos;return this}},{key:"rotate",value:function(e){e.deltaScaleX,e.deltaScaleY;return this}},{key:"rotateEnd",value:function(){return this}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom,a=n+Math.log2(t);return Object(fn.b)(a,o,i)}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPosition:t,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this._viewportProps,o=i.zoom,a=i.width,s=i.height,u=i.offset,l=this._interactiveState,c=l.startZoom,d=l.startZoomPosition;Number.isFinite(c)||(c=o,d=n||t);var f=this._calculateNewZoom({scale:r,startZoom:c}),h=Sa(c),p=Sa(f),g=a/2-u[0],m=s/2-u[1],v=(d[0]-g)*(p/h-1),b=(d[1]-m)*(p/h-1);return this._getUpdatedState({zoom:f,offset:[u[0]+v,u[1]+b]})}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}},{key:"_zoomFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height,i=t.offset;return this.zoom({pos:[n/2-i[0],r/2-i[1]],scale:e})}},{key:"zoomIn",value:function(){return this._zoomFromCenter(2)}},{key:"zoomOut",value:function(){return this._zoomFromCenter(.5)}},{key:"moveLeft",value:function(){var e=this._viewportProps.offset,t=[10,0];return this._getUpdatedState({offset:new fa.a(e).add(t)})}},{key:"moveRight",value:function(){var e=this._viewportProps.offset,t=[-10,0];return this._getUpdatedState({offset:new fa.a(e).add(t)})}},{key:"moveUp",value:function(){var e=this._viewportProps.offset,t=[0,10];return this._getUpdatedState({offset:new fa.a(e).add(t)})}},{key:"moveDown",value:function(){var e=this._viewportProps.offset,t=[0,-10];return this._getUpdatedState({offset:new fa.a(e).add(t)})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}}]),t}(Mr),Ca=function(e){function t(e){var n;return pa(this,t),(n=va(this,ba(t).call(this,wa,e))).invertPan=!0,n}return ya(t,e),ma(t,[{key:"_onPanRotate",value:function(e){return!!this.dragRotate&&this._onPanRotateMap(e)}}]),t}(Pr);function ka(e){return(ka="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return!t||"object"!==ka(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Da=function(e){function t(){return Ea(this,t),Ta(this,Pa(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(t,e),n=t,(r=[{key:"_getViewport",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.viewState,a=o.offset,s=void 0===a?[0,0]:a,u=o.zoom,l=void 0===u?0:u;r=r||1,i=i||1;var c=Math.pow(2,l),d=this.props,f=d.eye,h=void 0===f?[0,0,1]:f,p=d.lookAt,g=void 0===p?[0,0,0]:p,m=d.up,v=void 0===m?[0,1,0]:m,b=d.left,y=void 0===b?(-r/2+s[0])/c:b,_=d.top,x=void 0===_?(-i/2+s[1])/c:_,S=d.right,w=void 0===S?(r/2+s[0])/c:S,C=d.bottom,k=void 0===C?(i/2+s[1])/c:C,E=d.near,O=void 0===E?1:E,T=d.far,P=void 0===T?100:T;return new Sn({id:this.id,x:t,y:n,width:r,height:i,viewMatrix:(new hn.a).lookAt({eye:h,lookAt:g,up:v}),projectionMatrix:(new hn.a).ortho({left:y,right:w,bottom:k,top:x,near:O,far:P}),zoom:l})}},{key:"controller",get:function(){return this._getControllerProps({type:Ca})}}])&&Oa(n.prototype,r),i&&Oa(n,i),t}(Nn);Da.displayName="OrthographicView";function Aa(e){return(Aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t){return!t||"object"!==Aa(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var La=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return Ma(this,t),(e=Ra(this,Fa(t).call(this))).reflectivity=n,e.blur=r,e.framebuffer=null,e.setNeedsRedraw(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME reflection-effect-vs\n\nattribute vec3 vertices;\n\nvarying vec2 uv;\n\nvoid main(void) {\n  uv = vertices.xy;\n  gl_Position = vec4(2. * vertices.xy - vec2(1., 1.), 1., 1.);\n}\n",fs:'#define SHADER_NAME reflection-effect-fs\n\nprecision highp float;\n\nuniform sampler2D reflectionTexture;\nuniform int reflectionTextureWidth;\nuniform int reflectionTextureHeight;\n\nuniform float reflectivity;\nuniform float blur;\n\n\nvarying vec2 uv;\n\n#define KERNEL_SIZE 7\n\n/*\n * Samples from tex with a gaussian-shaped patch, centered at uv and\n * with standard deviation sigma.  The size of the texture in\n * pixels must be specified by dim\n */\nvec4 sample_gaussian(sampler2D tex, vec2 dim, vec2 uv, float sigma) {\n  if (sigma == 0.0) {\n    return texture2D(tex, uv);\n  }\n\n  vec2 delta = 1.0 / dim;\n  vec2 top_left = uv - delta * float(KERNEL_SIZE+1) / 2.0;\n\n  vec4 color = vec4(0);\n  float sum = 0.0;\n  for (int i = 0; i <  KERNEL_SIZE; ++i) {\n    for (int j = 0; j < KERNEL_SIZE; ++j) {\n      vec2 uv2 = top_left + vec2(i, j) * delta;\n      float d = length((uv2 - uv) * dim);\n      float f = exp(-(d*d) / (2.0*sigma * sigma));\n      color += f * texture2D(tex, uv2);\n      sum += f;\n    }\n  }\n  return color / sum;\n}\n\nvoid main(void) {\n  //map blur in [0, 1] to sigma in [0, inf]\n  //alpha will determine the "steepness" of our curve.\n  //this was picked just to make the scale feel "natural"\n  //if our image is 1000 pixels wide, a blur of 0.5 should correspond\n  //to a sigma of 1 pixels\n  float alpha = 1000.0;\n  float sigma = blur / (alpha * (1.0 - blur));\n  //let this be our standard deviation in terms of screen-widths.\n  //rewrite this in terms of pixels.\n  sigma *= float(reflectionTextureWidth);\n\n\n  gl_FragColor = sample_gaussian(reflectionTexture, vec2(reflectionTextureWidth,\n    reflectionTextureHeight), vec2(uv.x, 1. - uv.y), sigma);\n  //because our canvas expects alphas to be pre-multiplied, we multiply by whole\n  //color vector by reflectivity, not just the alpha channel\n  gl_FragColor *= reflectivity;\n}\n',modules:[],shaderCache:this.context.shaderCache}}},{key:"initialize",value:function(e){var t=e.gl;e.layerManager,this.unitQuad=new o.Model(t,Object.assign({},this.getShaders(),{id:"reflection-effect",geometry:new o.Geometry({drawMode:ce.a.TRIANGLE_FAN,vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])})})),this.framebuffer=new o.Framebuffer(t,{depth:!0})}},{key:"preDraw",value:function(e){var t=e.gl,n=e.layerManager,r=n.context.viewport,i="undefined"!==typeof window&&window.devicePixelRatio||1;this.framebuffer.resize({width:i*r.width,height:i*r.height});var o=r.pitch;this.framebuffer.bind(),n.setViewport(new nr(Object.assign({},r,{pitch:-180-o}))),t.clear(ce.a.COLOR_BUFFER_BIT|ce.a.DEPTH_BUFFER_BIT),n.drawLayers({pass:"reflection"}),n.setViewport(r),this.framebuffer.unbind()}},{key:"draw",value:function(e){e.gl,e.layerManager,this.unitQuad.render({reflectionTexture:this.framebuffer.texture,reflectionTextureWidth:this.framebuffer.width,reflectionTextureHeight:this.framebuffer.height,reflectivity:this.reflectivity,blur:this.blur})}},{key:"finalize",value:function(e){e.gl,e.layerManager}}])&&ja(n.prototype,r),i&&ja(n,i),t}(li),Ba=["longitude","latitude","zoom"],za={curve:1.414,speed:1.2};function Ua(e,t,n){var r=(n=Object.assign({},za,n)).curve,i=e.zoom,o=[e.longitude,e.latitude],a=U(i),s=t.zoom,u=[t.longitude,t.latitude],l=U(s-i),c=V(o,a),d=V(u,a),f=R.g([],d,c),h=Math.max(e.width,e.height),p=h/l,g=R.c(f),m=Math.max(g,.01),v=r*r,b=(p*p-h*h+v*v*m*m)/(2*h*v*m),y=(p*p-h*h-v*v*m*m)/(2*p*v*m),_=Math.log(Math.sqrt(b*b+1)-b),x=Math.log(Math.sqrt(y*y+1)-y);return{startZoom:i,startCenterXY:c,uDelta:f,w0:h,u1:g,S:(x-_)/r,rho:r,rho2:v,r0:_,r1:x}}function Ha(e){return(Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return!t||"object"!==Ha(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qa=["bearing","pitch"],Ya=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wa(this,Ga(t).call(this,{compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,e),n=t,(r=[{key:"interpolateProps",value:function(e,t,n){for(var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},o=Ua(e,t,r),a=o.startZoom,s=o.startCenterXY,u=o.uDelta,l=o.w0,c=o.u1,d=o.S,f=o.rho,h=o.rho2,p=o.r0;if(c<.01){for(var g=0;g<Ba.length;g++){var m=Ba[g],v=e[m],b=t[m];i[m]=j(v,b,n)}return i}var y=n*d,_=Math.cosh(p)/Math.cosh(p+f*y),x=l*((Math.cosh(p)*Math.tanh(p+f*y)-Math.sinh(p))/h)/c,S=1/_,w=a+H(S),C=R.f([],u,x);R.a(C,C,s),R.f(C,C,S);var k=W(C,U(w));return i.longitude=k[0],i.latitude=k[1],i.zoom=w,i}(e,t,n),i=0;i<qa.length;i++){var o=qa[i];r[o]=Object(fn.g)(e[o]||0,t[o]||0,n)}return r}}])&&Va(n.prototype,r),i&&Va(n,i),t}(or);function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $a=function(e){return e.length},Ja=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$a;Za(this,e),this.sortedBins=this.getSortedBins(t,n),this.maxCount=this.getMaxCount(),this.binMap=this.getBinMap()}var t,n,r;return t=e,(n=[{key:"getSortedBins",value:function(e,t){return e.reduce((function(e,n,r){var i=t(n.points);return null!==i&&void 0!==i&&e.push({i:Number.isFinite(n.index)?n.index:r,value:i,counts:n.points.length}),e}),[]).sort((function(e,t){return e.value-t.value}))}},{key:"getValueRange",value:function(e){var t=Xa(e,2),n=t[0],r=t[1],i=this.sortedBins.length;if(!i)return[0,0];var o=Math.ceil(n/100*(i-1)),a=Math.floor(r/100*(i-1));return[this.sortedBins[o].value,this.sortedBins[a].value]}},{key:"getMaxCount",value:function(){var e=0;return this.sortedBins.forEach((function(t){return e=e>t.counts?e:t.counts})),e}},{key:"getBinMap",value:function(){return this.sortedBins.reduce((function(e,t){return Object.assign(e,(n={},r=t.i,i=t,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i}),{})}}])&&Qa(t.prototype,n),r&&Qa(t,r),e}();function es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t,n){return t&&ts(e.prototype,t),n&&ts(e,n),e}var rs,is=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.overAlloc,r=void 0===n?1:n;es(this,e),this.overAlloc=r}return ns(e,[{key:"allocate",value:function(e,t,n){var r=n.size,i=n.type,o=n.copy,a=void 0!==o&&o,s=t*r;if(e&&s<=e.length)return e;var u=Math.max(Math.ceil(s*this.overAlloc),1),l=this._allocate(i,u);return e&&a&&l.set(e),this._release(e),l}},{key:"_allocate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Float32Array,t=arguments.length>1?arguments[1]:void 0;if(e===Uint16Array&&t>65535)throw new Error("Vertex count exceeds browser index limit");return new e(t)}},{key:"_release",value:function(e){}}]),e}(),os=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};es(this,e);var n=t.attributes,r=void 0===n?{}:n;this.typedArrayManager=new is,this.indexLayout=null,this.bufferLayout=null,this.vertexCount=0,this.instanceCount=0,this.attributes={},this._attributeDefs=r,this.updateGeometry(t),Object.seal(this)}return ns(e,[{key:"updateGeometry",value:function(e){var t=e.data,n=e.getGeometry,r=e.positionFormat,i=e.fp64;this.data=t,this.getGeometry=n,this.fp64=i,this.positionSize="XY"===r?2:3,this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){e.start,e.count,e.objects}},{key:"updateGeometryAttributes",value:function(e,t,n){throw new Error("Not implemented")}},{key:"getGeometrySize",value:function(e){throw new Error("Not implemented")}},{key:"_forEachGeometry",value:function(e){var t=this.data,n=this.getGeometry,r=0,i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){e(n(s.value),r++)}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}},{key:"_updateAttribute",value:function(e){var t=e.target,n=e.size,r=e.getValue,i=this.data,o=this.bufferLayout,a=0,s=0,u=!0,l=!1,c=void 0;try{for(var d,f=i[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=r(d.value,s),p=o[s++];on({target:t,source:h,start:a,count:p}),a+=p*n}}catch(g){l=!0,c=g}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return t}},{key:"_rebuildGeometry",value:function(){var e=this;if(this.data&&this.getGeometry){var t=[],n=[],r=0;this._forEachGeometry((function(t,i){var o=e.getGeometrySize(t);r+=o,n[i]=o}));var i=this.attributes,o=this._attributeDefs,a=this.typedArrayManager,s=this.fp64;for(var u in o){var l=o[u];l.fp64Only&&!s||(i[u]=a.allocate(i[u],r,l))}this.indexLayout=t,this.bufferLayout=n,this.instanceCount=r;var c={vertexStart:0,indexStart:0};this._forEachGeometry((function(r,i){var o=n[i];c.geometryIndex=i,c.geometrySize=o,e.updateGeometryAttributes(r,c),c.vertexStart+=o,c.indexStart+=t[i]||0})),this.vertexCount=c.indexStart}}}]),e}();function as(e,t,n){var r=e[1]-e[0];if(r<=0)return i.warn("quantizeScale: invalid domain, returning range[0]")(),t[0];var o=r/t.length,a=Math.floor((n-e[0])/o);return t[Math.max(Math.min(a,t.length-1),0)]}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var us={SUM:1,MEAN:2,MIN:3,MAX:4},ls={dataChanged:!0,viewportChanged:!0,cellSizeChanged:!0},cs={changeFlags:ls,projectPoints:!1,useGPU:!0,fp64:!1,viewport:null,gridTransformMatrix:null,createBufferObjects:!0},ds=3402823466e29,fs=[ce.a.MIN,ce.a.FUNC_ADD],hs=[ce.a.MAX,ce.a.FUNC_ADD],ps=[ce.a.MAX,ce.a.MIN],gs=(ss(rs={},us.SUM,ce.a.FUNC_ADD),ss(rs,us.MEAN,ce.a.FUNC_ADD),ss(rs,us.MIN,fs),ss(rs,us.MAX,hs),rs),ms={size:1,operation:us.SUM,needMin:!1,needMax:!1,combineMaxMin:!1},vs=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],bs="#define SHADER_NAME gpu-aggregation-to-grid-vs\n\nattribute vec2 positions;\nattribute vec3 weights;\nuniform vec2 windowSize;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform mat4 uProjectionMatrix;\nuniform bool projectPoints;\n\nvarying vec3 vWeights;\n\nvec2 project_to_pixel(vec4 pos) {\n  vec4 result =  uProjectionMatrix * pos;\n  return result.xy/result.w;\n}\n\nvoid main(void) {\n\n  vWeights = weights;\n\n  vec4 windowPos = vec4(positions, 0, 1.);\n  if (projectPoints) {\n    windowPos = project_position_to_clipspace(vec3(positions, 0), vec2(0, 0), vec3(0, 0, 0));\n  }\n\n  vec2 pos = project_to_pixel(windowPos);\n\n  // Transform (0,0):windowSize -> (0, 0): gridSize\n  pos = floor(pos / cellSize);\n\n  // Transform (0,0):gridSize -> (-1, -1):(1,1)\n  pos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\n\n  // Move to pixel center, pixel-size in screen sapce (2/gridSize) * 0.5 => 1/gridSize\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n}\n",ys="#define SHADER_NAME gpu-aggregation-to-grid-vs-64\n\nattribute vec2 positions;\nattribute vec2 positions64xyLow;\nattribute vec3 weights;\nuniform vec2 windowSize;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform vec2 uProjectionMatrixFP64[16];\nuniform bool projectPoints;\n\nvarying vec3 vWeights;\n\nvoid project_to_pixel(vec2 pos, vec2 pos64xyLow, out vec2 pixelXY64[2]) {\n\n  vec2 result64[4];\n  vec2 position64[4];\n  position64[0] = vec2(pos.x, pos64xyLow.x);\n  position64[1] = vec2(pos.y, pos64xyLow.y);\n  position64[2] = vec2(0., 0.);\n  position64[3] = vec2(1., 0.);\n  mat4_vec4_mul_fp64(uProjectionMatrixFP64, position64,\n  result64);\n\n  pixelXY64[0] = div_fp64(result64[0], result64[3]);\n  pixelXY64[1] = div_fp64(result64[1], result64[3]);\n}\n\nvoid main(void) {\n\n  vWeights = weights;\n\n  vec2 windowPos = positions;\n  vec2 windowPos64xyLow = positions64xyLow;\n  if (projectPoints) {\n    vec2 projectedXY[2];\n    project_position_fp64(windowPos, windowPos64xyLow, projectedXY);\n    windowPos.x = projectedXY[0].x;\n    windowPos.y = projectedXY[1].x;\n    windowPos64xyLow.x = projectedXY[0].y;\n    windowPos64xyLow.y = projectedXY[1].y;\n  }\n\n  vec2 pixelXY64[2];\n  project_to_pixel(windowPos, windowPos64xyLow, pixelXY64);\n\n  // Transform (0,0):windowSize -> (0, 0): gridSize\n  vec2 gridXY64[2];\n  gridXY64[0] = div_fp64(pixelXY64[0], vec2(cellSize.x, 0));\n  gridXY64[1] = div_fp64(pixelXY64[1], vec2(cellSize.y, 0));\n  float x = floor(gridXY64[0].x);\n  float y = floor(gridXY64[1].x);\n  vec2 pos = vec2(x, y);\n\n  // Transform (0,0):gridSize -> (-1, -1):(1,1)\n  pos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\n\n  // Move to pixel center, pixel-size in screen sapce (2/gridSize) * 0.5 => 1/gridSize\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n}\n",_s="#define SHADER_NAME gpu-aggregation-to-grid-fs\n\nprecision highp float;\n\nvarying vec3 vWeights;\n\nvoid main(void) {\n  gl_FragColor = vec4(vWeights, 1.0);\n}\n",xs="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-vs-64\n\nin vec2 position;\nuniform vec2 gridSize;\n\nout vec2 vTextureCoord;\nvoid main(void) {\n  // Map each position to single pixel\n  vec2 pos = vec2(-1.0, -1.0);\n\n  // Move to pixel center, pixel-size in screen sapce (2/gridSize) * 0.5 => 1/gridSize\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n\n  float yIndex = floor(float(gl_InstanceID) / gridSize[0]);\n  float xIndex = float(gl_InstanceID) - (yIndex * gridSize[0]);\n\n  vec2 yIndexFP64 = vec2(yIndex, 0.);\n  vec2 xIndexFP64 = vec2(xIndex, 0.);\n  vec2 gridSizeYFP64 = vec2(gridSize[1], 0.);\n  vec2 gridSizeXFP64 = vec2(gridSize[0], 0.);\n\n  vec2 texCoordXFP64 = div_fp64(yIndexFP64, gridSizeYFP64);\n  vec2 texCoordYFP64 = div_fp64(xIndexFP64, gridSizeXFP64);\n\n  vTextureCoord = vec2(texCoordYFP64.x, texCoordXFP64.x);\n}\n",Ss="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-fs\n\nprecision highp float;\n\nin vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform bool combineMaxMin;\nout vec4 fragColor;\nvoid main(void) {\n  vec4 textureColor = texture(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n  if (textureColor.a == 0.) {\n    discard;\n  }\n  fragColor.rgb = textureColor.rgb;\n  // if combineMinMax is true, use Alpha channel for first weights min value.\n  fragColor.a = combineMaxMin ? textureColor.r : textureColor.a;\n}\n";function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e,t){var n,r=t.width,i=void 0===r?1:r,a=t.height,s=void 0===a?1:a;return new o.Texture2D(e,{data:null,format:ce.a.RGBA32F,type:ce.a.FLOAT,border:0,mipmaps:!1,parameters:(n={},ws(n,ce.a.TEXTURE_MAG_FILTER,ce.a.NEAREST),ws(n,ce.a.TEXTURE_MIN_FILTER,ce.a.NEAREST),n),dataFormat:ce.a.RGBA,width:i,height:s})}function ks(e,t){var n=t.id,r=t.width,i=void 0===r?1:r,a=t.height,s=void 0===a?1:a,u=t.texture||Cs(e,t);return new o.Framebuffer(e,{id:n,width:i,height:s,attachments:ws({},ce.a.COLOR_ATTACHMENT0,u)})}function Es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!e||e.length<t?new Float32Array(t).fill(n):e}function Os(e){var t=e.gl,n=e.bufferName,r=e.data,i=e.result;i[n]?i[n].subData({data:r}):i[n]=new o.Buffer(t,r)}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),e}var Ms=o.fp64.fp64ifyMatrix4,js=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Is(this,e),this.id=n.id||"gpu-grid-aggregator",this.shaderCache=n.shaderCache||null,this.gl=t,this.state={weights:null,gridPositions:null,positionsBuffer:null,positions64xyLowBuffer:null,vertexCount:0,fp64:null,useGPU:null,numCol:0,numRow:0,windowSize:null,cellSize:null,weightAttributes:{},textures:{},meanTextures:{},buffers:{},framebuffers:{},maxMinFramebuffers:{},minFramebuffers:{},maxFramebuffers:{},equations:{}},this._hasGPUSupport=Object(o.isWebGL2)(t)&&Object(o.hasFeatures)(this.gl,o.FEATURES.BLEND_EQUATION_MINMAX,o.FEATURES.COLOR_ATTACHMENT_RGBA32F,o.FEATURES.TEXTURE_FLOAT)}return As(e,null,[{key:"getAggregationData",value:function(e){var t=e.aggregationData,n=e.maxData,r=e.pixelIndex;g(t.length>=4*(r+1)),g(4===n.length);var i=4*r;return{cellCount:t[i+3],cellWeight:t[i],totalCount:n[3],maxCellWieght:n[0]}}},{key:"getCellData",value:function(e){for(var t=e.countsData,n=e.size,r=void 0===n?1:n,i=t.length/4,o=new Float32Array(i*r),a=new Uint32Array(i),s=0;s<i;s++){for(var u=0;u<r;u++)o[s*r+u]=t[4*s+u];a[s]=t[4*s+3]}return{cellCounts:a,cellWeights:o}}}]),As(e,[{key:"delete",value:function(){var e=this.gridAggregationModel,t=this.allAggregationModel,n=this.meanTransform,r=this.state,i=r.positionsBuffer,o=r.position64Buffer,a=r.framebuffers,s=r.maxMinFramebuffers,u=r.minFramebuffers,l=r.maxFramebuffers,c=r.meanTextures;e&&e.delete(),t&&t.delete(),n&&n.delete(),i&&i.delete(),o&&o.delete(),this.deleteResources(a),this.deleteResources(s),this.deleteResources(u),this.deleteResources(l),this.deleteResources(c)}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getAggregationParams(e);this.updateGridSize(t);var n=t.useGPU;return this._hasGPUSupport&&n?this.runAggregationOnGPU(t):(n&&i.warn("ScreenGridAggregator: GPU Aggregation not supported, falling back to CPU")(),this.runAggregationOnCPU(t))}},{key:"deleteResources",value:function(e){for(var t in e)e[t].delete()}},{key:"getAggregationParams",value:function(e){var t=Object.assign({},cs,e),n=t.useGPU,r=t.gridTransformMatrix,i=t.viewport,o=t.weights,a=t.projectPoints,s=t.cellSize;return this.state.useGPU!==n&&(t.changeFlags=Object.assign({},t.changeFlags,ls)),!s||this.state.cellSize&&this.state.cellSize[0]===s[0]&&this.state.cellSize[1]===s[1]||(t.changeFlags.cellSizeChanged=!0,this.setState({cellSize:s})),this.validateProps(t,e),this.setState({useGPU:n}),t.gridTransformMatrix=(a?i.viewportMatrix:r)||vs,o&&(t.weights=this.normalizeWeightParams(o),this.setState({weights:t.weights})),t}},{key:"normalizeWeightParams",value:function(e){var t={};for(var n in e)t[n]=Object.assign({},ms,e[n]);return t}},{key:"setState",value:function(e){Object.assign(this.state,e)}},{key:"shouldTransformToGrid",value:function(e){var t=e.projectPoints,n=e.changeFlags;return!!(!this.state.gridPositions||n.dataChanged||t&&n.viewportChanged)}},{key:"updateGridSize",value:function(e){var t=e.viewport,n=e.cellSize,r=e.width||t.width,i=e.height||t.height,o=Math.ceil(r/n[0]),a=Math.ceil(i/n[1]);this.setState({numCol:o,numRow:a,windowSize:[r,i]})}},{key:"validateProps",value:function(e,t){var n=e.changeFlags,r=e.projectPoints,o=e.gridTransformMatrix;g(n.dataChanged||n.viewportChanged||n.cellSizeChanged),g(!n.dataChanged||t.positions&&t.weights&&(!t.projectPositions||t.viewport)&&t.cellSize),g(!n.cellSizeChanged||t.cellSize),g(!(n.viewportChanged&&r)||t.viewport),r&&o&&i.warn("projectPoints is true, gridTransformMatrix is ignored")()}},{key:"calculateAggregationData",value:function(e){var t=e.weights,n=e.results,r=e.cellIndex,i=e.posIndex;for(var o in t){for(var a=t[o],s=a.values,u=a.size,l=a.operation,c=n[o].aggregationData,d=0;d<u;d++){var f=r+d,h=s[3*i+d];if(0===c[r+3])c[f]=h;else switch(l){case us.SUM:case us.MEAN:c[f]+=h;break;case us.MIN:c[f]=Math.min(c[f],h);break;case us.MAX:c[f]=Math.max(c[f],h);break;default:g(!1)}}c[r+3]++}}},{key:"calculateMeanMaxMinData",value:function(e){var t=e.validCellIndices,n=e.results,r=e.weights;t.forEach((function(e){for(var t in n){for(var i=r[t],o=i.size,a=i.needMin,s=i.needMax,u=i.operation,l=n[t],c=l.aggregationData,d=l.minData,f=l.maxData,h=l.maxMinData,p=a||s,g=u===us.MEAN,m=a&&s&&r[t].combineMaxMin,v=c[e+4-1],b=0;b<o&&(p||g);b++){var y=e+b,_=c[y];g&&(c[y]/=v,_=c[y]),m?h[b]=Math.max(h[b],_):(a&&(d[b]=Math.min(d[b],_)),s&&(f[b]=Math.max(f[b],_)))}m?h[3]=Math.min(h[3],c[e+0]):(a&&(d[3]+=v),s&&(f[3]+=v))}}))}},{key:"initCPUResults",value:function(e){var t=e.weights||this.state.weights,n=this.state,r=n.numCol,i=n.numRow,o={};for(var a in t){var s=t[a],u=s.aggregationData,l=s.minData,c=s.maxData,d=s.maxMinData,f=t[a],h=f.needMin,p=f.needMax,g=h&&p&&t[a].combineMaxMin;u=Es(u,r*i*4),g?((d=Es(d,4)).fill(-1/0,0,3),d[3]=1/0):(h&&((l=Es(l,4,1/0))[3]=0),p&&((c=Es(c,4,-1/0))[3]=0)),o[a]=Object.assign({},t[a],{aggregationData:u,minData:l,maxData:c,maxMinData:d})}return o}},{key:"runAggregationOnCPU",value:function(e){var t,n,r=e.positions,i=e.cellSize,o=e.gridTransformMatrix,a=e.viewport,s=e.projectPoints,u=e.weights,l=this.state,c=l.numCol,d=l.numRow,f=this.initCPUResults(e),h=this.shouldTransformToGrid(e),p=[0,0,0];g(h||e.changeFlags.cellSizeChanged),h?(n=r.length/2,t=new Float64Array(r.length),this.setState({gridPositions:t})):(t=this.state.gridPositions,u=this.state.weights,n=t.length/2);for(var m=new Set,v=0;v<n;v++){var b=void 0,y=void 0;if(h){if(p[0]=r[2*v],p[1]=r[2*v+1],s){var _=Ps(a.project(p),2);b=_[0],y=_[1]}else{var x=Ps(Z(p,o),2);b=x[0],y=x[1]}t[2*v]=b,t[2*v+1]=y}else b=t[2*v],y=t[2*v+1];var S=Math.floor(b/i[0]),w=Math.floor(y/i[1]);if(S>=0&&S<c&&w>=0&&w<d){var C=4*(S+w*c);m.add(C),this.calculateAggregationData({weights:u,results:f,cellIndex:C,posIndex:v})}}return this.calculateMeanMaxMinData({validCellIndices:m,results:f,weights:u}),this.updateAggregationBuffers(e,f),f}},{key:"updateAggregationBuffers",value:function(e,t){if(e.createBufferObjects){var n=e.weights||this.state.weights;for(var r in t){var i=t[r],o=i.aggregationData,a=i.minData,s=i.maxData,u=i.maxMinData,l=n[r],c=l.needMin,d=l.needMax,f=c&&d&&n[r].combineMaxMin;Os({gl:this.gl,bufferName:"aggregationBuffer",data:o,result:t[r]}),f?Os({gl:this.gl,bufferName:"maxMinBuffer",data:u,result:t[r]}):(c&&Os({gl:this.gl,bufferName:"minBuffer",data:a,result:t[r]}),d&&Os({gl:this.gl,bufferName:"maxBuffer",data:s,result:t[r]}))}}}},{key:"getAggregateData",value:function(e){var t={},n=this.state,r=n.textures,i=n.framebuffers,o=n.maxMinFramebuffers,a=n.minFramebuffers,s=n.maxFramebuffers,u=n.weights;for(var l in u){t[l]={};var c=u[l],d=c.needMin,f=c.needMax,h=c.combineMaxMin;t[l].aggregationTexture=r[l],t[l].aggregationBuffer=i[l].readPixelsToBuffer({buffer:u[l].aggregationBuffer,type:ce.a.FLOAT}),d&&f&&h?t[l].maxMinBuffer=o[l].readPixelsToBuffer({buffer:u[l].maxMinBuffer,type:ce.a.FLOAT}):(d&&(t[l].minBuffer=a[l].readPixelsToBuffer({buffer:u[l].minBuffer,type:ce.a.FLOAT})),f&&(t[l].maxBuffer=s[l].readPixelsToBuffer({buffer:u[l].maxBuffer,type:ce.a.FLOAT})))}return t}},{key:"getAggregationModel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.gl,n=this.shaderCache;return new o.Model(t,{id:"Gird-Aggregation-Model",vs:e?ys:bs,fs:_s,modules:e?["fp64","project64"]:["project32"],shaderCache:n,vertexCount:0,drawMode:ce.a.POINTS})}},{key:"getAllAggregationModel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.gl,t=this.shaderCache;return new o.Model(e,{id:"All-Aggregation-Model",vs:xs,fs:Ss,modules:["fp64"],shaderCache:t,vertexCount:1,drawMode:ce.a.POINTS,isInstanced:!0,instanceCount:0,attributes:{position:new o.Buffer(e,{size:2,data:new Float32Array([0,0])})}})}},{key:"getMeanTransform",value:function(e){return this.meanTransform?this.meanTransform.update(e):this.meanTransform=new o.Transform(this.gl,Object.assign({},{vs:"#define SHADER_NAME gpu-aggregation-transform-mean-vs\nattribute vec4 aggregationValues;\nvarying vec4 meanValues;\n\nvoid main()\n{\n  // TODO: Use 64-bit division ?? not needed given this is aggregation ??\n  bool isCellValid = bool(aggregationValues.w > 0.);\n  // aggregationValues:  XYZ contain aggregated values, W contains count\n  meanValues.xyz = isCellValid ? aggregationValues.xyz/aggregationValues.w : vec3(0, 0, 0);\n  meanValues.w = aggregationValues.w;\n}\n",_targetTextureVarying:"meanValues"},e)),this.meanTransform}},{key:"renderAggregateData",value:function(e){var t=e.cellSize,n=e.viewport,r=e.gridTransformMatrix,i=e.projectPoints,o=this.state,a=o.numCol,s=o.numRow,u=o.windowSize,l=o.maxMinFramebuffers,c=o.minFramebuffers,d=o.maxFramebuffers,f=o.weights,h=Ms(r),p=[a,s],g={blend:!0,depthTest:!1,blendFunc:[ce.a.ONE,ce.a.ONE]},m={viewport:n},v={windowSize:u,cellSize:t,gridSize:p,uProjectionMatrix:r,uProjectionMatrixFP64:h,projectPoints:i};for(var b in f){var y=f[b],_=y.needMin,x=y.needMax,S=_&&x&&f[b].combineMaxMin;this.renderToWeightsTexture({id:b,parameters:g,moduleSettings:m,uniforms:v,gridSize:p}),S?this.renderToMaxMinTexture({id:b,parameters:Object.assign({},g,{blendEquation:ps}),gridSize:p,minOrMaxFb:l[b],clearParams:{clearColor:[0,0,0,ds]},combineMaxMin:S}):(_&&this.renderToMaxMinTexture({id:b,parameters:Object.assign({},g,{blendEquation:fs}),gridSize:p,minOrMaxFb:c[b],clearParams:{clearColor:[ds,ds,ds,0]},combineMaxMin:S}),x&&this.renderToMaxMinTexture({id:b,parameters:Object.assign({},g,{blendEquation:hs}),gridSize:p,minOrMaxFb:d[b],combineMaxMin:S}))}}},{key:"renderToMaxMinTexture",value:function(e){var t=e.id,n=e.parameters,r=e.gridSize,i=e.minOrMaxFb,a=e.combineMaxMin,s=e.clearParams,u=void 0===s?{}:s,l=this.state.framebuffers,c=this.gl,d=this.allAggregationModel;i.bind(),c.viewport(0,0,r[0],r[1]),Object(o.withParameters)(c,u,(function(){c.clear(c.COLOR_BUFFER_BIT)})),d.draw({parameters:n,uniforms:{uSampler:l[t].texture,gridSize:r,combineMaxMin:a}}),i.unbind()}},{key:"renderToWeightsTexture",value:function(e){var t=e.id,n=e.parameters,r=e.moduleSettings,i=e.uniforms,a=e.gridSize,s=this.state,u=s.framebuffers,l=s.equations,c=s.weightAttributes,d=s.weights,f=this.gl,h=this.gridAggregationModel,p=d[t].operation;u[t].bind(),f.viewport(0,0,a[0],a[1]);var g=p===us.MIN?[ds,ds,ds,0]:[0,0,0,0];Object(o.withParameters)(f,{clearColor:g},(function(){f.clear(f.COLOR_BUFFER_BIT)}));var m={weights:c[t]};if(h.draw({parameters:Object.assign({},n,{blendEquation:l[t]}),moduleSettings:r,uniforms:i,attributes:m}),u[t].unbind(),p===us.MEAN){var v=this.state,b=v.meanTextures,y=v.textures,_={_sourceTextures:{aggregationValues:b[t]},_targetTexture:y[t],elementCount:y[t].width*y[t].height};this.getMeanTransform(_).run({parameters:{blend:!1,depthTest:!1}}),u[t].attach(Ts({},ce.a.COLOR_ATTACHMENT0,y[t]))}}},{key:"runAggregationOnGPU",value:function(e){return this.updateModels(e),this.setupFramebuffers(e),this.renderAggregateData(e),this.getAggregateData(e)}},{key:"setupFramebuffers",value:function(e){var t=this.state,n=t.numCol,r=t.numRow,i=t.textures,o=t.framebuffers,a=t.maxMinFramebuffers,s=t.minFramebuffers,u=t.maxFramebuffers,l=t.meanTextures,c=t.equations,d=t.weights,f={width:n,height:r};for(var h in d){var p=d[h],g=p.needMin,m=p.needMax,v=p.combineMaxMin,b=p.operation;i[h]=d[h].aggregationTexture||i[h]||Cs(this.gl,{id:"".concat(h,"-texture"),width:n,height:r}),i[h].resize(f);var y=i[h];b===us.MEAN&&(l[h]=l[h]||Cs(this.gl,{id:"".concat(h,"-mean-texture"),width:n,height:r}),l[h].resize(f),y=l[h]),o[h]?o[h].attach(Ts({},ce.a.COLOR_ATTACHMENT0,y)):o[h]=ks(this.gl,{id:"".concat(h,"-fb"),width:n,height:r,texture:y}),o[h].resize(f),c[h]=gs[b],(g||m)&&(g&&m&&v?a[h]=a[h]||ks(this.gl,{id:"".concat(h,"-maxMinFb")}):(g&&(s[h]=s[h]||ks(this.gl,{id:"".concat(h,"-minFb")})),m&&(u[h]=u[h]||ks(this.gl,{id:"".concat(h,"-maxFb")}))))}}},{key:"setupModels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridAggregationModel&&this.gridAggregationModel.delete(),this.gridAggregationModel=this.getAggregationModel(e),this.allAggregationModel&&this.allAggregationModel.delete(),this.allAggregationModel=this.getAllAggregationModel(e)}},{key:"setupWeightAttributes",value:function(e){var t=this.state,n=t.weightAttributes,r=t.vertexCount,i=t.weights;for(var a in i){var s=i[a].values;if(Array.isArray(s)||s.constructor===Float32Array){g(s.length/3===r);var u=Array.isArray(s)?new Float32Array(s):s;n[a]instanceof o.Buffer?n[a].setData(u):n[a]=new o.Buffer(this.gl,u)}else g(s instanceof o.Buffer),n[a]=s}}},{key:"updateModels",value:function(e){var t=this.gl,n=e.positions,r=e.positions64xyLow,i=e.changeFlags,a=this.state,s=a.numCol,u=a.numRow,l=this.state,c=l.positionsBuffer,d=l.positions64xyLowBuffer,f={},h=!1;if(e.fp64!==this.state.fp64&&(this.setupModels(e.fp64),this.setState({fp64:e.fp64}),e.fp64&&(h=!0)),i.dataChanged||!c){c&&c.delete();var p=n.length/2;c=new o.Buffer(t,new Float32Array(n)),h=e.fp64,Object.assign(f,{positions:c}),this.setState({positionsBuffer:c,vertexCount:p}),this.setupWeightAttributes(e),this.gridAggregationModel.setVertexCount(p)}h&&(g(r),d&&d.delete(),d=new o.Buffer(t,{size:2,data:new Float32Array(r)}),Object.assign(f,{positions64xyLow:d}),this.setState({positions64xyLowBuffer:d})),this.gridAggregationModel.setAttributes(f),(i.cellSizeChanged||i.viewportChanged)&&this.allAggregationModel.setInstanceCount(s*u)}}]),e}(),Rs=[],Fs=[];function Ns(e){var t=Rs,n={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?t=e:e.length>0&&(Fs.length=e.length,t=Fs):t=Rs,{iterable:t,objectInfo:n}}var Ls=o.fp64.fp64LowPart,Bs=[1,0,0];function zs(e){var t=e.data,n=e.getPosition,r=e.cellSizeMeters,i=e.gpuGridAggregator,o=e.gpuAggregation,a=e.aggregationFlags,s=e.getWeight,u=e.fp64,l=void 0!==u&&u,c=e.coordinateSystem,f=void 0===c?d.LNGLAT:c,h=e.viewport,p=void 0===h?null:h,m=e.boundingBox,v=void 0===m?null:m,b={};g(a.dataChanged||a.cellSizeChanged||a.viewportChanged),a.dataChanged&&(v=(b=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=et(e),a=new Float32Array(2*o),s=new Float32Array(2*o),u=new Float32Array(3*o),l=1/0,c=-1/0,d=1/0,f=-1/0,h=Ns(e),p=h.iterable,g=h.objectInfo,m=!0,v=!1,b=void 0;try{for(var y,_=p[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var x=y.value;g.index++;var S=t(x,g),w=g.index;r=S[0],n=S[1],a[2*w]=r,a[2*w+1]=n,s[2*w]=Ls(r),s[2*w+1]=Ls(n);var C=i?i(x,g):Bs;Array.isArray(C)?(u[3*w]=C[0],u[3*w+1]=C[1],u[3*w+2]=C[2]):u[3*w]=C,Number.isFinite(n)&&Number.isFinite(r)&&(l=n<l?n:l,c=n>c?n:c,d=r<d?r:d,f=r>f?r:f)}}catch(O){v=!0,b=O}finally{try{m||null==_.return||_.return()}finally{if(v)throw b}}var k={weight1:{size:1,operation:us.SUM,needMax:!0,values:u}},E={xMin:d,xMax:f,yMin:l,yMax:c};return{positions:a,positions64xyLow:s,weights:k,boundingBox:E}}(t,n,s)).boundingBox);var y=[r,r],_=[0,0];switch(g(f===d.LNGLAT||f===d.IDENTITY),f){case d.LNGLAT:case d.LNGLAT_DEPRECATED:var x=function(e,t){var n=e.yMin,r=e.yMax;return function(e,t){var n=(a=e,a/6378e3*(180/Math.PI)),r=(i=t,o=e,o/6378e3*(180/Math.PI)/Math.cos(i*Math.PI/180));var i,o;var a;return{yOffset:n,xOffset:r}}(t,(n+r)/2)}(v,r);y=[x.xOffset,x.yOffset],_=[-180,-90];break;case d.IDENTITY:_=[-p.width/2,-p.height/2];break;default:g(!1)}var S=function(e){var t=e.boundingBox,n=e.cellSize,r=e.worldOrigin,i=t.yMin,o=t.yMax,a=t.xMin,s=t.xMax,u=Us(a-r[0],n[0])+r[0],l=Us(i-r[1],n[1])+r[1],c=(new hn.a).translate([-1*u,-1*l,0]),d=[u,l],f=s-a+n[0],h=o-i+n[1],p=[Math.ceil(f/n[0]),Math.ceil(h/n[1])];return{gridOrigin:d,gridSize:p,width:f,height:h,gridTransformMatrix:c}}({boundingBox:v,cellSize:y,worldOrigin:_}),w=i.run({positions:b.positions,positions64xyLow:b.positions64xyLow,weights:b.weights,cellSize:y,width:S.width,height:S.height,gridTransformMatrix:S.gridTransformMatrix,useGPU:o,changeFlags:a,fp64:l});return{countsBuffer:w.weight1.aggregationBuffer,maxCountBuffer:w.weight1.maxBuffer,countsData:w.weight1.aggregationData,maxCountData:w.weight1.maxData,gridSize:S.gridSize,gridOrigin:S.gridOrigin,cellSize:y,boundingBox:v}}function Us(e,t){var n=e<0?-1:1,r=n<0?Math.abs(e)+t:Math.abs(e);return(r=Math.floor(r/t)*t)*n}var Hs={BinSorter:Ja,Tesselator:os,linearScale:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]},getLinearScale:function(e,t){return function(n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]}},quantizeScale:as,getQuantizeScale:function(e,t){return function(n){return as(e,t,n)}},defaultColorRange:[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]],flattenVertices:function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.result,i=void 0===r?[]:r,o=n.dimensions,a=void 0===o?3:o,s=-1,u=0;++s<t.length;){var l=t[s];Array.isArray(l)||ArrayBuffer.isView(l)?e(l,{result:i,dimensions:a}):u<a&&(i.push(l),u++)}return u>0&&u<a&&i.push(0),i},fillArray:on,count:et}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return Dt})),n.d(t,"g",(function(){return At})),n.d(t,"d",(function(){return Mt})),n.d(t,"b",(function(){return ue})),n.d(t,"c",(function(){return se})),n.d(t,"f",(function(){return me})),n.d(t,"e",(function(){return Oe})),n.d(t,"bb",(function(){return Ie})),n.d(t,"h",(function(){return ve})),n.d(t,"i",(function(){return be})),n.d(t,"m",(function(){return ye})),n.d(t,"G",(function(){return we})),n.d(t,"M",(function(){return Xe})),n.d(t,"I",(function(){return Qe})),n.d(t,"L",(function(){return $e})),n.d(t,"U",(function(){return Je})),n.d(t,"o",(function(){return it})),n.d(t,"N",(function(){return st})),n.d(t,"T",(function(){return ct})),n.d(t,"C",(function(){return bt})),n.d(t,"S",(function(){return _t})),n.d(t,"W",(function(){return wt})),n.d(t,"H",(function(){return Ct})),n.d(t,"eb",(function(){return xt})),n.d(t,"fb",(function(){return St})),n.d(t,"j",(function(){return De})),n.d(t,"l",(function(){return Ae})),n.d(t,"k",(function(){return Me})),n.d(t,"w",(function(){return je})),n.d(t,"v",(function(){return Re})),n.d(t,"u",(function(){return Fe})),n.d(t,"y",(function(){return Ne})),n.d(t,"z",(function(){return Le})),n.d(t,"A",(function(){return Be})),n.d(t,"r",(function(){return ze})),n.d(t,"q",(function(){return Ue})),n.d(t,"p",(function(){return He})),n.d(t,"s",(function(){return Ve})),n.d(t,"t",(function(){return We})),n.d(t,"x",(function(){return Ge})),n.d(t,"R",(function(){return Ke})),n.d(t,"ab",(function(){return Et})),n.d(t,"Z",(function(){return Ot})),n.d(t,"K",(function(){return Tt})),n.d(t,"Q",(function(){return It})),n.d(t,"D",(function(){return qe})),n.d(t,"E",(function(){return c})),n.d(t,"O",(function(){return _})),n.d(t,"db",(function(){return v})),n.d(t,"cb",(function(){return y})),n.d(t,"hb",(function(){return b})),n.d(t,"gb",(function(){return x})),n.d(t,"P",(function(){return E})),n.d(t,"n",(function(){return r.a})),n.d(t,"B",(function(){return r.b})),n.d(t,"F",(function(){return i.a})),n.d(t,"J",(function(){return a})),n.d(t,"V",(function(){return s})),n.d(t,"X",(function(){return u.a})),n.d(t,"Y",(function(){return l.a}));var r=n(45),i=n(135),o=n(68);function a(e){r.b.getInstance().insertRule("@font-face{"+Object(o.b)(e)+"}",!0)}function s(e){var t=r.b.getInstance(),n=t.getClassName(),i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(a,"{",Object(o.b)(e[a]),"}");var s=i.join("");return t.insertRule("@keyframes "+n+"{"+s+"}",!0),t.cacheClassName(n,s,[],["keyframes",s]),n}var u=n(242),l=n(243);function c(e){var t={},n=function(n){var r;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===r&&(r=Object(l.a)(e[n]).toString()),r},enumerable:!0,configurable:!0})};for(var r in e)n(r);return t}var d=n(2),f=n(111),h=n(82),p=f.a.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),g=r.b.getInstance();g&&g.onReset&&g.onReset((function(){for(var e in p)p.hasOwnProperty(e)&&p[e].subset&&(p[e].subset.className=void 0)}));var m=function(e){return e.toLowerCase()};function v(e,t){var n=d.a({},e,{isRegistered:!1,className:void 0}),r=e.icons;for(var i in t=t?d.a({},p.__options,t):p.__options,r)if(r.hasOwnProperty(i)){var o=r[i],a=m(i);p[a]?C(i):p[a]={code:o,subset:n}}}function b(e){for(var t=p.__options,n=function(e){var n=m(e);p[n]?delete p[n]:t.disableWarnings||Object(h.b)('The icon "'+e+'" tried to unregister but was not registered.'),p.__remapped[n]&&delete p.__remapped[n],Object.keys(p.__remapped).forEach((function(e){p.__remapped[e]===n&&delete p.__remapped[e]}))},r=0,i=e;r<i.length;r++){n(i[r])}}function y(e,t){p.__remapped[m(e)]=m(t)}function _(e){var t=void 0,n=p.__options;if(e=e?m(e):"",e=p.__remapped[e]||e)if(t=p[e]){var r=t.subset;r&&r.fontFace&&(r.isRegistered||(a(r.fontFace),r.isRegistered=!0),r.className||(r.className=Object(l.a)(r.style,{fontFamily:r.fontFace.fontFamily,fontWeight:r.fontFace.fontWeight||"normal",fontStyle:r.fontFace.fontStyle||"normal"})))}else!n.disableWarnings&&n.warnOnMissingIcons&&Object(h.b)('The icon "'+e+'" was used but not registered. See http://aka.ms/fabric-icon-usage for more information.');return t}function x(e){p.__options=d.a({},p.__options,e)}var S=[],w=void 0;function C(e){var t=p.__options;t.disableWarnings||(S.push(e),void 0===w&&(w=setTimeout((function(){Object(h.b)("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+S.slice(0,10).join(", ")+(S.length>10?" (+ "+(S.length-10)+" more)":"")),w=void 0,S=[]}),2e3)))}var k={display:"inline-block"};function E(e){var t="",n=_(e);return n&&(t=Object(l.a)(n.subset.className,k,{selectors:{"::before":{content:'"'+n.code+'"'}}})),t}var O="cubic-bezier(.1,.9,.2,1)",T="cubic-bezier(.1,.25,.75,.9)",P=s({from:{opacity:0},to:{opacity:1}}),I=s({from:{opacity:1},to:{opacity:0}}),D=ce(-10),A=ce(-20),M=ce(-40),j=ce(-400),R=ce(10),F=ce(20),N=ce(40),L=ce(400),B=de(10),z=de(20),U=de(-10),H=de(-20),V=fe(10),W=fe(20),G=fe(40),K=fe(400),q=fe(-10),Y=fe(-20),X=fe(-40),Z=fe(-400),Q=he(-10),$=he(-20),J=he(10),ee=he(20),te=s({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),ne=s({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),re=s({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),ie=s({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),oe=s({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),ae=s({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),se={easeFunction1:O,easeFunction2:T,durationValue1:"0.167s",durationValue2:"0.267s",durationValue3:"0.367s",durationValue4:"0.467s"},ue={slideRightIn10:le(P+","+D,"0.367s",O),slideRightIn20:le(P+","+A,"0.367s",O),slideRightIn40:le(P+","+M,"0.367s",O),slideRightIn400:le(P+","+j,"0.367s",O),slideLeftIn10:le(P+","+R,"0.367s",O),slideLeftIn20:le(P+","+F,"0.367s",O),slideLeftIn40:le(P+","+N,"0.367s",O),slideLeftIn400:le(P+","+L,"0.367s",O),slideUpIn10:le(P+","+B,"0.367s",O),slideUpIn20:le(P+","+z,"0.367s",O),slideDownIn10:le(P+","+U,"0.367s",O),slideDownIn20:le(P+","+H,"0.367s",O),slideRightOut10:le(I+","+V,"0.367s",O),slideRightOut20:le(I+","+W,"0.367s",O),slideRightOut40:le(I+","+G,"0.367s",O),slideRightOut400:le(I+","+K,"0.367s",O),slideLeftOut10:le(I+","+q,"0.367s",O),slideLeftOut20:le(I+","+Y,"0.367s",O),slideLeftOut40:le(I+","+X,"0.367s",O),slideLeftOut400:le(I+","+Z,"0.367s",O),slideUpOut10:le(I+","+Q,"0.367s",O),slideUpOut20:le(I+","+$,"0.367s",O),slideDownOut10:le(I+","+J,"0.367s",O),slideDownOut20:le(I+","+ee,"0.367s",O),scaleUpIn100:le(P+","+te,"0.367s",O),scaleDownIn100:le(P+","+re,"0.367s",O),scaleUpOut103:le(I+","+ie,"0.167s",T),scaleDownOut98:le(I+","+ne,"0.167s",T),fadeIn100:le(P,"0.167s",T),fadeIn200:le(P,"0.267s",T),fadeIn400:le(P,"0.367s",T),fadeIn500:le(P,"0.467s",T),fadeOut100:le(I,"0.167s",T),fadeOut200:le(I,"0.267s",T),fadeOut400:le(I,"0.367s",T),fadeOut500:le(I,"0.467s",T),rotate90deg:le(oe,"0.1s",T),rotateN90deg:le(ae,"0.1s",T)};function le(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function ce(e){return s({from:{transform:"translate3d("+e+"px,0,0)"},to:{transform:"translate3d(0,0,0)"}})}function de(e){return s({from:{transform:"translate3d(0,"+e+"px,0)"},to:{transform:"translate3d(0,0,0)"}})}function fe(e){return s({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+e+"px,0,0)"}})}function he(e){return s({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+e+"px,0)"}})}var pe,ge,me={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#212121",neutralPrimary:"#333333",neutralPrimaryAlt:"#3c3c3c",neutralSecondary:"#666666",neutralSecondaryAlt:"#767676",neutralTertiary:"#a6a6a6",neutralTertiaryAlt:"#c8c8c8",neutralQuaternary:"#d0d0d0",neutralQuaternaryAlt:"#dadada",neutralLight:"#eaeaea",neutralLighter:"#f4f4f4",neutralLighterAlt:"#f8f8f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a80000",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web"}(pe||(pe={})),function(e){e.Arabic="'"+pe.Arabic+"'",e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'"+pe.Cyrillic+"'",e.EastEuropean="'"+pe.EastEuropean+"'",e.Greek="'"+pe.Greek+"'",e.Hebrew="'"+pe.Hebrew+"'",e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'"+pe.Selawik+"'",e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'"+pe.Vietnamese+"'",e.WestEuropean="'"+pe.WestEuropean+"'"}(ge||(ge={}));var ve,be,ye,_e="'Segoe UI', '"+pe.WestEuropean+"'",xe={ar:ge.Arabic,bg:ge.Cyrillic,cs:ge.EastEuropean,el:ge.Greek,et:ge.EastEuropean,he:ge.Hebrew,hi:ge.Hindi,hr:ge.EastEuropean,hu:ge.EastEuropean,ja:ge.Japanese,kk:ge.EastEuropean,ko:ge.Korean,lt:ge.EastEuropean,lv:ge.EastEuropean,pl:ge.EastEuropean,ru:ge.Cyrillic,sk:ge.EastEuropean,"sr-latn":ge.EastEuropean,th:ge.Thai,tr:ge.EastEuropean,uk:ge.Cyrillic,vi:ge.Vietnamese,"zh-hans":ge.ChineseSimplified,"zh-hant":ge.ChineseTraditional};function Se(e){return e+", 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif"}function we(e){var t=function(e){for(var t in xe)if(xe.hasOwnProperty(t)&&e&&0===t.indexOf(e))return xe[t];return _e}(e),n=Se(t),r=n;return t===_e&&(r=Se(ge.WestEuropean)),{tiny:Ce(ve.mini,be.semibold,n),xSmall:Ce(ve.xSmall,be.regular,n),small:Ce(ve.small,be.regular,n),smallPlus:Ce(ve.smallPlus,be.regular,n),medium:Ce(ve.medium,be.regular,n),mediumPlus:Ce(ve.mediumPlus,be.regular,n),large:Ce(ve.large,be.semilight,r),xLarge:Ce(ve.xLarge,be.light,n),xLargePlus:Ce(ve.xLargePlus,be.light,n),xxLarge:Ce(ve.xxLarge,be.light,n),xxLargePlus:Ce(ve.xxLargePlus,be.light,n),superLarge:Ce(ve.superLarge,be.light,n),mega:Ce(ve.mega,be.light,n)}}function Ce(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}!function(e){e.mini="10px",e.xSmall="11px",e.small="12px",e.smallPlus="13px",e.medium="14px",e.mediumPlus="15px",e.icon="16px",e.large="17px",e.xLarge="21px",e.xLargePlus="21px",e.xxLarge="28px",e.xxLargePlus="28px",e.superLarge="42px",e.mega="72px"}(ve||(ve={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(be||(be={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(ye||(ye={}));var ke=n(185),Ee=n(30),Oe=we(Object(ke.a)());function Te(e,t,n,r){a({fontFamily:e="'"+e+"'",src:(void 0!==r?"local('"+r+"'),":"")+"url('"+t+".woff2') format('woff2'),url('"+t+".woff') format('woff')",fontWeight:n,fontStyle:"normal"})}function Pe(e,t,n,r,i){void 0===r&&(r="segoeui");var o=e+"/"+n+"/"+r;Te(t,o+"-light",be.light,i&&i+" Light"),Te(t,o+"-semilight",be.semilight,i&&i+" SemiLight"),Te(t,o+"-regular",be.regular,i),Te(t,o+"-semibold",be.semibold,i&&i+" SemiBold")}function Ie(e){if(e){var t=e+"/fonts";Pe(t,pe.Thai,"leelawadeeui-thai","leelawadeeui"),Pe(t,pe.Arabic,"segoeui-arabic"),Pe(t,pe.Cyrillic,"segoeui-cyrillic"),Pe(t,pe.EastEuropean,"segoeui-easteuropean"),Pe(t,pe.Greek,"segoeui-greek"),Pe(t,pe.Hebrew,"segoeui-hebrew"),Pe(t,pe.Vietnamese,"segoeui-vietnamese"),Pe(t,pe.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Pe(t,ge.Selawik,"selawik","selawik"),Te("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-semilight",be.light),Te("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-bold",be.semibold)}}Ie(function(){var e=Object(Ee.a)(),t=e?e.FabricConfig:void 0;return t&&void 0!==t.fontBaseUrl?t.fontBaseUrl:"https://static2.sharepointonline.com/files/fabric/assets"}());var De="@media screen and (-ms-high-contrast: active)",Ae="@media screen and (-ms-high-contrast: black-on-white)",Me="@media screen and (-ms-high-contrast: white-on-black)",je=320,Re=480,Fe=640,Ne=1024,Le=1366,Be=1920,ze=Re-1,Ue=Fe-1,He=Ne-1,Ve=Le-1,We=Be-1,Ge=768;function Ke(e,t){return"@media only screen and (min-width: "+e+"px) and (max-width: "+t+"px)"}var qe,Ye=n(112);function Xe(e,t,n,r,i,o,a){return Ze(e,"number"!==typeof t&&t?t:{inset:t,position:n,highContrastStyle:r,borderColor:i,outlineColor:o,isFocusedOnly:a})}function Ze(e,t){void 0===t&&(t={});var n,r,i=t.inset,o=void 0===i?0:i,a=t.width,s=void 0===a?1:a,u=t.position,l=void 0===u?"relative":u,c=t.highContrastStyle,d=t.borderColor,f=void 0===d?e.palette.white:d,h=t.outlineColor,p=void 0===h?e.palette.neutralSecondary:h,g=t.isFocusedOnly,m=void 0===g||g;return{outline:"transparent",position:l,selectors:(n={"::-moz-focus-inner":{border:"0"}},n["."+Ye.a+" &"+(m?":focus":"")+":after"]={content:'""',position:"absolute",left:o+1,top:o+1,bottom:o+1,right:o+1,border:s+"px solid "+f,outline:s+"px solid "+p,zIndex:qe.FocusStyle,selectors:(r={},r[De]=c,r)},n)}}function Qe(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}function $e(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=1),{selectors:(i={},i[":global("+Ye.a+") &:focus"]={outline:n+" solid "+(r||e.palette.neutralSecondary),outlineOffset:-t+"px"},i)};var i}!function(e){e.Nav=1,e.ScrollablePane=1,e.FocusStyle=1,e.Coachmark=1e3,e.Layer=1e6,e.KeytipLayer=1000001}(qe||(qe={}));var Je={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden"};function et(e,t){return{borderColor:e,borderWidth:"0px",width:t,height:t}}function tt(e){return{opacity:1,borderWidth:e}}function nt(e,t){return{borderWidth:"0",width:t,height:t,opacity:0,borderColor:e}}function rt(e,t){return d.a({},et(e,t),{opacity:0})}var it={continuousPulseAnimationDouble:function(e,t,n,r,i){return s({"0%":et(e,n),"1.42%":tt(i),"3.57%":{opacity:1},"7.14%":nt(t,r),"8%":rt(e,n),"29.99%":rt(e,n),"30%":et(e,n),"31.42%":tt(i),"33.57%":{opacity:1},"37.14%":nt(t,r),"38%":rt(e,n),"79.42%":rt(e,n),79.43:et(e,n),81.85:tt(i),83.42:{opacity:1},"87%":nt(t,r),"100%":{}})},continuousPulseAnimationSingle:function(e,t,n,r,i){return s({"0%":et(e,n),"14.2%":tt(i),"35.7%":{opacity:1},"71.4%":nt(t,r),"100%":{}})},createDefaultAnimation:function(e,t){return{animationName:e,animationIterationCount:"1",animationDuration:"14s",animationDelay:t||"2s"}}},ot=n(154),at=Object(ot.b)((function(e,t){var n=r.b.getInstance();return t?Object.keys(e).reduce((function(t,r){return t[r]=n.getClassName(e[r]),t}),{}):e}));function st(e,t,n){return at(e,void 0!==n?n:t.disableGlobalClassNames)}var ut=n(58),lt=n(96);function ct(e,t,n){var r,i=e,o=n||ut.a.getSettings(["theme"],void 0,e.customizations).theme;n&&(r={theme:n});var a=t&&o&&o.schemes&&o.schemes[t];return o&&a&&o!==a&&((r={theme:a}).theme.schemes=o.schemes),r&&(i={customizations:{settings:Object(lt.b)(e.customizations.settings,r),scopedSettings:e.customizations.scopedSettings}}),i}var dt,ft=n(155),ht={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},pt=n(37),gt={elevation4:"0 0 5px 0 rgba(0,0,0,.4)",elevation8:"0 0 5px 0 rgba(0,0,0,.4)",elevation16:"0 0 5px 0 rgba(0,0,0,.4)",elevation64:"0 0 5px 0 rgba(0,0,0,.4)",roundedCorner2:"0px"},mt=Ct({palette:me,semanticColors:kt(me,!1,!1),fonts:Oe,isInverted:!1,disableGlobalClassNames:!1}),vt=[],bt="theme";if(!ut.a.getSettings([bt]).theme){var yt=Object(Ee.a)();yt&&yt.FabricConfig&&yt.FabricConfig.theme&&(mt=Ct(yt.FabricConfig.theme)),ut.a.applySettings(((dt={})[bt]=mt,dt))}function _t(e){return void 0===e&&(e=!1),!0===e&&(mt=Ct({},e)),mt}function xt(e){-1===vt.indexOf(e)&&vt.push(e)}function St(e){var t=vt.indexOf(e);-1!==t&&vt.splice(t,1)}function wt(e,t){return void 0===t&&(t=!1),mt=Ct(e,t),Object(pt.b)(d.a({},mt.palette,mt.semanticColors,mt.effects,function(e){for(var t={},n=0,r=Object.keys(e.fonts);n<r.length;n++)for(var i=r[n],o=e.fonts[i],a=0,s=Object.keys(o);a<s.length;a++){var u=s[a],l=i+u.charAt(0).toUpperCase()+u.slice(1),c=o[u];"fontSize"===u&&"number"===typeof c&&(c+="px"),t[l]=c}return t}(mt))),ut.a.applySettings(((n={})[bt]=mt,n)),vt.forEach((function(e){try{e(mt)}catch(t){}})),mt;var n}function Ct(e,t){void 0===t&&(t=!1);var n=d.a({},me,e.palette);e.palette&&e.palette.accent||(n.accent=n.themePrimary);var r=d.a({},kt(n,!!e.isInverted,t),e.semanticColors),i=d.a({},Oe);if(e.defaultFontStyle)for(var o=0,a=Object.keys(i);o<a.length;o++){i[l=a[o]]=Object(ft.a)({},i[l],e.defaultFontStyle)}if(e.fonts)for(var s=0,u=Object.keys(e.fonts);s<u.length;s++){var l;i[l=u[s]]=Object(ft.a)({},i[l],e.fonts[l])}return{palette:n,fonts:d.a({},i),semanticColors:r,isInverted:!!e.isInverted,disableGlobalClassNames:!!e.disableGlobalClassNames,spacing:d.a({},ht,e.spacing),effects:d.a({},gt,e.effects)}}function kt(e,t,n){return function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e}({bodyBackground:e.white,bodyStandoutBackground:e.neutralLighterAlt,bodyFrameBackground:e.white,bodyFrameDivider:e.neutralLight,bodyText:e.neutralPrimary,bodyTextChecked:e.black,bodySubtext:e.neutralSecondary,bodyDivider:e.neutralLight,disabledBackground:e.neutralLighter,disabledText:e.neutralTertiary,disabledBodyText:e.neutralTertiary,disabledSubtext:e.neutralQuaternary,disabledBodySubtext:e.neutralTertiaryAlt,focusBorder:e.neutralSecondary,variantBorder:e.neutralLight,variantBorderHovered:e.neutralTertiary,defaultStateBackground:e.neutralLighterAlt,errorText:t?"#ff5f5f":e.redDark,warningText:t?"#ffffff":"#333333",successText:t?"#92c353":"#107C10",errorBackground:t?"rgba(232, 17, 35, .5)":"rgba(232, 17, 35, .2)",blockingBackground:t?"rgba(234, 67, 0, .5)":"rgba(234, 67, 0, .2)",warningBackground:t?"rgba(255, 251, 0, .6)":"rgba(255, 185, 0, .2)",warningHighlight:t?"#fff100":"#ffb900",successBackground:t?"rgba(186, 216, 10, .4)":"rgba(186, 216, 10, .2)",inputBorder:e.neutralTertiary,inputBorderHovered:e.neutralPrimary,inputBackground:e.white,inputBackgroundChecked:e.themePrimary,inputBackgroundCheckedHovered:e.themeDarkAlt,inputForegroundChecked:e.white,inputFocusBorderAlt:e.themePrimary,smallInputBorder:e.neutralSecondary,inputText:e.neutralPrimary,inputTextHovered:e.neutralDark,inputPlaceholderText:e.neutralSecondary,buttonBackground:e.neutralLighter,buttonBackgroundChecked:e.neutralTertiaryAlt,buttonBackgroundHovered:e.neutralLight,buttonBackgroundCheckedHovered:e.neutralLight,buttonBackgroundPressed:e.neutralLight,buttonBackgroundDisabled:e.neutralLighter,buttonBorder:"transparent",buttonText:e.neutralPrimary,buttonTextHovered:e.neutralDark,buttonTextChecked:e.neutralDark,buttonTextCheckedHovered:e.black,buttonTextPressed:e.neutralDark,buttonTextDisabled:e.neutralTertiary,buttonBorderDisabled:"transparent",primaryButtonBackground:e.themePrimary,primaryButtonBackgroundHovered:e.themeDarkAlt,primaryButtonBackgroundPressed:e.themeDark,primaryButtonBackgroundDisabled:e.neutralLighter,primaryButtonBorder:"transparent",primaryButtonText:e.white,primaryButtonTextHovered:e.white,primaryButtonTextPressed:e.white,primaryButtonTextDisabled:e.neutralQuaternary,accentButtonBackground:e.accent,accentButtonText:e.white,menuBackground:e.white,menuDivider:e.neutralTertiaryAlt,menuIcon:e.themePrimary,menuHeader:e.themePrimary,menuItemBackgroundHovered:e.neutralLighter,menuItemBackgroundPressed:e.neutralLight,menuItemText:e.neutralPrimary,menuItemTextHovered:e.neutralDark,listBackground:e.white,listText:e.neutralPrimary,listItemBackgroundHovered:e.neutralLighter,listItemBackgroundChecked:e.neutralLight,listItemBackgroundCheckedHovered:e.neutralQuaternaryAlt,listHeaderBackgroundHovered:e.neutralLighter,listHeaderBackgroundPressed:e.neutralLight,actionLink:e.neutralPrimary,actionLinkHovered:e.neutralDark,link:e.themePrimary,linkHovered:e.themeDarker,listTextColor:"",menuItemBackgroundChecked:e.neutralLight},n)}var Et={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},Ot={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};function Tt(e,t,n,r,i){void 0===t&&(t="bodyBackground"),void 0===n&&(n="horizontal"),void 0===r&&(r=Pt("width",n)),void 0===i&&(i=Pt("height",n));var o=e.semanticColors[t]||e.palette[t],a=function(e){if("#"===e[0])return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)};if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2]}}return{r:255,g:255,b:255}}(o);return{content:'""',position:"absolute",right:0,bottom:0,width:r,height:i,pointerEvents:"none",backgroundImage:"linear-gradient("+("vertical"===n?"to bottom":"to right")+", "+("rgba("+a.r+", "+a.g+", "+a.b+", 0)")+" 0%, "+o+" 100%)"}}function Pt(e,t){return"width"===e?"horizontal"===t?20:"100%":"vertical"===t?"50%":"100%"}function It(e){return{selectors:{"::placeholder":e,":-ms-input-placeholder":e,"::-ms-input-placeholder":e}}}var Dt=c(ue),At=c(Oe),Mt={};for(var jt in me)me.hasOwnProperty(jt)&&(Rt(Mt,jt,"",!1,"color"),Rt(Mt,jt,"Hover",!0,"color"),Rt(Mt,jt,"Background",!1,"background"),Rt(Mt,jt,"BackgroundHover",!0,"background"),Rt(Mt,jt,"Border",!1,"borderColor"),Rt(Mt,jt,"BorderHover",!0,"borderColor"));function Rt(e,t,n,r,i){Object.defineProperty(e,t+n,{get:function(){var e,n=((e={})[i]=_t().palette[t],e);return Object(l.a)(r?{selectors:{":hover":n}}:n).toString()},enumerable:!0,configurable:!0})}var Ft=n(254);Object(Ft.a)("@uifabric/styling","6.50.6")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(126);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(89);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(89);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return h}));var r={};function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e){return Math.round(e/r.EPSILON)*r.EPSILON}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,i=void 0===n?r.precision||4:n;return e=o(e),parseFloat(e.toPrecision(i))}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&void 0!==e.length}function u(e,t){if(s(e)){for(var n=(i=e).clone?i.clone():new Array(i),r=0;r<n.length;++r)n[r]=t(n[r],r,n);return n}var i;return t(e)}function l(e){return u(e,(function(e){return e/180*Math.PI}))}function c(e){return u(e,(function(e){return 180*e/Math.PI}))}function d(e,t,n){return u(e,(function(e){return Math.max(t,Math.min(n,e))}))}function f(e,t,n){return s(e)?e.map((function(e,r){return f(e,t[r],n)})):n*t+(1-n)*e}function h(e,t){if(s(e)&&s(t)){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!h(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}r.EPSILON=1e-12,r.debug=!0,r.precision=4,r.printTypes=!1,r.printDegrees=!1,r.printRowMajor=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(24),l=n(36),c=n(55),d=n(9),f=n(44),h=n(7),p=n(6),g=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e,i))).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),n.target=i.target||(n.gl.webgl2?36662:34962),n._initialize(i),Object.seal(Object(u.a)(Object(u.a)(n))),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/c.a.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/c.a.getBytesPerVertex(e))}},{key:"initialize",value:function(e){return this._initialize(e)}},{key:"setProps",value:function(e){return"data"in e&&this.setData(e),this}},{key:"setAccessor",value:function(e){return this.accessor=e,this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,n=t.data,r=t.offset,i=void 0===r?0:r,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;Object(p.a)(n);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?(Object(d.d)(this.gl),this.gl.bufferSubData(this.target,i,n,a,s)):this.gl.bufferSubData(u,i,n),this.gl.bindBuffer(u,null),this.debugData=null,this.accessor.type||this.setAccessor(new c.a(this.accessor,{type:Object(f.b)(n)})),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return Object(d.d)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,i=void 0===r?0:r,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;Object(d.d)(this.gl);var l,c,h=Object(f.c)(this.accessor.type||5126,{clamped:!1}),g=this._getAvailableElementCount(i),m=a;n?l=(c=n.length)-m:c=m+(l=Math.min(g,u||g));var v=Math.min(g,l);return u=u||v,Object(p.a)(u<=v),n=n||new h(c),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,a,u),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===n||35982===n?void 0!==s?this.gl.bindBufferRange(n,i,this.handle,a,s):(Object(p.a)(0===a),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=35345===n||35982===n;return o?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:10}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e.bytes&&h.g.deprecated("bytes","byteLength");var t=e.byteLength||e.bytes||0;return this.usage=e.usage||35044,this.setAccessor(new c.a(e,e.accessor)),e.data?this._setData(e.data):this._setByteLength(t)}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(p.a)(ArrayBuffer.isView(e));var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,e,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=e.slice(0,10),this.byteLength=e.byteLength,this.bytesUsed=e.byteLength;var r=Object(f.b)(e);return Object(p.a)(r),this.setAccessor(new c.a(this.accessor,{type:r})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(p.a)(e>=0);var n=e;0===e&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.byteLength=e,this.bytesUsed=e,this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/Object(f.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle)}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"updateAccessor",value:function(e){return h.g.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)"),this.accessor=new c.a(this.accessor,e),this}},{key:"setByteLength",value:function(e){return h.g.deprecated("setByteLength","reallocate"),this.reallocate(e)}},{key:"data",get:function(){h.g.removed("Buffer.data","N/A","v6.0")}},{key:"bytes",get:function(){return h.g.deprecated("Buffer.bytes","Buffer.byteLength","v6.1"),this.byteLength}}]),t}(l.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(100);var i=n(89);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(98);var i=n(126);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(83),i=void 0;try{i=window}catch(a){}function o(e){if(!r.a&&"undefined"!==typeof i){var t=e;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:i}}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},i=r.self||r.window||r.global,o=r.window||r.self||r.global,a=r.global||r.self||r.window,s=r.document||{}}).call(this,n(59))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f}));var r=n(22),i=n(29),o=n(74),a=n(61);n.d(t,"b",(function(){return a.c})),n.d(t,"c",(function(){return a.d})),n.d(t,"e",(function(){return a.f})),n.d(t,"d",(function(){return a.e})),n.d(t,"a",(function(){return a.b}));var s=n(7),u=n(6),l={framebuffer:function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)},blend:function(e,t){return t?e.enable(3042):e.disable(3042)},blendColor:function(e,t){return e.blendColor.apply(e,Object(i.a)(t))},blendEquation:function(e,t){t=c(t)?t:[t,t],e.blendEquationSeparate.apply(e,Object(i.a)(t))},blendFunc:function(e,t){t=c(t)&&2===t.length?Object(i.a)(t).concat(Object(i.a)(t)):t,e.blendFuncSeparate.apply(e,Object(i.a)(t))},clearColor:function(e,t){return e.clearColor.apply(e,Object(i.a)(t))},clearDepth:function(e,t){return e.clearDepth(t)},clearStencil:function(e,t){return e.clearStencil(t)},colorMask:function(e,t){return e.colorMask.apply(e,Object(i.a)(t))},cull:function(e,t){return t?e.enable(2884):e.disable(2884)},cullFace:function(e,t){return e.cullFace(t)},depthTest:function(e,t){return t?e.enable(2929):e.disable(2929)},depthFunc:function(e,t){return e.depthFunc(t)},depthMask:function(e,t){return e.depthMask(t)},depthRange:function(e,t){return e.depthRange.apply(e,Object(i.a)(t))},dither:function(e,t){return t?e.enable(3024):e.disable(3024)},derivativeHint:function(e,t){e.hint(35723,t)},frontFace:function(e,t){return e.frontFace(t)},mipmapHint:function(e,t){return e.hint(33170,t)},lineWidth:function(e,t){return e.lineWidth(t)},polygonOffsetFill:function(e,t){return t?e.enable(32823):e.disable(32823)},polygonOffset:function(e,t){return e.polygonOffset.apply(e,Object(i.a)(t))},sampleCoverage:function(e,t){return e.sampleCoverage.apply(e,Object(i.a)(t))},scissorTest:function(e,t){return t?e.enable(3089):e.disable(3089)},scissor:function(e,t){return e.scissor.apply(e,Object(i.a)(t))},stencilTest:function(e,t){return t?e.enable(2960):e.disable(2960)},stencilMask:function(e,t){var n=t=c(t)?t:[t,t],i=Object(r.a)(n,2),o=i[0],a=i[1];e.stencilMaskSeparate(1028,o),e.stencilMaskSeparate(1029,a)},stencilFunc:function(e,t){var n=t=c(t)&&3===t.length?Object(i.a)(t).concat(Object(i.a)(t)):t,o=Object(r.a)(n,6),a=o[0],s=o[1],u=o[2],l=o[3],d=o[4],f=o[5];e.stencilFuncSeparate(1028,a,s,u),e.stencilFuncSeparate(1029,l,d,f)},stencilOp:function(e,t){var n=t=c(t)&&3===t.length?Object(i.a)(t).concat(Object(i.a)(t)):t,o=Object(r.a)(n,6),a=o[0],s=o[1],u=o[2],l=o[3],d=o[4],f=o[5];e.stencilOpSeparate(1028,a,s,u),e.stencilOpSeparate(1029,l,d,f)},viewport:function(e,t){return e.viewport.apply(e,Object(i.a)(t))}};function c(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function d(e,t){for(var n in Object(a.g)(e,t),t){var r=l[n];r&&r(e,t[n],n)}}function f(e,t,n){if(Object(s.d)(t))return n(e);var r,i=t.nocatch,a=void 0===i||i;if(Object(u.a)(!t.frameBuffer),Object(o.c)(e),d(e,t),a)r=n(e),Object(o.b)(e);else try{r=n(e)}finally{Object(o.b)(e)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="undefined"!==typeof window&&window.addEventListener,o=new Map,a=function(){return i&&window.__SEER_INITIALIZED__},s=function(e,t){var n=o.get(e),r=Date.now();return!!(n&&r-n<t)||(o.set(e,r),!1)},u=function(e){return function(t,n){if(!n||"object"!==("undefined"===typeof n?"undefined":r(n))||!e.has(n))return e.add(n),Object.prototype.toString.call(n).slice(8,-1).includes("Array")?Array.prototype.slice.call(n,0,20):n}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&a()){var n=new Set,r=JSON.stringify(t,u(n));try{window.postMessage({type:e,payload:r,source:"seer-agent"},"*")}catch(o){if(s("seer-log",2e3))return;console.log(o)}}},c=new Map,d=function(e){if(e&&e.data&&"seer-core"===e.data.source){var t=e.data,n=t.type,r=t.payload,i=c.get(n);i&&i.forEach((function(e){return e(r)}))}},f=function(){i&&!window.__SEER_LISTENER__&&(window.addEventListener("message",d),window.__SEER_LISTENER__=!0)};t.default={send:l,throttle:s,isReady:a,list:function(e,t){return l("LIST",{key:e,data:t})},listItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l("LIST_ITEM",{key:e,itemKey:t,data:n})},updateItem:function(e,t,n,r){return l("UPDATE_ITEM",{key:e,itemKey:t,path:n,data:r})},multiUpdate:function(e,t,n){return l("MULTI_UPDATE_ITEM",{key:e,itemKey:t,array:n})},deleteItem:function(e,t){return l("DELETE_ITEM",{key:e,itemKey:t})},addLog:function(e,t,n){return l("ADD_LOG",{key:e,itemKey:t,msg:n})},listeners:c,listenFor:function(e,t){if(i){if(!e||!t)throw new Error("Please provide a type and callback");c.has(e)||c.set(e,[]),window.__SEER_LISTENER__||f(),c.get(e).push(t)}},removeListener:function(e){c.forEach((function(t,n){c.set(n,t.filter((function(t){return t!==e})))}))},init:f,clean:function(){i&&window.__SEER_LISTENER__&&(window.removeEventListener("message",d),delete window.__SEER_LISTENER__)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(5),o=n(133),a=n(9),s=n(7),u=n(6),l="Resource subclass must define virtual methods",c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e),Object(a.e)(t);var i=n.id,o=n.userData,u=void 0===o?{}:o;this.gl=t,this.id=i||Object(s.i)(this.constructor.name),this.userData=u,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this._addStats()}return Object(i.a)(e,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,n=void 0!==t&&t,r=this._handle&&this._deleteHandle(this._handle);return this._handle=null,this._removeStats(),r&&n&&r.filter(Boolean).forEach((function(e){e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object(a.j)(this.gl,e),Object(u.a)(e);var n=this.constructor.PARAMETERS||{},r=n[e];if(r){var i=Object(a.n)(this.gl),o=(!("webgl2"in r)||i)&&(!("extension"in r)||this.gl.getExtension(r.extension));if(!o){var s=r.webgl1,l="webgl2"in r?r.webgl2:r.webgl1,c=i?l:s;return c}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=t.parameters,r=t.keys,i=this.constructor.PARAMETERS||{},o=Object(a.n)(this.gl),s={},u=n||Object.keys(i),l=!0,c=!1,d=void 0;try{for(var f,h=u[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value,g=i[p],m=g&&(!("webgl2"in g)||o)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(m){var v=r?Object(a.i)(this.gl,p):p;s[v]=this.getParameter(p,e),r&&"GLenum"===g.type&&(s[v]=Object(a.i)(this.gl,s[v]))}}}catch(b){c=!0,d=b}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}return s}},{key:"setParameter",value:function(e,t){e=Object(a.j)(this.gl,e),Object(u.a)(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=Object(a.n)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=Object(a.j)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,n){return Object(s.h)(this,e,t,n)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(l)}},{key:"_deleteHandle",value:function(){throw new Error(l)}},{key:"_bindHandle",value:function(){throw new Error(l)}},{key:"_getOptsFromHandle",value:function(){throw new Error(l)}},{key:"_getParameter",value:function(e,t){throw new Error(l)}},{key:"_setParameter",value:function(e,t){throw new Error(l)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this.constructor.name,t=o.default.stats;t.resourceCount=t.resourceCount||0,t.resourceMap=t.resourceMap||{},t.resourceCount++,t.resourceMap[e]=t.resourceMap[e]||{created:0,active:0},t.resourceMap[e].created++,t.resourceMap[e].active++}},{key:"_removeStats",value:function(){var e=this.constructor.name;o.default.stats.resourceMap[e].active--}},{key:"handle",get:function(){return this._handle}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i="undefined"===typeof window?e:window,o=i&&i.CSPSettings&&i.CSPSettings.nonce,a=function(){var e=i.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};e.runState||(e=r({},e,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));e.registeredThemableStyles||(e=r({},e,{registeredThemableStyles:[]}));return i.__themeState__=e,e}(),s=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,u=function(){return"undefined"!==typeof performance&&performance.now?performance.now():Date.now()};function l(e){var t=u();e();var n=u();a.perf.duration+=n-t}function c(e,t){void 0===t&&(t=!1),l((function(){var n=Array.isArray(e)?e:g(e),r=a.runState,i=r.mode,o=r.buffer,s=r.flushTimer;t||1===i?(o.push(n),s||(a.runState.flushTimer=setTimeout((function(){a.runState.flushTimer=0,l((function(){var e=a.runState.buffer.slice();a.runState.buffer=[];var t=[].concat.apply([],e);t.length>0&&d(t)}))}),0))):d(n)}))}function d(e,t){a.loadStyles?a.loadStyles(p(e).styleString,e):function(e){if("undefined"===typeof document)return;var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=p(e),i=r.styleString,s=r.themable;n.setAttribute("data-load-themed-styles","true"),o&&n.setAttribute("nonce",o);n.appendChild(document.createTextNode(i)),a.perf.count++,t.appendChild(n);var u=document.createEvent("HTMLEvents");u.initEvent("styleinsert",!0,!1),u.args={newStyle:n},document.dispatchEvent(u);var l={styleElement:n,themableStyle:e};s?a.registeredThemableStyles.push(l):a.registeredStyles.push(l)}(e)}function f(e){a.theme=e,function(){if(a.theme){for(var e=[],t=0,n=a.registeredThemableStyles;t<n.length;t++){var r=n[t];e.push(r.themableStyle)}e.length>0&&(!function(e){void 0===e&&(e=3);3!==e&&2!==e||(h(a.registeredStyles),a.registeredStyles=[]);3!==e&&1!==e||(h(a.registeredThemableStyles),a.registeredThemableStyles=[])}(1),d([].concat.apply([],e)))}}()}function h(e){e.forEach((function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)}))}function p(e){var t=a.theme,n=!1;return{styleString:(e||[]).map((function(e){var r=e.theme;if(r){n=!0;var i=t?t[r]:void 0,o=e.defaultValue||"inherit";return t&&!i&&console&&!(r in t)&&"undefined"!==typeof DEBUG&&DEBUG&&console.warn('Theming value not provided for "'+r+'". Falling back to "'+o+'".'),i||o}return e.rawString})).join(""),themable:n}}function g(e){var t=[];if(e){for(var n=0,r=void 0;r=s.exec(e);){var i=r.index;i>n&&t.push({rawString:e.substring(n,i)}),t.push({theme:r[1],defaultValue:r[2]}),n=s.lastIndex}t.push({rawString:e.substring(n)})}return t}}).call(this,n(59))},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n(4),i=n(31),o=n(70),a=null,s=function(){throw new Error("luma.gl: loaded under Node.js without headless gl installed, meaning that WebGL contexts can not be created. This may not be an error. For example, this is a typical configuration for isorender applications running on the server.")};if(!o.a)try{s=n(211),a=n(212)}catch(g){}var u=function e(){Object(r.a)(this,e)},l=a||i.b,c=l.WebGLRenderingContext,d=void 0===c?u:c,f=(l.WebGLProgram,l.WebGLShader,l.WebGLBuffer),h=void 0===f?u:f;l.WebGLFramebuffer,l.WebGLRenderbuffer,l.WebGLTexture,l.WebGLUniformLocation,l.WebGLActiveInfo,l.WebGLShaderPrecisionFormat;var p=i.b.WebGL2RenderingContext||function e(){Object(r.a)(this,e)};i.b.Image},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n(6),i=n(42);function o(e,t){if("string"!==typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var i=e[t=t.replace(/^.*\./,"")];return Object(r.a)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function a(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}function s(e,t){return t||i.a.removed("glGet(name)","glGet(gl, name)","6.0")(),o(e,t)}function u(e,t){return void 0===t&&i.a.removed("glKey(value)","glKey(gl, value)","6.0")(),a(e,t)}function l(e,t){return void 0===t&&i.a.removed("glKeyType(value)","glKeyType(gl, value)","6.0")(),function(e,t){for(var n in Object(r.a)(void 0!==t,"undefined key"),t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return d}));var r=n(20);function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function a(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function u(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function l(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function c(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}var d=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new r.a(2);return r.a!=Float32Array&&(e[0]=0,e[1]=0),e}()}()},,function(e,t,n){"use strict";var r=n(244);t.a=new r.a({id:"luma"}).enable()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}));function r(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clamped,r=void 0===n||n;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}function a(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r,i=n(2),o={none:0,insertNode:1,appendChild:2},a={};try{a=window}catch(u){}var s=function(){function e(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=i.a({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e)}return e.getInstance=function(){if(!(r=a.__stylesheet__)||r._lastStyleElement&&r._lastStyleElement.ownerDocument!==document){var t=a&&a.FabricConfig||{};r=a.__stylesheet__=new e(t.mergeStyles)}return r},e.prototype.setConfig=function(e){this._config=i.a({},this._config,e)},e.prototype.onReset=function(e){this._onResetCallbacks.push(e)},e.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},e.prototype.cacheClassName=function(e,t,n,r){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:r}},e.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},e.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},e.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},e.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var r=n.sheet;try{r.insertRule(e,r.cssRules.length)}catch(i){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},e.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},e.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},e.prototype.resetKeys=function(){this._keyToClassName={}},e.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"===typeof document||(this._styleElement=this._createStyleElement(),window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},e.prototype._createStyleElement=function(){var e=document.createElement("style");e.setAttribute("data-merge-styles","true"),e.type="text/css";var t=this._config.cspSettings;return t&&t.nonce&&e.setAttribute("nonce",t.nonce),this._lastStyleElement&&this._lastStyleElement.nextElementSibling?document.head.insertBefore(e,this._lastStyleElement.nextElementSibling):document.head.appendChild(e),this._lastStyleElement=e,e},e}()},,function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n(32),o={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===("undefined"===typeof r?"undefined":Object(i.a)(r))&&r},a=o.window||o.self||o.global,s=o.process||{};console}).call(this,n(59),n(75))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(206)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(20);function i(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function o(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function a(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=function(){var e=new r.a(4);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62),i=n(47);function o(){if(!r.b){var e=i.a.hrtime();return e[0]+e[1]/1e6}return i.b.performance?i.b.performance.now():Date.now()}o()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return D}));var r=n(57);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function _(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?x(t):3===n?new k(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?S(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?S(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new k(t[1],t[2],t[3],1):(t=f.exec(e))?new k(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?S(t[1],t[2],t[3],t[4]):(t=p.exec(e))?S(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?P(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?P(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?x(v[e]):"transparent"===e?new k(NaN,NaN,NaN,0):null}function x(e){return new k(e>>16&255,e>>8&255,255&e,1)}function S(e,t,n,r){return r<=0&&(e=t=n=NaN),new k(e,t,n,r)}function w(e){return e instanceof i||(e=_(e)),e?new k((e=e.rgb()).r,e.g,e.b,e.opacity):new k}function C(e,t,n,r){return 1===arguments.length?w(e):new k(e,t,n,null==r?1:r)}function k(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return"#"+T(this.r)+T(this.g)+T(this.b)}function O(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function T(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function P(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new A(e,t,n,r)}function I(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=_(e)),!e)return new A;if(e instanceof A)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-o,l=(a+o)/2;return u?(s=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=l<.5?a+o:2-a-o,s*=60):u=l>0&&l<1?0:s,new A(s,u,l,e.opacity)}function D(e,t,n,r){return 1===arguments.length?I(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function M(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(r.a)(i,_,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return I(this).formatHsl()},formatRgb:y,toString:y}),Object(r.a)(k,C,Object(r.b)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatRgb:O,toString:O})),Object(r.a)(A,D,Object(r.b)(i,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new A(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new k(M(e>=240?e-240:e+120,i,r),M(e,i,r),M(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return o.a})),n.d(t,"ec",(function(){return o.b})),n.d(t,"kc",(function(){return a.a})),n.d(t,"i",(function(){return s.a})),n.d(t,"j",(function(){return u.a})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return d.a})),n.d(t,"n",(function(){return f.a})),n.d(t,"o",(function(){return h.a})),n.d(t,"t",(function(){return p.a})),n.d(t,"ac",(function(){return g.a})),n.d(t,"V",(function(){return m.e})),n.d(t,"T",(function(){return m.d})),n.d(t,"H",(function(){return m.c})),n.d(t,"Jc",(function(){return m.i})),n.d(t,"mc",(function(){return m.g})),n.d(t,"nc",(function(){return m.h})),n.d(t,"q",(function(){return m.a})),n.d(t,"Y",(function(){return m.f})),n.d(t,"u",(function(){return m.b})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return x.a})),n.d(t,"z",(function(){return S.a})),n.d(t,"E",(function(){return w.a})),n.d(t,"I",(function(){return C.a})),n.d(t,"J",(function(){return k.a})),n.d(t,"d",(function(){return E.a})),n.d(t,"e",(function(){return O.a})),n.d(t,"f",(function(){return T.a})),n.d(t,"K",(function(){return P.a})),n.d(t,"bc",(function(){return I.a})),n.d(t,"dc",(function(){return D.b})),n.d(t,"cc",(function(){return D.a})),n.d(t,"O",(function(){return A.a})),n.d(t,"P",(function(){return M.a})),n.d(t,"U",(function(){return j.a})),n.d(t,"db",(function(){return F})),n.d(t,"fb",(function(){return N.a})),n.d(t,"rb",(function(){return L.a})),n.d(t,"vb",(function(){return B.a})),n.d(t,"yb",(function(){return z.a})),n.d(t,"zb",(function(){return U.a})),n.d(t,"Tb",(function(){return R.a})),n.d(t,"gc",(function(){return H.a})),n.d(t,"ic",(function(){return V.a})),n.d(t,"lc",(function(){return W.a})),n.d(t,"h",(function(){return G.a})),n.d(t,"xc",(function(){return G.b})),n.d(t,"Ac",(function(){return K.a})),n.d(t,"R",(function(){return q.a})),n.d(t,"hb",(function(){return Y.e})),n.d(t,"nb",(function(){return Y.h})),n.d(t,"ib",(function(){return Y.f})),n.d(t,"ob",(function(){return Y.i})),n.d(t,"ab",(function(){return Y.c})),n.d(t,"sb",(function(){return Y.k})),n.d(t,"qb",(function(){return Y.j})),n.d(t,"Qb",(function(){return Y.o})),n.d(t,"Pb",(function(){return Y.n})),n.d(t,"Ob",(function(){return Y.m})),n.d(t,"Nb",(function(){return Y.l})),n.d(t,"N",(function(){return Y.a})),n.d(t,"Dc",(function(){return Y.p})),n.d(t,"Z",(function(){return Y.b})),n.d(t,"jb",(function(){return Y.g})),n.d(t,"gb",(function(){return Y.d})),n.d(t,"Db",(function(){return X.a})),n.d(t,"Lc",(function(){return X.b})),n.d(t,"Eb",(function(){return Z.a})),n.d(t,"Jb",(function(){return Q.a})),n.d(t,"m",(function(){return $.a})),n.d(t,"Kb",(function(){return $.b})),n.d(t,"lb",(function(){return J.a})),n.d(t,"Mb",(function(){return ee.b})),n.d(t,"p",(function(){return ee.a})),n.d(t,"mb",(function(){return te.a})),n.d(t,"vc",(function(){return te.b})),n.d(t,"eb",(function(){return ne.c})),n.d(t,"X",(function(){return ne.b})),n.d(t,"D",(function(){return ne.a})),n.d(t,"jc",(function(){return ne.d})),n.d(t,"wc",(function(){return re.d})),n.d(t,"pc",(function(){return re.c})),n.d(t,"Xb",(function(){return re.a})),n.d(t,"Yb",(function(){return re.b})),n.d(t,"Zb",(function(){return ie.a})),n.d(t,"Rb",(function(){return oe.a})),n.d(t,"Cc",(function(){return ae.f})),n.d(t,"x",(function(){return ae.a})),n.d(t,"S",(function(){return ae.b})),n.d(t,"kb",(function(){return ae.c})),n.d(t,"oc",(function(){return ae.e})),n.d(t,"Wb",(function(){return ae.d})),n.d(t,"Mc",(function(){return ae.g})),n.d(t,"Sb",(function(){return se.a})),n.d(t,"Ab",(function(){return ue.a})),n.d(t,"Cb",(function(){return ue.c})),n.d(t,"Bb",(function(){return ue.b})),n.d(t,"A",(function(){return le.c})),n.d(t,"B",(function(){return le.d})),n.d(t,"Fb",(function(){return le.k})),n.d(t,"Ub",(function(){return le.p})),n.d(t,"y",(function(){return le.b})),n.d(t,"Nc",(function(){return le.z})),n.d(t,"fc",(function(){return le.r})),n.d(t,"Vb",(function(){return le.q})),n.d(t,"s",(function(){return le.a})),n.d(t,"C",(function(){return le.e})),n.d(t,"Lb",(function(){return le.o})),n.d(t,"Hc",(function(){return le.w})),n.d(t,"sc",(function(){return le.t})),n.d(t,"hc",(function(){return le.s})),n.d(t,"Fc",(function(){return le.u})),n.d(t,"Kc",(function(){return le.y})),n.d(t,"Ic",(function(){return le.x})),n.d(t,"Gc",(function(){return le.v})),n.d(t,"F",(function(){return le.f})),n.d(t,"G",(function(){return le.g})),n.d(t,"bb",(function(){return le.i})),n.d(t,"Gb",(function(){return le.l})),n.d(t,"Ib",(function(){return le.n})),n.d(t,"Hb",(function(){return le.m})),n.d(t,"M",(function(){return le.h})),n.d(t,"pb",(function(){return le.j})),n.d(t,"wb",(function(){return de})),n.d(t,"tc",(function(){return fe})),n.d(t,"tb",(function(){return he.a})),n.d(t,"yc",(function(){return he.c})),n.d(t,"ub",(function(){return he.b})),n.d(t,"qc",(function(){return pe.a})),n.d(t,"rc",(function(){return ge})),n.d(t,"g",(function(){return me.a})),n.d(t,"r",(function(){return me.b})),n.d(t,"L",(function(){return me.c})),n.d(t,"Q",(function(){return me.d})),n.d(t,"xb",(function(){return me.f})),n.d(t,"W",(function(){return me.e})),n.d(t,"cb",(function(){return ve.a})),n.d(t,"Ec",(function(){return be.a})),n.d(t,"Oc",(function(){return ye.b})),n.d(t,"Bc",(function(){return ye.a})),n.d(t,"Pc",(function(){return _e.a})),n.d(t,"Qc",(function(){return xe.a})),n.d(t,"Rc",(function(){return Se.a})),n.d(t,"uc",(function(){return we})),n.d(t,"zc",(function(){return Ce.b}));var r=n(114),i=n(183),o=n(187),a=n(177),s=n(161),u=n(71),l=function(){return"undefined"!==typeof performance&&performance.now?performance.now():Date.now()},c=function(){function e(){}return e.measure=function(t,n){e._timeoutId&&e.setPeriodicReset();var r=l();n();var i=l(),o=e.summary[t]||{totalDuration:0,count:0,all:[]},a=i-r;o.totalDuration+=a,o.count++,o.all.push({duration:a,timeStamp:i}),e.summary[t]=o},e.reset=function(){e.summary={},clearTimeout(e._timeoutId),e._timeoutId=NaN},e.setPeriodicReset=function(){e._timeoutId=setTimeout((function(){return e.reset()}),18e4)},e.summary={},e}(),d=n(111),f=n(43),h=n(167),p=n(123),g=n(175),m=n(174),v=n(2),b=n(0),y="undefined"!==typeof WeakMap?new WeakMap:void 0;function _(e){var t=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={Component:y?y.get(e.load):void 0},n}return v.c(n,t),n.prototype.render=function(){var e=this.props,t=e.forwardedRef,n=e.asyncPlaceholder,r=v.d(e,["forwardedRef","asyncPlaceholder"]),i=this.state.Component;return i?b.createElement(i,v.a({ref:t},r)):n?b.createElement(n,null):null},n.prototype.componentDidMount=function(){var t=this;this.state.Component||e.load().then((function(n){n&&(y&&y.set(e.load,n),t.setState({Component:n},e.onLoad))})).catch(e.onError)},n}(b.Component);return b.forwardRef((function(e,n){return b.createElement(t,v.a({},e,{forwardedRef:n}))}))}var x=n(178),S=n(181),w=n(157),C=n(168),k=n(159),E=n(58),O=n(182),T=n(67),P=n(170),I=n(125),D=n(96),A=n(118),M=n(120),j=n(86),R=n(85);function F(e,t){void 0===t&&(t=!0);var n=[];if(e){for(var r=0;r<e.children.length;r++)n.push(e.children.item(r));t&&Object(R.a)(e)&&n.push.apply(n,e._virtual.children)}return n}var N=n(54),L=n(72),B=n(124),z=n(119),U=n(30),H=n(166),V=n(173),W=n(172),G=n(97),K=n(169),q=n(73),Y=n(164),X=n(165),Z=n(121),Q=n(171),$=n(112),J=n(160),ee=n(113),te=n(185),ne=n(184),re=n(154),ie=n(155),oe=n(163),ae=n(84),se=n(162),ue=n(176),le=n(158),ce="";function de(e){return ce+e}function fe(e){ce=e}var he=n(186),pe=n(180),ge=function(e){var t;return function(n,r){t||(t=new Set,Object(q.a)(e,{componentWillUnmount:function(){t.forEach((function(e){return clearTimeout(e)}))}}));var i=setTimeout((function(){t.delete(i),n()}),r);t.add(i)}},me=n(122),ve=n(179),be=n(156),ye=n(82),_e=n(117),xe=n(115),Se=n(116);function we(e,t){var n=t?Object(U.a)(t):Object(U.a)();if(n){var r=n.document.body.classList;e?r.add("ms-Fabric--isFocusVisible"):r.remove("ms-Fabric--isFocusVisible")}}var Ce=n(83),ke=n(254);Object(ke.a)("@uifabric/utilities","6.45.1")},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r,i=n(4),o=n(13),a=n(12),s=n(5),u=n(14),l=n(3),c=n(36),d=n(27),f=n(34),h=n(9),p=n(7),g=n(6),m=[9729,9728],v=(r={},Object(l.a)(r,6407,{dataFormat:6407,types:[5121,33635]}),Object(l.a)(r,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(l.a)(r,6406,{dataFormat:6406,types:[5121]}),Object(l.a)(r,6409,{dataFormat:6409,types:[5121]}),Object(l.a)(r,6410,{dataFormat:6410,types:[5121]}),Object(l.a)(r,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(l.a)(r,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(l.a)(r,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(l.a)(r,34836,{dataFormat:6408,types:[5126],gl2:!0}),r);function b(e,t){var n=v[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=Object(h.n)(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}function y(e,t){var n=v[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}var _=function(e){function t(e,n){var r;Object(i.a)(this,t);var s=n.id,u=void 0===s?Object(p.i)("texture"):s,l=n.handle,c=n.target;return(r=Object(o.a)(this,Object(a.a)(t).call(this,e,{id:u,handle:l}))).target=c,r.hasFloatTexture=e.getExtension("OES_texture_float"),r.textureUnit=void 0,r}return Object(u.a)(t,e),Object(s.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering,i=!0;return n&&(i=(i=i&&b(e,n))&&(!r||y(e,n))),i}}]),Object(s.a)(t,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.pixels,r=void 0===n?null:n,i=e.format,o=void 0===i?6408:i,a=e.type,s=void 0===a?5121:a,u=e.border,c=void 0===u?0:u,d=e.recreate,f=void 0!==d&&d,h=e.parameters,g=void 0===h?{}:h,m=e.pixelStore,v=void 0===m?{}:m,b=e.textureUnit,y=void 0===b?void 0:b,_=e.unpackFlipY,x=void 0===_||_,S=e.mipmaps,w=void 0===S||S;t||(t=r);var C=e.width,k=e.height,E=e.dataFormat,O=this._deduceParameters({format:o,type:s,dataFormat:E,compressed:!1,data:t,width:C,height:k});C=O.width,k=O.height,E=O.dataFormat,this.width=C,this.height=k,this.format=o,this.type=s,this.dataFormat=E,this.border=c,this.textureUnit=y,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle));var T=Object(l.a)({},37440,x),P=Object.assign({},T,v);this._isNPOT()&&w&&(p.g.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),w=!1,this._updateForNPOT(g)),this.mipmaps=w,this.setImageData({data:t,width:C,height:k,format:o,type:s,dataFormat:E,border:c,mipmaps:w,parameters:P}),w&&this.generateMipmap(),this.setParameters(g),f&&(this.data=t)}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:!1}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindTexture(this.target,this.handle),Object(f.g)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this}},{key:"setImageData",value:function(e){var t=e.target,n=void 0===t?this.target:t,r=e.pixels,i=void 0===r?null:r,o=e.data,a=void 0===o?null:o,s=e.width,u=void 0===s?this.width:s,l=e.height,c=void 0===l?this.height:l,d=e.level,p=void 0===d?0:d,m=e.format,v=void 0===m?this.format:m,b=e.type,y=void 0===b?this.type:b,_=e.dataFormat,x=void 0===_?this.dataFormat:_,S=e.offset,w=void 0===S?0:S,C=e.border,k=void 0===C?this.border:C,E=e.compressed,O=void 0!==E&&E,T=e.parameters,P=void 0===T?{}:T;a||(a=i);var I=this._deduceParameters({format:v,type:y,dataFormat:x,compressed:O,data:a,width:u,height:c});y=I.type,x=I.dataFormat,O=I.compressed,u=I.width,c=I.height;var D=this.gl;D.bindTexture(this.target,this.handle);var A,M=this._getDataType({data:a,compressed:O});a=M.data,A=M.dataType,Object(f.g)(this.gl,P,(function(){switch(A){case"null":D.texImage2D(n,p,v,u,c,k,x,y,a);break;case"typed-array":D.texImage2D(n,p,v,u,c,k,x,y,a,w);break;case"buffer":Object(h.d)(D),D.bindBuffer(35052,a.handle||a),D.texImage2D(n,p,v,u,c,k,x,y,w),D.bindBuffer(35052,null);break;case"browser-object":Object(h.n)(D)?D.texImage2D(n,p,v,u,c,k,x,y,a):D.texImage2D(n,p,v,x,y,a);break;case"compressed":D.compressedTexImage2D(n,p,v,u,c,k,a);break;default:Object(g.a)(!1,"Unknown image data type")}}))}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,l=void 0===u?0:u,c=e.y,p=void 0===c?0:c,g=e.width,m=void 0===g?this.width:g,v=e.height,b=void 0===v?this.height:v,y=e.level,_=void 0===y?0:y,x=e.format,S=void 0===x?this.format:x,w=e.type,C=void 0===w?this.type:w,k=e.dataFormat,E=void 0===k?this.dataFormat:k,O=e.compressed,T=void 0!==O&&O,P=e.offset,I=void 0===P?0:P,D=e.border,A=(void 0===D&&this.border,e.parameters),M=void 0===A?{}:A,j=this._deduceParameters({format:S,type:C,dataFormat:E,compressed:T,data:s,width:m,height:b});if(C=j.type,E=j.dataFormat,T=j.compressed,m=j.width,b=j.height,s||(s=o),s&&s.data){var R=s;s=R.data,m=R.shape[0],b=R.shape[1]}s instanceof d.a&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),Object(f.g)(this.gl,M,(function(){T?t.gl.compressedTexSubImage2D(r,_,l,p,m,b,S,s):null===s?t.gl.texSubImage2D(r,_,l,p,m,b,E,C,null):ArrayBuffer.isView(s)?t.gl.texSubImage2D(r,_,l,p,m,b,E,C,s,I):s instanceof h.b?(Object(h.d)(t.gl),t.gl.bindBuffer(35052,s),t.gl.texSubImage2D(r,_,l,p,m,b,E,C,I),t.gl.bindBuffer(35052,null)):Object(h.n)(t.gl)?t.gl.texSubImage2D(r,_,l,p,m,b,E,C,s):t.gl.texSubImage2D(r,_,l,p,E,C,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(e){var t=e.target,n=(void 0===t&&this.target,e.framebuffer),r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,l=e.level,c=void 0===l?0:l,d=e.internalFormat,f=void 0===d?6408:d,h=e.border,p=void 0===h?0:h;n&&n.bind(),this.bind(0),this.gl.copyTexImage2D(this.target,c,f,i,a,s,u,p),this.unbind(),n&&n.unbind()}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;if(void 0===e)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=e,this.gl.activeTexture(33984+e),this.gl.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,null),this.textureUnit}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof d.a?{data:t.handle,dataType:"buffer"}:t instanceof h.b?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"setImage3D",value:function(e){var t=e.level,n=void 0===t?0:t,r=e.internalformat,i=void 0===r?6408:r,o=e.width,a=e.height,s=e.depth,u=void 0===s?1:s,l=e.border,c=void 0===l?0:l,f=e.format,h=e.type,p=void 0===h?5121:h,g=e.offset,m=void 0===g?0:g,v=e.pixels;return ArrayBuffer.isView(v)?(this.gl.texImage3D(this.target,n,i,o,a,u,c,f,p,v),this):(v instanceof d.a&&(this.gl.bindBuffer(35052,v.handle),this.gl.texImage3D(this.target,n,i,o,a,u,c,f,p,m)),this)}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=v[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize(n,r,i);return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e,t,n){var r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},Object(g.a)(r,"Could not deduced texture size"),Object(g.a)(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),Object(g.a)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle)}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:Object(g.a)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(h.n)(this.gl)&&(!Object(p.f)(this.width)||!Object(p.f)(this.height))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===m.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}]),t}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(83);function i(e){if(!r.a&&"undefined"!==typeof document){var t=e;return t&&t.ownerDocument?t.ownerDocument:document}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(134),i=n(4),o=n(5),a=n(44),s=n(42),u=n(6),l={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},c=function(){function e(){var t=this;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return Object(o.a)(e,null,[{key:"getBytesPerElement",value:function(e){return Object(a.c)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return Object(u.a)(e.size),Object(a.c)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Object(r.a)(e,[l].concat(n))}}]),Object(o.a)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==e.type&&(this.type!==e.type&&s.a.warn("accessor type mismatch"),this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size!==e.size&&s.a.warn("accessor size mismatch"),this.size=e.size),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.instanced&&(s.a.deprecated("Accessor.instanced","Accessor.divisor"),this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(s.a.deprecated("Accessor.isInstanced","Accessor.divisor"),this.divisor=e.isInstanced?1:0),void 0!==e.index&&(this.index=e.index?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return f}));var r=n(20);function i(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function o(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function a(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function s(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function u(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function l(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function c(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function d(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(e,t)/u;return Math.acos(Math.min(Math.max(l,-1),1))}var f=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};!function(){var e=function(){var e=new r.a(3);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}()},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,"b",(function(){return r})),t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(111),o={settings:{},scopedSettings:{},inCustomizerContext:!1},a=i.a.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),s=[],u=function(){function e(){}return e.reset=function(){a.settings={},a.scopedSettings={}},e.applySettings=function(t){a.settings=r.a({},a.settings,t),e._raiseChange()},e.applyScopedSettings=function(t,n){a.scopedSettings[t]=r.a({},a.scopedSettings[t],n),e._raiseChange()},e.getSettings=function(e,t,n){void 0===n&&(n=o);for(var r={},i=t&&n.scopedSettings[t]||{},s=t&&a.scopedSettings[t]||{},u=0,l=e;u<l.length;u++){var c=l[u];r[c]=i[c]||n.settings[c]||s[c]||a.settings[c]}return r},e.applyBatchedUpdates=function(t,n){e._suppressUpdates=!0;try{t()}catch(r){}e._suppressUpdates=!1,n||e._raiseChange()},e.observe=function(e){s.push(e)},e.unobserve=function(e){s=s.filter((function(t){return t!==e}))},e._raiseChange=function(){e._suppressUpdates||s.forEach((function(e){return e()}))},e}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),i=n(13),o=n(12),a=n(5),s=n(14),u=n(24),l=n(53),c=n(9),d=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,t),Object(c.e)(e),(n=Object(i.a)(this,Object(o.a)(t).call(this,e,Object.assign({},a,{target:3553})))).initialize(a),Object.seal(Object(u.a)(Object(u.a)(n))),n}return Object(s.a)(t,e),Object(a.a)(t,null,[{key:"isSupported",value:function(e,t){return l.a.isSupported(e,t)}}]),Object(a.a)(t,[{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;if(void 0===e)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=e,t.activeTexture(33984+e),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=this.gl;if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return e.activeTexture(33984+this.textureUnit),e.bindTexture(this.target,null),this.textureUnit}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}}]),t}(l.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return C}));var r,i,o,a=n(29),s=n(3),u=n(9),l=n(6),c=(r={},Object(s.a)(r,3042,!1),Object(s.a)(r,32773,new Float32Array([0,0,0,0])),Object(s.a)(r,32777,32774),Object(s.a)(r,34877,32774),Object(s.a)(r,32969,1),Object(s.a)(r,32968,0),Object(s.a)(r,32971,1),Object(s.a)(r,32970,0),Object(s.a)(r,3106,new Float32Array([0,0,0,0])),Object(s.a)(r,3107,[!0,!0,!0,!0]),Object(s.a)(r,2884,!1),Object(s.a)(r,2885,1029),Object(s.a)(r,2929,!1),Object(s.a)(r,2931,1),Object(s.a)(r,2932,513),Object(s.a)(r,2928,new Float32Array([0,1])),Object(s.a)(r,2930,!0),Object(s.a)(r,3024,!0),Object(s.a)(r,36006,null),Object(s.a)(r,2886,2305),Object(s.a)(r,33170,4352),Object(s.a)(r,2849,1),Object(s.a)(r,32823,!1),Object(s.a)(r,32824,0),Object(s.a)(r,10752,0),Object(s.a)(r,32938,1),Object(s.a)(r,32939,!1),Object(s.a)(r,3089,!1),Object(s.a)(r,3088,new Int32Array([0,0,1024,1024])),Object(s.a)(r,2960,!1),Object(s.a)(r,2961,0),Object(s.a)(r,2968,4294967295),Object(s.a)(r,36005,4294967295),Object(s.a)(r,2962,519),Object(s.a)(r,2967,0),Object(s.a)(r,2963,4294967295),Object(s.a)(r,34816,519),Object(s.a)(r,36003,0),Object(s.a)(r,36004,4294967295),Object(s.a)(r,2964,7680),Object(s.a)(r,2965,7680),Object(s.a)(r,2966,7680),Object(s.a)(r,34817,7680),Object(s.a)(r,34818,7680),Object(s.a)(r,34819,7680),Object(s.a)(r,2978,new Int32Array([0,0,1024,1024])),Object(s.a)(r,3333,4),Object(s.a)(r,3317,4),Object(s.a)(r,37440,!1),Object(s.a)(r,37441,!1),Object(s.a)(r,37443,37444),Object(s.a)(r,35723,4352),Object(s.a)(r,36010,null),Object(s.a)(r,35977,!1),Object(s.a)(r,3330,0),Object(s.a)(r,3332,0),Object(s.a)(r,3331,0),Object(s.a)(r,3314,0),Object(s.a)(r,32878,0),Object(s.a)(r,3316,0),Object(s.a)(r,3315,0),Object(s.a)(r,32877,0),r),d=function(e,t,n){return t?e.enable(n):e.disable(n)},f=function(e,t,n){return e.hint(n,t)},h=function(e,t,n){return e.pixelStorei(n,t)},p=(i={},Object(s.a)(i,3042,d),Object(s.a)(i,32773,(function(e,t){return e.blendColor.apply(e,Object(a.a)(t))})),Object(s.a)(i,32777,"blendEquation"),Object(s.a)(i,34877,"blendEquation"),Object(s.a)(i,32969,"blendFunc"),Object(s.a)(i,32968,"blendFunc"),Object(s.a)(i,32971,"blendFunc"),Object(s.a)(i,32970,"blendFunc"),Object(s.a)(i,3106,(function(e,t){return e.clearColor.apply(e,Object(a.a)(t))})),Object(s.a)(i,3107,(function(e,t){return e.colorMask.apply(e,Object(a.a)(t))})),Object(s.a)(i,2884,d),Object(s.a)(i,2885,(function(e,t){return e.cullFace(t)})),Object(s.a)(i,2929,d),Object(s.a)(i,2931,(function(e,t){return e.clearDepth(t)})),Object(s.a)(i,2932,(function(e,t){return e.depthFunc(t)})),Object(s.a)(i,2928,(function(e,t){return e.depthRange.apply(e,Object(a.a)(t))})),Object(s.a)(i,2930,(function(e,t){return e.depthMask(t)})),Object(s.a)(i,3024,d),Object(s.a)(i,35723,f),Object(s.a)(i,36006,(function(e,t){var n=Object(u.n)(e)?36009:36160;return e.bindFramebuffer(n,t)})),Object(s.a)(i,2886,(function(e,t){return e.frontFace(t)})),Object(s.a)(i,33170,f),Object(s.a)(i,2849,(function(e,t){return e.lineWidth(t)})),Object(s.a)(i,32823,d),Object(s.a)(i,32824,"polygonOffset"),Object(s.a)(i,10752,"polygonOffset"),Object(s.a)(i,35977,d),Object(s.a)(i,32938,"sampleCoverage"),Object(s.a)(i,32939,"sampleCoverage"),Object(s.a)(i,3089,d),Object(s.a)(i,3088,(function(e,t){return e.scissor.apply(e,Object(a.a)(t))})),Object(s.a)(i,2960,d),Object(s.a)(i,2961,(function(e,t){return e.clearStencil(t)})),Object(s.a)(i,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),Object(s.a)(i,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),Object(s.a)(i,2962,"stencilFuncFront"),Object(s.a)(i,2967,"stencilFuncFront"),Object(s.a)(i,2963,"stencilFuncFront"),Object(s.a)(i,34816,"stencilFuncBack"),Object(s.a)(i,36003,"stencilFuncBack"),Object(s.a)(i,36004,"stencilFuncBack"),Object(s.a)(i,2964,"stencilOpFront"),Object(s.a)(i,2965,"stencilOpFront"),Object(s.a)(i,2966,"stencilOpFront"),Object(s.a)(i,34817,"stencilOpBack"),Object(s.a)(i,34818,"stencilOpBack"),Object(s.a)(i,34819,"stencilOpBack"),Object(s.a)(i,2978,(function(e,t){return e.viewport.apply(e,Object(a.a)(t))})),Object(s.a)(i,3333,h),Object(s.a)(i,3317,h),Object(s.a)(i,37440,h),Object(s.a)(i,37441,h),Object(s.a)(i,37443,h),Object(s.a)(i,3330,h),Object(s.a)(i,3332,h),Object(s.a)(i,3331,h),Object(s.a)(i,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),Object(s.a)(i,3314,h),Object(s.a)(i,32878,h),Object(s.a)(i,3316,h),Object(s.a)(i,3315,h),Object(s.a)(i,32877,h),i),g={blendEquation:function(e,t){return e.blendEquationSeparate(t[32777],t[34877])},blendFunc:function(e,t){return e.blendFuncSeparate(t[32969],t[32968],t[32971],t[32970])},polygonOffset:function(e,t){return e.polygonOffset(t[32824],t[10752])},sampleCoverage:function(e,t){return e.sampleCoverage(t[32938],t[32939])},stencilFuncFront:function(e,t){return e.stencilFuncSeparate(1028,t[2962],t[2967],t[2963])},stencilFuncBack:function(e,t){return e.stencilFuncSeparate(1029,t[34816],t[36003],t[36004])},stencilOpFront:function(e,t){return e.stencilOpSeparate(1028,t[2964],t[2965],t[2966])},stencilOpBack:function(e,t){return e.stencilOpSeparate(1029,t[34817],t[34818],t[34819])}},m=function(e,t){return e.isEnabled(t)},v=(o={},Object(s.a)(o,3042,m),Object(s.a)(o,2884,m),Object(s.a)(o,2929,m),Object(s.a)(o,3024,m),Object(s.a)(o,32823,m),Object(s.a)(o,32926,m),Object(s.a)(o,32928,m),Object(s.a)(o,3089,m),Object(s.a)(o,2960,m),Object(s.a)(o,35977,m),o),b=function(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1};function y(e,t,n){var r=v[t],i=r?r(e,Number(t)):e.getParameter(Number(t)),o=p[t];return Object(l.a)("function"===typeof o),o(e,n,Number(t)),i}function _(e,t){var n={};for(var r in t){var i=Number(r),o=p[r];o&&("string"===typeof o?n[o]=!0:o(e,t[r],i))}var a=e.state&&e.state.cache;if(a){var s=Object.assign({},a,t);for(var u in n){(0,g[u])(e,s)}}}function x(e,t){var n=v[t];return n?n(e,Number(t)):e.getParameter(Number(t))}function S(e,t){t=t||c;var n=Array.isArray(t)?t:Object.keys(t),r={},i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=x(e,l)}}catch(d){o=!0,a=d}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}function w(e){_(e,Object.assign({},c,{}))}function C(e){var t=S(c),n={};for(var r in c)b(t[r],c[r])||(n[r]=t[r]);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(127),i="2.1.0",o=Object(r.a)()},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(213),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||m(e,!0,t,"==",d.ok)}function b(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(c(e)&&c(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),a=y(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),b(e,t,n);var u,l,c=S(e),d=S(t);if(c.length!==d.length)return!1;for(c.sort(),d.sort(),l=c.length-1;l>=0;l--)if(c[l]!==d[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!b(e[u],t[u],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var a="string"===typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&_(i,n)||s)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(g(e.actual),128)+" "+e.operator+" "+p(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},o.inherits(d.AssertionError,Error),d.fail=m,d.ok=v,d.equal=function(e,t,n){e!=t&&m(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){x(!0,e,t,n)},d.doesNotThrow=function(e,t,n){x(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(59))},function(e,t,n){"use strict";var r=n(76);t.a=function(e){return(e=Object(r.a)(Math.abs(e)))?e[1]:NaN}},function(e,t,n){"use strict";function r(e){return e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=r.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return S}));var r,i=n(45),o={MozOsxFontSmoothing:"-moz-osx-font-smoothing",MsHighContrastAdjust:"-ms-high-contrast-adjust",WebkitFontSmoothing:"-webkit-font-smoothing",WebkitOverflowScrolling:"-webkit-overflow-scrolling",WebkitTapHighlightColor:"-webkit-tap-highlight-color",alignContent:"align-content",alignItems:"align-items",alignSelf:"align-self",animation:"animation",animationDelay:"animation-delay",animationDirection:"animation-direction",animationDuration:"animation-duration",animationFillMode:"animation-fill-mode",animationIterationCount:"animation-iteration-count",animationName:"animation-name",animationTimingFunction:"animation-timing-function",background:"background",backgroundClip:"background-clip",backgroundColor:"background-color",backgroundImage:"background-image",backgroundPosition:"background-position",border:"border",borderBottom:"border-bottom",borderBottomColor:"border-bottom-color",borderBottomStyle:"border-bottom-style",borderBottomWidth:"border-bottom-width",borderCollapse:"border-collapse",borderColor:"border-color",borderLeft:"border-left",borderRadius:"border-radius",borderRight:"border-right",borderStyle:"border-style",borderTop:"border-top",borderTopColor:"border-top-color",borderTopLeftRadius:"border-top-left-radius",borderTopRightRadius:"border-top-right-radius",borderTopStyle:"border-top-style",borderTopWidth:"border-top-width",borderWidth:"border-width",bordercolor:"bordercolor",bottom:"bottom",boxShadow:"box-shadow",boxSizing:"box-sizing",clear:"clear",color:"color",content:"content",cursor:"cursor",display:"display",fill:"fill",flex:"flex",flexBasis:"flex-basis",flexDirection:"flex-direction",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexWrap:"flex-wrap",float:"float",font:"font",fontFamily:"font-family",fontSize:"font-size",fontStyle:"font-style",fontWeight:"font-weight",height:"height",justifyContent:"justify-content",left:"left",lineHeight:"line-height",listStyle:"list-style",listStyleType:"list-style-type",marginBottom:"margin-bottom",marginLeft:"margin-left",marginRight:"margin-right",marginTop:"margin-top",maxHeight:"max-height",maxWidth:"max-width",minHeight:"min-height",minWidth:"min-width",mozOsxFontSmoothing:"moz-osx-font-smoothing",objectFit:"object-fit",opacity:"opacity",order:"order",outline:"outline",outlineColor:"outline-color",outlineOffset:"outline-offset",overflow:"overflow",overflowWrap:"overflow-wrap",overflowX:"overflow-x",overflowY:"overflow-y",paddingBottom:"padding-bottom",paddingLeft:"padding-left",paddingRight:"padding-right",paddingTop:"padding-top",perspective:"perspective",pointerEvents:"pointer-events",position:"position",resize:"resize",right:"right",speak:"speak",src:"src",tableLayout:"table-layout",textAlign:"text-align",textDecoration:"text-decoration",textOverflow:"text-overflow",textTransform:"text-transform",top:"top",transform:"transform",transformOrigin:"transform-origin",transition:"transition",transitionDelay:"transition-delay",transitionDuration:"transition-duration",transitionProperty:"transition-property",transitionTimingFunction:"transition-timing-function",userSelect:"user-select",verticalAlign:"vertical-align",visibility:"visibility",webkitFontSmoothing:"webkit-font-smoothing",whiteSpace:"white-space",width:"width",wordBreak:"word-break",wordWrap:"word-wrap",zIndex:"z-index"};function a(e,t){var n=e[t];e[t]=o[n]=o[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase()}var s={"user-select":1};function u(e,t){var n=function(){if(!r){var e="undefined"!==typeof document?document:void 0,t="undefined"!==typeof navigator?navigator:void 0,n=t?t.userAgent.toLowerCase():void 0;r=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&n.indexOf("firefox")>-1),isOpera:!!(n&&n.indexOf("opera")>-1),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return r}(),i=e[t];if(s[i]){var o=e[t+1];s[i]&&(n.isWebkit&&e.push("-webkit-"+i,o),n.isMoz&&e.push("-moz-"+i,o),n.isMs&&e.push("-ms-"+i,o),n.isOpera&&e.push("-o-"+i,o))}}var l=["column-count","font-weight","flex-basis","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function c(e,t){var n=e[t],r=e[t+1];if("number"===typeof r){var i=-1===l.indexOf(n)?"px":"";e[t+1]=""+r+i}}var d=n(191);function f(e){var t=e&&e["&"];return t?t.displayName:void 0}var h=/\:global\((.+?)\)/g;function p(e){if(!h.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,r=null;r=n.exec(e);)r[1].indexOf(",")>-1&&t.push([r.index,r.index+r[0].length,r[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],r=t[1],i=t[2];return e.slice(0,n)+i+e.slice(r)}),e)}function g(e,t){return e.indexOf(":global(")>=0?e.replace(h,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function m(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var r=i.b.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var a=0,s=e;a<s.length;a++){var u=s[a];if("string"===typeof u){var l=r.argsFromClassName(u);l&&m(l,t,n)}else if(Array.isArray(u))m(u,t,n);else for(var c in u)if("selectors"===c){var d=u.selectors;for(var f in d)if(d.hasOwnProperty(f)){var h=d[f];if(0===f.indexOf("@"))m([h],t,f=f+"{"+n);else if(f.indexOf(",")>-1){m([h],t,p(f).split(/,/g).map((function(e){return e.trim()})).map((function(e){return g(e,n)})).join(", "))}else m([h],t,g(f,n))}}else void 0!==u[c]&&("margin"===c||"padding"===c?v(o,c,u[c]):o[c]=u[c])}return t}function v(e,t,n){var r="string"===typeof n?n.split(" "):[n];e[t+"Top"]=r[0],e[t+"Right"]=r[1]||r[0],e[t+"Bottom"]=r[2]||r[0],e[t+"Left"]=r[3]||r[1]||r[0]}function b(e){for(var t=[],n=!1,r=0,i=e.__order;r<i.length;r++){var o=i[r];t.push(o);var a=e[o];for(var s in a)a.hasOwnProperty(s)&&void 0!==a[s]&&(n=!0,t.push(s,a[s]))}return n?t.join(""):void 0}function y(e){if(!e)return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&"displayName"!==n&&void 0!==e[n]&&t.push(n,e[n]);for(var r=0;r<t.length;r+=2)a(t,r),c(t,r),Object(d.a)(t,r),u(t,r);for(r=1;r<t.length;r+=4)t.splice(r,1,":",t[r],";");return t.join("")}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=m(e),r=b(n);if(r){var o=i.b.getInstance(),a={className:o.classNameFromKey(r),key:r,args:e};if(!a.className){a.className=o.getClassName(f(n));for(var s=[],u=0,l=n.__order;u<l.length;u++){var c=l[u];s.push(c,y(n[c]))}a.rulesToInsert=s}return a}}function x(e,t){var n=i.b.getInstance(),r=e.className,o=e.key,a=e.args,s=e.rulesToInsert;if(s){for(var u=0;u<s.length;u+=2){var l=s[u+1];if(l){var c=s[u],d=(c=c.replace(/(&)|\$([\w-]+)\b/g,(function(n,r,i){return r?"."+e.className:i?"."+(t&&t[i]||i):""})))+"{"+l+"}"+(0===c.indexOf("@")?"}":"");n.insertRule(d)}}n.cacheClassName(r,o,a,s)}}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_.apply(void 0,e);return n?(x(n),n.className):""}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(38),i=n(6);function o(e){return Boolean(e&&(e instanceof r.c||34962===e.ARRAY_BUFFER))}function a(e){return Boolean(e&&(e instanceof r.a||32874===e.TEXTURE_BINDING_3D))}function s(e){Object(i.a)(o(e),"Invalid WebGLRenderingContext")}function u(e){Object(i.a)(a(e),"Requires WebGL2")}},function(e,t,n){"use strict";(function(e){var r=n(32),i=n(189),o=!("object"===("undefined"===typeof e?"undefined":Object(r.a)(e))&&"[object process]"===String(e)&&!e.browser)||i.a;t.a=o}).call(this,n(75))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(84),i=function(){function e(t){this._id=e._uniqueId++,this._parent=t,this._eventRecords=[]}return e.raise=function(t,n,i,o){var a;if(e._isElement(t)){if("undefined"!==typeof document&&document.createEvent){var s=document.createEvent("HTMLEvents");s.initEvent(n,o||!1,!0),Object(r.a)(s,i),a=t.dispatchEvent(s)}else if("undefined"!==typeof document&&document.createEventObject){var u=document.createEventObject(i);t.fireEvent("on"+n,u)}}else for(;t&&!1!==a;){var l=t.__events__,c=l?l[n]:null;if(c)for(var d in c)if(c.hasOwnProperty(d))for(var f=c[d],h=0;!1!==a&&h<f.length;h++){var p=f[h];p.objectCallback&&(a=p.objectCallback.call(p.parent,i))}t=o?t.parent:null}return a},e.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},e.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},e.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!==typeof HTMLElement&&e instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],n)},e.prototype.on=function(t,n,r,i){var o=this;if(n.indexOf(",")>-1)for(var a=n.split(/[ ,]+/),s=0;s<a.length;s++)this.on(t,a[s],r,i);else{var u=this._parent,l={target:t,eventName:n,parent:u,callback:r,options:i};if((a=t.__events__=t.__events__||{})[n]=a[n]||{count:0},a[n][this._id]=a[n][this._id]||[],a[n][this._id].push(l),a[n].count++,e._isElement(t)){var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed){var n;try{if(!1===(n=r.apply(u,e))&&e[0]){var i=e[0];i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.cancelBubble=!0}}catch(i){}return n}};l.elementCallback=c,t.addEventListener?t.addEventListener(n,c,i):t.attachEvent&&t.attachEvent("on"+n,c)}else{l.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed)return r.apply(u,e)}}this._eventRecords.push(l)}},e.prototype.off=function(e,t,n,r){for(var i=0;i<this._eventRecords.length;i++){var o=this._eventRecords[i];if((!e||e===o.target)&&(!t||t===o.eventName)&&(!n||n===o.callback)&&("boolean"!==typeof r||r===o.options)){var a=o.target.__events__,s=a[o.eventName],u=s?s[this._id]:null;u&&(1!==u.length&&n?(s.count--,u.splice(u.indexOf(o),1)):(s.count-=u.length,delete a[o.eventName][this._id]),s.count||delete a[o.eventName]),o.elementCallback&&(o.target.removeEventListener?o.target.removeEventListener(o.eventName,o.elementCallback,o.options):o.target.detachEvent&&o.target.detachEvent("on"+o.eventName,o.elementCallback)),this._eventRecords.splice(i--,1)}}},e.prototype.raise=function(t,n,r){return e.raise(this._parent,t,n,r)},e.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"===typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},e._uniqueId=0,e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(119);function i(e,t){return void 0===t&&(t=!0),e&&(t&&Object(r.a)(e)||e.parentNode&&e.parentNode)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(123);function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=Object(r.a)(e,e[n],t[n]))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g}));var r=n(4),i=n(5),o=n(3),a=n(61),s=n(6),u=function(e,t){var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return e===t},l={enable:function(e,t){return e(Object(o.a)({},t,!0))},disable:function(e,t){return e(Object(o.a)({},t,!1))},pixelStorei:function(e,t,n){return e(Object(o.a)({},t,n))},hint:function(e,t,n){return e(Object(o.a)({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},Object(o.a)(r,36006,n),Object(o.a)(r,36010,n),r));case 36009:return e(Object(o.a)({},36006,n));case 36008:return e(Object(o.a)({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e(Object(o.a)({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},Object(o.a)(n,32777,t),Object(o.a)(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},Object(o.a)(r,32777,t),Object(o.a)(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},Object(o.a)(r,32969,t),Object(o.a)(r,32968,n),Object(o.a)(r,32971,t),Object(o.a)(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var a;return e((a={},Object(o.a)(a,32969,t),Object(o.a)(a,32968,n),Object(o.a)(a,32971,r),Object(o.a)(a,32970,i),a))},clearColor:function(e,t,n,r,i){return e(Object(o.a)({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e(Object(o.a)({},2931,t))},clearStencil:function(e,t){return e(Object(o.a)({},2961,t))},colorMask:function(e,t,n,r,i){return e(Object(o.a)({},3107,[t,n,r,i]))},cullFace:function(e,t){return e(Object(o.a)({},2885,t))},depthFunc:function(e,t){return e(Object(o.a)({},2932,t))},depthRange:function(e,t,n){return e(Object(o.a)({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e(Object(o.a)({},2930,t))},frontFace:function(e,t){return e(Object(o.a)({},2886,t))},lineWidth:function(e,t){return e(Object(o.a)({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},Object(o.a)(r,32824,t),Object(o.a)(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},Object(o.a)(r,32938,t),Object(o.a)(r,32939,n),r))},scissor:function(e,t,n,r,i){return e(Object(o.a)({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},Object(o.a)(n,2968,t),Object(o.a)(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e(Object(o.a)({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},Object(o.a)(i,2962,t),Object(o.a)(i,2967,n),Object(o.a)(i,2963,r),Object(o.a)(i,34816,t),Object(o.a)(i,36003,n),Object(o.a)(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var a;return e((a={},Object(o.a)(a,1028===t?2962:34816,n),Object(o.a)(a,1028===t?2967:36003,r),Object(o.a)(a,1028===t?2963:36004,i),a))},stencilOp:function(e,t,n,r){var i;return e((i={},Object(o.a)(i,2964,t),Object(o.a)(i,2965,n),Object(o.a)(i,2966,r),Object(o.a)(i,34817,t),Object(o.a)(i,34818,n),Object(o.a)(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var a;return e((a={},Object(o.a)(a,1028===t?2964:34817,n),Object(o.a)(a,1028===t?2965:34818,r),Object(o.a)(a,1028===t?2966:34819,i),a))},viewport:function(e,t,n,r,i){return e(Object(o.a)({},2978,new Int32Array([t,n,r,i])))}};function c(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=n.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function d(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s,u=n.apply(void 0,[e.state._updateCache].concat(o)),l=u.valueChanged,c=u.oldValue;l&&((s=e.state).log.apply(s,["gl.".concat(t)].concat(o)),r.apply(void 0,o));return c},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.copyState,o=void 0!==i&&i,s=n.log,u=void 0===s?function(){}:s;Object(r.a)(this,e),this.gl=t,this.stateStack=[],this.enable=!0,this.cache=o?Object(a.d)(t):Object.assign({},a.a),this.log=u,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"push",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stateStack.push({})}},{key:"pop",value:function(){Object(s.a)(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(a.g)(this.gl,e,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e)Object(s.a)(void 0!==i),u(e[i],this.cache[i])||(n=!0,t=this.cache[i],r&&!(i in r)&&(r[i]=this.cache[i]),this.cache[i]=e[i]);return{valueChanged:n,oldValue:t}}}]),e}();function h(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enable,i=void 0===r||r,o=n.copyState;if(Object(s.a)(void 0!==o),!t.state){var a="undefined"!==typeof e?e:window;for(var u in a.polyfillContext&&a.polyfillContext(t),t.state=new f(t,{copyState:o,enable:i}),l){var h=l[u];d(t,u,h)}c(t,"getParameter"),c(t,"isEnabled")}return t.state.enable=i,t}function p(e){e.state||h(e,{copyState:!1}),e.state.push()}function g(e){Object(s.a)(e.state),e.state.pop()}}).call(this,n(59))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(151)),r(n(139)),r(n(153)),r(n(237)),r(n(238))},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));"object"!==("undefined"===typeof e?"undefined":i(e))||"[object process]"!==String(e)||e.browser,"undefined"!==typeof window&&window;var o="undefined"!==typeof r?r:window;"undefined"!==typeof document&&document}).call(this,n(75),n(59))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var r="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!==typeof window?window:e,o=("undefined"!==typeof e||window,"undefined"!==typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",a,a),i.removeEventListener("test",a,a)}catch(s){}}).call(this,n(59))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(24),l=n(53),c=n(6),d=[34069,34070,34071,34072,34073,34074],f=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e,Object.assign({},i,{target:34067})))).initialize(i),Object.seal(Object(u.a)(Object(u.a)(n))),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?6408:t,r=e.mipmaps,i=void 0===r||r,o=e.width,a=void 0===o?1:o,s=e.height,u=void 0===s?1:s,l=e.type,d=void 0===l?5121:l,f=e.dataFormat,h=this._deduceParameters({format:n,type:d,dataFormat:f});d=h.type,f=h.dataFormat;var p=this._deduceImageSize({data:e[34069],width:a,height:u});a=p.width,u=p.height,Object(c.a)(a===u),this.setCubeMapImageData(e),i&&this.generateMipmap(e),this.opts=e}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(e){var t=e.width,n=e.height,r=e.pixels,i=e.data,o=e.border,a=void 0===o?0:o,s=e.format,u=void 0===s?6408:s,l=e.type,c=void 0===l?5121:l,f=(e.generateMipmap,this.gl);if(r=r||i,this.bind(),this.width||this.height)for(var h=0;h<d.length;h++){var p=d[h];f.texImage2D(p,0,u,t,n,a,u,c,r[p])}else for(var g=0;g<d.length;g++){var m=d[g];f.texImage2D(m,0,u,u,c,r[m])}}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index;return void 0!==t&&this.gl.activeTexture(33984+t),this.gl.bindTexture(34067,this.handle),t}},{key:"unbind",value:function(){return this.gl.bindTexture(34067,null),this}}]),t}(l.a);f.FACES=d},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));function r(e){console&&console.warn&&console.warn(e)}function i(e){e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=!1;function i(e){r=e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return p}));var r=n(45),i=n(30),o=Object(i.a)()||{};function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;return!0}function s(e,t){return a(e,t)&&a(t,e)}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return l.apply(this,[null,e].concat(t))}function l(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t=t||{};for(var i=0,o=n;i<o.length;i++){var a=o[i];if(a)for(var s in a)!a.hasOwnProperty(s)||e&&!e(s)||(t[s]=a[s])}return t}void 0===o.__currentId__&&(o.__currentId__=0);var c=r.b.getInstance();function d(e){return(e||"id__")+o.__currentId__++}function f(e){void 0===e&&(e=0),o.__currentId__=e}function h(e,t){return Object.keys(e).map((function(n){if(String(Number(n))!==n)return t(n,e[n])})).filter((function(e){return!!e}))}function p(e){return Object.keys(e).reduce((function(t,n){return t.push(e[n]),t}),[])}c&&c.onReset&&c.onReset(f)},function(e,t,n){"use strict";function r(e){return e&&!!e._virtual}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72);function i(e,t){return e&&e!==document.body?t(e)?e:i(Object(r.a)(e),t):null}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(132),l=n(26),c=function(e,t){if(!e)throw new Error(t)},d=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return Object(l.a)(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return Object(l.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.ELEMENTS;++o)this[o]+=i[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.ELEMENTS;++o)this[o]-=i[o];return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.ELEMENTS;++o)this[o]*=i[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.ELEMENTS;++o)this[o]/=i[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"scaleAndAdd",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=this[n]*t+e[n];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return c(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(l.a)(this[e])}},{key:"setComponent",value:function(e,t){return c(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=Object(l.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=Object(l.a)(e)}}]),t}(u.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(100);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){e.exports=n(240)()},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(2);function i(e,t){return void 0===e&&(e={}),(a(t)?t:function(e){return function(t){return e?r.a({},t,e):t}}(t))(e)}function o(e,t){return void 0===e&&(e={}),(a(t)?t:function(e){void 0===e&&(e={});return function(t){var n=r.a({},t);for(var i in e)e.hasOwnProperty(i)&&(n[i]=r.a({},t[i],e[i]));return n}}(t))(e)}function a(e){return"function"===typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r="data-portal-element";function i(e){e.setAttribute(r,"true")}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(88),l=n(26),c=n(56),d=[0,0,0],f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,t),e=Object(o.a)(this,Object(a.a)(t).call(this,3)),Array.isArray(n)&&1===arguments.length?e.copy(n):e.set(n,i,s),e}return Object(s.a)(t,e),Object(i.a)(t,[{key:"angle",value:function(e){return c.a(this,e)}},{key:"cross",value:function(e){return c.b(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?d:n;return c.e(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?d:n;return c.f(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?d:n;return c.g(this,this,r,t),this.check()}},{key:"operation",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=Object(l.a)(e)}}]),t}(u.a)},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(x(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),y=v((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function w(e,t){return void 0===e?t:e}function C(e,t,n){m(T(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){m(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function E(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function O(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function A(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}}var M=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var R="ontouchstart"in i,F=void 0!==A(i,"PointerEvent"),N=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],B=["clientX","clientY"];function z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=H(t));i>1&&!n.firstMultiple?n.firstMultiple=H(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=V(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=q(s,u),t.distance=K(s,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var l=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,t.scale=a?(c=a.pointers,d=r,K(d[0],d[1],B)/K(c[0],c[1],B)):1,t.rotation=a?function(e,t){return q(t[1],t[0],B)+q(e[1],e[0],B)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=W(s,u,l);r=c.x,i=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=G(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var c,d;var p=e.element;E(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=L);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function q(e,t,n){n||(n=L);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(j(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}_(X,z,{handler:function(e){var t=Y[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},$="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=$,this.evWin=J,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&($="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,z,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Z[r],o=Q[e.pointerType]||e.pointerType,a="touch"==o,s=P(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function re(e,t){var n=I(e.touches),r=I(e.changedTouches);return 12&t&&(n=D(n.concat(r),"identifier",!0)),[n,r]}_(ne,z,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function ae(e,t){var n=I(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=I(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return E(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[D(o.concat(s),"identifier",!0),s]:void 0}_(oe,z,{handler:function(e){var t=ie[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){z.apply(this,arguments);var e=x(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new X(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ue(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(se,z,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ue.call(this,t,n);else if(i&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=A(c.style,"touchAction"),fe=void 0!==de,he=function(){if(!fe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&he[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(O(e,"none"))return"none";var t=O(e,"pan-x"),n=O(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(O(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=O(r,"none")&&!he.none,o=O(r,"pan-y")&&!he["pan-y"],a=O(r,"pan-x")&&!he["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function ge(e){this.options=u({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function be(e,t){var n=t.manager;return n?n.get(e):e}function ye(){ge.apply(this,arguments)}function _e(){ye.apply(this,arguments),this.pX=null,this.pY=null}function xe(){ye.apply(this,arguments)}function Se(){ge.apply(this,arguments),this._timer=null,this._input=null}function we(){ye.apply(this,arguments)}function Ce(){ye.apply(this,arguments)}function ke(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ee(e,t){return(t=t||{}).recognizers=w(t.recognizers,Ee.defaults.preset),new Oe(e,t)}ge.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=be(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=be(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=be(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=be(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+me(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ye,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),_(_e,ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(xe,ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Se,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(we,ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Ce,ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(ke,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ee.VERSION="2.0.7",Ee.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[we,{enable:!1}],[xe,{enable:!1},["rotate"]],[Ce,{direction:6}],[_e,{direction:6},["swipe"]],[ke],[ke,{event:"doubletap",taps:2},["tap"]],[Se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Oe(e,t){this.options=u({},Ee.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(F?ee:N?oe:R?se:X))(e,U)}(this),this.touchAction=new pe(this,this.options.touchAction),Te(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Te(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,o){n=A(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Oe.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return m(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return m(T(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ee,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Oe,Input:z,TouchAction:pe,TouchInput:oe,MouseInput:X,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:ge,AttrRecognizer:ye,Tap:ke,Pan:_e,Swipe:Ce,Pinch:xe,Rotate:we,Press:Se,on:C,off:k,each:m,merge:y,extend:b,assign:u,inherit:_,bindFn:x,prefixed:A}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ee,void 0===(r=function(){return Ee}.call(t,n,t,e))||(e.exports=r)}(window,document)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(60),i=n(81),o=n(110),a=n(63),s=n.n(a);function u(e,t){s()(e instanceof r.a||e instanceof i.a||e instanceof o.a);var n=e.constructor,a=e.gl,u=e.width,l=e.height,c=e.format,d=e.type,f=e.dataFormat,h=e.border,p=e.mipmaps;return new n(a,Object.assign({width:u,height:l,format:c,type:d,dataFormat:f,border:h,mipmaps:p},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.d.navigator||{},n=e.userAgent||t.userAgent||"",i=-1!==n.indexOf("MSIE "),o=-1!==n.indexOf("Trident/");return i||o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(42);function i(e,t,n,i){var o="See luma.gl ".concat(n," Upgrade Guide at http://uber.github.io/luma.gl/#/documentation/overview/upgrade-guide"),a=Object.getPrototypeOf(e);i.forEach((function(e){a.methodName||(a[e]=function(){throw r.a.removed("Calling removed method ".concat(t,".").concat(e,": "),o),new Error(e)})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),i=n(13),o=n(12),a=n(5),s=n(14),u=n(24),l=n(9),c=n(34),d=n(53),f=n(27),h=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(this,t),Object(l.d)(e),(n=Object(i.a)(this,Object(o.a)(t).call(this,e,Object.assign({},a,{target:a.target||32879})))).width=null,n.height=null,n.depth=null,Object.seal(Object(u.a)(Object(u.a)(n))),n.setImageData(a),a.generateMipmap&&n.generateMipmap(),n}return Object(s.a)(t,e),Object(a.a)(t,null,[{key:"isSupported",value:function(e){return Object(l.n)(e)}}]),Object(a.a)(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign({},this.opts,t);var n=this.opts,r=n.pixels,i=n.settings;i&&(Object(c.g)(i,(function(){r&&e.setImage3D(e.opts)})),this.setParameters(t))}},{key:"setImage3D",value:function(e){var t=e.level,n=void 0===t?0:t,r=e.internalformat,i=void 0===r?6408:r,o=e.width,a=e.height,s=e.depth,u=void 0===s?1:s,l=e.border,c=void 0===l?0:l,d=e.format,h=e.type,p=void 0===h?5121:h,g=e.offset,m=void 0===g?0:g,v=e.pixels;ArrayBuffer.isView(v)?this.gl.texImage3D(this.target,n,i,o,a,u,c,d,p,v):v instanceof f.a&&(this.gl.bindBuffer(35052,v.handle),this.gl.texImage3D(this.target,n,i,o,a,u,c,d,p,m),this.gl.bindBuffer(35052,v.handle))}}]),t}(d.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30),i=0,o=function(){function e(){}return e.getValue=function(e,t){var n=a();return void 0===n[e]&&(n[e]="function"===typeof t?t():t),n[e]},e.setValue=function(e,t){var n=a(),r=n.__callbacks__,i=n[e];if(t!==i){n[e]=t;var o={oldValue:i,value:t,key:e};for(var s in r)r.hasOwnProperty(s)&&r[s](o)}return t},e.addChangeListener=function(e){var t=e.__id__,n=s();t||(t=e.__id__=String(i++)),n[t]=e},e.removeChangeListener=function(e){delete s()[e.__id__]},e}();function a(){var e,t=Object(r.a)()||{};return t.__globalSettings__||(t.__globalSettings__=((e={}).__callbacks__={},e)),t.__globalSettings__}function s(){return a().__callbacks__}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(30),i=n(113),o="ms-Fabric--isFocusVisible";function a(e){var t=e||Object(r.a)();t&&!t.__hasInitializeFocusRects__&&(t.__hasInitializeFocusRects__=!0,t.addEventListener("mousedown",s,!0),t.addEventListener("keydown",u,!0))}function s(e){var t=Object(r.a)(e.target);if(t){var n=t.document.body.classList;n.contains(o)&&n.remove(o)}}function u(e){var t=Object(r.a)(e.target);if(t){var n=t.document.body.classList;Object(i.b)(e.which)&&!n.contains(o)&&n.add(o)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r,i=n(43),o=((r={})[i.a.up]=1,r[i.a.down]=1,r[i.a.left]=1,r[i.a.right]=1,r[i.a.home]=1,r[i.a.end]=1,r[i.a.tab]=1,r[i.a.pageUp]=1,r[i.a.pageDown]=1,r);function a(e){return!!o[e]}function s(e){o[e]=1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30),i=function(){function e(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return e.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},e.prototype.setTimeout=function(e,t){var n=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout((function(){try{n._timeoutIds&&delete n._timeoutIds[r],e.apply(n._parent)}catch(t){n._onErrorHandler&&n._onErrorHandler(t)}}),t),this._timeoutIds[r]=!0),r},e.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},e.prototype.setImmediate=function(e,t){var n=this,i=0,o=Object(r.a)(t);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});i=o.setTimeout((function(){try{n._immediateIds&&delete n._immediateIds[i],e.apply(n._parent)}catch(t){n._logError(t)}}),0),this._immediateIds[i]=!0}return i},e.prototype.clearImmediate=function(e,t){var n=Object(r.a)(t);this._immediateIds&&this._immediateIds[e]&&(n.clearTimeout(e),delete this._immediateIds[e])},e.prototype.setInterval=function(e,t){var n=this,r=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),r=setInterval((function(){try{e.apply(n._parent)}catch(t){n._logError(t)}}),t),this._intervalIds[r]=!0),r},e.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},e.prototype.throttle=function(e,t,n){var r=this;if(this._isDisposed)return this._noop;var i,o,a=t||0,s=!0,u=!0,l=0,c=null;n&&"boolean"===typeof n.leading&&(s=n.leading),n&&"boolean"===typeof n.trailing&&(u=n.trailing);var d=function t(n){var d=(new Date).getTime(),f=d-l,h=s?a-f:a;return f>=a&&(!n||s)?(l=d,c&&(r.clearTimeout(c),c=null),i=e.apply(r._parent,o)):null===c&&u&&(c=r.setTimeout(t,h)),i};return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o=e,d(!0)}},e.prototype.debounce=function(e,t,n){var r=this;if(this._isDisposed){var i=function(){};return i.cancel=function(){},i.flush=function(){return null},i.pending=function(){return!1},i}var o,a,s=t||0,u=!1,l=!0,c=null,d=0,f=(new Date).getTime(),h=null;n&&"boolean"===typeof n.leading&&(u=n.leading),n&&"boolean"===typeof n.trailing&&(l=n.trailing),n&&"number"===typeof n.maxWait&&!isNaN(n.maxWait)&&(c=n.maxWait);var p=function(e){h&&(r.clearTimeout(h),h=null),f=e},g=function(t){p(t),o=e.apply(r._parent,a)},m=function e(t){var n=(new Date).getTime(),i=!1;t&&(u&&n-d>=s&&(i=!0),d=n);var a=n-d,p=s-a,m=n-f,v=!1;return null!==c&&(m>=c&&h?v=!0:p=Math.min(p,c-m)),a>=s||v||i?g(n):null!==h&&t||!l||(h=r.setTimeout(e,p)),o},v=function(){return!!h},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a=e,m(!0)};return b.cancel=function(){v()&&p((new Date).getTime())},b.flush=function(){return v()&&g((new Date).getTime()),o},b.pending=v,b},e.prototype.requestAnimationFrame=function(e,t){var n=this,i=0,o=Object(r.a)(t);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var a=function(){try{n._animationFrameIds&&delete n._animationFrameIds[i],e.apply(n._parent)}catch(t){n._logError(t)}};i=o.requestAnimationFrame?o.requestAnimationFrame(a):o.setTimeout(a,0),this._animationFrameIds[i]=!0}return i},e.prototype.cancelAnimationFrame=function(e,t){var n=Object(r.a)(t);this._animationFrameIds&&this._animationFrameIds[e]&&(n.cancelAnimationFrame?n.cancelAnimationFrame(e):n.clearTimeout(e),delete this._animationFrameIds[e])},e.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},e}()},function(e,t,n){"use strict";function r(e,t,n){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(82);function r(e,t,n,r,i){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72);function i(e,t,n){void 0===n&&(n=!0);var i=!1;if(e&&t)if(n)for(i=!1;t;){var o=Object(r.a)(t);if(o===e){i=!0;break}t=o}else e.contains&&(i=e.contains(t));return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(85);function i(e){var t;return e&&Object(r.a)(e)&&(t=e._virtual.parent),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(86);function i(e,t){var n=Object(r.a)(e,(function(e){return e.hasAttribute(t)}));return n&&n.getAttribute(t)}},function(e,t,n){"use strict";function r(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return g}));var r,i=n(54),o=n(243),a=n(30),s=0,u=Object(o.a)({overflow:"hidden !important"}),l="data-is-scrollable",c=function(e,t){if(e){var n=0,r=null;t.on(e,"touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),{passive:!1}),t.on(e,"touchmove",(function(e){if(1===e.targetTouches.length&&(e.stopPropagation(),r)){var t=e.targetTouches[0].clientY-n,i=g(e.target);i&&(r=i),0===r.scrollTop&&t>0&&e.preventDefault(),r.scrollHeight-r.scrollTop<=r.clientHeight&&t<0&&e.preventDefault()}}),{passive:!1}),r=e}},d=function(e){e.preventDefault()};function f(){var e=Object(i.a)();e&&e.body&&!s&&(e.body.classList.add(u),e.body.addEventListener("touchmove",d,{passive:!1,capture:!1})),s++}function h(){if(s>0){var e=Object(i.a)();e&&e.body&&1===s&&(e.body.classList.remove(u),e.body.removeEventListener("touchmove",d)),s--}}function p(){if(void 0===r){var e=document.createElement("div");e.style.setProperty("width","100px"),e.style.setProperty("height","100px"),e.style.setProperty("overflow","scroll"),e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return r}function g(e){for(var t=e,n=Object(i.a)(e);t&&t!==n.body;){if("true"===t.getAttribute(l))return t;t=t.parentElement}for(t=e;t&&t!==n.body;){if("false"!==t.getAttribute(l)){var r=getComputedStyle(t),o=r?r.getPropertyValue("overflow-y"):"";if(o&&("scroll"===o||"auto"===o))return t}t=t.parentElement}return t&&t!==n.body||(t=Object(a.a)(e)),t}},function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach((function(t){return t&&t.apply(e,n)}))}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t;return e&&(e===window?t={left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect&&(t=e.getBoundingClientRect())),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(96);function i(e,t){var n=(t||{}).customizations,i=void 0===n?{settings:{},scopedSettings:{}}:n;return{customizations:{settings:Object(r.b)(i.settings,e.settings),scopedSettings:Object(r.a)(i.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(98);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(32),i=n(128);function o(){return!("object"===("undefined"===typeof e?"undefined":Object(r.a)(e))&&"[object process]"===String(e)&&!e.browser)||Object(i.a)()}}).call(this,n(75))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(32);function i(t){if("undefined"!==typeof window&&"object"===Object(r.a)(window.process)&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===Object(r.a)(e.versions)&&Boolean(e.versions.electron))return!0;var n="object"===("undefined"===typeof navigator?"undefined":Object(r.a)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent,i=t||n;return!!(i&&i.indexOf("Electron")>=0)}}).call(this,n(75))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1);function i(t,n){var i,o=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(i=t,"function"===typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t))}i.responseType="json"}).call(this,n(224).Buffer)},function(e,t,n){"use strict";e.exports=i,e.exports.default=i;var r=1e20;function i(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(e,t,n,r,i,o,s){for(var u=0;u<t;u++){for(var l=0;l<n;l++)r[l]=e[l*t+u];for(a(r,i,o,s,n),l=0;l<n;l++)e[l*t+u]=i[l]}for(l=0;l<n;l++){for(u=0;u<t;u++)r[u]=e[l*t+u];for(a(r,i,o,s,t),u=0;u<t;u++)e[l*t+u]=Math.sqrt(i[u])}}function a(e,t,n,i,o){n[0]=0,i[0]=-r,i[1]=+r;for(var a=1,s=0;a<o;a++){for(var u=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);u<=i[s];)s--,u=(e[a]+a*a-(e[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,i[s]=u,i[s+1]=+r}for(a=0,s=0;a<o;a++){for(;i[s+1]<a;)s++;t[a]=(a-n[s])*(a-n[s])+e[n[s]]}}i.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var a=t.data[4*i+3]/255;this.gridOuter[i]=1===a?0:0===a?r:Math.pow(Math.max(0,.5-a),2),this.gridInner[i]=1===a?r:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(o(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),o(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var s=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(45);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],i=[],o=r.b.getInstance();function a(e){for(var t=0,r=e;t<r.length;t++){var s=r[t];if(s)if("string"===typeof s)if(s.indexOf(" ")>=0)a(s.split(" "));else{var u=o.argsFromClassName(s);u?a(u):-1===n.indexOf(s)&&n.push(s)}else Array.isArray(s)?a(s):"object"===typeof s&&i.push(s)}}return a(e),{classes:n,objects:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(87);var l=n(134);function c(e){var t="function"===typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Object(l.a)(e,arguments,Object(a.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(r,e)})(e)}var d=n(26),f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"clone",value:function(){return(new this.constructor).copy(this).check()}},{key:"copy",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e[t];return this.check()}},{key:"set",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=(e<0||arguments.length<=e?void 0:arguments[e])||0;return this.check()}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"toString",value:function(){return this.formatString(d.c)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+Object(d.f)(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(d.e)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"inverse",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=1/this[e];return this.check()}},{key:"lerp",value:function(e,t,n){void 0===n&&(n=t,t=e,e=this);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"check",value:function(){if(d.c.debug&&!this.validate(this))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){return this.scale(e)}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}}]),t}(c(Array))},function(e,t,n){"use strict";n.r(t),n.d(t,"global",(function(){return i.b}));var r=n(70),i=n(31),o=n(42);n(147);if(i.b.luma&&"6.4.3"!==i.b.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(i.b.luma.VERSION," vs ").concat("6.4.3"));i.b.luma||(r.a&&o.a.log(0,"luma.gl ".concat("6.4.3"," - ").concat("set luma.log.priority=1 (or higher) to trace rendering"))(),i.b.luma=i.b.luma||{VERSION:"6.4.3",version:"6.4.3",log:o.a,stats:{},globals:{modules:{},nodeIO:{}}});t.default=i.b.luma},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(87);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles)return e[0];for(var n={},i={},o=0,a=e;o<a.length;o++){var s=a[o];if(s)for(var u in s)if(s.hasOwnProperty(u)){if("subComponentStyles"===u&&void 0!==s.subComponentStyles){var l=s.subComponentStyles;for(var c in l)l.hasOwnProperty(c)&&(i.hasOwnProperty(c)?i[c].push(l[c]):i[c]=[l[c]]);continue}var d=n[u],f=s[u];n[u]=void 0===d?f:(Array.isArray(d)?d:[d]).concat(Array.isArray(f)?f:[f])}}if(Object.keys(i).length>0){n.subComponentStyles={};var h=n.subComponentStyles,p=function(e){if(i.hasOwnProperty(e)){var t=i[e];h[e]=function(e){return r.apply(void 0,t.map((function(t){return"function"===typeof t?t(e):t})))}}};for(var c in i)p(c)}return n}n.d(t,"a",(function(){return r}))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["lon","long","longitude"],i=["lat","latitude"];function o(e,t,n,r){for(var i=!1,o=n.name.toLowerCase(),a=0;a<e.length;a++)if(e[a]===o){i=!0;break}return i}function a(e,t){return o(r,0,e)}function s(e,t){return o(i,0,e)}t.isLongitude=a,t.isLatitude=s,t.isGeo=function(e,t){return s(e)||a(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(21);function i(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('"+e+"fabric-icons-a13498cf.woff') format('woff')"},icons:{GlobalNavButton:"\ue700",ChevronDown:"\ue70d",ChevronUp:"\ue70e",Edit:"\ue70f",Add:"\ue710",Cancel:"\ue711",More:"\ue712",Settings:"\ue713",Mail:"\ue715",Filter:"\ue71c",Search:"\ue721",Share:"\ue72d",BlockedSite:"\ue72f",FavoriteStar:"\ue734",FavoriteStarFill:"\ue735",CheckMark:"\ue73e",Delete:"\ue74d",ChevronLeft:"\ue76b",ChevronRight:"\ue76c",Calendar:"\ue787",Megaphone:"\ue789",Undo:"\ue7a7",Flag:"\ue7c1",Page:"\ue7c3",Pinned:"\ue840",View:"\ue890",Clear:"\ue894",Download:"\ue896",Upload:"\ue898",Folder:"\ue8b7",Sort:"\ue8cb",AlignRight:"\ue8e2",AlignLeft:"\ue8e4",Tag:"\ue8ec",AddFriend:"\ue8fa",Info:"\ue946",SortLines:"\ue9d0",List:"\uea37",CircleRing:"\uea3a",Heart:"\ueb51",HeartFill:"\ueb52",Tiles:"\ueca5",Embed:"\uecce",Glimmer:"\uecf4",Ascending:"\uedc0",Descending:"\uedc1",SortUp:"\uee68",SortDown:"\uee69",SyncToPC:"\uee6e",LargeGrid:"\ueecb",SkypeCheck:"\uef80",SkypeClock:"\uef81",SkypeMinus:"\uef82",ClearFilter:"\uef8f",Flow:"\uef90",StatusCircleCheckmark:"\uf13e",MoreVertical:"\uf2bc"}};Object(r.db)(n,t)}function o(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('"+e+"fabric-icons-0-2a8db1f5.woff') format('woff')"},icons:{InternetSharing:"\ue704",Brightness:"\ue706",MapPin:"\ue707",Airplane:"\ue709",Tablet:"\ue70a",QuickNote:"\ue70b",Video:"\ue714",People:"\ue716",Phone:"\ue717",Pin:"\ue718",Shop:"\ue719",Stop:"\ue71a",Link:"\ue71b",AllApps:"\ue71d",Zoom:"\ue71e",ZoomOut:"\ue71f",Microphone:"\ue720",Camera:"\ue722",Attach:"\ue723",Send:"\ue724",FavoriteList:"\ue728",PageSolid:"\ue729",Forward:"\ue72a",Back:"\ue72b",Refresh:"\ue72c",Lock:"\ue72e",ReportHacked:"\ue730",EMI:"\ue731",MiniLink:"\ue732",Blocked:"\ue733",ReadingMode:"\ue736",Favicon:"\ue737",Remove:"\ue738",Checkbox:"\ue739",CheckboxComposite:"\ue73a",CheckboxFill:"\ue73b",CheckboxIndeterminate:"\ue73c",CheckboxCompositeReversed:"\ue73d",BackToWindow:"\ue73f",FullScreen:"\ue740",Print:"\ue749",Up:"\ue74a",Down:"\ue74b",OEM:"\ue74c",Save:"\ue74e",ReturnKey:"\ue751",Cloud:"\ue753",Flashlight:"\ue754",CommandPrompt:"\ue756",Sad:"\ue757",RealEstate:"\ue758",SIPMove:"\ue759",EraseTool:"\ue75c",GripperTool:"\ue75e",Dialpad:"\ue75f",PageLeft:"\ue760",PageRight:"\ue761",MultiSelect:"\ue762",KeyboardClassic:"\ue765",Play:"\ue768",Pause:"\ue769",InkingTool:"\ue76d",Emoji2:"\ue76e",GripperBarHorizontal:"\ue76f",System:"\ue770",Personalize:"\ue771",SearchAndApps:"\ue773",Globe:"\ue774",EaseOfAccess:"\ue776",ContactInfo:"\ue779",Unpin:"\ue77a",Contact:"\ue77b",Memo:"\ue77c",IncomingCall:"\ue77e",Paste:"\ue77f",WindowsLogo:"\ue782",Error:"\ue783",GripperBarVertical:"\ue784",Unlock:"\ue785",Slideshow:"\ue786",AutoEnhanceOn:"\ue78d",AutoEnhanceOff:"\ue78e",Color:"\ue790",SaveAs:"\ue792",Light:"\ue793",Filters:"\ue795",AspectRatio:"\ue799",Contrast:"\ue7a1",Redo:"\ue7a6",Crop:"\ue7a8",PhotoCollection:"\ue7aa",Album:"\ue7ab",Rotate:"\ue7ad",PanoIndicator:"\ue7b0",Translate:"\ue7b2",RedEye:"\ue7b3",ThumbnailView:"\ue7b6",Package:"\ue7b8",Telemarketer:"\ue7b9",Warning:"\ue7ba"}};Object(r.db)(n,t)}function a(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('"+e+"fabric-icons-1-360e3054.woff') format('woff')"},icons:{Financial:"\ue7bb",Education:"\ue7be",ShoppingCart:"\ue7bf",Train:"\ue7c0",Move:"\ue7c2",TouchPointer:"\ue7c9",Merge:"\ue7d5",TurnRight:"\ue7db",Ferry:"\ue7e3",Highlight:"\ue7e6",PowerButton:"\ue7e8",Tab:"\ue7e9",Admin:"\ue7ef",TVMonitor:"\ue7f4",Speakers:"\ue7f5",Game:"\ue7fc",UnstackSelected:"\ue7fe",StackIndicator:"\ue7ff",Nav2DMapView:"\ue800",StreetsideSplitMinimize:"\ue802",Car:"\ue804",Bus:"\ue806",EatDrink:"\ue807",SeeDo:"\ue808",LocationCircle:"\ue80e",Home:"\ue80f",SwitcherStartEnd:"\ue810",ParkingLocation:"\ue811",IncidentTriangle:"\ue814",Touch:"\ue815",MapDirections:"\ue816",CaretHollow:"\ue817",CaretSolid:"\ue818",History:"\ue81c",Location:"\ue81d",MapLayers:"\ue81e",SearchNearby:"\ue820",Work:"\ue821",Recent:"\ue823",Hotel:"\ue824",Bank:"\ue825",LocationDot:"\ue827",Dictionary:"\ue82d",ChromeBack:"\ue830",FolderOpen:"\ue838",PinnedFill:"\ue842",RevToggleKey:"\ue845",USB:"\ue88e",Previous:"\ue892",Next:"\ue893",Sync:"\ue895",Help:"\ue897",Emoji:"\ue899",MailForward:"\ue89c",ClosePane:"\ue89f",OpenPane:"\ue8a0",PreviewLink:"\ue8a1",ZoomIn:"\ue8a3",Bookmarks:"\ue8a4",Document:"\ue8a5",ProtectedDocument:"\ue8a6",OpenInNewWindow:"\ue8a7",MailFill:"\ue8a8",ViewAll:"\ue8a9",Switch:"\ue8ab",Rename:"\ue8ac",Go:"\ue8ad",Remote:"\ue8af",SelectAll:"\ue8b3",Orientation:"\ue8b4",Import:"\ue8b5",Picture:"\ue8b9",ChromeClose:"\ue8bb",ShowResults:"\ue8bc",Message:"\ue8bd",CalendarDay:"\ue8bf",CalendarWeek:"\ue8c0",MailReplyAll:"\ue8c2",Read:"\ue8c3",Cut:"\ue8c6",PaymentCard:"\ue8c7",Copy:"\ue8c8",Important:"\ue8c9",MailReply:"\ue8ca",GotoToday:"\ue8d1",Font:"\ue8d2",FontColor:"\ue8d3",FolderFill:"\ue8d5",Permissions:"\ue8d7",DisableUpdates:"\ue8d8",Unfavorite:"\ue8d9",Italic:"\ue8db",Underline:"\ue8dc",Bold:"\ue8dd",MoveToFolder:"\ue8de",Dislike:"\ue8e0",Like:"\ue8e1",AlignCenter:"\ue8e3",OpenFile:"\ue8e5",FontDecrease:"\ue8e7"}};Object(r.db)(n,t)}function s(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('"+e+"fabric-icons-2-8820ef0b.woff') format('woff')"},icons:{FontIncrease:"\ue8e8",FontSize:"\ue8e9",CellPhone:"\ue8ea",RepeatOne:"\ue8ed",RepeatAll:"\ue8ee",Calculator:"\ue8ef",Library:"\ue8f1",PostUpdate:"\ue8f3",NewFolder:"\ue8f4",CalendarReply:"\ue8f5",UnsyncFolder:"\ue8f6",SyncFolder:"\ue8f7",BlockContact:"\ue8f8",Accept:"\ue8fb",BulletedList:"\ue8fd",Preview:"\ue8ff",News:"\ue900",Chat:"\ue901",Group:"\ue902",World:"\ue909",Comment:"\ue90a",DockLeft:"\ue90c",DockRight:"\ue90d",Repair:"\ue90f",Accounts:"\ue910",Street:"\ue913",RadioBullet:"\ue915",Stopwatch:"\ue916",Clock:"\ue917",WorldClock:"\ue918",AlarmClock:"\ue919",Photo:"\ue91b",ActionCenter:"\ue91c",Hospital:"\ue91d",Timer:"\ue91e",FullCircleMask:"\ue91f",LocationFill:"\ue920",ChromeMinimize:"\ue921",ChromeRestore:"\ue923",Annotation:"\ue924",Fingerprint:"\ue928",Handwriting:"\ue929",ChromeFullScreen:"\ue92d",Completed:"\ue930",Label:"\ue932",FlickDown:"\ue935",FlickUp:"\ue936",FlickLeft:"\ue937",FlickRight:"\ue938",MiniExpand:"\ue93a",MiniContract:"\ue93b",Streaming:"\ue93e",MusicInCollection:"\ue940",OneDriveLogo:"\ue941",CompassNW:"\ue942",Code:"\ue943",LightningBolt:"\ue945",CalculatorMultiply:"\ue947",CalculatorAddition:"\ue948",CalculatorSubtract:"\ue949",CalculatorPercentage:"\ue94c",CalculatorEqualTo:"\ue94e",PrintfaxPrinterFile:"\ue956",StorageOptical:"\ue958",Communications:"\ue95a",Headset:"\ue95b",Health:"\ue95e",FrontCamera:"\ue96b",ChevronUpSmall:"\ue96d",ChevronDownSmall:"\ue96e",ChevronLeftSmall:"\ue96f",ChevronRightSmall:"\ue970",ChevronUpMed:"\ue971",ChevronDownMed:"\ue972",ChevronLeftMed:"\ue973",ChevronRightMed:"\ue974",Devices2:"\ue975",PC1:"\ue977",PresenceChickletVideo:"\ue979",Reply:"\ue97a",HalfAlpha:"\ue97e",ConstructionCone:"\ue98f",DoubleChevronLeftMed:"\ue991",Volume0:"\ue992",Volume1:"\ue993",Volume2:"\ue994",Volume3:"\ue995",Chart:"\ue999",Robot:"\ue99a",Manufacturing:"\ue99c",LockSolid:"\ue9a2",FitPage:"\ue9a6",FitWidth:"\ue9a7",BidiLtr:"\ue9aa",BidiRtl:"\ue9ab",RightDoubleQuote:"\ue9b1",Sunny:"\ue9bd",CloudWeather:"\ue9be",Cloudy:"\ue9bf",PartlyCloudyDay:"\ue9c0"}};Object(r.db)(n,t)}function u(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('"+e+"fabric-icons-3-7c253e01.woff') format('woff')"},icons:{PartlyCloudyNight:"\ue9c1",ClearNight:"\ue9c2",RainShowersDay:"\ue9c3",Rain:"\ue9c4",Thunderstorms:"\ue9c6",RainSnow:"\ue9c7",Snow:"\ue9c8",BlowingSnow:"\ue9c9",Frigid:"\ue9ca",Fog:"\ue9cb",Squalls:"\ue9cc",Duststorm:"\ue9cd",Unknown:"\ue9ce",Precipitation:"\ue9cf",Ribbon:"\ue9d1",AreaChart:"\ue9d2",Assign:"\ue9d3",FlowChart:"\ue9d4",CheckList:"\ue9d5",Diagnostic:"\ue9d9",Generate:"\ue9da",LineChart:"\ue9e6",Equalizer:"\ue9e9",BarChartHorizontal:"\ue9eb",BarChartVertical:"\ue9ec",Freezing:"\ue9ef",FunnelChart:"\ue9f1",Processing:"\ue9f5",Quantity:"\ue9f8",ReportDocument:"\ue9f9",StackColumnChart:"\ue9fc",SnowShowerDay:"\ue9fd",HailDay:"\uea00",WorkFlow:"\uea01",HourGlass:"\uea03",StoreLogoMed20:"\uea04",TimeSheet:"\uea05",TriangleSolid:"\uea08",UpgradeAnalysis:"\uea0b",VideoSolid:"\uea0c",RainShowersNight:"\uea0f",SnowShowerNight:"\uea11",Teamwork:"\uea12",HailNight:"\uea13",PeopleAdd:"\uea15",Glasses:"\uea16",DateTime2:"\uea17",Shield:"\uea18",Header1:"\uea19",PageAdd:"\uea1a",NumberedList:"\uea1c",PowerBILogo:"\uea1e",Info2:"\uea1f",MusicInCollectionFill:"\uea36",Asterisk:"\uea38",ErrorBadge:"\uea39",CircleFill:"\uea3b",Record2:"\uea3f",AllAppsMirrored:"\uea40",BookmarksMirrored:"\uea41",BulletedListMirrored:"\uea42",CaretHollowMirrored:"\uea45",CaretSolidMirrored:"\uea46",ChromeBackMirrored:"\uea47",ClosePaneMirrored:"\uea49",DockLeftMirrored:"\uea4c",DoubleChevronLeftMedMirrored:"\uea4d",GoMirrored:"\uea4f",HelpMirrored:"\uea51",ImportMirrored:"\uea52",ImportAllMirrored:"\uea53",ListMirrored:"\uea55",MailForwardMirrored:"\uea56",MailReplyMirrored:"\uea57",MailReplyAllMirrored:"\uea58",MiniContractMirrored:"\uea59",MiniExpandMirrored:"\uea5a",OpenPaneMirrored:"\uea5b",ParkingLocationMirrored:"\uea5e",SendMirrored:"\uea63",ShowResultsMirrored:"\uea65",ThumbnailViewMirrored:"\uea67",Media:"\uea69",Devices3:"\uea6c",Focus:"\uea6f",VideoLightOff:"\uea74",Lightbulb:"\uea80",StatusTriangle:"\uea82",VolumeDisabled:"\uea85",Puzzle:"\uea86",EmojiNeutral:"\uea87",EmojiDisappointed:"\uea88",HomeSolid:"\uea8a",Ringer:"\uea8f",PDF:"\uea90",HeartBroken:"\uea92",StoreLogo16:"\uea96",MultiSelectMirrored:"\uea98",Broom:"\uea99",Cocktails:"\uea9d"}};Object(r.db)(n,t)}function l(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('"+e+"fabric-icons-4-15a649f8.woff') format('woff')"},icons:{Wines:"\ueabf",Articles:"\ueac1",Cycling:"\ueac7",DietPlanNotebook:"\ueac8",Pill:"\ueacb",ExerciseTracker:"\ueacc",HandsFree:"\uead0",Medical:"\uead4",Running:"\ueada",Weights:"\ueadb",Trackers:"\ueadf",AddNotes:"\ueae3",AllCurrency:"\ueae4",BarChart4:"\ueae7",CirclePlus:"\ueaee",Coffee:"\ueaef",Cotton:"\ueaf3",Market:"\ueafc",Money:"\ueafd",PieDouble:"\ueb04",PieSingle:"\ueb05",RemoveFilter:"\ueb08",Savings:"\ueb0b",Sell:"\ueb0c",StockDown:"\ueb0f",StockUp:"\ueb11",Lamp:"\ueb19",Source:"\ueb1b",MSNVideos:"\ueb1c",Cricket:"\ueb1e",Golf:"\ueb1f",Baseball:"\ueb20",Soccer:"\ueb21",MoreSports:"\ueb22",AutoRacing:"\ueb24",CollegeHoops:"\ueb25",CollegeFootball:"\ueb26",ProFootball:"\ueb27",ProHockey:"\ueb28",Rugby:"\ueb2d",SubstitutionsIn:"\ueb31",Tennis:"\ueb33",Arrivals:"\ueb34",Design:"\ueb3c",Website:"\ueb41",Drop:"\ueb42",HistoricalWeather:"\ueb43",SkiResorts:"\ueb45",Snowflake:"\ueb46",BusSolid:"\ueb47",FerrySolid:"\ueb48",AirplaneSolid:"\ueb4c",TrainSolid:"\ueb4d",Ticket:"\ueb54",WifiWarning4:"\ueb63",Devices4:"\ueb66",AzureLogo:"\ueb6a",BingLogo:"\ueb6b",MSNLogo:"\ueb6c",OutlookLogoInverse:"\ueb6d",OfficeLogo:"\ueb6e",SkypeLogo:"\ueb6f",Door:"\ueb75",EditMirrored:"\ueb7e",GiftCard:"\ueb8e",DoubleBookmark:"\ueb8f",StatusErrorFull:"\ueb90",Certificate:"\ueb95",FastForward:"\ueb9d",Rewind:"\ueb9e",Photo2:"\ueb9f",OpenSource:"\uebc2",Movers:"\uebcd",CloudDownload:"\uebd3",Family:"\uebda",WindDirection:"\uebe6",Bug:"\uebe8",SiteScan:"\uebec",BrowserScreenShot:"\uebed",F12DevTools:"\uebee",CSS:"\uebef",JS:"\uebf0",DeliveryTruck:"\uebf4",ReminderPerson:"\uebf7",ReminderGroup:"\uebf8",TabletMode:"\uebfc",Umbrella:"\uec04",NetworkTower:"\uec05",CityNext:"\uec06",CityNext2:"\uec07",Section:"\uec0c",OneNoteLogoInverse:"\uec0d",ToggleFilled:"\uec11",ToggleBorder:"\uec12",SliderThumb:"\uec13",ToggleThumb:"\uec14",Documentation:"\uec17",Badge:"\uec1b",Giftbox:"\uec1f",VisualStudioLogo:"\uec22"}};Object(r.db)(n,t)}function c(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('"+e+"fabric-icons-5-f6de453a.woff') format('woff')"},icons:{HomeGroup:"\uec26",ExcelLogoInverse:"\uec28",WordLogoInverse:"\uec29",PowerPointLogoInverse:"\uec2a",Cafe:"\uec32",SpeedHigh:"\uec4a",Commitments:"\uec4d",ThisPC:"\uec4e",MusicNote:"\uec4f",MicOff:"\uec54",EdgeLogo:"\uec60",CompletedSolid:"\uec61",AlbumRemove:"\uec62",MessageFill:"\uec70",TabletSelected:"\uec74",MobileSelected:"\uec75",LaptopSelected:"\uec76",TVMonitorSelected:"\uec77",DeveloperTools:"\uec7a",Shapes:"\uec7c",InsertTextBox:"\uec7d",LowerBrightness:"\uec8a",WebComponents:"\uec8b",OfflineStorage:"\uec8c",DOM:"\uec8d",CloudUpload:"\uec8e",ScrollUpDown:"\uec8f",DateTime:"\uec92",Event:"\ueca3",Cake:"\ueca4",Org:"\ueca6",PartyLeader:"\ueca7",DRM:"\ueca8",CloudAdd:"\ueca9",AppIconDefault:"\uecaa",Photo2Add:"\uecab",Photo2Remove:"\uecac",POI:"\uecaf",AddTo:"\uecc8",RadioBtnOff:"\uecca",RadioBtnOn:"\ueccb",ExploreContent:"\ueccd",Product:"\uecdc",ProgressLoopInner:"\uecde",ProgressLoopOuter:"\uecdf",Blocked2:"\uece4",FangBody:"\ueceb",PageHeader:"\uecee",ChatInviteFriend:"\uecfe",Brush:"\uecff",Shirt:"\ued00",Crown:"\ued01",Diamond:"\ued02",ScaleUp:"\ued09",QRCode:"\ued14",Feedback:"\ued15",SharepointLogoInverse:"\ued18",YammerLogo:"\ued19",Hide:"\ued1a",Uneditable:"\ued1d",ReturnToSession:"\ued24",OpenFolderHorizontal:"\ued25",CalendarMirrored:"\ued28",SwayLogoInverse:"\ued29",OutOfOffice:"\ued34",Trophy:"\ued3f",ReopenPages:"\ued50",EmojiTabSymbols:"\ued58",AADLogo:"\ued68",AccessLogo:"\ued69",AdminALogoInverse32:"\ued6a",AdminCLogoInverse32:"\ued6b",AdminDLogoInverse32:"\ued6c",AdminELogoInverse32:"\ued6d",AdminLLogoInverse32:"\ued6e",AdminMLogoInverse32:"\ued6f",AdminOLogoInverse32:"\ued70",AdminPLogoInverse32:"\ued71",AdminSLogoInverse32:"\ued72",AdminYLogoInverse32:"\ued73",DelveLogoInverse:"\ued76",ExchangeLogoInverse:"\ued78",LyncLogo:"\ued79",OfficeVideoLogoInverse:"\ued7a",SocialListeningLogo:"\ued7c",VisioLogoInverse:"\ued7d",Balloons:"\ued7e",Cat:"\ued7f",MailAlert:"\ued80",MailCheck:"\ued81",MailLowImportance:"\ued82",MailPause:"\ued83",MailRepeat:"\ued84",SecurityGroup:"\ued85",Table:"\ued86",VoicemailForward:"\ued87",VoicemailReply:"\ued88",Waffle:"\ued89",RemoveEvent:"\ued8a",EventInfo:"\ued8b"}};Object(r.db)(n,t)}function d(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('"+e+"fabric-icons-6-32b702b9.woff') format('woff')"},icons:{ForwardEvent:"\ued8c",WipePhone:"\ued8d",AddOnlineMeeting:"\ued8e",JoinOnlineMeeting:"\ued8f",RemoveLink:"\ued90",PeopleBlock:"\ued91",PeopleRepeat:"\ued92",PeopleAlert:"\ued93",PeoplePause:"\ued94",TransferCall:"\ued95",AddPhone:"\ued96",UnknownCall:"\ued97",NoteReply:"\ued98",NoteForward:"\ued99",NotePinned:"\ued9a",RemoveOccurrence:"\ued9b",Timeline:"\ued9c",EditNote:"\ued9d",CircleHalfFull:"\ued9e",Room:"\ued9f",Unsubscribe:"\ueda0",Subscribe:"\ueda1",HardDrive:"\ueda2",RecurringTask:"\uedb2",TaskManager:"\uedb7",TaskManagerMirrored:"\uedb8",Combine:"\uedbb",Split:"\uedbc",DoubleChevronUp:"\uedbd",DoubleChevronLeft:"\uedbe",DoubleChevronRight:"\uedbf",TextBox:"\uedc2",TextField:"\uedc3",NumberField:"\uedc4",Dropdown:"\uedc5",PenWorkspace:"\uedc6",BookingsLogo:"\uedc7",ClassNotebookLogoInverse:"\uedc8",DelveAnalyticsLogo:"\uedca",DocsLogoInverse:"\uedcb",Dynamics365Logo:"\uedcc",DynamicSMBLogo:"\uedcd",OfficeAssistantLogo:"\uedce",OfficeStoreLogo:"\uedcf",OneNoteEduLogoInverse:"\uedd0",PlannerLogo:"\uedd1",PowerApps:"\uedd2",Suitcase:"\uedd3",ProjectLogoInverse:"\uedd4",CaretLeft8:"\uedd5",CaretRight8:"\uedd6",CaretUp8:"\uedd7",CaretDown8:"\uedd8",CaretLeftSolid8:"\uedd9",CaretRightSolid8:"\uedda",CaretUpSolid8:"\ueddb",CaretDownSolid8:"\ueddc",ClearFormatting:"\ueddd",Superscript:"\uedde",Subscript:"\ueddf",Strikethrough:"\uede0",Export:"\uede1",ExportMirrored:"\uede2",SingleBookmark:"\uedff",SingleBookmarkSolid:"\uee00",DoubleChevronDown:"\uee04",FollowUser:"\uee05",ReplyAll:"\uee0a",WorkforceManagement:"\uee0f",RecruitmentManagement:"\uee12",Questionnaire:"\uee19",ManagerSelfService:"\uee23",ProductRelease:"\uee2e",ReplyMirrored:"\uee35",ReplyAllMirrored:"\uee36",Medal:"\uee38",AddGroup:"\uee3d",QuestionnaireMirrored:"\uee4b",TemporaryUser:"\uee58",CaretSolid16:"\uee62",GroupedDescending:"\uee66",GroupedAscending:"\uee67",AwayStatus:"\uee6a",MyMoviesTV:"\uee6c",GenericScan:"\uee6f",AustralianRules:"\uee70",WifiEthernet:"\uee77",TrackersMirrored:"\uee92",DateTimeMirrored:"\uee93",StopSolid:"\uee95",DoubleChevronUp12:"\uee96",DoubleChevronDown12:"\uee97",DoubleChevronLeft12:"\uee98",DoubleChevronRight12:"\uee99",CalendarAgenda:"\uee9a",AddEvent:"\ueeb5",AssetLibrary:"\ueeb6",DataConnectionLibrary:"\ueeb7",DocLibrary:"\ueeb8",FormLibrary:"\ueeb9"}};Object(r.db)(n,t)}function f(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('"+e+"fabric-icons-7-bbebf62d.woff') format('woff')"},icons:{FormLibraryMirrored:"\ueeba",ReportLibrary:"\ueebb",ReportLibraryMirrored:"\ueebc",ContactCard:"\ueebd",CustomList:"\ueebe",CustomListMirrored:"\ueebf",IssueTracking:"\ueec0",IssueTrackingMirrored:"\ueec1",PictureLibrary:"\ueec2",OfficeAddinsLogo:"\ueec7",OfflineOneDriveParachute:"\ueec8",OfflineOneDriveParachuteDisabled:"\ueec9",TriangleSolidUp12:"\ueecc",TriangleSolidDown12:"\ueecd",TriangleSolidLeft12:"\ueece",TriangleSolidRight12:"\ueecf",TriangleUp12:"\ueed0",TriangleDown12:"\ueed1",TriangleLeft12:"\ueed2",TriangleRight12:"\ueed3",ArrowUpRight8:"\ueed4",ArrowDownRight8:"\ueed5",DocumentSet:"\ueed6",DelveAnalytics:"\ueeee",ArrowUpRightMirrored8:"\ueeef",ArrowDownRightMirrored8:"\ueef0",CompanyDirectory:"\uef0d",OpenEnrollment:"\uef1c",CompanyDirectoryMirrored:"\uef2b",OneDriveAdd:"\uef32",ProfileSearch:"\uef35",Header2:"\uef36",Header3:"\uef37",Header4:"\uef38",RingerSolid:"\uef3a",Eyedropper:"\uef3c",MarketDown:"\uef42",CalendarWorkWeek:"\uef51",SidePanel:"\uef52",GlobeFavorite:"\uef53",CaretTopLeftSolid8:"\uef54",CaretTopRightSolid8:"\uef55",ViewAll2:"\uef56",DocumentReply:"\uef57",PlayerSettings:"\uef58",ReceiptForward:"\uef59",ReceiptReply:"\uef5a",ReceiptCheck:"\uef5b",Fax:"\uef5c",RecurringEvent:"\uef5d",ReplyAlt:"\uef5e",ReplyAllAlt:"\uef5f",EditStyle:"\uef60",EditMail:"\uef61",Lifesaver:"\uef62",LifesaverLock:"\uef63",InboxCheck:"\uef64",FolderSearch:"\uef65",CollapseMenu:"\uef66",ExpandMenu:"\uef67",Boards:"\uef68",SunAdd:"\uef69",SunQuestionMark:"\uef6a",LandscapeOrientation:"\uef6b",DocumentSearch:"\uef6c",PublicCalendar:"\uef6d",PublicContactCard:"\uef6e",PublicEmail:"\uef6f",PublicFolder:"\uef70",WordDocument:"\uef71",PowerPointDocument:"\uef72",ExcelDocument:"\uef73",GroupedList:"\uef74",ClassroomLogo:"\uef75",Sections:"\uef76",EditPhoto:"\uef77",Starburst:"\uef78",ShareiOS:"\uef79",AirTickets:"\uef7a",PencilReply:"\uef7b",Tiles2:"\uef7c",SkypeCircleCheck:"\uef7d",SkypeCircleClock:"\uef7e",SkypeCircleMinus:"\uef7f",SkypeMessage:"\uef83",ClosedCaption:"\uef84",ATPLogo:"\uef85",OfficeFormsLogoInverse:"\uef86",RecycleBin:"\uef87",EmptyRecycleBin:"\uef88",Hide2:"\uef89",Breadcrumb:"\uef8c",BirthdayCake:"\uef8d",TimeEntry:"\uef95",CRMProcesses:"\uefb1",PageEdit:"\uefb6",PageArrowRight:"\uefb8",PageRemove:"\uefba",Database:"\uefc7",DataManagementSettings:"\uefc8"}};Object(r.db)(n,t)}function h(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('"+e+"fabric-icons-8-50fd817c.woff') format('woff')"},icons:{CRMServices:"\uefd2",EditContact:"\uefd3",ConnectContacts:"\uefd4",AppIconDefaultAdd:"\uefda",AppIconDefaultList:"\uefde",ActivateOrders:"\uefe0",DeactivateOrders:"\uefe1",DocumentManagement:"\ueffc",CRMReport:"\ueffe",KnowledgeArticle:"\uf000",Relationship:"\uf003",HomeVerify:"\uf00e",ZipFolder:"\uf012",SurveyQuestions:"\uf01b",TextDocument:"\uf029",TextDocumentShared:"\uf02b",PageCheckedOut:"\uf02c",SaveAndClose:"\uf038",Script:"\uf03a",Archive:"\uf03f",ActivityFeed:"\uf056",Compare:"\uf057",EventDate:"\uf059",ArrowUpRight:"\uf069",CaretRight:"\uf06b",SetAction:"\uf071",CaretSolidLeft:"\uf08d",CaretSolidDown:"\uf08e",CaretSolidRight:"\uf08f",CaretSolidUp:"\uf090",PowerAppsLogo:"\uf091",PowerApps2Logo:"\uf092",SearchIssue:"\uf09a",SearchIssueMirrored:"\uf09b",FabricAssetLibrary:"\uf09c",FabricDataConnectionLibrary:"\uf09d",FabricDocLibrary:"\uf09e",FabricFormLibrary:"\uf09f",FabricFormLibraryMirrored:"\uf0a0",FabricReportLibrary:"\uf0a1",FabricReportLibraryMirrored:"\uf0a2",FabricPublicFolder:"\uf0a3",FabricFolderSearch:"\uf0a4",FabricMovetoFolder:"\uf0a5",FabricUnsyncFolder:"\uf0a6",FabricSyncFolder:"\uf0a7",FabricOpenFolderHorizontal:"\uf0a8",FabricFolder:"\uf0a9",FabricFolderFill:"\uf0aa",FabricNewFolder:"\uf0ab",FabricPictureLibrary:"\uf0ac",AddFavorite:"\uf0c8",AddFavoriteFill:"\uf0c9",BufferTimeBefore:"\uf0cf",BufferTimeAfter:"\uf0d0",BufferTimeBoth:"\uf0d1",PublishContent:"\uf0d4",ClipboardList:"\uf0e3",ClipboardListMirrored:"\uf0e4",CannedChat:"\uf0f2",SkypeForBusinessLogo:"\uf0fc",TabCenter:"\uf100",PageCheckedin:"\uf104",PageList:"\uf106",ReadOutLoud:"\uf112",CaretBottomLeftSolid8:"\uf121",CaretBottomRightSolid8:"\uf122",FolderHorizontal:"\uf12b",MicrosoftStaffhubLogo:"\uf130",GiftboxOpen:"\uf133",StatusCircleOuter:"\uf136",StatusCircleInner:"\uf137",StatusCircleRing:"\uf138",StatusTriangleOuter:"\uf139",StatusTriangleInner:"\uf13a",StatusTriangleExclamation:"\uf13b",StatusCircleExclamation:"\uf13c",StatusCircleErrorX:"\uf13d",StatusCircleInfo:"\uf13f",StatusCircleBlock:"\uf140",StatusCircleBlock2:"\uf141",StatusCircleQuestionMark:"\uf142",StatusCircleSync:"\uf143",Toll:"\uf160",ExploreContentSingle:"\uf164",CollapseContent:"\uf165",CollapseContentSingle:"\uf166",InfoSolid:"\uf167",ProgressRingDots:"\uf16a",CaloriesAdd:"\uf172",BranchFork:"\uf173",AddHome:"\uf17b",MobileReport:"\uf18a",ScaleVolume:"\uf18c",HardDriveGroup:"\uf18f",FastMode:"\uf19a",ToggleLeft:"\uf19e",ToggleRight:"\uf19f",TriangleShape:"\uf1a7",RectangleShape:"\uf1a9"}};Object(r.db)(n,t)}function p(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('"+e+"fabric-icons-9-88060b8a.woff') format('woff')"},icons:{Trophy2:"\uf1ae",BucketColor:"\uf1b6",BucketColorFill:"\uf1b7",Taskboard:"\uf1c2",SingleColumn:"\uf1d3",DoubleColumn:"\uf1d4",TripleColumn:"\uf1d5",ColumnLeftTwoThirds:"\uf1d6",ColumnRightTwoThirds:"\uf1d7",AccessLogoFill:"\uf1db",AnalyticsLogo:"\uf1de",AnalyticsQuery:"\uf1df",NewAnalyticsQuery:"\uf1e0",AnalyticsReport:"\uf1e1",WordLogo:"\uf1e3",WordLogoFill:"\uf1e4",ExcelLogo:"\uf1e5",ExcelLogoFill:"\uf1e6",OneNoteLogo:"\uf1e7",OneNoteLogoFill:"\uf1e8",OutlookLogo:"\uf1e9",OutlookLogoFill:"\uf1ea",PowerPointLogo:"\uf1eb",PowerPointLogoFill:"\uf1ec",PublisherLogo:"\uf1ed",PublisherLogoFill:"\uf1ee",ScheduleEventAction:"\uf1ef",FlameSolid:"\uf1f3",ServerProcesses:"\uf1fe",Server:"\uf201",SaveAll:"\uf203",LinkedInLogo:"\uf20a",Decimals:"\uf218",SidePanelMirrored:"\uf221",ProtectRestrict:"\uf22a",Blog:"\uf22b",UnknownMirrored:"\uf22e",PublicContactCardMirrored:"\uf230",GridViewSmall:"\uf232",GridViewMedium:"\uf233",GridViewLarge:"\uf234",Step:"\uf241",StepInsert:"\uf242",StepShared:"\uf243",StepSharedAdd:"\uf244",StepSharedInsert:"\uf245",ViewDashboard:"\uf246",ViewList:"\uf247",ViewListGroup:"\uf248",ViewListTree:"\uf249",TriggerAuto:"\uf24a",TriggerUser:"\uf24b",PivotChart:"\uf24c",StackedBarChart:"\uf24d",StackedLineChart:"\uf24e",BuildQueue:"\uf24f",BuildQueueNew:"\uf250",UserFollowed:"\uf25c",ContactLink:"\uf25f",Stack:"\uf26f",Bullseye:"\uf272",VennDiagram:"\uf273",FiveTileGrid:"\uf274",FocalPoint:"\uf277",RingerRemove:"\uf279",TeamsLogoInverse:"\uf27a",TeamsLogo:"\uf27b",TeamsLogoFill:"\uf27c",SkypeForBusinessLogoFill:"\uf27d",SharepointLogo:"\uf27e",SharepointLogoFill:"\uf27f",DelveLogo:"\uf280",DelveLogoFill:"\uf281",OfficeVideoLogo:"\uf282",OfficeVideoLogoFill:"\uf283",ExchangeLogo:"\uf284",ExchangeLogoFill:"\uf285",Signin:"\uf286",DocumentApproval:"\uf28b",CloneToDesktop:"\uf28c",InstallToDrive:"\uf28d",Blur:"\uf28e",Build:"\uf28f",ProcessMetaTask:"\uf290",BranchFork2:"\uf291",BranchLocked:"\uf292",BranchCommit:"\uf293",BranchCompare:"\uf294",BranchMerge:"\uf295",BranchPullRequest:"\uf296",BranchSearch:"\uf297",BranchShelveset:"\uf298",RawSource:"\uf299",MergeDuplicate:"\uf29a",RowsGroup:"\uf29b",RowsChild:"\uf29c",Deploy:"\uf29d",Redeploy:"\uf29e",ServerEnviroment:"\uf29f",VisioDiagram:"\uf2a0"}};Object(r.db)(n,t)}function g(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('"+e+"fabric-icons-10-1ca3e4a1.woff') format('woff')"},icons:{HighlightMappedShapes:"\uf2a1",TextCallout:"\uf2a2",IconSetsFlag:"\uf2a4",VisioLogo:"\uf2a7",VisioLogoFill:"\uf2a8",VisioDocument:"\uf2a9",TimelineProgress:"\uf2aa",TimelineDelivery:"\uf2ab",Backlog:"\uf2ac",TeamFavorite:"\uf2ad",TaskGroup:"\uf2ae",TaskGroupMirrored:"\uf2af",ScopeTemplate:"\uf2b0",AssessmentGroupTemplate:"\uf2b1",NewTeamProject:"\uf2b2",CommentAdd:"\uf2b3",CommentNext:"\uf2b4",CommentPrevious:"\uf2b5",ShopServer:"\uf2b6",LocaleLanguage:"\uf2b7",QueryList:"\uf2b8",UserSync:"\uf2b9",UserPause:"\uf2ba",StreamingOff:"\uf2bb",ArrowTallUpLeft:"\uf2bd",ArrowTallUpRight:"\uf2be",ArrowTallDownLeft:"\uf2bf",ArrowTallDownRight:"\uf2c0",FieldEmpty:"\uf2c1",FieldFilled:"\uf2c2",FieldChanged:"\uf2c3",FieldNotChanged:"\uf2c4",RingerOff:"\uf2c5",PlayResume:"\uf2c6",BulletedList2:"\uf2c7",BulletedList2Mirrored:"\uf2c8",ImageCrosshair:"\uf2c9",GitGraph:"\uf2ca",Repo:"\uf2cb",RepoSolid:"\uf2cc",FolderQuery:"\uf2cd",FolderList:"\uf2ce",FolderListMirrored:"\uf2cf",LocationOutline:"\uf2d0",POISolid:"\uf2d1",CalculatorNotEqualTo:"\uf2d2",BoxSubtractSolid:"\uf2d3",BoxAdditionSolid:"\uf2d4",BoxMultiplySolid:"\uf2d5",BoxPlaySolid:"\uf2d6",BoxCheckmarkSolid:"\uf2d7",CirclePauseSolid:"\uf2d8",CirclePause:"\uf2d9",MSNVideosSolid:"\uf2da",CircleStopSolid:"\uf2db",CircleStop:"\uf2dc",NavigateBack:"\uf2dd",NavigateBackMirrored:"\uf2de",NavigateForward:"\uf2df",NavigateForwardMirrored:"\uf2e0",UnknownSolid:"\uf2e1",UnknownMirroredSolid:"\uf2e2",CircleAddition:"\uf2e3",CircleAdditionSolid:"\uf2e4",FilePDB:"\uf2e5",FileTemplate:"\uf2e6",FileSQL:"\uf2e7",FileJAVA:"\uf2e8",FileASPX:"\uf2e9",FileCSS:"\uf2ea",FileSass:"\uf2eb",FileLess:"\uf2ec",FileHTML:"\uf2ed",JavaScriptLanguage:"\uf2ee",CSharpLanguage:"\uf2ef",CSharp:"\uf2f0",VisualBasicLanguage:"\uf2f1",VB:"\uf2f2",CPlusPlusLanguage:"\uf2f3",CPlusPlus:"\uf2f4",FSharpLanguage:"\uf2f5",FSharp:"\uf2f6",TypeScriptLanguage:"\uf2f7",PythonLanguage:"\uf2f8",PY:"\uf2f9",CoffeeScript:"\uf2fa",MarkDownLanguage:"\uf2fb",FullWidth:"\uf2fe",FullWidthEdit:"\uf2ff",Plug:"\uf300",PlugSolid:"\uf301",PlugConnected:"\uf302",PlugDisconnected:"\uf303",UnlockSolid:"\uf304",Variable:"\uf305",Parameter:"\uf306",CommentUrgent:"\uf307",Storyboard:"\uf308",DiffInline:"\uf309",DiffSideBySide:"\uf30a"}};Object(r.db)(n,t)}function m(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('"+e+"fabric-icons-11-93bad8ee.woff') format('woff')"},icons:{ImageDiff:"\uf30b",ImagePixel:"\uf30c",FileBug:"\uf30d",FileCode:"\uf30e",FileComment:"\uf30f",BusinessHoursSign:"\uf310",FileImage:"\uf311",FileSymlink:"\uf312",AutoFillTemplate:"\uf313",WorkItem:"\uf314",WorkItemBug:"\uf315",LogRemove:"\uf316",ColumnOptions:"\uf317",Packages:"\uf318",BuildIssue:"\uf319",AssessmentGroup:"\uf31a",VariableGroup:"\uf31b",FullHistory:"\uf31c",SingleColumnEdit:"\uf321",DoubleColumnEdit:"\uf322",TripleColumnEdit:"\uf323",ColumnLeftTwoThirdsEdit:"\uf324",ColumnRightTwoThirdsEdit:"\uf325",StreamLogo:"\uf329",PassiveAuthentication:"\uf32a",AlertSolid:"\uf331",MegaphoneSolid:"\uf332",TaskSolid:"\uf333",ConfigurationSolid:"\uf334",BugSolid:"\uf335",CrownSolid:"\uf336",Trophy2Solid:"\uf337",QuickNoteSolid:"\uf338",ConstructionConeSolid:"\uf339",PageListSolid:"\uf33a",PageListMirroredSolid:"\uf33b",StarburstSolid:"\uf33c",ReadingModeSolid:"\uf33d",SadSolid:"\uf33e",HealthSolid:"\uf33f",ShieldSolid:"\uf340",GiftBoxSolid:"\uf341",ShoppingCartSolid:"\uf342",MailSolid:"\uf343",ChatSolid:"\uf344",RibbonSolid:"\uf345",FinancialSolid:"\uf346",FinancialMirroredSolid:"\uf347",HeadsetSolid:"\uf348",PermissionsSolid:"\uf349",ParkingSolid:"\uf34a",ParkingMirroredSolid:"\uf34b",DiamondSolid:"\uf34c",AsteriskSolid:"\uf34d",OfflineStorageSolid:"\uf34e",BankSolid:"\uf34f",DecisionSolid:"\uf350",Parachute:"\uf351",ParachuteSolid:"\uf352",FiltersSolid:"\uf353",ColorSolid:"\uf354",ReviewSolid:"\uf355",ReviewRequestSolid:"\uf356",ReviewRequestMirroredSolid:"\uf357",ReviewResponseSolid:"\uf358",FeedbackRequestSolid:"\uf359",FeedbackRequestMirroredSolid:"\uf35a",FeedbackResponseSolid:"\uf35b",WorkItemBar:"\uf35c",WorkItemBarSolid:"\uf35d",Separator:"\uf35e",NavigateExternalInline:"\uf35f",PlanView:"\uf360",TimelineMatrixView:"\uf361",EngineeringGroup:"\uf362",ProjectCollection:"\uf363",CaretBottomRightCenter8:"\uf364",CaretBottomLeftCenter8:"\uf365",CaretTopRightCenter8:"\uf366",CaretTopLeftCenter8:"\uf367",DonutChart:"\uf368",ChevronUnfold10:"\uf369",ChevronFold10:"\uf36a",DoubleChevronDown8:"\uf36b",DoubleChevronUp8:"\uf36c",DoubleChevronLeft8:"\uf36d",DoubleChevronRight8:"\uf36e",ChevronDownEnd6:"\uf36f",ChevronUpEnd6:"\uf370",ChevronLeftEnd6:"\uf371",ChevronRightEnd6:"\uf372",ContextMenu:"\uf37c",AzureAPIManagement:"\uf37f",AzureServiceEndpoint:"\uf380",VSTSLogo:"\uf381",VSTSAltLogo1:"\uf382",VSTSAltLogo2:"\uf383",FileTypeSolution:"\uf387",WordLogoInverse16:"\uf390",WordLogo16:"\uf391"}};Object(r.db)(n,t)}function v(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('"+e+"fabric-icons-12-d9534567.woff') format('woff')"},icons:{WordLogoFill16:"\uf392",PowerPointLogoInverse16:"\uf393",PowerPointLogo16:"\uf394",PowerPointLogoFill16:"\uf395",ExcelLogoInverse16:"\uf396",ExcelLogo16:"\uf397",ExcelLogoFill16:"\uf398",OneNoteLogoInverse16:"\uf399",OneNoteLogo16:"\uf39a",OneNoteLogoFill16:"\uf39b",OutlookLogoInverse16:"\uf39c",OutlookLogo16:"\uf39d",OutlookLogoFill16:"\uf39e",PublisherLogoInverse16:"\uf39f",PublisherLogo16:"\uf3a0",PublisherLogoFill16:"\uf3a1",VisioLogoInverse16:"\uf3a2",VisioLogo16:"\uf3a3",VisioLogoFill16:"\uf3a4",TestBeaker:"\uf3a5",TestBeakerSolid:"\uf3a6",TestExploreSolid:"\uf3a7",TestAutoSolid:"\uf3a8",TestUserSolid:"\uf3a9",TestImpactSolid:"\uf3aa",TestPlan:"\uf3ab",TestStep:"\uf3ac",TestParameter:"\uf3ad",TestSuite:"\uf3ae",TestCase:"\uf3af",Sprint:"\uf3b0",SignOut:"\uf3b1",TriggerApproval:"\uf3b2",Rocket:"\uf3b3",AzureKeyVault:"\uf3b4",Onboarding:"\uf3ba",Transition:"\uf3bc",LikeSolid:"\uf3bf",DislikeSolid:"\uf3c0",CRMCustomerInsightsApp:"\uf3c8",EditCreate:"\uf3c9",UnSetColor:"\uf3f9",DeclineCall:"\uf405",RectangularClipping:"\uf407",TeamsLogo16:"\uf40a",TeamsLogoFill16:"\uf40b",Spacer:"\uf40d",SkypeLogo16:"\uf40e",SkypeForBusinessLogo16:"\uf40f",SkypeForBusinessLogoFill16:"\uf410",FilterSolid:"\uf412",MailUndelivered:"\uf415",MailTentative:"\uf416",MailTentativeMirrored:"\uf417",MailReminder:"\uf418",ReceiptUndelivered:"\uf419",ReceiptTentative:"\uf41a",ReceiptTentativeMirrored:"\uf41b",Inbox:"\uf41c",IRMReply:"\uf41d",IRMReplyMirrored:"\uf41e",IRMForward:"\uf41f",IRMForwardMirrored:"\uf420",VoicemailIRM:"\uf421",EventAccepted:"\uf422",EventTentative:"\uf423",EventTentativeMirrored:"\uf424",EventDeclined:"\uf425",IDBadge:"\uf427",BackgroundColor:"\uf42b",OfficeFormsLogoInverse16:"\uf433",OfficeFormsLogo:"\uf434",OfficeFormsLogoFill:"\uf435",OfficeFormsLogo16:"\uf436",OfficeFormsLogoFill16:"\uf437",OfficeFormsLogoInverse24:"\uf43a",OfficeFormsLogo24:"\uf43b",OfficeFormsLogoFill24:"\uf43c",PageLock:"\uf43f",NotExecuted:"\uf440",NotImpactedSolid:"\uf441",FieldReadOnly:"\uf442",FieldRequired:"\uf443",BacklogBoard:"\uf444",ExternalBuild:"\uf445",ExternalTFVC:"\uf446",ExternalXAML:"\uf447",IssueSolid:"\uf448",DefectSolid:"\uf449",LadybugSolid:"\uf44a",NugetLogo:"\uf44c",TFVCLogo:"\uf44d",ProjectLogo32:"\uf47e",ProjectLogoFill32:"\uf47f",ProjectLogo16:"\uf480",ProjectLogoFill16:"\uf481",SwayLogo32:"\uf482",SwayLogoFill32:"\uf483",SwayLogo16:"\uf484",SwayLogoFill16:"\uf485"}};Object(r.db)(n,t)}function b(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('"+e+"fabric-icons-13-0b48c801.woff') format('woff')"},icons:{ClassNotebookLogo32:"\uf486",ClassNotebookLogoFill32:"\uf487",ClassNotebookLogo16:"\uf488",ClassNotebookLogoFill16:"\uf489",ClassNotebookLogoInverse32:"\uf48a",ClassNotebookLogoInverse16:"\uf48b",StaffNotebookLogo32:"\uf48c",StaffNotebookLogoFill32:"\uf48d",StaffNotebookLogo16:"\uf48e",StaffNotebookLogoFill16:"\uf48f",StaffNotebookLogoInverted32:"\uf490",StaffNotebookLogoInverted16:"\uf491",KaizalaLogo:"\uf492",TaskLogo:"\uf493",ProtectionCenterLogo32:"\uf494",GallatinLogo:"\uf496",Globe2:"\uf49a",Guitar:"\uf49b",Breakfast:"\uf49c",Brunch:"\uf49d",BeerMug:"\uf49e",Vacation:"\uf49f",Teeth:"\uf4a0",Taxi:"\uf4a1",Chopsticks:"\uf4a2",SyncOccurence:"\uf4a3",UnsyncOccurence:"\uf4a4",GIF:"\uf4a9",PrimaryCalendar:"\uf4ae",SearchCalendar:"\uf4af",VideoOff:"\uf4b0",MicrosoftFlowLogo:"\uf4b1",BusinessCenterLogo:"\uf4b2",ToDoLogoBottom:"\uf4b3",ToDoLogoTop:"\uf4b4",EditSolid12:"\uf4b5",EditSolidMirrored12:"\uf4b6",UneditableSolid12:"\uf4b7",UneditableSolidMirrored12:"\uf4b8",UneditableMirrored:"\uf4b9",AdminALogo32:"\uf4ba",AdminALogoFill32:"\uf4bb",ToDoLogoInverse:"\uf4bc",Snooze:"\uf4bd",WaffleOffice365:"\uf4e0",ImageSearch:"\uf4e8",NewsSearch:"\uf4e9",VideoSearch:"\uf4ea",R:"\uf4eb",FontColorA:"\uf4ec",FontColorSwatch:"\uf4ed",LightWeight:"\uf4ee",NormalWeight:"\uf4ef",SemiboldWeight:"\uf4f0",GroupObject:"\uf4f1",UngroupObject:"\uf4f2",AlignHorizontalLeft:"\uf4f3",AlignHorizontalCenter:"\uf4f4",AlignHorizontalRight:"\uf4f5",AlignVerticalTop:"\uf4f6",AlignVerticalCenter:"\uf4f7",AlignVerticalBottom:"\uf4f8",HorizontalDistributeCenter:"\uf4f9",VerticalDistributeCenter:"\uf4fa",Ellipse:"\uf4fb",Line:"\uf4fc",Octagon:"\uf4fd",Hexagon:"\uf4fe",Pentagon:"\uf4ff",RightTriangle:"\uf500",HalfCircle:"\uf501",QuarterCircle:"\uf502",ThreeQuarterCircle:"\uf503","6PointStar":"\uf504","12PointStar":"\uf505",ArrangeBringToFront:"\uf506",ArrangeSendToBack:"\uf507",ArrangeSendBackward:"\uf508",ArrangeBringForward:"\uf509",BorderDash:"\uf50a",BorderDot:"\uf50b",LineStyle:"\uf50c",LineThickness:"\uf50d",WindowEdit:"\uf50e",HintText:"\uf50f",MediaAdd:"\uf510",AnchorLock:"\uf511",AutoHeight:"\uf512",ChartSeries:"\uf513",ChartXAngle:"\uf514",ChartYAngle:"\uf515",Combobox:"\uf516",LineSpacing:"\uf517",Padding:"\uf518",PaddingTop:"\uf519",PaddingBottom:"\uf51a",PaddingLeft:"\uf51b",PaddingRight:"\uf51c",NavigationFlipper:"\uf51d",AlignJustify:"\uf51e"}};Object(r.db)(n,t)}function y(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('"+e+"fabric-icons-14-9a8324a9.woff') format('woff')"},icons:{TextOverflow:"\uf51f",VisualsFolder:"\uf520",VisualsStore:"\uf521",PictureCenter:"\uf522",PictureFill:"\uf523",PicturePosition:"\uf524",PictureStretch:"\uf525",PictureTile:"\uf526",Slider:"\uf527",SliderHandleSize:"\uf528",DefaultRatio:"\uf529",NumberSequence:"\uf52a",GUID:"\uf52b",ReportAdd:"\uf52c",DashboardAdd:"\uf52d",MapPinSolid:"\uf52e",WebPublish:"\uf52f",PieSingleSolid:"\uf530",BlockedSolid:"\uf531",DrillDown:"\uf532",DrillDownSolid:"\uf533",DrillExpand:"\uf534",DrillShow:"\uf535",SpecialEvent:"\uf536",OneDriveFolder16:"\uf53b",FunctionalManagerDashboard:"\uf542",BIDashboard:"\uf543",CodeEdit:"\uf544",RenewalCurrent:"\uf545",RenewalFuture:"\uf546",SplitObject:"\uf547",BulkUpload:"\uf548",DownloadDocument:"\uf549",Flower:"\uf54e",WaitlistConfirm:"\uf550",WaitlistConfirmMirrored:"\uf551",LaptopSecure:"\uf552",DragObject:"\uf553",EntryView:"\uf554",EntryDecline:"\uf555",ContactCardSettings:"\uf556",ContactCardSettingsMirrored:"\uf557",CalendarSettings:"\uf558",CalendarSettingsMirrored:"\uf559",HardDriveLock:"\uf55a",HardDriveUnlock:"\uf55b",AccountManagement:"\uf55c",TransitionPop:"\uf5b2",TransitionPush:"\uf5b3",TransitionEffect:"\uf5b4",LookupEntities:"\uf5b5",ExploreData:"\uf5b6",AddBookmark:"\uf5b7",SearchBookmark:"\uf5b8",DrillThrough:"\uf5b9",MasterDatabase:"\uf5ba",CertifiedDatabase:"\uf5bb",MaximumValue:"\uf5bc",MinimumValue:"\uf5bd",VisualStudioIDELogo32:"\uf5d0",PasteAsText:"\uf5d5",PasteAsCode:"\uf5d6",BrowserTab:"\uf5d7",BrowserTabScreenshot:"\uf5d8",DesktopScreenshot:"\uf5d9",FileYML:"\uf5da",ClipboardSolid:"\uf5dc",FabricUserFolder:"\uf5e5",FabricNetworkFolder:"\uf5e6",AnalyticsView:"\uf5f1",Video360Generic:"\uf609",Leave:"\uf627",Trending12:"\uf62d",Blocked12:"\uf62e",Warning12:"\uf62f",CheckedOutByOther12:"\uf630",CheckedOutByYou12:"\uf631",CircleShapeSolid:"\uf63c",SquareShapeSolid:"\uf63d",TriangleShapeSolid:"\uf63e",DropShapeSolid:"\uf63f",RectangleShapeSolid:"\uf640",ZoomToFit:"\uf649",InsertColumnsLeft:"\uf64a",InsertColumnsRight:"\uf64b",InsertRowsAbove:"\uf64c",InsertRowsBelow:"\uf64d",DeleteColumns:"\uf64e",DeleteRows:"\uf64f",DeleteRowsMirrored:"\uf650",DeleteTable:"\uf651",AccountBrowser:"\uf652",VersionControlPush:"\uf664",StackedColumnChart2:"\uf666",TripleColumnWide:"\uf66e",QuadColumn:"\uf66f",WhiteBoardApp16:"\uf673",WhiteBoardApp32:"\uf674",InsertSignatureLine:"\uf677",ArrangeByFrom:"\uf678"}};Object(r.db)(n,t)}function _(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('"+e+"fabric-icons-15-65272067.woff') format('woff')"},icons:{Phishing:"\uf679",CreateMailRule:"\uf67a",PublishCourse:"\uf699",DictionaryRemove:"\uf69a",UserRemove:"\uf69b",UserEvent:"\uf69c",Encryption:"\uf69d",PasswordField:"\uf6aa",OpenInNewTab:"\uf6ab",Hide3:"\uf6ac",VerifiedBrandSolid:"\uf6ad",MarkAsProtected:"\uf6ae",AuthenticatorApp:"\uf6b1",WebTemplate:"\uf6b2",DefenderTVM:"\uf6b3",MedalSolid:"\uf6b9",D365TalentLearn:"\uf6bb",D365TalentInsight:"\uf6bc",D365TalentHRCore:"\uf6bd",BacklogList:"\uf6bf",ButtonControl:"\uf6c0",TableGroup:"\uf6d9",MountainClimbing:"\uf6db",TagUnknown:"\uf6df",TagUnknownMirror:"\uf6e0",TagUnknown12:"\uf6e1",TagUnknown12Mirror:"\uf6e2",Link12:"\uf6e3",Presentation:"\uf6e4",Presentation12:"\uf6e5",Lock12:"\uf6e6",BuildDefinition:"\uf6e9",ReleaseDefinition:"\uf6ea",SaveTemplate:"\uf6ec",UserGauge:"\uf6ed",BlockedSiteSolid12:"\uf70a",TagSolid:"\uf70e",OfficeChat:"\uf70f",OfficeChatSolid:"\uf710",MailSchedule:"\uf72e",WarningSolid:"\uf736",Blocked2Solid:"\uf737",SkypeCircleArrow:"\uf747",SkypeArrow:"\uf748",SyncStatus:"\uf751",SyncStatusSolid:"\uf752",ProjectDocument:"\uf759",ToDoLogoOutline:"\uf75b",VisioOnlineLogoFill32:"\uf75f",VisioOnlineLogo32:"\uf760",VisioOnlineLogoCloud32:"\uf761",VisioDiagramSync:"\uf762",Event12:"\uf763",EventDateMissed12:"\uf764",UserOptional:"\uf767",ResponsesMenu:"\uf768",DoubleDownArrow:"\uf769",DistributeDown:"\uf76a",BookmarkReport:"\uf76b",FilterSettings:"\uf76c",GripperDotsVertical:"\uf772",MailAttached:"\uf774",AddIn:"\uf775",LinkedDatabase:"\uf779",PromotedDatabase:"\uf77d",BarChartVerticalFilter:"\uf77e",BarChartVerticalFilterSolid:"\uf77f",MicrosoftTranslatorLogo:"\uf782",ShowTimeAs:"\uf787",FileRequest:"\uf789",WorkItemAlert:"\uf78f",PowerBILogo16:"\uf790",PowerBILogoBackplate16:"\uf791",BulletedListText:"\uf792",BulletedListBullet:"\uf793",BulletedListTextMirrored:"\uf794",BulletedListBulletMirrored:"\uf795",NumberedListText:"\uf796",NumberedListNumber:"\uf797",NumberedListTextMirrored:"\uf798",NumberedListNumberMirrored:"\uf799",RemoveLinkChain:"\uf79a",RemoveLinkX:"\uf79b",FabricTextHighlight:"\uf79c",ClearFormattingA:"\uf79d",ClearFormattingEraser:"\uf79e",Photo2Fill:"\uf79f",IncreaseIndentText:"\uf7a0",IncreaseIndentArrow:"\uf7a1",DecreaseIndentText:"\uf7a2",DecreaseIndentArrow:"\uf7a3",IncreaseIndentTextMirrored:"\uf7a4",IncreaseIndentArrowMirrored:"\uf7a5",DecreaseIndentTextMirrored:"\uf7a6",DecreaseIndentArrowMirrored:"\uf7a7",CheckListText:"\uf7a8",CheckListCheck:"\uf7a9",CheckListTextMirrored:"\uf7aa",CheckListCheckMirrored:"\uf7ab",NumberSymbol:"\uf7ac"}};Object(r.db)(n,t)}function x(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('"+e+"fabric-icons-16-dff5b9a6.woff') format('woff')"},icons:{Coupon:"\uf7bc",VerifiedBrand:"\uf7bd",ReleaseGate:"\uf7be",ReleaseGateCheck:"\uf7bf",ReleaseGateError:"\uf7c0",M365InvoicingLogo:"\uf7c1",FabricTextHighlightComposite:"\uf7da",Dataflows:"\uf7dd",GenericScanFilled:"\uf7de",DiagnosticDataBarTooltip:"\uf7df",SaveToMobile:"\uf7e0",Orientation2:"\uf7e1",ScreenCast:"\uf7e2",ShowGrid:"\uf7e3",SnapToGrid:"\uf7e4",ContactList:"\uf7e5",NewMail:"\uf7ea",EyeShadow:"\uf7eb",FabricFolderConfirm:"\uf7ff",InformationBarriers:"\uf803",CommentActive:"\uf804",ColumnVerticalSectionEdit:"\uf806",WavingHand:"\uf807",ShakeDevice:"\uf80a",SmartGlassRemote:"\uf80b",Rotate90Clockwise:"\uf80d",Rotate90CounterClockwise:"\uf80e",CampaignTemplate:"\uf811",ChartTemplate:"\uf812",PageListFilter:"\uf813",SecondaryNav:"\uf814",ColumnVerticalSection:"\uf81e",SkypeCircleSlash:"\uf825",SkypeSlash:"\uf826",CustomizeToolbar:"\uf828",DuplicateRow:"\uf82a",RemoveFromTrash:"\uf82b",MailOptions:"\uf82c",Childof:"\uf82d",Footer:"\uf82e",Header:"\uf82f",BarChartVerticalFill:"\uf830",StackedColumnChart2Fill:"\uf831",PlainText:"\uf834",AccessibiltyChecker:"\uf835",DatabaseSync:"\uf842",ReservationOrders:"\uf845",TabOneColumn:"\uf849",TabTwoColumn:"\uf84a",TabThreeColumn:"\uf84b",MicrosoftTranslatorLogoGreen:"\uf852",MicrosoftTranslatorLogoBlue:"\uf853",InternalInvestigation:"\uf854",AppleTVPlay:"\uf859",AppleTVMonitor:"\uf85a",AppleTVMicrophone:"\uf85b",AppleTVMenu:"\uf85c",AddReaction:"\uf85d",DecreaseIndentLegacy:"\ue290",IncreaseIndentLegacy:"\ue291",SizeLegacy:"\ue2b2"}};Object(r.db)(n,t)}var S=function(){Object(r.cb)("trash","delete"),Object(r.cb)("onedrive","onedrivelogo"),Object(r.cb)("alertsolid12","eventdatemissed12"),Object(r.cb)("sixpointstar","6pointstar"),Object(r.cb)("twelvepointstar","12pointstar"),Object(r.cb)("toggleon","toggleleft"),Object(r.cb)("toggleoff","toggleright")},w=n(254);Object(w.a)("@uifabric/icons","6.5.4");function C(e,t){void 0===e&&(e="https://spoprod-a.akamaihd.net/files/fabric/assets/icons/"),[i,o,a,s,u,l,c,d,f,h,p,g,m,v,b,y,_,x].forEach((function(n){return n(e,t)})),S()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(5),o=n(13),a=n(12),s=n(14),u=n(88),l=n(40),c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r.a)(this,t),e=Object(o.a)(this,Object(a.a)(t).call(this,2)),Array.isArray(n)&&1===arguments.length?e.copy(n):e.set(n,i),e}return Object(s.a)(t,e),Object(i.a)(t,[{key:"cross",value:function(e){return l.b(this,this,e),this.check()}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function(){return 2}}]),t}(u.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";var r=n(228);e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");t="undefined"===typeof t?"_":t;var n=r("([\\p{Ll}\\d])(\\p{Lu})","g"),i=r("(\\p{Lu}+)(\\p{Lu}[\\p{Ll}\\d]+)","g");return e.replace(n,"$1".concat(t,"$2")).replace(i,"$1".concat(t,"$2")).toLowerCase()}},function(e,t){function n(e,t){return e===t||(e!==e&&t!==t||{}.toString.call(e)=={}.toString.call(t)&&(e===Object(e)&&(!!e&&(Array.isArray(e)?function(e,t){var r=e.length;if(r!=t.length)return!1;for(var i=!0,o=0;o<r;o++)if(!n(e[o],t[o])){i=!1;break}return i}(e,t):"[object Object]"=={}.toString.call(e)?function(e,t){var r=Object.keys(e).sort(),i=Object.keys(t).sort(),o=r.length;if(o!=i.length)return!1;for(var a=0;a<o;a++){var s=r[a],u=i[a];if(s!=u||!n(e[s],t[u]))return!1}return!0}(e,t):function(e,t){return e.toString()===t.toString()}(e,t)))))}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return Li})),n.d(t,"a",(function(){return ka}));var r={};n.r(r),n.d(r,"ColorScaleNone",(function(){return G})),n.d(r,"FieldNames",(function(){return k})),n.d(r,"ScaleNames",(function(){return j})),n.d(r,"SignalNames",(function(){return R}));var i={};n.r(i),n.d(i,"compareExpression",(function(){return Z})),n.d(i,"compareGroup",(function(){return $})),n.d(i,"compare",(function(){return J})),n.d(i,"startsWith",(function(){return ee})),n.d(i,"invert",(function(){return oe})),n.d(i,"narrow",(function(){return ae}));var o={};n.r(o),n.d(o,"GL_ORDINAL",(function(){return ue})),n.d(o,"layerNames",(function(){return le}));var a={};n.r(a),n.d(a,"Table",(function(){return ye}));var s={};n.r(s),n.d(s,"default",(function(){return Pe}));var u={};n.r(u),n.d(u,"minHeight",(function(){return ct})),n.d(u,"minWidth",(function(){return dt})),n.d(u,"defaultPresenterStyle",(function(){return ft})),n.d(u,"defaultPresenterConfig",(function(){return ht})),n.d(u,"createStage",(function(){return pt})),n.d(u,"groupStrokeWidth",(function(){return gt})),n.d(u,"lineZ",(function(){return mt})),n.d(u,"defaultView",(function(){return vt})),n.d(u,"min3dDepth",(function(){return bt})),n.d(u,"minPixelSize",(function(){return yt}));var l={};n.r(l),n.d(l,"addDiv",(function(){return Se})),n.d(l,"addEl",(function(){return xe})),n.d(l,"clone",(function(){return De})),n.d(l,"colorFromString",(function(){return Ne})),n.d(l,"colorIsEqual",(function(){return Fe})),n.d(l,"colorToString",(function(){return Le})),n.d(l,"deepMerge",(function(){return Me})),n.d(l,"desaturate",(function(){return Be})),n.d(l,"isColor",(function(){return ze})),n.d(l,"getCubeLayer",(function(){return Ot})),n.d(l,"getCubes",(function(){return Tt})),n.d(l,"outerSize",(function(){return we}));var c={};n.r(c),n.d(c,"base",(function(){return Ue})),n.d(c,"use",(function(){return He})),n.d(c,"Presenter",(function(){return Jt})),n.d(c,"ViewGl",(function(){return nn})),n.d(c,"PresenterElement",(function(){return Dt})),n.d(c,"constants",(function(){return o})),n.d(c,"controls",(function(){return a})),n.d(c,"defaults",(function(){return u})),n.d(c,"types",(function(){return _e})),n.d(c,"util",(function(){return l}));var d={};n.r(d),n.d(d,"getColumnsFromData",(function(){return rn})),n.d(d,"getStats",(function(){return an})),n.d(d,"inferAll",(function(){return on})),n.d(d,"ensureSearchExpressionGroupArray",(function(){return Y})),n.d(d,"getPresenterStyle",(function(){return dn})),n.d(d,"isInternalFieldName",(function(){return gn}));var f={};n.r(f),n.d(f,"colorSchemes",(function(){return vn})),n.d(f,"constants",(function(){return r})),n.d(f,"searchExpression",(function(){return i})),n.d(f,"types",(function(){return se})),n.d(f,"use",(function(){return Ii})),n.d(f,"util",(function(){return d})),n.d(f,"VegaDeckGl",(function(){return c})),n.d(f,"Viewer",(function(){return Ti})),n.d(f,"version",(function(){return Pi}));var h={};n.r(h),n.d(h,"classList",(function(){return Ai})),n.d(h,"deepCompare",(function(){return Mi}));var p=n(25),g=n(18),m=n(19);function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return!t||"object"!==x(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return function(){var t,n=y(e);if(_()){var r=y(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return S(this,t)}}var C=n(0),k={Active:"__SandDance__Active",Collapsed:"__SandDance__Collapsed",Selected:"__SandDance__Selected",Top:"__SandDance__Top",TopIndex:"__SandDance__TopIndex",Index:"__SandDance__Index",PowerBISelectionId:"__SandDance__PowerBISelectionId",BarChartBin0:"__SandDance__BarChartBin0",BarChartBin1:"__SandDance__BarChartBin1",BarChartStack0:"__SandDance__BarChartStack0",BarChartStack1:"__SandDance__BarChartStack1",DensityCount:"__SandDance__DensityCount",DensityRow:"__SandDance__DensityRow",DensityXBin0:"__SandDance__DensityXBin0",DensityXBin1:"__SandDance__DensityXBin1",DensityYBin0:"__SandDance__DensityYBin0",DensityYBin1:"__SandDance__DensityYBin1",FacetBin0:"__SandDance__FacetBin0",FacetBin1:"__SandDance__FacetBin1",GridIndex:"__SandDance__GridIndex",StacksLatBin0:"__SandDance__StacksLatBin0",StacksLatBin1:"__SandDance__StacksLatBin1",StacksLongBin0:"__SandDance__StacksLongBin0",StacksLongBin1:"__SandDance__StacksLongBin1",StacksStart:"__SandDance__StacksStart",StacksEnd:"__SandDance__StacksEnd",TreemapStackChildren:"__SandDance__TreemapStackChildren",TreemapStackDepth:"__SandDance__TreemapStackDepth",TreemapStackX0:"__SandDance__TreemapStackX0",TreemapStackX1:"__SandDance__TreemapStackX1",TreemapStackY0:"__SandDance__TreemapStackY0",TreemapStackY1:"__SandDance__TreemapStackY1"},E="PreData",O="MainData",T="EmptyBinsData",P="TopData",I="LegendData",D="FacetGroupCellData",A="FacetCellTitlesData",M="QuantitativeData",j={Color:"ColorScale",X:"MainXScale",Y:"MainYScale",Z:"MainZScale"},R={ColorBinCount:"RoleColor_BinCountSignal",ColorReverse:"RoleColor_ReverseSignal",FacetColumns:"RoleFacet_ColumnsSignal",FacetRows:"RoleFacet_RowsSignal",InnerPadding:"Chart_InnerPadding",OuterPadding:"Chart_OuterPadding",MarkOpacity:"Mark_OpacitySignal",PointSize:"Chart_PointSizeSignal",TextAngleX:"Text_AngleXSignal",TextAngleY:"Text_AngleYSignal",TextScale:"Text_ScaleSignal",TextSize:"Text_SizeSignal",TextTitleSize:"Text_TitleSizeSignal",TreeMapMethod:"Chart_TreeMapMethodSignal",XDomain:"RoleX_DomainSignal",XBins:"RoleX_BinsSignal",XGridSize:"Chart_XGridSize",YBins:"RoleY_BinsSignal",YDomain:"RoleY_DomainSignal",YGridSize:"Chart_YGridSize",ZHeight:"RoleZ_HeightSignal",ZProportion:"RoleZ_ProportionSignal"},F="bucketScale",N="levelScale",L="compartmentScale",B="aspectRatioSignal",z="compartmentsPerLevelSignal",U="compartmentHeightSignal",H="compartmentWidthSignal",V="levelExtentSignal",W="quantitativeBinSignal",G="none",K=n(28);function q(e){return!!e&&!!e.expressions}function Y(e){return Array.isArray(e)?Object(K.a)(e):q(e)?[e]:[(t=e,{expressions:[t]})];var t}var X=Object.keys({clause:null,name:null,operator:null,value:null});function Z(e,t){if(!e||!t)return!e&&!t;for(var n=0;n<X.length;n++){var r=X[n];if(e[r]!=t[r])return!1}return!0}var Q=Object.keys({clause:null});function $(e,t){for(var n=0;n<Q.length;n++){var r=Q[n];if(e[r]!=t[r])return!1}if(e.expressions.length!=t.expressions.length)return!1;for(var i=0;i<e.expressions.length;i++)if(!Z(e.expressions[i],t.expressions[i]))return!1;return!0}function J(e,t){if(e==t)return!0;if(!e||!t)return!1;var n=[e,t].map(Y),r=Object(p.a)(n,2),i=r[0],o=r[1];if(i.length!=o.length)return!1;for(var a=0;a<i.length;a++)if(!$(i[a],o[a]))return!1;return!0}function ee(e,t){if(!t)return!0;var n=[e,t].map(Y),r=Object(p.a)(n,2),i=r[0],o=r[1];if(o.length>i.length)return!1;for(var a=0;a<o.length;a++)if(!$(i[a],o[a]))return!1;return!0}function te(e){var t={expressions:e.expressions.map(ie)};return e.clause&&(t.clause=re[e.clause]),t}var ne={"!=":"==","==":"!=","<":">=",">=":"<","<=":">",">":"<=","!contains":"contains",contains:"!contains","!isnullorEmpty":"isnullorEmpty",isnullorEmpty:"!isnullorEmpty","!starts":"starts",starts:"!starts"},re={"&&":"||","||":"&&"};function ie(e){var t=ne[e.operator],n=Object.assign(Object.assign({},e),{operator:t});return e.clause&&(n.clause=re[e.clause]),n}function oe(e){return Array.isArray(e)?e.map(te):q(e)?te(e):ie(e)}function ae(e,t){if(!e)return t;var n=[e,t].map(Y),r=Object(p.a)(n,2),i=r[0],o=r[1];return o[0].clause="&&",i.concat(o)}var se=n(149),ue="GL_ORDINAL",le={cubes:"LAYER_CUBES",lines:"LAYER_LINES",text:"LAYER_TEXT"},ce=n(143),de=n.n(ce).a||ce;function fe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("function"===typeof e){var o=e,a=t;return a.children=r,o(a)}var s=document.createElement(e),u=t;for(var l in u)if(l&&u.hasOwnProperty(l)){var c=u[l];if("className"===l&&void 0!==c)s.setAttribute("class",c.toString());else{if(!1===c||null===c||void 0===c)continue;!0===c?s.setAttribute(l,l):"function"===typeof c?s[l.toLowerCase()]=c:"object"===typeof c?s.setAttribute(l,he(c)):s.setAttribute(l,c.toString())}}return r&&r.length>0&&ge(s,r),s}function he(e){var t=[];for(var n in e)t.push("".concat(de(n,"-"),":").concat(e[n]));return t.join(";")}function pe(e,t){null!==t&&void 0!==t&&"boolean"!==typeof t&&(Array.isArray(t)?ge(e,t):t.nodeType?e.appendChild(t):e.appendChild(document.createTextNode(t.toString())))}function ge(e,t){t.forEach((function(t){return pe(e,t)}))}function me(e,t){var n=function(e){var t=document.activeElement,n=[];for(;t!==document.body&&t!==e;)n.unshift(ve(t)),t=t.parentElement;if(t===e&&n.length)return n}(t);t.innerHTML="",e&&(pe(t,e),n&&function(e,t){for(;e&&t.length;)e=e.children.item(t.shift());e&&e.focus()}(t,n))}function ve(e){for(var t=0;e=e.previousElementSibling;)t++;return t}var be=13,ye=function(e){return fe("table",{className:e.className},e.children,e.rows.map((function(t,n){return fe("tr",{className:e.rowClassName||"",onClick:function(t){return e.onRowClick&&e.onRowClick(t,n)},tabIndex:e.onRowClick?0:-1,onKeyUp:function(t){t.keyCode===be&&e.onRowClick&&e.onRowClick(t,n)}},t.cells.map((function(e,t){return fe("td",{className:e.className||"",title:e.title||""},e.content)})))})))},_e=n(150);function xe(e,t){var n=document.createElement(e);return t.appendChild(n),n}function Se(e,t){var n=xe("div",e);return t&&(n.className=t),n}function we(e){var t=getComputedStyle(e);return{height:parseFloat(t.marginTop)+parseFloat(t.paddingTop)+parseFloat(t.borderTopWidth)+e.offsetHeight+parseFloat(t.borderBottomWidth)+parseFloat(t.paddingBottom)+parseFloat(t.marginBottom),width:parseFloat(t.marginLeft)+parseFloat(t.paddingLeft)+parseFloat(t.borderLeftWidth)+e.offsetWidth+parseFloat(t.borderRightWidth)+parseFloat(t.paddingRight)+parseFloat(t.marginRight)}}var Ce=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ke}(e)}(e)};var ke="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Ee(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Te((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Oe(e,t,n){return e.concat(t).map((function(e){return Ee(e,n)}))}function Te(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Oe,n.isMergeableObject=n.isMergeableObject||Ce;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=Ee(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=Te(e[i],t[i],n):r[i]=Ee(t[i],n)})),r}(e,t,n):Ee(t,n)}Te.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Te(e,n,t)}),{})};var Pe=Te,Ie=Pe||s;function De(e){return e?Ie.all([e]):e}var Ae=function(e,t){return t};function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return Ie.all(r,{arrayMerge:Ae})}var je=n(51);function Re(e){return[e.r,e.g,e.b,255*e.opacity]}function Fe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ne(e){if(e){var t=Object(je.e)(e);if(t)return Re(t.rgb())}}function Le(e){var t=Object(K.a)(e);return t.length>3&&(t[3]/=255),"rgba(".concat(t.join(","),")")}function Be(e,t){var n=Object(je.g)(e[0],e[1],e[2],e[3]/255),r=Object(je.f)(n);return r.s=t,Re(r.rgb())}function ze(e){return!!Object(je.e)(e)}var Ue={deck:{CompositeLayer:null,COORDINATE_SYSTEM:null,Deck:null,Layer:null,LinearInterpolator:null,OrbitView:null,_OrbitController:null},layers:{IconLayer:null,LineLayer:null,PolygonLayer:null,TextLayer:null},luma:{CubeGeometry:null,fp64:null,Model:null,Texture2D:null},vega:{CanvasHandler:null,inferType:null,inferTypes:null,loader:null,parse:null,read:null,renderModule:null,Renderer:null,sceneVisit:null,scheme:null,View:null}};function He(e,t,n,r){Ue.deck=t,Ue.layers=n,Ue.luma=r,Ue.vega=e}var Ve=n(23),We=n(10),Ge=n(130),Ke=n.n(Ge);var qe=function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),Ye={fontSize:64,buffer:2,sdf:!1,cutoff:.25,radius:3};function Xe(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function Ze(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}function Qe(e,t){var n,r=Object.assign({fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:qe},Ye,t),i=r.fontFamily,o=r.fontWeight,a=r.characterSet,s=r.fontSize,u=r.buffer,l=r.sdf,c=r.radius,d=r.cutoff,f=document.createElement("canvas"),h=f.getContext("2d");Ze(h,i,s,o);var p=function(e){var t=e.ctx,n=e.fontHeight,r=e.buffer,i=e.characterSet,o=e.maxCanvasWidth,a={},s=0,u=0;return Array.from(i).forEach((function(e){var i=t.measureText(e).width;u+i+2*r>o&&(u=0,s++),a[e]={x:u+r,y:s*(n+2*r)+r,width:i,height:n,mask:!0},u+=i+2*r})),{mapping:a,canvasHeight:(s+1)*(n+2*r)}}({ctx:h,fontHeight:1.2*s,buffer:u,characterSet:a,maxCanvasWidth:1024}),g=p.canvasHeight,m=p.mapping;if(f.width=1024,f.height=g,Ze(h,i,s,o),l){var v,b=new Ke.a(s,u,c,d,i,o),y=h.createImageData(b.size,b.size),_=Object(Ve.a)(a);try{for(_.s();!(v=_.n()).done;){var x=v.value;Xe(b.draw(x),y),h.putImageData(y,m[x].x-u,m[x].y-u)}}catch(k){_.e(k)}finally{_.f()}}else{var S,w=Object(Ve.a)(a);try{for(w.s();!(S=w.n()).done;){var C=S.value;h.fillText(C,m[C].x,m[C].y+.9*s)}}catch(k){w.e(k)}finally{w.f()}}return{scale:1.2,mapping:m,texture:new Ue.luma.Texture2D(e,{pixels:f,parameters:(n={},Object(We.a)(n,10242,33071),Object(We.a)(n,10243,33071),n)})}}function $e(e,t,n){return($e=_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i}).apply(null,arguments)}function Je(e,t,n){return(Je="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var et="#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform sampler2D iconsTexture;\nuniform float buffer;\nuniform bool sdf;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying float vGamma;\nvarying vec4 vHighlightColor;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  \n  float alpha = texColor.a;\n\n  // if enable sdf (signed distance fields)\t\n  if (sdf) {\t\n    float distance = texture2D(iconsTexture, vTextureCoords).a;\t\n    alpha = smoothstep(buffer - vGamma, buffer + vGamma, distance);\t\n  }\n\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = alpha * vColor.a;\n\n  if (picking_uActive) {\n\n    // use picking color for entire rectangle\n    gl_FragColor = vec4(picking_vRGBcolor_Aselected.rgb, 1.0);\n  \n  } else {\n\n    if (a < MIN_ALPHA) {\n      discard;\n    } else {\n\n      gl_FragColor = vec4(vColor.rgb, a);\n\n      // use highlight color if this fragment belongs to the selected object.\n      bool selected = bool(picking_vRGBcolor_Aselected.a);\n      if (selected) {\n        gl_FragColor = vec4(vHighlightColor.rgb, a);\n      }\n    }\n  }\n}\n",tt='#define SHADER_NAME multi-icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\n// the following three attributes are for the multi-icon layer\nattribute vec2 instancePixelOffset;\nattribute vec4 instanceHighlightColors;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float gamma;\nuniform float opacity;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying float vGamma;\nvarying vec4 vHighlightColor;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  vHighlightColor = vec4(instanceHighlightColors.rgb, instanceHighlightColors.a * opacity) / 255.;\n\n  picking_setPickingColor(instancePickingColors);\n\n  vGamma = gamma / (sizeScale * iconSize.y);\n}\n',nt={getShiftInQueue:{type:"accessor",value:function(e){return e.shift||0}},getLengthOfQueue:{type:"accessor",value:function(e){return e.len||1}},getAnchorX:{type:"accessor",value:function(e){return e.anchorX||0}},getAnchorY:{type:"accessor",value:function(e){return e.anchorY||0}},getPixelOffset:{type:"accessor",value:[0,0]},getPickingIndex:{type:"accessor",value:function(e){return e.objectIndex}}};var rt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){b(n,e);var t=w(n);function n(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Object(g.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"getShaders",value:function(){return Object.assign({},Je(y(n.prototype),"getShaders",this).call(this),{vs:tt,fs:et})}},{key:"initializeState",value:function(){Je(y(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"},instanceHighlightColors:{size:4,type:5121,transition:!0,accessor:"getHighlightColor",defaultValue:[0,255,0,255]}})}},{key:"updateState",value:function(e){Je(y(n.prototype),"updateState",this).call(this,e);var t=e.changeFlags;t.updateTriggersChanged&&(t.updateTriggersChanged.getAnchorX||t.updateTriggersChanged.getAnchorY)&&this.getAttributeManager().invalidate("instanceOffsets")}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props.sdf;Je(y(n.prototype),"draw",this).call(this,{uniforms:Object.assign({},t,{buffer:.75,gamma:.2,sdf:Boolean(r)})})}},{key:"calculateInstanceOffsets",value:function(e){var t,n=this.props,r=n.data,i=n.iconMapping,o=n.getIcon,a=n.getAnchorX,s=n.getAnchorY,u=n.getLengthOfQueue,l=n.getShiftInQueue,c=e.value,d=0,f=Object(Ve.a)(r);try{for(f.s();!(t=f.n()).done;){var h=t.value,p=i[o(h)]||{},g=u(h),m=l(h);c[d++]=(a(h)-1)*g/2+p.width/2+m||0,c[d++]=p.height/2*s(h)||0}}catch(v){f.e(v)}finally{f.f()}}},{key:"calculateInstancePickingColors",value:function(e){var t,n=this.props,r=n.data,i=n.getPickingIndex,o=e.value,a=0,s=[],u=Object(Ve.a)(r);try{for(u.s();!(t=u.n()).done;){var l=i(t.value);this.encodePickingColor(l,s),o[a++]=s[0],o[a++]=s[1],o[a++]=s[2]}}catch(c){u.e(c)}finally{u.f()}}}]),n}(Ue.layers.IconLayer);r.layerName="MultiIconLayer",r.defaultProps=nt;var i=$e(r,Array.prototype.slice.call(arguments));return i},it={start:1,middle:0,end:-1},ot={top:1,center:0,bottom:-1},at=[0,0,0,255],st=["fontSize","buffer","sdf","radius","cutoff"],ut={fp64:!1,sizeScale:1,characterSet:qe,fontFamily:"Monaco, monospace",fontWeight:"normal",fontSettings:{},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:at},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getHighlightColor:{type:"accessor",value:at},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]}};var lt=function(e){var t=function(e){b(n,e);var t=w(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags,i=this.fontChanged(n,t);i&&this.updateFontAtlas(),(r.dataChanged||i||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this.transformStringToLetters()}},{key:"updateFontAtlas",value:function(){var e=this.context.gl,t=this.props,n=t.fontSettings,r=t.fontFamily,i=t.fontWeight,o=t.characterSet,a=Qe(e,Object.assign({},Ye,n,{fontFamily:r,fontWeight:i,characterSet:o})),s=a.scale,u=a.mapping,l=a.texture;this.setState({scale:s,iconAtlas:l,iconMapping:u})}},{key:"fontChanged",value:function(e,t){if(e.fontFamily!==t.fontFamily||e.characterSet!==t.characterSet||e.fontWeight!==t.fontWeight)return!0;if(e.fontSettings===t.fontSettings)return!1;var n=e.fontSettings||{},r=t.fontSettings||{};return st.some((function(e){return n[e]!==r[e]}))}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.index>=0?this.props.data[t.index]:null})}},{key:"transformStringToLetters",value:function(){var e,t=this.props,n=t.data,r=t.getText,i=this.state.iconMapping,o=[],a=0,s=Object(Ve.a)(n);try{var u=function(){var t=e.value,n=r(t);if(n){var s=Array.from(n),u=[0],l=0;s.forEach((function(e,r){var s={text:e,index:r,offsets:u,len:n.length,object:t,objectIndex:a},c=i[e];l+=c?c.width:32,u.push(l),o.push(s)}))}a++};for(s.s();!(e=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}this.setState({data:o})}},{key:"getLetterOffset",value:function(e){return e.offsets[e.index]}},{key:"getTextLength",value:function(e){return e.offsets[e.offsets.length-1]}},{key:"_getAccessor",value:function(e){return"function"===typeof e?function(t){return e(t.object)}:e}},{key:"getAnchorXFromTextAnchor",value:function(e){return function(t){var n="function"===typeof e?e(t.object):e;if(!it.hasOwnProperty(n))throw new Error("Invalid text anchor parameter: ".concat(n));return it[n]}}},{key:"getAnchorYFromAlignmentBaseline",value:function(e){return function(t){var n="function"===typeof e?e(t.object):e;if(!ot.hasOwnProperty(n))throw new Error("Invalid alignment baseline parameter: ".concat(n));return ot[n]}}},{key:"renderLayers",value:function(){var e=this,t=this.state,n=t.data,r=t.scale,i=t.iconAtlas,o=t.iconMapping,a=this.props,s=a.getPosition,u=a.getColor,l=a.getSize,c=a.getAngle,d=a.getHighlightColor,f=a.getTextAnchor,h=a.getAlignmentBaseline,p=a.getPixelOffset,g=a.fp64,m=a.sdf,v=a.sizeScale,b=a.transitions,y=a.updateTriggers;return new(this.getSubLayerClass("characters",rt))({sdf:m,iconAtlas:i,iconMapping:o,getPosition:function(e){return s(e.object)},getColor:this._getAccessor(u),getSize:this._getAccessor(l),getAngle:this._getAccessor(c),getHighlightColor:this._getAccessor(d),getAnchorX:this.getAnchorXFromTextAnchor(f),getAnchorY:this.getAnchorYFromAlignmentBaseline(h),getPixelOffset:this._getAccessor(p),fp64:g,sizeScale:v*r,transitions:b&&{getPosition:b.getPosition,getAngle:b.getAngle,getHighlightColor:b.getHighlightColor,getColor:b.getColor,getSize:b.getSize,getPixelOffset:y.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getPosition:y.getPosition,getAngle:y.getAngle,getHighlightColor:y.getHighlightColor,getColor:y.getColor,getSize:y.getSize,getPixelOffset:y.getPixelOffset,getAnchorX:y.getTextAnchor,getAnchorY:y.getAlignmentBaseline}}),{data:n,getIcon:function(e){return e.text},getShiftInQueue:function(t){return e.getLetterOffset(t)},getLengthOfQueue:function(t){return e.getTextLength(t)}})}}]),n}(Ue.deck.CompositeLayer);return t.layerName="TextLayer",t.defaultProps=ut,new t(e)};var ct="100px",dt="100px",ft={cssPrefix:"vega-deckgl-",defaultCubeColor:[128,128,128,255],highlightColor:[0,0,0,255],lightSettings:{"2d":{},"3d":{lightsPosition:[-122.45,37.66,8e3,-122,38,8e3],ambientRatio:.3,diffuseRatio:.6,specularRatio:.4,lightsStrength:[.3,0,.8,0],numberOfLights:2}}},ht={onCubeClick:function(e,t){},onCubeHover:function(e,t){},transitionDurations:{color:100,position:600,size:600,view:600}};function pt(e){return{view:e,cubeData:[],axes:{x:[],y:[]},gridLines:[],textData:[],legend:{rows:{}},facets:[]}}var gt=1,mt=-1,vt="2d",bt=.05,yt=.5,_t="#define SHADER_NAME cube-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec3 instanceSizes;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float lightingMix;\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  float x = instanceSizes.x > 0.0 ? max(instanceSizes.x, ".concat(yt.toFixed(1),") : 0.0;\n  float y = instanceSizes.y > 0.0 ? max(instanceSizes.y, ").concat(yt.toFixed(1),") : 0.0;\n\n  // if alpha == 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0);\n  float finalXScale = project_scale(x) * mix(1.0, 0.0, noRender);\n  float finalYScale = project_scale(y) * mix(1.0, 0.0, noRender);\n  float finalZScale = project_scale(instanceSizes.z) * mix(1.0, 0.0, noRender);\n\n  // cube geometry vertics are between -1 to 1, scale and transform it to between 0, 1\n  vec3 offset = vec3(\n    (positions.x + 1.0) / 2.0 * finalXScale,\n    (positions.y + 1.0) / 2.0 * finalYScale,\n    (positions.z + 1.0) / 2.0 * finalZScale);\n\n  // extrude positions\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, offset, position_worldspace);\n\n  float lightWeight = 1.0;\n  \n  //allow for a small amount of error around the min3dDepth \n  if (instanceSizes.z >= ").concat(bt.toFixed(4)," - 0.0001) {\n    lightWeight = lighting_getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec3 mixedLight = mix(instanceColors.rgb, lightWeightedColor, lightingMix);\n  vec4 color = vec4(mixedLight, instanceColors.a) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n"),xt=[255,0,255,255],St={lightingMix:.5,fp64:!1,getSize:function(e){return e.size},getPosition:function(e){return e.position},getColor:function(e){return e.color}};var wt=function(e){var t=function(e){b(n,e);var t=w(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"getShaders",value:function(){var e=this.use64bitProjection()?"project64":"project32";return{vs:_t,fs:"#define SHADER_NAME cube-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[e,"lighting","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:3,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceSizes:{size:3,transition:!0,accessor:"getSize"},instanceColors:{size:4,type:5121,transition:!0,accessor:"getColor",defaultValue:xt}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(Je(y(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),t.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"_getModel",value:function(e){return new Ue.luma.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new Ue.luma.CubeGeometry,isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.lightingMix;this.props.interpolator&&this.props.interpolator.layerInterpolatedProps&&(n=this.props.interpolator.layerInterpolatedProps.lightingMix),this.state.model.render(Object.assign({},t,{lightingMix:n}))}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n,r=this.props,i=r.data,o=r.getPosition,a=e.value,s=0,u=Object(Ve.a)(i);try{for(u.s();!(n=u.n()).done;){var l=o(n.value);a[s++]=Ue.luma.fp64.fp64LowPart(l[0]),a[s++]=Ue.luma.fp64.fp64LowPart(l[1])}}catch(c){u.e(c)}finally{u.f()}}else e.value=new Float32Array(2)}}]),n}(Ue.deck.Layer);return t.layerName="CubeLayer",t.defaultProps=St,new t(e)};function Ct(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function kt(e,t,n,r,i,o,a){var s=function(e,t,n,r,i,o,a){var s=Et(t.transitionDurations.position,Ct),u=Et(t.transitionDurations.size,Ct),l=Et(t.transitionDurations.color),c={interpolator:a,lightingMix:o,id:le.cubes,data:n,coordinateSystem:Ue.deck.COORDINATE_SYSTEM.IDENTITY,pickable:!0,autoHighlight:!0,highlightColor:r,onClick:function(e,n){t.onCubeClick(n&&n.srcEvent,e.object)},onHover:function(n,r){-1===n.index?(e.deckgl.interactiveState.onCube=!1,t.onCubeHover(r&&r.srcEvent,null)):(e.deckgl.interactiveState.onCube=!0,t.onCubeHover(r&&r.srcEvent,n.object))},lightSettings:i,transitions:{getPosition:s,getColor:l,getSize:u}};return new wt(c)}(e,t,n.cubeData,e.style.highlightColor,r,i,o),u=n.axes,l=u.x,c=u.y,d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t?e.concat(t):e}),[])}(n.gridLines,a),f=Object(K.a)(n.textData);[l,c].forEach((function(e){e.forEach((function(e){e.domain&&d.push(e.domain),e.ticks&&d.push.apply(d,e.ticks),e.tickText&&f.push.apply(f,e.tickText),e.title&&f.push(e.title)}))})),n.facets&&n.facets.forEach((function(e){e.lines&&d.push.apply(d,e.lines),e.facetTitle&&f.push(e.facetTitle)}));var h,p,g=(h=le.lines,p=d,new Ue.layers.LineLayer({id:h,data:p,coordinateSystem:Ue.deck.COORDINATE_SYSTEM.IDENTITY,getColor:function(e){return e.color},getStrokeWidth:function(e){return e.strokeWidth}}));return[function(e,t,n,r,i){var o={id:t,data:n,coordinateSystem:Ue.deck.COORDINATE_SYSTEM.IDENTITY,autoHighlight:!0,pickable:!0,getHighlightColor:r.getTextHighlightColor||function(e){return e.color},onClick:function(e,t){var n=t&&t.srcEvent;t.center&&(n={clientX:t.center.x,clientY:t.center.y}),r.onTextClick&&r.onTextClick(n,e.object)},onHover:function(t,n){-1===t.index?e.deckgl.interactiveState.onText=!1:e.deckgl.interactiveState.onText=!r.onTextHover||r.onTextHover(n&&n.srcEvent,t.object)},getColor:r.getTextColor||function(e){return e.color},getTextAnchor:function(e){return e.textAnchor},getSize:function(e){return e.size},getAngle:function(e){return e.angle},fontSettings:{sdf:!0,fontSize:128,buffer:3}};i&&(o.fontFamily=i);return new lt(o)}(e,le.text,f,t,e.style.fontFamily),s,g]}function Et(e,t){var n;return e&&(n={duration:e},t&&(n.easing=t)),n}function Ot(e){return e.layers.filter((function(e){return e.id===le.cubes}))[0]}function Tt(e){var t=Ot(e);if(t)return t.props.data}function Pt(e,t,n,r,i,o){return{sourcePosition:[e,-t,mt],targetPosition:[n,-r,mt],color:Ne(i),strokeWidth:10*o}}function It(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=[Pt(e,t,e+r,t,i,o),Pt(e+r,t,e+r,t+n,i,o),Pt(e+r,t+n,e,t+n,i,o),Pt(e,t+n,e,t,i,o)];return a&&(s.push(Pt(e,t,e+r,t+n,i,o)),s.push(Pt(e,t+n,e+r,t,i,o))),s}var Dt,At=function(e,t,n,r,i,o){Ue.vega.sceneVisit(n,(function(n){var o,a,s,u;o=n.x||0,a=n.y||0,s=null!=n.x2?n.x2:o,u=null!=n.y2?n.y2:a;var l=Pt(o+r-e.offsetX,a+i-e.offsetY,s+r-e.offsetX,u+i-e.offsetY,n.stroke,n.strokeWidth);"axis-tick"===n.mark.role?e.currAxis.ticks.push(l):"axis-domain"===n.mark.role?e.currAxis.domain=l:t.gridLines.push(l)}))};function Mt(e,t){return"".concat(t.style.cssPrefix).concat(Dt[e])}!function(e){e[e.root=0]="root",e[e.gl=1]="gl",e[e.panel=2]="panel",e[e.legend=3]="legend",e[e.vegaControls=4]="vegaControls"}(Dt||(Dt={}));var jt={position:"absolute",left:0,top:0,width:"100%",height:"100%"};function Rt(e){var t=e.container,n=void 0===t?document.body:t;if("string"===typeof n&&(n=document.getElementById(n)),!n)throw Error("Deck: container not found");"static"===window.getComputedStyle(n).position&&(n.style.position="relative");var r=document.createElement("canvas");return n.appendChild(r),Object.assign(r.style,jt),{container:n,deckCanvas:r}}function Ft(e){var t=function(e){return function(t){return new(function(t){b(r,t);var n=w(r);function r(e){var t;return Object(g.a)(this,r),(t=n.call(this,e)).invertPan=!0,t}return Object(m.a)(r,[{key:"_onDoubleTap",value:function(t){e&&e.doubleClickHandler?e.doubleClickHandler(t,this):Je(y(r.prototype),"_onDoubleTap",this).call(this,t)}},{key:"_onPanRotate",value:function(e){return!!this.dragRotate&&this._onPanRotateStandard(e)}}]),r}(Ue.deck._OrbitController))(t)}}(e);return{OrbitControllerClass:t,DeckGL_Class:function(e){return new(function(e){b(r,e);var n=w(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.a)(this,r),"undefined"===typeof document)throw Error("Deck can only be used in the browser");var o=Rt(i),a=o.deckCanvas,s=i.initialViewState||i.viewState||{};return(e=n.call(this,Object.assign({},i,{width:"100%",height:"100%",canvas:a,controller:t,initialViewState:s})))._updateViewState=function(t){e.onViewStateChange&&e.onViewStateChange(t)},e}return Object(m.a)(r,[{key:"setProps",value:function(e){"onViewStateChange"in e&&this._updateViewState&&(this.onViewStateChange=e.onViewStateChange,e.onViewStateChange=this._updateViewState),Je(y(r.prototype),"setProps",this).call(this,e)}}]),r}(Ue.deck.Deck))(e)}}}var Nt=function(e){var t=[],n=Object.keys(e.legend.rows).sort((function(e,t){return+e-+t}));if(n.forEach((function(n){return function(e,n){var r,i=Lt[e.symbol.shape];r=i?i(e.symbol):fe("span",null,"x"),t.push({cells:[{className:"symbol",content:r},{className:"label",content:e.label,title:e.label}]})}(e.legend.rows[n])})),n.length)return fe(ye,{rows:t,rowClassName:"legend-row",onRowClick:function(t,n){return e.onClick(t,e.legend,n)}},void 0!==e.legend.title&&fe("tr",{onClick:function(t){return e.onClick(t,e.legend,null)}},fe("th",{colSpan:2},e.legend.title)))},Lt={square:function(e){return fe("div",{style:{height:"".concat(e.bounds.y2-e.bounds.y1,"px"),width:"".concat(e.bounds.x2-e.bounds.x1,"px"),backgroundColor:e.fill,borderColor:e.fill}})}};var Bt=function(e){return new(function(e){b(n,e);var t=w(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"interpolateProps",value:function(e,t,r){return this.layerStartProps&&this.layerEndProps&&(this.layerInterpolatedProps=Je(y(n.prototype),"interpolateProps",this).call(this,this.layerStartProps,this.layerEndProps,r)),Je(y(n.prototype),"interpolateProps",this).call(this,e,t,r)}}]),n}(Ue.deck.LinearInterpolator))(e)};var zt={"legend-title":function(e,t){e.title=t.text},"legend-symbol":function(e,t){var n={bounds:t.bounds,fill:t.fill,shape:t.shape},r=t.datum.index;e.rows[r]=e.rows[r]||{},e.rows[r].symbol=n},"legend-label":function(e,t){var n=t.datum.index;e.rows[n]=e.rows[n]||{};var r=e.rows[n];r.label=t.text,r.value=t.datum.value}},Ut=function(e,t,n,r,i,o){Ue.vega.sceneVisit(n,(function(e){var n=zt[e.mark.role];n&&n(t.legend,e)}))},Ht=function(e,t,n,r,i,o){var a=0;Ue.vega.sceneVisit(n,(function(n){var o="2d"===t.view?0:n.z||0,s=("2d"===t.view?0:n.depth||0)+bt,u=a;void 0!==n.datum.GL_ORDINAL&&(e.ordinalsSpecified=!0,(u=n.datum.GL_ORDINAL)>e.maxOrdinal&&(e.maxOrdinal=u));var l={ordinal:u,size:[n.width,n.height,s],position:[r+(n.x||0)-e.offsetX,-1*(i+(n.y||0)-e.offsetY)-n.height,o],color:Ne(n.fill)||e.defaultCubeColor||[128,128,128,128]};l.color[3]=void 0===n.opacity?255:255*n.opacity,t.cubeData.push(l),a++}))};function Vt(e){return e&&!isNaN(e)?360-e:0}function Wt(e){switch(e){case"center":return"middle";case"left":return"start";case"right":return"end"}return"start"}function Gt(e){switch(e){case"middle":return"center"}return e||"bottom"}var Kt,qt=function(e,t,n,r,i,o){Ue.vega.sceneVisit(n,(function(n){if(n.text){var o=6*n.fontSize,a={color:Ne(n.fill),text:n.text.toString(),position:[r+n.x-e.offsetX,-1*(i+n.y+16-e.offsetY),0],size:o,angle:Vt(n.angle),textAnchor:Wt(n.align),alignmentBaseline:Gt(n.baseline)};if("axis-label"===n.mark.role){var s=a;s.value=n.datum.value,e.currAxis.tickText.push(s)}else"axis-title"===n.mark.role?e.currAxis.title=a:e.currFacetRect&&!e.currFacetRect.facetTitle?(e.currFacetRect.facetTitle=a,a.position=[r-e.offsetX,-1*(i+16-e.offsetY),0]):t.textData.push(a)}}))};!function(e){e[e.none=0]="none",e[e.legend=1]="legend",e[e.xAxis=2]="xAxis",e[e.yAxis=3]="yAxis"}(Kt||(Kt={}));var Yt={group:function(e,t,n,r,i,o){Ue.vega.sceneVisit(n,(function(n){n.bounds.x1<e.offsetX&&(e.offsetX=n.bounds.x1),n.bounds.y1<e.offsetY&&(e.offsetY=n.bounds.y1);var a=n.x||0,s=n.y||0;if(n.context&&n.context.background&&!t.backgroundColor&&(t.backgroundColor=Ne(n.context.background)),n.stroke){var u={lines:It(a+r-e.offsetX,s+i-e.offsetY,n.height,n.width,n.stroke,gt)};t.facets.push(u),e.currFacetRect=u}o=function(e){if("legend"===e.mark.role)return Kt.legend;if("axis"===e.mark.role){var t=e.datum;if(t)switch(t.orient){case"bottom":case"top":return Kt.xAxis;case"left":case"right":return Kt.yAxis}}}(n)||o,function(e,t,n){var r;switch(n){case Kt.xAxis:r=t.axes.x;break;case Kt.yAxis:r=t.axes.y;break;default:return}e.currAxis={domain:null,tickText:[],ticks:[]},r.push(e.currAxis)}(e,t,o),Ue.vega.sceneVisit(n,(function(n){Xt(e,t,n,a+r,s+i,o)}))}))},legend:Ut,rect:Ht,rule:At,text:qt},Xt=function(e,t,n,r,i,o){if("group"!==n.marktype&&o===Kt.legend)Ut(e,t,n,r,i,o);else{var a=Yt[n.marktype];a&&a(e,t,n,r,i,o)}};function Zt(e,t){e.forEach((function(e){e.domain&&function(e,t){if(e.sourcePosition[t]>e.targetPosition[t]){var n=e.targetPosition;e.targetPosition=e.sourcePosition,e.sourcePosition=n}}(e.domain,t),e.ticks.sort((function(e,n){return e.sourcePosition[t]-n.sourcePosition[t]})),e.tickText.sort((function(e,n){return e.position[t]-n.position[t]}))}))}var Qt=["distance","fov","lookAt","rotationOrbit","rotationX","zoom"];function $t(e,t,n){var r=[t/2,-e/2,0];return r.push(1),"2d"===n?{distance:10,fov:60,lookAt:r,rotationOrbit:0,rotationX:0,zoom:10/e}:{distance:10,fov:60,lookAt:r,rotationOrbit:-25,rotationX:60,zoom:9/e}}var Jt=function(){function e(t,n){var r;Object(g.a)(this,e),this.el=t,this.style=Me(ft,n),r=this,me(fe("div",{className:Mt(Dt.root,r)},fe("div",{className:Mt(Dt.gl,r),style:{minHeight:ct,minWidth:dt}}),fe("div",{className:Mt(Dt.panel,r)},fe("div",{className:Mt(Dt.vegaControls,r)}),fe("div",{className:Mt(Dt.legend,r)}))),r.el),this._last={view:null,height:null,width:null,cubeCount:null,stage:null}}return Object(m.a)(e,[{key:"animationCancel",value:function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null,this.logger&&this.logger("canceling animation ".concat(this.queuedAnimationOptions&&this.queuedAnimationOptions.handlerLabel||"handler")),this.queuedAnimationOptions&&this.queuedAnimationOptions.animationCanceled&&this.queuedAnimationOptions.animationCanceled.call(null))}},{key:"animationQueue",value:function(e,t,n){var r=this;this.logger&&this.logger("queueing animation ".concat(n&&n.waitingLabel||"waiting","...")),this.animationCancel(),this.animationTimer=setTimeout((function(){r.logger&&r.logger("queueing animation ".concat(n&&n.handlerLabel||"handler","...")),e()}),t)}},{key:"getElement",value:function(e){var t=this.el.getElementsByClassName(Mt(e,this));if(t&&t.length)return t[0]}},{key:"present",value:function(e,t,n,r){var i=this;this.animationCancel();var o,a=e,s={offsetX:0,offsetY:0,maxOrdinal:-1,ordinalsSpecified:!1,currAxis:null,currFacetRect:null,defaultCubeColor:this.style.defaultCubeColor};if(a.marktype?function(e,t,n){Xt(e,t,n,0,0,null),Zt(t.axes.x,0),Zt(t.axes.y,1)}(s,o=pt(a.view),a):o=e,!this.deckgl){var u=Ft({doubleClickHandler:function(){i.homeCamera()}});this.OrbitControllerClass=u.OrbitControllerClass;var l={onLayerClick:r&&r.onLayerClick,views:[new Ue.deck.OrbitView({controller:this.OrbitControllerClass})],container:this.getElement(Dt.gl),getCursor:function(e){return e.onText||e.onAxisSelection?"pointer":e.onCube?"default":"grab"}};o.backgroundColor&&(l.style={"background-color":Le(o.backgroundColor)}),this.deckgl=new u.DeckGL_Class(l)}var c=Math.max(this._last.cubeCount,o.cubeData.length);if(s.ordinalsSpecified){c=Math.max(c,s.maxOrdinal+1);o.cubeData=function(e,t,n){var r=new Array(e);return r.fill(t),n.forEach((function(e){return r[e.ordinal]=e})),r}(c,{isEmpty:!0,color:[0,0,0,0]},o.cubeData)}this.setDeckProps(o,t,n,c,r),me(Nt({legend:o.legend,onClick:r&&r.onLegendClick}),this.getElement(Dt.legend)),r&&r.onPresent&&r.onPresent()}},{key:"rePresent",value:function(e,t){var n=Object.assign(Object.assign({},this._last.stage),e);this.setDeckProps(n,this._last.height,this._last.width,this._last.cubeCount,t)}},{key:"isNewBounds",value:function(e,t,n,r){var i=this.lastBounds();for(var o in i)if(null===i[o])return!0;var a={cubeCount:r,height:t,view:e,width:n};for(var s in i)if(i[s]!==a[s])return!0}},{key:"lastBounds",value:function(){var e=this._last;return{cubeCount:e.cubeCount,height:e.height,view:e.view,width:e.width}}},{key:"setDeckProps",value:function(e,t,n,r,i){var o,a=Me(ht,i),s=this.isNewBounds(e.view,t,n,r),u=this.style.lightSettings[e.view],l="3d"===e.view?1:0,c=this.deckgl.viewState&&Object.keys(this.deckgl.viewState).length&&this.deckgl.viewState.OrbitView||this.deckgl.props.viewState;if(!c||s||a.shouldViewstateTransition&&a.shouldViewstateTransition()){c=$t(t,n,e.view);var d=Ot(this.deckgl.props);d&&((o=new Bt(Qt)).layerStartProps={lightingMix:d.props.lightingMix},o.layerEndProps={lightingMix:l},c.transitionDuration=a.transitionDurations.view,c.transitionEasing=Ct,c.transitionInterpolator=o),"2d"===e.view&&(u=this.style.lightSettings["3d"])}var f=this._showGuides&&It(0,0,t,n,"#0f0",1,!0);a.preLayer&&a.preLayer(e);var h=kt(this,a,e,u,l,o,f),p={views:[new Ue.deck.OrbitView({controller:this.OrbitControllerClass})],viewState:c,layers:h};a&&a.preStage&&a.preStage(e,p),this.deckgl.setProps(p),delete e.cubeData,this._last={cubeCount:r,height:t,width:n,stage:e,view:e.view}}},{key:"homeCamera",value:function(){var e=$t(this._last.height,this._last.width,this._last.view);e.transitionDuration=ht.transitionDurations.view,e.transitionEasing=Ct,e.transitionInterpolator=new Bt(Qt);var t={views:this.deckgl.props.views,viewState:e,layers:this.deckgl.props.layers};this.deckgl.setProps(t)}},{key:"getCubeData",value:function(){return Tt(this.deckgl.props)}},{key:"showGuides",value:function(){this._showGuides=!0,this.getElement(Dt.gl).classList.add("show-center"),this.rePresent(Object.assign(Object.assign({},this._last.stage),{cubeData:this.getCubeData()}))}},{key:"finalize",value:function(){this.animationCancel(),this.deckgl&&this.deckgl.finalize(),this.el&&(this.el.innerHTML=""),this._last=null,this.deckgl=null,this.el=null,this.logger=null,this.queuedAnimationOptions=null}},{key:"stage",get:function(){return this._last.stage}},{key:"view",get:function(){return this._last.view}}]),e}();var en=function(e){return new(function(e){b(n,e);var t=w(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"initialize",value:function(e,t,r,i){return this.height=r,this.width=t,Je(y(n.prototype),"initialize",this).call(this,e,t,r,i)}},{key:"resize",value:function(e,t,r){return Je(y(n.prototype),"resize",this).call(this,e,t,r),this.origin=r,this.height=t,this.width=e,this}},{key:"_render",value:function(e,t){var n=e;return n.view=this.getView(),this.presenter.present(n,this.height,this.width,this.presenterConfig),this}}]),n}(Ue.vega.Renderer))(e)},tn=!1;var nn=function(e,t){return new(function(e){b(n,e);var t=w(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(g.a)(this,n),(r=t.call(this,e,i)).config=i,r.presenter=i.presenter,i.presenterConfig=i.presenterConfig||{},i.presenterConfig.redraw=function(){r._redraw=!0,r.run()},r}return Object(m.a)(n,[{key:"renderer",value:function(e){return"deck.gl"!==e||tn||(Ue.vega.renderModule("deck.gl",{handler:Ue.vega.CanvasHandler,renderer:en}),tn=!0),Je(y(n.prototype),"renderer",this).call(this,e)}},{key:"initialize",value:function(e){var t=this;this.presenter||(this.presenter=new Jt(e)),Je(y(n.prototype),"initialize",this).call(this,this.presenter.getElement(Dt.vegaControls));var r=this._renderer;return r.presenterConfig=this.config.presenterConfig,r.presenter=this.presenter,r.getView=this.config&&this.config.getView||function(){return t.presenter.view||vt},this}},{key:"error",value:function(e){this.presenter.logger&&this.presenter.logger(e)}}]),n}(Ue.vega.View))(e,t)};function rn(e,t){var n=e[0],r=n?Object.keys(n):[],i=Object.assign(Object.assign({},Ue.vega.inferTypes(e,r)),t),o=r.map((function(e){return{name:e,type:i[e]}}));return on(o,e),o}function on(e,t){e.forEach((function(e){e&&("boolean"!==typeof e.quantitative&&(e.quantitative=function(e){return"number"===e.type||"integer"===e.type}(e)),"string"===e.type&&function(e,t){for(var n=0;n<e.length;n++)if(!l.isColor(e[n][t.name]))return;t.isColorData=!0}(t,e),e.stats||(e.stats=an(t,e)))}))}function an(e,t){for(var n={},r={distinctValueCount:null,max:null,mean:null,min:null},i=0,o=0;o<e.length;o++){var a=e[o][t.name];n[a]=!0,(null===r.max||a>r.max)&&(r.max=a),(null===r.min||a<r.min)&&(r.min=a);var s=+a;isNaN(s)||(i+=s),"string"===t.type&&!r.hasColorData&&l.isColor(a)&&(r.hasColorData=!0)}return t.quantitative&&(r.mean=e.length>0&&i/e.length,r.hasNegative=function(e,t){for(var n=1;n<t.length;n++)if(t[n][e.name]<0)return!0;return!1}(t,e),"integer"===t.type&&(r.isSequential=function(e,t){if(t.length<2)return!1;for(var n=e.name,r=1;r<t.length;r++)if(t[r][n]!==t[r-1][n]+1)return!1;return!0}(t,e))),r.distinctValueCount=Object.keys(n).length,r}var sn=u.defaultPresenterConfig,un=u.defaultPresenterStyle,ln=l.desaturate,cn={colors:{activeCube:[128,0,128,255],defaultCube:un.defaultCubeColor,hoveredCube:un.highlightColor,selectedCube:[255,255,0,255],axisSelectHighlight:[128,128,128,128],axisLine:[0,0,0,255],axisText:[0,0,0,255],cellFillerLine:[128,128,128,255],unselectedColorMethod:function(e){var t=ln(e,.05);return t[3]=171,t}},language:{headers:{chart:"Chart",details:"Details",legend:"Legend",selection:"Select & Filter"},bing:"bing",newColorMap:"remap color to filtered items",oldColorMap:"keep same colors",deselect:"deselect",exclude:"exclude",isolate:"isolate",legendOther:"other",nextDetail:">",previousDetail:"<",reset:"reset",colorBinCount:"Color bin count",colorReverse:"Color reverse",count:"Count",scatterPointSize:"Point size",XBinSize:"X axis bin size",YBinSize:"Y axis bin size",XGridSize:"X grid size",YGridSize:"Y grid size",InnerPaddingSize:"Inner padding size",OuterPaddingSize:"Outer padding size",treeMapMethod:"Method",facetColumns:"Facet columns",facetRows:"Facet rows",markOpacitySignal:"Mark opacity",textScaleSignal:"Text scale",xAxisTextAngleSignal:"X axis text angle",yAxisTextAngleSignal:"Y axis text angle",zScaleProportion:"Z scale proportion to Y",selectionCount:function(e){return"".concat(e," items selected")}},maxLegends:19,onError:function(e){},transitionDurations:Object.assign(Object.assign({},sn.transitionDurations),{scope:600}),selectionPolygonZ:-1,tickSize:10,facetMargins:{column:40,row:40,title:40}};function dn(e){var t={cssPrefix:fn,fontFamily:e.fontFamily,defaultCubeColor:e.colors.defaultCube};return e.colors.hoveredCube&&(t.highlightColor=e.colors.hoveredCube),e.lightSettings&&(t.lightSettings=e.lightSettings),t}var fn="sanddance-",hn={black:"#212121",gray:"#D2D2D2",blue:"#0060F0",green:"#00C000",orange:"#FF9900",red:"#E00000"},pn=o.GL_ORDINAL;function gn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&e===pn)return!0;for(var n in k)if(e===k[n])return!0;return!1}var mn=[[hn.black,hn.gray],[hn.red,hn.green],[hn.red,hn.blue],[hn.black,hn.red],[hn.black,hn.orange],[hn.black,hn.green]],vn=[{scheme:G,colors:[l.colorToString(cn.colors.defaultCube)]}];function bn(e){vn.forEach((function(t){1===t.colors.length?e.scheme(t.scheme,(function(e){return t.colors[0]})):e.scheme(t.scheme,t.colors)}))}function yn(e,t){var n="dual_".concat(e[0]).concat(e[1]);vn.push({scheme:n,colors:t})}mn.forEach((function(e){var t=e.map((function(e){for(var t in hn)if(e===hn[t])return t}));yn(t,e),yn(Object(K.a)(t).reverse(),Object(K.a)(e).reverse())}));var _n,xn=n(16),Sn=n.n(xn);!function(e){e[e.same=0]="same",e[e.reset=1]="reset",e[e.refine=2]="refine"}(_n||(_n={}));var wn=function(){function e(t,n){Object(g.a)(this,e),this.dataScope=t,this.props=n}return Object(m.a)(e,[{key:"select",value:function(e){var t=this;return new Promise((function(n,r){t.dataScope.select(e),t.props.onDataChanged(_n.same),n()}))}},{key:"deselect",value:function(){var e=this;return new Promise((function(t,n){e.dataScope.deselect(),e.props.onDataChanged(_n.same),t()}))}},{key:"filter",value:function(e,t,n){var r=this;return this.dataScope.collapse(!0,n),new Promise((function(n,i){r.props.onAnimateDataChange(_n.refine,"before refine","refine").then((function(){r.dataScope.deselect(),r.dataScope.setFilteredData(t),r.props.onDataChanged(_n.refine,e),n()})).catch(i)}))}},{key:"reset",value:function(){var e=this;return new Promise((function(t,n){e.dataScope.deselect(),e.dataScope.setFilteredData(null),e.props.onAnimateDataChange(_n.reset,"before reset","reset").then((function(){e.dataScope.collapse(!1),e.props.onDataChanged(_n.reset),t()})).catch(n)}))}},{key:"activate",value:function(e){var t=this;return new Promise((function(n,r){t.dataScope.activate(e),t.props.onDataChanged(_n.same),n()}))}},{key:"deactivate",value:function(){var e=this;return new Promise((function(t,n){e.dataScope.deactivate(),e.props.onDataChanged(_n.same),t()}))}}]),e}();function Cn(e,t,n,r){var i={};return e.forEach((function(e){var a=function(e){var i;return t&&(i=e[k.Selected]?{color:r.colors.selectedCube}:{unSelected:!0}),n&&e[k.Active]&&(i={color:r.colors.activeCube}),i}(e);if(a){var s=e[o.GL_ORDINAL];i[s]=a}})),i}function kn(e){var t={};return e.forEach((function(e){t[e.ordinal]={color:e.color}})),t}function En(e,t){if(!e.colorMap){var n=t.getCubeData();e.colorMap=kn(n)}e.legend=l.clone(t.stage.legend),e.legendElement=t.getElement(Dt.legend).children[0]}function On(e,t,n){Object.keys(e[0]).forEach((function(r){var i=t[+r];if(i&&!i.isEmpty){var o=e[0][r];if(e.length>1){var a=e[1][r];if(a)return void(a.unSelected&&n?i.color=n(o.color):i.color=a.color)}i.color=o.color}}))}function Tn(e,t){if(e&&t&&t.signals&&t.signals.length){var n=function(n){var r=e[n],i=t.signals.filter((function(e){return e.name===n}))[0];i&&i.bind&&(i.value=r)};for(var r in e)n(r)}}function Pn(e,t){if(e&&t&&t.signals&&t.signals.length){var n={};return t.signals.forEach((function(t){if(t.bind)try{n[t.name]=e.signal(t.name)}catch(r){}})),n}}function In(e,t,n){var r=e.uid&&e.uid.name;return n?t.forEach((function(e,t){var i=r?e[r]:t;e[o.GL_ORDINAL]=n[i]})):(n={},t.forEach((function(e,t){e[o.GL_ORDINAL]=t;var i=r?e[r]:t;n[i]=t}))),n}function Dn(e,t){function n(e){return t.filter((function(t){return t.name===e}))[0]}return{color:n(e.columns&&e.columns.color),facet:n(e.columns&&e.columns.facet),group:n(e.columns&&e.columns.group),size:n(e.columns&&e.columns.size),sort:n(e.columns&&e.columns.sort),uid:n(e.columns&&e.columns.uid),x:n(e.columns&&e.columns.x),y:n(e.columns&&e.columns.y),z:n(e.columns&&e.columns.z)}}var An;function Mn(e){var t=e.insight.facets;return[{name:R.FacetColumns,value:t.columns},{name:R.FacetRows,value:t.rows}]}function jn(e,t){if(e){var n=e.columns*e.rows;n||t.push("Must set facets columns & rows to non-zero."),n<2&&t.push("Not enough facets to facet."),(!e.columns||e.columns<1)&&t.push("Facet column columns must be greater than 1."),(!e.rows||e.rows<1)&&t.push("Facet column rows must be greater than 1.")}}function Rn(e){var t=e.insight,n=e.specViewOptions,r=t.facets,i=t.size;return{height:(i.height-(r.rows+1)*(n.tickSize+n.facetMargins.column))/r.columns,width:(i.width-(r.columns+1)*(n.tickSize+n.facetMargins.row))/r.rows}}function Fn(e){var t=e.specViewOptions;return{columns:{signal:R.FacetColumns},bounds:"full",padding:{column:t.facetMargins.column,row:t.facetMargins.row}}}function Nn(e,t){return(e.stats.max-e.stats.min)/t}function Ln(e,t,n){for(var r=n.columns*n.rows,i=Nn(t,r),o=[],a=0;a<r;a++)o[a]=t.stats.min+a*i+i/2;return{name:e,values:o.map((function(e){var n={};return n[k.Collapsed]=!0,n[t.name]=e,n}))}}function Bn(e,t,n){return e&&e.quantitative?[{name:E},Ln(T,e,t),{name:n,source:[E,T]}]:[{name:n}]}function zn(e){return[{name:A,source:e,transform:[{type:"aggregate",groupby:["CellTitle"]}]},{name:"CellFiller",transform:[{type:"sequence",start:0,step:1,stop:{signal:"".concat(R.FacetColumns," * ").concat(R.FacetRows," - length(data('").concat(A,"'))")}}]},{name:"FacetColumnsSequence",transform:[{type:"sequence",start:0,stop:{signal:R.FacetColumns},as:"SequenceNumber"}]},{name:"FacetRowsSequence",transform:[{type:"sequence",start:0,stop:{signal:R.FacetRows},as:"SequenceNumber"}]}]}function Un(e,t){var n;if(e.quantitative){var r=Nn(e,t.columns*t.rows);n=[{type:"bin",field:e.name,step:r,nice:!1,extent:[e.stats.min,e.stats.max],as:[k.FacetBin0,k.FacetBin1]},{type:"collect",sort:{field:k.FacetBin0}},{type:"formula",expr:"format(datum.".concat(k.FacetBin0,", '~r') + '").concat(" - ","' + format(datum.").concat(k.FacetBin1,", '~r')"),as:"CellTitle"}]}else n=[{type:"formula",expr:"datum[".concat(JSON.stringify(e.name),"]"),as:"CellTitle"}];return n}function Hn(e,t,n,r,i){var o=l.colorToString(e.colors.cellFillerLine),a={style:"cell",type:"group",from:{facet:{name:D,data:t,groupby:["CellTitle"]}},title:{frame:"group",offset:e.facetMargins.title,text:{signal:"parent['".concat("CellTitle","']")},limit:{signal:"width"},color:l.colorToString(e.colors.axisText),fontSize:{signal:R.TextSize}},encode:{update:{width:{signal:"width"},height:{signal:"height"}}},data:i,marks:n.map((function(e){return e.from&&e.from.data&&e.from.data===t&&(e.from.data=D),e}))};r&&(a.axes=r.map((function(e){var t=l.clone(e);return t.labels=!1,delete t.title,delete t.titleAlign,delete t.titleAngle,delete t.titleFontSize,t})));var s={style:"cell",type:"group",from:{data:"CellFiller"},title:{frame:"group",offset:e.facetMargins.title,text:"",fontSize:{signal:R.TextSize}},encode:{update:{width:{signal:"width"},height:{signal:"height"}}}};r&&(s.axes=r.map((function(e){var t=l.clone(e);return t.labels=!1,delete t.title,delete t.titleAlign,delete t.titleAngle,delete t.titleFontSize,t.tickColor=o,t.domainColor=o,t})));var u={type:"group",role:"row-header",from:{facet:{name:"row-headers",data:"FacetRowsSequence",groupby:["SequenceNumber"]}}};r&&(u.axes=[Vn(r.filter((function(e){return"left"===e.orient}))[0],e.facetMargins.column)]);var c={type:"group",role:"column-footer",from:{facet:{name:"column-footers",data:"FacetColumnsSequence",groupby:["SequenceNumber"]}}};return r&&(c.axes=[Vn(r.filter((function(e){return"bottom"===e.orient}))[0],e.facetMargins.row)]),[a,s,u,c]}function Vn(e,t){if(e){var n=l.clone(e);return n.offset=t,n}}function Wn(e){return(e+"").replace(/,/g,"")}function Gn(e,t){var n,r=e.tickText[t];return r&&(n=e.tickText[t].value),{tick:r,value:n}}function Kn(e){return{name:e.name,operator:"isnullorEmpty"}}function qn(e,t){return null==t?Kn(e):{name:e.name,operator:"==",value:t}}function Yn(e,t,n){var r=Gn(e,n);if(r.tick)return qn(t,r.value)}function Xn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">=",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"<",o=[];void 0!==t&&o.push({name:e.name,operator:r,value:t}),void 0!==n&&o.push({name:e.name,operator:i,value:n}),o.length>1&&(o[1].clause="&&");var a={expressions:o};return a}function Zn(e,t,n){var r=Gn(e,n),i=Gn(e,n+1);return Xn(t,r.value,i.value)}function Qn(e,t,n,r,i,o,a){var s=[],u=t.roles.filter((function(e){return"x"===e.role}))[0];u&&u.axisSelection&&r.axes.x.filter((function(e){return e.tickText.length})).forEach((function(e){s.push.apply(s,$n(e,!1,u.axisSelection,n.x))}));var l=t.roles.filter((function(e){return"y"===e.role}))[0];l&&l.axisSelection&&r.axes.y.filter((function(e){return e.tickText.length})).forEach((function(e){s.push.apply(s,$n(e,!0,l.axisSelection,n.y))})),r.facets&&s.push.apply(s,function(e,t){var n=[];return e.forEach((function(r,i){var o=function(e){var t=[];return e.forEach((function(e){[e.sourcePosition,e.targetPosition].forEach((function(e){t.push(e)}))})),[0,1].map((function(e){var n={min:null,max:null};return t.forEach((function(t){null==n.max?n.max=t[e]:n.max=Math.max(n.max,t[e]),null==n.min?n.min=t[e]:n.min=Math.min(n.min,t[e])})),n}))}(r.lines.slice(2)),a=Object(p.a)(o,2),s=a[0],u=a[1],l=r.facetTitle?t.quantitative?function(e,t,n,r){var i=t.split(" - ");return Xn(e,n?void 0:i[0],r?void 0:i[1])}(t,r.facetTitle.text,0===i,i===e.length-1):{expressions:[qn(t,r.facetTitle.text)]}:{expressions:[Kn(t)]};n.push({search:l,polygon:[[s.min,u.min],[s.max,u.min],[s.max,u.max],[s.min,u.max]]})})),n}(r.facets,n.facet)),s.forEach((function(e){e.polygon.forEach((function(e){e[2]=a}))}));return new Ue.layers.PolygonLayer({autoHighlight:!0,coordinateSystem:Ue.deck.COORDINATE_SYSTEM.IDENTITY,data:s,extruded:!1,highlightColor:o,id:"selections",onHover:function(t,n){-1===t.index?e.deckgl.interactiveState.onAxisSelection=!1:e.deckgl.interactiveState.onAxisSelection=!0},onClick:function(e,t){return i(t.srcEvent,e.object.search)},getElevation:function(){return 0},getFillColor:function(){return[0,0,0,0]},pickable:!0,stroked:!1})}function $n(e,t,n,r){var i=[],o="exact"===n?function(e,t,n){return{expressions:[Yn(e,t,n)]}}:Zn,a=e.domain,s=e.ticks;if(s.length>0&&a){var u,l=t?1:0,c=Math.abs(s[0].sourcePosition[l]-a.sourcePosition[l])>1;if(c){u=[];for(var d=1;d<s.length;d++)u.push((s[d].sourcePosition[l]+s[d-1].sourcePosition[l])/2)}else u=s.slice(1,-1).map((function(e){return e.sourcePosition[l]}));var f=function(n,a){var s=[[h,p],[n,p],[n,g],[h,g]];i.push({search:o(e,r,a),polygon:t?s.map((function(e){return e.reverse()})):s}),h=n},h=a.sourcePosition[l],p=a.sourcePosition[t?0:1],g=p-50;u.forEach(f),f(a.targetPosition[l],s.length-(c?1:2))}return i}function Jn(e){return e.quantitative?An.quantitative:An.categoric}function er(e,t,n){var r=l.colorToString(e.colors.axisLine),i={domainColor:r,tickColor:r,labelColor:l.colorToString(e.colors.axisText)},o=Object.assign({orient:"bottom",labelAlign:"left",labelAngle:{signal:R.TextAngleX},labelFontSize:{signal:R.TextSize},titleAngle:{signal:R.TextAngleX},titleAlign:"left",titleFontSize:{signal:R.TextTitleSize},titleColor:l.colorToString(e.colors.axisText),tickSize:e.tickSize},i);t===An.quantitative&&(o.format="~r");var a=Object.assign({orient:"left",labelAlign:"right",labelAngle:{signal:R.TextAngleY},labelFontSize:{signal:R.TextSize},titleAngle:{signal:R.TextAngleY},titleAlign:"right",titleFontSize:{signal:R.TextTitleSize},titleColor:l.colorToString(e.colors.axisText),tickSize:e.tickSize},i);return n===An.quantitative&&(a.format="~r"),{left:a,bottom:o}}!function(e){e[e.quantitative=0]="quantitative",e[e.categoric=1]="categoric",e[e.date=2]="date"}(An||(An={}));var tr=function(e){var t=e.specColumns,n={type:"stack",groupby:[{field:t.y.name}],as:[k.BarChartStack0,k.BarChartStack1]};return t.sort&&(n.sort={field:t.sort.name}),[n,{type:"extent",signal:V,field:k.BarChartStack1}]},nr=function(e,t){var n=e.specColumns,r={type:"stack",groupby:[k.BarChartBin0],as:[k.BarChartStack0,k.BarChartStack1]};return t&&r.groupby.push(t.name),n.sort&&(r.sort={field:n.sort.name}),[{type:"extent",field:n.y.name,signal:"bucket_extent"},{type:"bin",field:n.y.name,extent:{signal:"bucket_extent"},maxbins:{signal:R.YBins},as:[k.BarChartBin0,k.BarChartBin1],signal:W},r,{type:"extent",signal:V,field:k.BarChartStack1}]};function rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t?e.concat(t):e}),[]).filter(Boolean)}function ir(e,t){return[{name:P,source:O,transform:[{type:"aggregate",groupby:[e.name]},{type:"window",ops:["count"],as:[k.TopIndex]},{type:"filter",expr:"datum.".concat(k.TopIndex," <= ").concat(t)}]},{name:I,source:O,transform:[{type:"lookup",from:P,key:e.name,fields:[e.name],values:[e.name],as:[k.Top]},{type:"formula",expr:"datum.".concat(k.Top," == null ? '").concat("__Other","' : datum.").concat(k.Top),as:k.Top}]}]}var or=function(e,t){var n=e.specColumns,r=e.insight,i=e.specViewOptions,o=n.color&&!n.color.quantitative,a=n.facet&&n.facet.quantitative?E:O;return rr(Bn(n.facet,r.facets,O),o&&ir(n.color,i.maxLegends),[ar(e,t,o?I:a),sr(t,t.bucket,n.facet&&Un(n.facet,r.facets))],n.y.quantitative&&[{name:M,transform:[{type:"sequence",start:{signal:"".concat(W,".start")},stop:{signal:"".concat(W,".stop")},step:{signal:"".concat(W,".step")}}]}],n.facet&&zn(t.stacked))};function ar(e,t,n){var r=e.specColumns;return{name:t.bucket,source:n,transform:r.y.quantitative?nr(e,r.facet):tr(e)}}function sr(e,t,n){return{name:e.stacked,source:t,transform:rr(n,ur(e))}}function ur(e){return[{type:"formula",expr:"floor(datum.".concat(k.BarChartStack0," / ").concat(z,")"),as:e.__level},{type:"formula",expr:"datum.".concat(k.BarChartStack0," % ").concat(z),as:e.__compartment}]}function lr(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=t.color;return i?i.isColorData||n.directColor?{field:i.name}:{scale:j.Color,field:i.quantitative?i.name:k.Top}:{value:l.colorToString(r.colors.defaultCube)}}function cr(e){return{signal:R.MarkOpacity}}function dr(){return"datum.".concat(k.Collapsed)}var fr=function(e,t){var n=e.specColumns,r={type:"rect",from:{data:t.stacked},encode:{update:{y:{scale:j.Y,field:n.y.quantitative?k.BarChartBin0:n.y.name,offset:{scale:L,field:t.__compartment}},height:[{test:"bandwidth('".concat(L,"') < 1"),value:u.minPixelSize},{scale:L,band:1}],x:[{scale:j.X,test:dr(),signal:"".concat(R.XDomain,"[0]")},{scale:j.X,field:t.__level,band:1,offset:{signal:"-bandwidth('".concat(j.X,"')-1")}}],width:[{test:dr(),value:0},{test:"bandwidth('".concat(j.X,"') < 1"),value:u.minPixelSize},{scale:j.X,band:1}],fill:lr(e),opacity:cr()}}};if(n.z){var i=r.encode.update;i.z={value:0},i.depth=[{test:dr(),value:0},{scale:j.Z,field:n.z.name}]}return[r]};function hr(e,t,n,r,i,o){return{name:e,type:"linear",range:r,round:!0,reverse:i,domain:{data:t,field:n},zero:o,nice:!0}}function pr(e,t,n,r,i){var o={name:e,type:"point",range:n,domain:{data:t,field:r,sort:!0},padding:.5};return void 0!==i&&(o.reverse=i),o}function gr(e,t,n,r){r=r||G;var i=j.Color,o={data:t,field:n},a={scheme:r},s={signal:R.ColorReverse};switch("continuous"!==e&&(a.count={signal:R.ColorBinCount}),e){case"continuous":return{name:i,type:"linear",domain:o,range:a,reverse:s};case"quantile":return{name:i,type:"quantile",domain:o,range:a,reverse:s};default:return{name:i,type:"quantize",domain:o,range:a,reverse:s}}}var mr=function(e,t){var n=e.specColumns,r=e.insight,i=[{name:L,type:"band",range:[0,{signal:U}],padding:.1,domain:{signal:"sequence(0, ".concat(z,"+1, 1)")}},{name:N,range:[{signal:"0"},{signal:"width"}],round:!0,domain:{data:t.stacked,field:t.__level,sort:!0},zero:!0,nice:!0},{name:j.X,type:"band",range:[{signal:"0"},{signal:"width"}],padding:.1,round:!1,reverse:!1,align:1,domain:{data:t.stacked,field:t.__level,sort:!0}}];if(!n.color||n.color.isColorData||r.directColor||(n.color.quantitative?i.push(gr(r.colorBin,t.bucket,n.color.name,r.scheme)):i.push({name:j.Color,type:"ordinal",domain:{data:t.bucket,field:k.Top,sort:!0},range:{scheme:r.scheme||G},reverse:{signal:R.ColorReverse}})),n.z){var o=[0,{signal:R.ZHeight}];i.push(n.z.quantitative?hr(j.Z,O,n.z.name,o,!1,!0):pr(j.Z,O,o,n.z.name))}return i.concat(n.y.quantitative?[{name:j.Y,type:"band",range:[0,{signal:"height"}],padding:.01,domain:{data:M,field:"data",sort:!0},reverse:!0}]:function(e,t){var n=e.specColumns;return[{name:F,type:"band",range:"height",domain:{data:t.bucket,field:n.y.name,sort:!0}},{name:j.Y,type:"band",range:[0,{signal:"height"}],padding:.01,domain:{data:t.stacked,field:n.y.name,sort:!0},reverse:!0}]}(e,t))};function vr(e){var t=e.specViewOptions;return[{name:R.ZProportion,value:.6,bind:{name:t.language.zScaleProportion,debounce:50,input:"range",min:.2,max:2,step:.1}},{name:R.ZHeight,update:"height * ".concat(R.ZProportion)},{name:R.TextScale,value:2,bind:{name:t.language.textScaleSignal,debounce:50,input:"range",min:1,max:5,step:.5}},{name:R.TextSize,update:"".concat(R.TextScale," * 10")},{name:R.TextTitleSize,update:"".concat(R.TextScale," * 15")},{name:R.TextAngleX,value:30,bind:{name:t.language.xAxisTextAngleSignal,debounce:50,input:"range",min:0,max:90,step:1}},{name:R.TextAngleY,value:0,bind:{name:t.language.yAxisTextAngleSignal,debounce:50,input:"range",min:-90,max:0,step:1}},{name:R.MarkOpacity,value:1,bind:{name:t.language.markOpacitySignal,debounce:50,input:"range",min:.1,max:1,step:.05}}]}function br(e){var t=e.specViewOptions;return{name:R.ColorBinCount,value:7,bind:{name:t.language.colorBinCount,input:"range",min:1,max:t.maxLegends+1,step:1}}}function yr(e){var t=e.specViewOptions;return{name:R.ColorReverse,value:!1,bind:{name:t.language.colorReverse,input:"checkbox"}}}var _r=function(e){var t=e.specColumns,n=e.specViewOptions;return rr(vr(e),[{name:R.XDomain,update:"domain('".concat(j.X,"')")},t.y.quantitative&&{name:R.YBins,value:7,bind:{name:n.language.YBinSize,input:"range",min:1,max:20,step:1}},{name:U,update:"bandwidth('".concat(t.y.quantitative?j.Y:F,"')")},{name:B,update:"".concat(U,"/width")},{name:z,update:"ceil(sqrt(".concat(B,"*").concat(V,"[1]))")},br(e),yr(e)],t.facet&&Mn(e))};function xr(e){var t={orient:"none",title:e.name,fill:j.Color,encode:{symbols:{update:{shape:{value:"square"}}}}};return e.quantitative&&(t.type="symbol",t.format="~r"),t}function Sr(e){var t=e.specColumns,n=e.insight;if(t.color&&!n.hideLegend&&!n.directColor&&!t.color.isColorData)return[xr(t.color)]}var wr=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(g.a)(this,e),["bucket","stacked","__compartment","__level"].forEach((function(e){t[e]="".concat(e).concat(n)}))},Cr=function(e){var t=e.specColumns,n={type:"stack",groupby:[{field:t.x.name}],as:[k.BarChartStack0,k.BarChartStack1]};return t.sort&&(n.sort={field:t.sort.name}),[n,{type:"extent",signal:V,field:k.BarChartStack1}]},kr=function(e,t){var n=e.specColumns,r={type:"stack",groupby:[k.BarChartBin0],as:[k.BarChartStack0,k.BarChartStack1]};return t&&r.groupby.push(t.name),n.sort&&(r.sort={field:n.sort.name}),[{type:"extent",field:n.x.name,signal:"bucket_extent"},{type:"bin",field:n.x.name,extent:{signal:"bucket_extent"},maxbins:{signal:R.XBins},as:[k.BarChartBin0,k.BarChartBin1],signal:W},r,{type:"extent",signal:V,field:k.BarChartStack1}]},Er=function(e,t){var n=e.specColumns,r=e.insight,i=e.specViewOptions,o=n.color&&!n.color.quantitative,a=n.facet&&n.facet.quantitative?E:O;return rr(Bn(n.facet,r.facets,O),o&&ir(n.color,i.maxLegends),[Or(e,t,o?I:a),Tr(t,t.bucket,n.facet&&Un(n.facet,r.facets))],n.x.quantitative&&[{name:M,transform:[{type:"sequence",start:{signal:"".concat(W,".start")},stop:{signal:"".concat(W,".stop")},step:{signal:"".concat(W,".step")}}]}],n.facet&&zn(t.stacked))};function Or(e,t,n){var r=e.specColumns;return{name:t.bucket,source:n,transform:r.x.quantitative?kr(e,r.facet):Cr(e)}}function Tr(e,t,n){return{name:e.stacked,source:t,transform:rr(n,Pr(e))}}function Pr(e){return[{type:"formula",expr:"floor(datum.".concat(k.BarChartStack0," / ").concat(z,")"),as:e.__level},{type:"formula",expr:"datum.".concat(k.BarChartStack0," % ").concat(z),as:e.__compartment}]}var Ir=function(e,t){var n=e.specColumns,r={type:"rect",from:{data:t.stacked},encode:{update:{x:{scale:j.X,field:n.x.quantitative?k.BarChartBin0:n.x.name,offset:{scale:L,field:t.__compartment}},width:[{test:"bandwidth('".concat(L,"') < 1"),value:u.minPixelSize},{scale:L,band:1}],y:[{scale:j.Y,test:dr(),signal:"".concat(R.YDomain,"[0]")},{scale:j.Y,field:t.__level,band:1,offset:{signal:"-bandwidth('".concat(j.Y,"')-1")}}],height:[{test:dr(),value:0},{test:"bandwidth('".concat(j.Y,"') < 1"),value:u.minPixelSize},{scale:j.Y,band:1}],fill:lr(e),opacity:cr()}}};if(n.z){var i=r.encode.update;i.z={value:0},i.depth=[{test:dr(),value:0},{scale:j.Z,field:n.z.name}]}return[r]},Dr=function(e,t){var n=e.specColumns,r=e.insight,i=[{name:L,type:"band",range:[0,{signal:H}],padding:.1,domain:{signal:"sequence(0, ".concat(z,"+1, 1)")}},{name:N,range:[{signal:"height"},{signal:"0"}],round:!0,domain:{data:t.stacked,field:t.__level,sort:!0},zero:!0,nice:!0},{name:j.Y,type:"band",range:[{signal:"height"},{signal:"0"}],padding:.1,round:!1,reverse:!1,align:1,domain:{data:t.stacked,field:t.__level,sort:!0}}];if(!n.color||n.color.isColorData||r.directColor||(n.color.quantitative?i.push(gr(r.colorBin,t.bucket,n.color.name,r.scheme)):i.push({name:j.Color,type:"ordinal",domain:{data:t.bucket,field:k.Top,sort:!0},range:{scheme:r.scheme||G},reverse:{signal:R.ColorReverse}})),n.z){var o=[0,{signal:R.ZHeight}];i.push(n.z.quantitative?hr(j.Z,O,n.z.name,o,!1,!0):pr(j.Z,O,o,n.z.name))}return i.concat(n.x.quantitative?[{name:j.X,type:"band",range:[0,{signal:"width"}],padding:.01,domain:{data:M,field:"data",sort:!0}}]:function(e,t){var n=e.specColumns;return[{name:F,type:"band",range:"width",domain:{data:t.bucket,field:n.x.name,sort:!0}},{name:j.X,type:"band",range:[0,{signal:"width"}],padding:.01,domain:{data:t.stacked,field:n.x.name,sort:!0}}]}(e,t))},Ar=function(e){var t=e.specColumns,n=e.specViewOptions;return rr(vr(e),[{name:R.YDomain,update:"domain('".concat(j.Y,"')")},t.x.quantitative&&{name:R.XBins,value:7,bind:{name:n.language.XBinSize,input:"range",min:1,max:20,step:1}},{name:H,update:"bandwidth('".concat(t.x.quantitative?j.X:F,"')")},{name:B,update:"".concat(H,"/height")},{name:z,update:"ceil(sqrt(".concat(B,"*").concat(V,"[1]))")},br(e),yr(e)],t.facet&&Mn(e))},Mr=function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=[];t.x||i.push("Must set a field for x axis"),jn(n.facets,i);var o={roles:[{role:"x",binnable:!0,axisSelection:t.x&&t.x.quantitative?"range":"exact",signals:[R.XBins]},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0},{role:"facet",allowNone:!0}]};if(i.length)return{errors:i,specCapabilities:o,vegaSpec:null};var a,s,u=new wr;if(n.hideAxes||(a=function(e){var t=e.specColumns,n=e.specViewOptions,r=er(n,Jn(t.x),An.quantitative);return[Object.assign({scale:j.X,title:t.x.name},r.bottom),Object.assign({scale:N,title:n.language.count,encode:{labels:{update:{text:{signal:"".concat(z," * datum.value")}}}}},r.left)]}(e)),t.facet){var l=new wr("Cell"),c=Ir(e,l),d=t.x.quantitative?[Tr(l,D)]:[Or(e,l,D),Tr(l,l.bucket)];s=Hn(r,u.stacked,c,a,d),a=[]}else s=Ir(e,u);var f=t.facet?Rn(e):n.size,h={$schema:"https://vega.github.io/schema/vega/v3.json",height:f.height,width:f.width,signals:Ar(e),scales:Dr(e,u),data:Er(e,u),marks:s};!n.hideAxes&&a&&a.length&&(h.axes=a);var p=Sr(e);return p&&(h.legends=p),t.facet?h.layout=Fn(e):h.autosize="fit",{vegaSpec:h,specCapabilities:o}},jr=function(e){var t=e.specColumns,n=e.specViewOptions,r=t.color&&!t.color.quantitative;return rr([{name:O,transform:rr(t.x.quantitative&&[{type:"extent",field:t.x.name,signal:"var_Xextent"},{type:"bin",field:t.x.name,extent:{signal:"var_Xextent"},maxbins:{signal:R.XBins},as:[k.DensityXBin0,k.DensityXBin1],signal:"binXSignal"}],t.y.quantitative&&[{type:"extent",field:t.y.name,signal:"var_Yextent"},{type:"bin",field:t.y.name,extent:{signal:"var_Yextent"},maxbins:{signal:R.YBins},as:[k.DensityYBin0,k.DensityYBin1],signal:"binYSignal"}])}],t.x.quantitative&&[{name:"xaxisdata",transform:[{type:"sequence",start:{signal:"binXSignal.start"},stop:{signal:"binXSignal.stop"},step:{signal:"binXSignal.step"}}]}],t.y.quantitative&&[{name:"yaxisdata",transform:[{type:"sequence",start:{signal:"binYSignal.start"},stop:{signal:"binYSignal.stop"},step:{signal:"binYSignal.step"}}]}],r&&ir(t.color,n.maxLegends),[{name:"aggregated",source:r?I:O,transform:[{type:"joinaggregate",groupby:[t.x.quantitative?k.DensityXBin0:t.x.name,t.y.quantitative?k.DensityYBin0:t.y.name],ops:["count"],as:[k.DensityCount]},Rr(t),{type:"extent",field:k.DensityRow,signal:"cextent"}]}])};function Rr(e){var t={type:"window",groupby:[e.x.quantitative?k.DensityXBin0:e.x.name,e.y.quantitative?k.DensityYBin0:e.y.name],ops:["row_number"],as:[k.DensityRow]};return e.sort&&(t.sort={field:[e.sort.name],order:["descending"]}),t}var Fr=function(e){var t=e.specColumns,n={type:"rect",from:{data:"aggregated"},sort:{field:[t.x.name,t.y.name],order:["ascending","ascending"]},encode:{update:{xc:{scale:"xscale",field:t.x.quantitative?k.DensityXBin0:t.x.name,offset:{signal:"scale('sizescale', ((datum.".concat(k.DensityRow,"-1) % floor(sqrt(datum.").concat(k.DensityCount,"))))-scale('sizescale', sqrt(datum.").concat(k.DensityCount,")-2)/2")}},yc:{scale:"yscale",field:t.y.quantitative?k.DensityYBin0:t.y.name,offset:{signal:"scale('sizescale',height/width*floor(((datum.".concat(k.DensityRow,"-1) / floor(sqrt(datum.").concat(k.DensityCount,"))))) - scale('sizescale', height/width*sqrt(datum.").concat(k.DensityCount,")+2)/2")}},width:{signal:"unitsize"},height:{signal:"height/width*unitsize"},fill:lr(e),opacity:cr()}}};if(t.z){var r=n.encode.update;r.z={value:0},r.depth=[{test:dr(),value:0},{scale:j.Z,field:t.z.name}]}return[n]},Nr=function(e){var t=e.specColumns,n=e.insight,r=[{name:"xscale",type:"point",domain:t.x.quantitative?{data:"xaxisdata",field:"data",sort:!0}:{data:O,field:t.x.name,sort:!0},range:"width",padding:.5},{name:"yscale",type:"point",domain:t.y.quantitative?{data:"yaxisdata",field:"data",sort:!0}:{data:O,field:t.y.name,sort:!0},range:"height",reverse:!0,padding:.5},{name:"sizescale",type:"linear",domain:[0,{signal:"sqrt(cextent[1])"}],range:[0,{signal:"width/max(xsize,ysize)"}]}];if(!t.color||t.color.isColorData||n.directColor||(t.color.quantitative?r.push(gr(n.colorBin,O,t.color.name,n.scheme)):r.push({name:j.Color,type:"ordinal",domain:{data:I,field:k.Top,sort:!0},range:{scheme:n.scheme||G},reverse:{signal:R.ColorReverse}})),t.z){var i=[0,{signal:R.ZHeight}];r.push(t.z.quantitative?hr(j.Z,O,t.z.name,i,!1,!0):pr(j.Z,O,i,t.z.name))}return r},Lr=function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions;return rr(vr(e),[br(e),yr(e),{name:"unitpad",value:.1,bind:{name:R.InnerPadding,input:"range",min:.1,max:1,step:.1}},{name:"xsize",update:"domain('xscale').length"},{name:"ysize",update:"domain('yscale').length"},{name:"cellwidth",update:"width/max(xsize,ysize)"},{name:"maxnumbers",update:"sqrt(cextent[1])"},{name:"unitsize",update:"cellwidth/((1 + unitpad)*maxnumbers)"},t.x.quantitative&&{name:R.XBins,value:30,bind:{name:r.language.XBinSize,input:"range",min:1,max:60,step:1}},t.y.quantitative&&{name:R.YBins,value:30,bind:{name:r.language.YBinSize,input:"range",min:1,max:60,step:1}}],n.columns.facet&&Mn(e))},Br=function(e){var t=e.specColumns,n=e.specViewOptions,r=t.color&&!t.color.quantitative;return rr([{name:O,transform:rr([t.sort&&{type:"collect",sort:{field:t.sort.name}},{type:"window",ops:["count"],as:[k.GridIndex]}])}],r&&ir(t.color,n.maxLegends))},zr=function(e,t){var n=e.specColumns,r=[{type:"rect",from:{data:t},encode:{update:{x:{signal:"(datum.".concat(k.GridIndex,"-1)%").concat("columncount"),scale:j.X},width:{scale:j.X,band:!0},y:{signal:"floor((datum.".concat(k.GridIndex,"-1)/").concat("columncount",")"),scale:j.Y},height:{scale:j.Y,band:!0},fill:lr(e),opacity:cr()}}}];if(n.z){var i=r[0].encode.update;i.z={value:0},i.depth=[{test:dr(),value:0},{scale:j.Z,field:n.z.name}]}return r},Ur=function(e){var t=e.specColumns,n=e.insight,r=[{name:j.X,type:"band",domain:{signal:"sequence(0, ".concat("columncount",", 1)")},range:"width",paddingInner:.1,paddingOuter:0},{name:j.Y,type:"band",domain:{signal:"sequence(0, ".concat("rowcount",", 1)")},range:"height",paddingInner:.1,paddingOuter:0}];if(!t.color||t.color.isColorData||n.directColor||(t.color.quantitative?r.push(gr(n.colorBin,O,t.color.name,n.scheme)):r.push({name:j.Color,type:"ordinal",domain:{data:I,field:k.Top,sort:!0},range:{scheme:n.scheme||G},reverse:{signal:R.ColorReverse}})),t.z){var i=[0,{signal:R.ZHeight}];r.push(t.z.quantitative?hr(j.Z,O,t.z.name,i,!1,!1):pr(j.Z,O,i,t.z.name))}return r},Hr=function(e){var t=e.insight;return rr(vr(e),[br(e),{name:"total",update:"data('".concat(O,"').length")},{name:"columncount",update:"ceil(sqrt((width/height)*".concat("total","))")},{name:"rowcount",update:"".concat("total","/").concat("columncount")},yr(e)],t.columns&&t.columns.facet&&Mn(e))},Vr=function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=t.color&&!t.color.quantitative;return rr(Bn(t.facet,n.facets,"SandDanceScatterPlotData"),[{name:O,source:"SandDanceScatterPlotData",transform:rr(Wr(t.x),Wr(t.y),Wr(t.z),t.facet&&Un(t.facet,n.facets))}],i&&ir(t.color,r.maxLegends),t.facet&&zn(O))};function Wr(e){if(e&&e.quantitative)return[{type:"filter",expr:"datum[".concat(JSON.stringify(e.name),"] != null")}]}var Gr=function(e){var t=e.specColumns,n=e.insight,r=[t.x.quantitative?hr(j.X,O,t.x.name,"width",!1,!1):pr(j.X,O,"width",t.x.name),t.y.quantitative?hr(j.Y,O,t.y.name,"height",!1,!1):pr(j.Y,O,"height",t.y.name,!0)];if(!t.color||t.color.isColorData||n.directColor||(t.color.quantitative?r.push(gr(n.colorBin,O,t.color.name,n.scheme)):r.push({name:j.Color,type:"ordinal",domain:{data:I,field:k.Top,sort:!0},range:{scheme:n.scheme||G},reverse:{signal:R.ColorReverse}})),t.z){var i=[0,{signal:R.ZHeight}];r.push(t.z.quantitative?hr(j.Z,O,t.z.name,i,!1,!1):pr(j.Z,O,i,t.z.name))}return r},Kr=function(e){var t=e.insight,n=e.specViewOptions;return rr(vr(e),[{name:R.YDomain,update:"domain('".concat(j.Y,"')")},{name:R.PointSize,value:5,bind:{name:n.language.scatterPointSize,debounce:50,input:"range",min:1,max:25,step:1}},br(e),yr(e)],t.columns.facet&&Mn(e))},qr=function(e){var t=e.specColumns,n=e.specViewOptions,r=t.color&&!t.color.quantitative;return rr([{name:O,transform:rr([{type:"extent",field:t.x.name,signal:"long_extent"},{type:"extent",field:t.y.name,signal:"lat_extent"},t.x.quantitative&&{type:"bin",field:t.x.name,extent:{signal:"long_extent"},maxbins:{signal:R.XBins},nice:!1,as:[k.StacksLongBin0,k.StacksLongBin1],signal:"binXSignal"},t.y.quantitative&&{type:"bin",field:t.y.name,extent:{signal:"lat_extent"},nice:!1,maxbins:{signal:R.YBins},as:[k.StacksLatBin0,k.StacksLatBin1],signal:"binYSignal"}])}],t.x.quantitative&&[{name:"xaxisdata",transform:[{type:"sequence",start:{signal:"binXSignal.start"},stop:{signal:"binXSignal.stop"},step:{signal:"binXSignal.step"}}]}],t.y.quantitative&&[{name:"yaxisdata",transform:[{type:"sequence",start:{signal:"binYSignal.start"},stop:{signal:"binYSignal.stop"},step:{signal:"binYSignal.step"}}]}],r&&ir(t.color,n.maxLegends),[{name:"stackedgroup",source:r?I:O,transform:[Yr(t.sort,t.x,t.y),{type:"extent",signal:"xtent",field:k.StacksStart},{type:"formula",expr:"datum.".concat(k.StacksEnd," % columns"),as:"_columns"},{type:"formula",expr:"floor(datum.".concat(k.StacksStart," / columns)"),as:"row"},{type:"formula",expr:"datum.".concat(k.StacksStart," % ").concat(R.XGridSize),as:"column"},{type:"formula",expr:"floor((datum.".concat(k.StacksStart," % columns)/ ").concat(R.XGridSize,")"),as:"depth"},{type:"extent",signal:"rowxtent",field:"row"}]}])};function Yr(e,t,n){var r={type:"stack",groupby:[n.quantitative?k.StacksLatBin0:n.name,t.quantitative?k.StacksLongBin0:t.name],as:[k.StacksStart,k.StacksEnd]};return e&&(r.sort={field:e.name}),r}var Xr=function(e){var t=e.specColumns;return[{name:"marks2",type:"rect",from:{data:"stackedgroup"},encode:{update:{x:{scale:"xband",field:t.x.quantitative?k.StacksLongBin0:t.x.name,offset:{scale:"xinternalscale",field:"column"}},y:{scale:"yband",field:t.y.quantitative?k.StacksLatBin0:t.y.name,offset:{scale:"yinternalscale",field:"depth"}},z:{scale:"zband",field:"row"},depth:{scale:"zband",band:!0},width:{signal:"actsize"},height:{signal:"actsize"},fill:lr(e),opacity:cr()}}}]},Zr=function(e){var t=e.specColumns,n=e.insight,r=[{name:"xband",type:"band",domain:t.x.quantitative?{data:"xaxisdata",field:"data",sort:!0}:{data:O,field:t.x.quantitative?k.StacksLongBin0:t.x.name,sort:!0},range:[0,{signal:"width"}],padding:{signal:R.OuterPadding},round:!0},{name:"yband",type:"band",reverse:!0,domain:t.y.quantitative?{data:"yaxisdata",field:"data",sort:!0}:{data:O,field:t.y.quantitative?k.StacksLatBin0:t.y.name,sort:!0},range:"height",padding:{signal:R.OuterPadding},round:!0},{name:"zband",type:"band",reverse:!1,domain:{data:"stackedgroup",field:"row",sort:!0},align:0,range:[0,{signal:"countheight"}],padding:{signal:R.InnerPadding},round:!1},{name:"xinternalscale",type:"band",range:[0,{signal:"xbandw"}],padding:{signal:R.InnerPadding},domain:{data:"stackedgroup",field:"column",sort:!0}},{name:"yinternalscale",type:"band",range:[0,{signal:"ybandw"}],padding:{signal:R.InnerPadding},domain:{data:"stackedgroup",field:"depth",sort:!0}}];return!t.color||t.color.isColorData||n.directColor||(t.color.quantitative?r.push(gr(n.colorBin,O,t.color.name,n.scheme)):r.push({name:j.Color,type:"ordinal",domain:{data:I,field:k.Top,sort:!0},range:{scheme:n.scheme||G},reverse:{signal:R.ColorReverse}})),r},Qr=function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions;return rr(vr(e),[br(e),yr(e),{name:R.XGridSize,value:3,bind:{name:r.language.XGridSize,input:"range",min:1,max:20,step:1}},{name:R.YGridSize,value:3,bind:{name:r.language.YGridSize,input:"range",min:1,max:20,step:1}},t.x.quantitative&&{name:R.XBins,value:30,bind:{name:r.language.XBinSize,input:"range",min:1,max:60,step:1}},t.y.quantitative&&{name:R.YBins,value:30,bind:{name:r.language.YBinSize,input:"range",min:1,max:60,step:1}},{name:R.InnerPadding,value:.1,bind:{name:r.language.InnerPaddingSize,input:"range",min:.1,max:.6,step:.1}},{name:R.OuterPadding,value:.2,bind:{name:r.language.OuterPaddingSize,input:"range",min:.1,max:.6,step:.1}},{name:"columns",update:"".concat(R.XGridSize,"*").concat(R.YGridSize)},{name:"xbandw",update:"bandwidth('xband')"},{name:"xbandsize",update:"(xbandw / (".concat(R.XGridSize," + ").concat(R.InnerPadding,"))*(1-").concat(R.InnerPadding,")")},{name:"ybandw",update:"height/((".concat(t.y.quantitative?R.YBins:t.y.stats.distinctValueCount,") * (1 + ").concat(R.OuterPadding,"))")},{name:"ybandsize",update:"(ybandw / (".concat(R.YGridSize," + ").concat(R.InnerPadding,"))*(1-").concat(R.InnerPadding,")")},{name:"actsize",update:"min(xbandsize,ybandsize)"},{name:"countheight",update:"rowxtent[1]*actsize*".concat(R.ZProportion,"/").concat(.6)}],n.columns.facet&&Mn(e))};function $r(e){return[{type:"nest",keys:[e.columns.group||"__NONE__"]},{type:"treemap",field:e.columns.size,sort:{field:"value",order:"descending"},round:!0,method:{signal:R.TreeMapMethod},padding:1,size:[{signal:"width"},{signal:"height"}],as:[k.TreemapStackX0,k.TreemapStackY0,k.TreemapStackX1,k.TreemapStackY1,k.TreemapStackDepth,k.TreemapStackChildren]}]}var Jr=function(e){var t=e.specColumns,n=e.insight,r=[];if(!t.color||t.color.isColorData||n.directColor||(t.color.quantitative?r.push(gr(n.colorBin,O,t.color.name,n.scheme)):r.push({name:j.Color,type:"ordinal",domain:{data:I,field:k.Top,sort:!0},range:{scheme:n.scheme||G},reverse:{signal:R.ColorReverse}})),t.z){var i=[0,{signal:R.ZHeight}];r.push(t.z.quantitative?hr(j.Z,O,t.z.name,i,!1,!1):pr(j.Z,O,i,t.z.name))}return r},ei=function(e){var t=e.insight,n=e.specViewOptions;return rr(vr(e),[br(e),{name:R.TreeMapMethod,value:"squarify",bind:{name:n.language.treeMapMethod,input:"select",options:["squarify","binary"]}},yr(e)],t.columns.facet&&Mn(e))},ti={barchart:Mr,barchartH:function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=[];t.y||i.push("Must set a field for y axis"),jn(n.facets,i);var o={roles:[{role:"y",binnable:!0,axisSelection:t.y&&t.y.quantitative?"range":"exact",signals:[R.YBins]},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0},{role:"facet",allowNone:!0}]};if(i.length)return{errors:i,specCapabilities:o,vegaSpec:null};var a,s,u=new wr;if(n.hideAxes||(a=function(e){var t=e.specColumns,n=e.specViewOptions,r=er(n,An.quantitative,Jn(t.y));return[Object.assign({scale:j.Y,title:t.y.name},r.left),Object.assign({scale:N,title:n.language.count,encode:{labels:{update:{text:{signal:"".concat(z," * datum.value")}}}}},r.bottom)]}(e)),t.facet){var l=new wr("Cell"),c=fr(e,l),d=t.y.quantitative?[sr(l,D)]:[ar(e,l,D),sr(l,l.bucket)];s=Hn(r,u.stacked,c,a,d),a=[]}else s=fr(e,u);var f=t.facet?Rn(e):n.size,h={$schema:"https://vega.github.io/schema/vega/v3.json",height:f.height,width:f.width,signals:_r(e),scales:mr(e,u),data:or(e,u),marks:s};!n.hideAxes&&a&&a.length&&(h.axes=a);var p=Sr(e);return p&&(h.legends=p),t.facet?h.layout=Fn(e):h.autosize="fit",{vegaSpec:h,specCapabilities:o}},barchartV:Mr,density:function(e){var t=e.specColumns,n=e.insight,r=[];t.x||r.push("Must set a field for x axis"),t.y||r.push("Must set a field for y axis"),jn(n.facets,r);var i={roles:[{role:"x",binnable:!0,axisSelection:t.x&&t.x.quantitative?"range":"exact",signals:[R.XBins]},{role:"y",binnable:!0,axisSelection:t.y&&t.y.quantitative?"range":"exact",signals:[R.YBins]},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0}]};if(r.length)return{errors:r,specCapabilities:i,vegaSpec:null};var o=t.facet?Rn(e):n.size,a={$schema:"https://vega.github.io/schema/vega/v3.json",height:o.height,width:o.width,signals:Lr(e),data:jr(e),scales:Nr(e),marks:Fr(e)};n.hideAxes||(a.axes=function(e){var t=e.specColumns,n=er(e.specViewOptions,Jn(t.x),Jn(t.y));return[Object.assign({scale:"xscale",title:t.x.name,bandPosition:.5,grid:!0,labelFlush:!0},n.bottom),Object.assign({scale:"yscale",title:t.y.name,bandPosition:t.y.quantitative?0:.5,grid:!0,labelFlush:!0},n.left)]}(e));var s=Sr(e);return s&&(a.legends=s),t.facet?a.layout=Fn(e):a.autosize="fit",{vegaSpec:a,specCapabilities:i}},grid:function(e){var t=e.specColumns,n=e.insight,r=[],i={roles:[{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0}]};if(r.length)return{errors:r,specCapabilities:i,vegaSpec:null};var o=t.color&&!t.color.quantitative?I:O,a=n.size,s={$schema:"https://vega.github.io/schema/vega/v3.json",height:a.height,width:a.width,signals:Hr(e),scales:Ur(e),data:Br(e),marks:zr(e,o)},u=Sr(e);return u&&(s.legends=u),s.autosize="fit",{vegaSpec:s,specCapabilities:i}},scatterplot:function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=[];t.x||i.push("Must set a field for x axis"),t.y||i.push("Must set a field for y axis"),jn(n.facets,i);var o,a={roles:[{role:"x",axisSelection:t.x&&t.x.quantitative?"range":"exact"},{role:"y",axisSelection:t.y&&t.y.quantitative?"range":"exact"},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0},{role:"facet",allowNone:!0}],signals:[R.PointSize]};if(i.length)return{errors:i,specCapabilities:a,vegaSpec:null};n.hideAxes||(o=function(e){var t=e.specColumns,n=er(e.specViewOptions,Jn(t.x),Jn(t.y));return[Object.assign({scale:j.X,title:t.x.name},n.bottom),Object.assign({scale:j.Y,title:t.y.name},n.left)]}(e));var s=function(e){var t=e.specColumns,n=[{type:"rect",from:{data:t.color&&!t.color.quantitative?I:O},encode:{update:{x:{scale:j.X,field:t.x.name,offset:1},width:{signal:R.PointSize},y:[{scale:j.Y,test:dr(),signal:"".concat(R.YDomain,"[0]")},{scale:j.Y,field:t.y.name,offset:{signal:"-".concat(R.PointSize)}}],height:[{test:dr(),value:0},{signal:R.PointSize}],fill:lr(e),opacity:cr()}}}];if(t.z){var r=n[0].encode.update;r.z=[{test:dr(),value:0},{scale:j.Z,field:t.z.name}],r.depth={signal:R.PointSize}}return n}(e);t.facet&&(s=Hn(r,s[0].from.data,s,o),o=[]);var u=t.facet?Rn(e):n.size,l={$schema:"https://vega.github.io/schema/vega/v3.json",height:u.height,width:u.width,signals:Kr(e),data:Vr(e),scales:Gr(e),marks:s};!n.hideAxes&&o&&o.length&&(l.axes=o);var c=Sr(e);return c&&(l.legends=c),t.facet?l.layout=Fn(e):l.autosize="fit",{vegaSpec:l,specCapabilities:a}},stacks:function(e){var t=e.specColumns,n=e.insight,r=[];t.x||r.push("Must set a field for x axis"),t.y||r.push("Must set a field for y axis"),jn(n.facets,r);var i={roles:[{role:"x",binnable:!0,axisSelection:t.x&&t.x.quantitative?"range":"exact",signals:[R.XBins]},{role:"y",binnable:!0,axisSelection:t.y&&t.y.quantitative?"range":"exact",signals:[R.YBins]},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"sort",allowNone:!0}]};if(r.length)return{errors:r,specCapabilities:i,vegaSpec:null};var o=t.facet?Rn(e):n.size,a={$schema:"https://vega.github.io/schema/vega/v3.json",height:o.height,width:o.width,signals:Qr(e),data:qr(e),scales:Zr(e),marks:Xr(e)};n.hideAxes||(a.axes=function(e){var t=e.specColumns,n=er(e.specViewOptions,Jn(t.x),Jn(t.y));return[Object.assign({scale:"xband",title:t.x.name,bandPosition:.5,grid:!0,labelFlush:!0},n.bottom),Object.assign({scale:"yband",title:t.y.name,bandPosition:t.y.quantitative?0:.5,grid:!0,labelFlush:!0},n.left)]}(e));var s=Sr(e);return s&&(a.legends=s),t.facet?a.layout=Fn(e):a.autosize="fit",{vegaSpec:a,specCapabilities:i}},treemap:function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=[];t.size||i.push("Must set a field for size"),jn(n.facets,i);var o={roles:[{role:"size",excludeCategoric:!0},{role:"group",allowNone:!0},{role:"z",allowNone:!0},{role:"color",allowNone:!0},{role:"facet",allowNone:!0}],signals:[R.TreeMapMethod]};if(i.length)return{errors:i,specCapabilities:o,vegaSpec:null};var a=t.color&&!t.color.quantitative?I:O,s=function(e){var t=e.specColumns,n=e.insight,r=e.specViewOptions,i=t.color&&!t.color.quantitative;return rr(Bn(t.facet,n.facets,"SandDanceTreeMapData"),[{name:O,source:"SandDanceTreeMapData",transform:rr(t.facet&&Un(t.facet,n.facets),!t.facet&&$r(n))}],i&&ir(t.color,r.maxLegends),t.facet&&zn(O))}(e),u=function(e,t){var n=e.specColumns,r=[{type:"rect",from:{data:t},encode:{update:{x:{field:k.TreemapStackX0},y:{field:k.TreemapStackY0},x2:{field:k.TreemapStackX1},y2:{field:k.TreemapStackY1},fill:lr(e),opacity:cr()}}}];if(n.z){var i=r[0].encode.update;i.z={value:0},i.depth=[{test:dr(),value:0},{scale:j.Z,field:n.z.name}]}return r}(e,t.facet?"SandDanceTreeMapFaceted":a);t.facet&&(u=Hn(r,a,u,null,[{name:"SandDanceTreeMapFaceted",source:D,transform:$r(n)}]))[0].marks;var l=t.facet?Rn(e):n.size,c={$schema:"https://vega.github.io/schema/vega/v3.json",height:l.height,width:l.width,signals:ei(e),data:s,scales:Jr(e),marks:u},d=Sr(e);return d&&(c.legends=d),t.facet?c.layout=Fn(e):c.autosize="fit",{vegaSpec:c,specCapabilities:o}}};function ni(e,t){var n=e.specColumns;on([n.color,n.facet,n.group,n.size,n.sort,n.x,n.y,n.z],t);var r=function(e){var t=e.insight,n=ti[t.chart];if(n){var r=n(e);return r.vegaSpec&&t.columns&&t.columns.facet&&2===t.facets.columns&&1===t.facets.rows&&(r.vegaSpec.width=t.size.width/3),r}}(e);r.errors||(r.vegaSpec.data[0].values=t);return r}function ri(e){if("string"===typeof e)switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return!!e}function ii(e){if(null==e)return"";switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString()}return""}function oi(e){return null==e||"string"===typeof e&&0===e.length}var ai,si=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.columns=n,this.groups=l.clone(Y(t)),this.groups.forEach((function(e){e.expressions.forEach((function(e){e.column=r.getColumn(e.name),e.valueBool=ri(e.value),e.valueLow=ii(e.value).toLocaleLowerCase(),e.stringOperation=function(e){switch(e.operator){case"contains":case"!contains":case"starts":case"!starts":return!0}return!1}(e)}))}))}return Object(m.a)(e,[{key:"getColumn",value:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].name==e)return this.columns[t]}},{key:"runExpressionOnColumn",value:function(e,t){var n=e[t.name];if("isnullorEmpty"===t.operator)return oi(n);if("!isnullorEmpty"===t.operator)return!oi(n);var r=n,i=t.value;switch(t.column&&("string"===t.column.type||t.stringOperation?(r=ii(n).toLocaleLowerCase(),i=t.valueLow):"boolean"===t.column.type?(r=ri(n),i=t.valueBool):t.column.quantitative&&(r=+n,i=+t.value)),t.operator){case"!=":return r!=i;case"<":return r<i;case"<=":return r<=i;case"==":return r==i;case">":return r>i;case">=":return r>=i;case"contains":return r.indexOf(i)>=0;case"!contains":return r.indexOf(i)<0;case"starts":return 0==r.indexOf(i);case"!starts":return 0!==r.indexOf(i)}}},{key:"runExpression",value:function(e,t){if(null==t.name){var n={expressions:this.columns.map((function(e,n){var r=Object.assign(Object.assign({},t),{column:e,name:e.name});return n&&(r.clause="||"),r}))};return this.runGroup(e,n)}return this.runExpressionOnColumn(e,t)}},{key:"runGroup",value:function(e,t){for(var n=this.runExpression(e,t.expressions[0]),r=1;r<t.expressions.length;r++){var i=t.expressions[r];switch(i.clause){case"&&":n=n&&this.runExpression(e,i);break;case"||":n=n||this.runExpression(e,i)}}return n}},{key:"run",value:function(e){for(var t=this.runGroup(e,this.groups[0]),n=1;n<this.groups.length;n++){var r=this.groups[n];switch(r.clause){case"&&":t=t&&this.runGroup(e,r);break;case"||":t=t||this.runGroup(e,r)}}return t}}]),e}(),ui=function(){function e(){Object(g.a)(this,e),this.filteredColumnsStats={}}return Object(m.a)(e,[{key:"setData",value:function(e,t){var n=this.data!==e;return n&&(this.data&&this.deselect(),this.data=e,this.columns=t,this.filteredData=null,this.filteredColumnsStats={}),n}},{key:"setFilteredData",value:function(e){this.filteredData=e,this.filteredColumnsStats={}}},{key:"getColumns",value:function(e){return this.columns||(this.columns=rn(this.data,e)),this.columns}},{key:"getFilteredColumnStats",value:function(e){return this.filteredColumnsStats[e]||(this.filteredColumnsStats[e]=an(this.filteredData,this.columns.filter((function(t){return t.name===e}))[0])),this.filteredColumnsStats[e]}},{key:"currentData",value:function(){return this.filteredData||this.data}},{key:"select",value:function(e){this.deselect(),e&&(this.selection=this.createUserSelection(e,!0),this.selection.included.length&&this.activate(this.selection.included[0]))}},{key:"createUserSelection",value:function(e,t){var n=new si(e,this.getColumns()),r={search:e,included:[],excluded:[]};return this.currentData().forEach((function(e){n.run(e)?(t&&(e[k.Selected]=!0),r.included.push(e)):r.excluded.push(e)})),r}},{key:"deselect",value:function(){this.deactivate(),this.data.forEach((function(e){delete e[k.Selected]})),this.selection=null}},{key:"hasFilteredData",value:function(){return!!this.filteredData}},{key:"hasSelectedData",value:function(){return!!this.selection}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.data;t.forEach((function(t){t[k.Collapsed]=e})),this.isCollapsed=e}},{key:"activate",value:function(e){this.deactivate(),e[k.Active]=!0,this.active=e}},{key:"deactivate",value:function(){this.active&&delete this.active[k.Active],this.active=null}},{key:"ordinalIndexWithinSelection",value:function(e){if(this.selection)for(var t=0;t<this.selection.included.length;t++){var n=this.selection.included[t];if(n[o.GL_ORDINAL]===e)return{datum:n,index:t}}return{datum:null,index:-1}}},{key:"finalize",value:function(){this.data=null,this.filteredData=null,this.filteredColumnsStats=null,this.selection&&(this.selection.excluded=null,this.selection.included=null,this.selection=null)}}]),e}();!function(e){e[e.deselect=0]="deselect",e[e.isolate=1]="isolate",e[e.exclude=2]="exclude",e[e.reset=3]="reset",e[e.next=4]="next",e[e.previous=5]="previous"}(ai||(ai={}));var li=function(){function e(t,n,r,i,o,a){Object(g.a)(this,e),this.language=n,this.animator=r,this.dataScope=i,this.colorMapHandler=o,this.hasColorMaps=a,this.element=l.addDiv(t,"".concat(fn,"unitControls")),this.clear()}return Object(m.a)(e,[{key:"finalize",value:function(){this.element&&(this.element.innerHTML=""),this.dataScope=null,this.element=null}},{key:"clear",value:function(){this.state={userSelection:null,index:-1,remapColor:!1},this.render()}},{key:"clearSelection",value:function(){this.state.userSelection=null,this.state.index=-1,this.render()}},{key:"populate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.state.userSelection=e,this.state.index=t,this.render()}},{key:"selectByNameValue",value:function(e,t){var n={name:e,operator:"==",value:t};this.clearSelection(),this.animator.select(n),this.populate(this.dataScope.selection)}},{key:"remapChanged",value:function(e){this.state.remapColor=e,this.colorMapHandler(e),this.render()}},{key:"handleAction",value:function(e){var t,n=this,r=this.state.userSelection;switch(e){case ai.deselect:this.clearSelection(),t=this.animator.deselect();break;case ai.exclude:this.clearSelection(),t=this.animator.filter(oe(r.search),r.excluded,r.included),this.state.remapColor=!1;break;case ai.isolate:this.clearSelection(),t=this.animator.filter(r.search,r.included,r.excluded),this.state.remapColor=!1;break;case ai.reset:this.clear(),t=this.animator.reset();break;default:switch(e){case ai.previous:this.state.index--,this.state.index<0&&(this.state.index=this.state.userSelection.included.length-1);break;case ai.next:this.state.index++,this.state.index>=this.state.userSelection.included.length&&(this.state.index=0)}this.render(),t=this.animator.activate(this.state.userSelection.included[this.state.index])}t.then((function(){return n.render()}))}},{key:"render",value:function(){var e=this,t=this.dataScope.hasFilteredData(),n={language:this.language,actionHandler:function(t){return e.handleAction(t)},selectionHandler:function(t,n){return e.selectByNameValue(t,n)},count:this.state.userSelection&&this.state.userSelection.included.length,hasRefinedData:t,item:this.state.userSelection&&this.state.userSelection.included[this.state.index],remapColorHandler:function(t){return e.remapChanged(t)},hasColorMaps:this.hasColorMaps()&&t,remapColor:this.state.remapColor};me(ci(n),this.element)}}]),e}(),ci=function(e){var t=[fe("button",{disabled:!e.item,onClick:function(t){return e.actionHandler(ai.deselect)}},e.language.deselect),fe("button",{disabled:!e.item,onClick:function(t){return e.actionHandler(ai.isolate)}},e.language.isolate),fe("button",{disabled:!e.item,onClick:function(t){return e.actionHandler(ai.exclude)}},e.language.exclude)],n=fe("div",null,fe("button",{disabled:e.remapColor,onClick:function(t){return e.remapColorHandler(!0)}},e.language.newColorMap),fe("button",{disabled:!e.remapColor,onClick:function(t){return e.remapColorHandler(!1)}},e.language.oldColorMap)),r=1===e.count,i=[fe("button",{disabled:r,onClick:function(t){return e.actionHandler(ai.previous)}},e.language.previousDetail),fe("button",{disabled:r,onClick:function(t){return e.actionHandler(ai.next)}},e.language.nextDetail),fe("span",null," ",e.language.selectionCount(e.count))],s=[];for(var u in e.item)u!==o.GL_ORDINAL&&(gn(u)||s.push({cells:[{content:u},{content:di(e.language,u,e.item[u],e.selectionHandler)}]}));return fe("div",null,e.hasColorMaps&&n,fe("h4",null,e.language.headers.selection),fe("div",{className:"".concat(fn,"selection")},t,fe("button",{disabled:!e.hasRefinedData,onClick:function(t){return e.actionHandler(ai.reset)}},"reset")),e.item&&fe("h4",null,e.language.headers.details),fe("div",null,fe("div",{className:"".concat(fn,"details-scroll")},e.item&&i),fe("div",{className:"".concat(fn,"details")},e.item&&fe(a.Table,{rows:s}))))};function di(e,t,n,r){return fe("span",null,fe("a",{href:"#",onClick:function(e){return r(t,n)}},n),isNaN(n)?[" ",fe("a",{className:"bing-search",href:"https://www.bing.com/search?q=".concat(encodeURIComponent(n)),target:"_blank"},e.bing)]:"")}function fi(e,t){var n=e.getElement(Dt.vegaControls);hi(!!n.querySelectorAll(".vega-bindings > *").length,n,t.chart);var r=e.getElement(Dt.legend);hi(!!r.children.length,r,t.legend)}function hi(e,t,n){var r=function(e,t){var n=e.previousElementSibling;if(n&&n.innerHTML===t)return n}(t,n);e&&!r&&function(e,t){var n=document.createElement("h4");n.innerHTML=t,e.insertAdjacentElement("beforebegin",n)}(t,n),!e&&r&&r.remove()}function pi(e,t,n,r){return t.quantitative?function(e,t,n,r){var i,o,a=Object.keys(n.rows).map((function(e){return+e})).sort((function(e,t){return+e-+t})),s=n.rows[r].label;switch(e){case"continuous":i=s,r<a.length-1&&(o=n.rows[r+1].value);break;default:if(s.indexOf("null")>0)return{expressions:[Kn(t)]};var u=s.indexOf("\u2013");u>0?(i=s.substr(0,u),o=s.substr(u+1)):s.indexOf("<")>=0?o=s.substring(2):s.indexOf("\u2265")>=0&&(i=s.substring(2))}i&&(i=Wn(i));o&&(o=Wn(o));return Xn(t,i,o,void 0,void 0)}(e,t,n,r):function(e,t,n){if("__Other"===t.rows[n].value){var r=[];for(var i in t.rows)+i!==n&&r.push(t.rows[i].value);return function(e,t){return{expressions:t.map((function(t,n){var r={name:e.name,operator:"!=",value:t};return n&&(r.clause="&&"),r}))}}(e,r)}return{expressions:[qn(e,t.rows[n].value)]}}(t,n,r)}function gi(e,t,n,r){var i=[];for(var o in n.rows){var a=n.rows[o];a.search=pi(e,t,n,+o),"__Other"===a.value?a.label=r.legendOther:i.indexOf(a.value)>=0?delete n.rows[o]:i.push(a.value)}}function mi(e,t,n){return e.map((function(e){var r=l.deepMerge(e);return r.domain.color=t,r.title.color=n,r.ticks.forEach((function(e){e.color=t})),r.tickText.forEach((function(e){e.color=n})),r}))}function vi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bi(e,t,n){var r,i,o=n.axisLine&&!vi(n.axisLine,t.axisLine),a=n.axisText&&!vi(n.axisText,t.axisText);if(o||a){var s=n.axisLine||t.axisLine,u=n.axisText||t.axisText;r={x:mi(e.axes.x,s,u),y:mi(e.axes.y,s,u)}}return a&&(i=function(e,t){return e.map((function(e){return Object.assign(Object.assign({},e),{color:t})}))}(e.textData,n.axisText)),{axes:r,textData:i}}var yi=o.GL_ORDINAL,_i=l.outerSize,xi=a.Table,Si=function(){function e(t){Object(g.a)(this,e);var n={cssPrefix:t.cssPrefix,rows:wi(t.item,t.options)};if(this.element=Ci(n),this.element){this.element.style.position="absolute",this.child=this.element.firstChild,document.body.appendChild(this.element);for(var r=_i(this.child);r.height>document.documentElement.clientHeight;){var i=this.child.querySelector("tr:last-child");if(!i)break;i.parentElement.removeChild(i),r=_i(this.child)}t.position.clientX+r.width>=document.documentElement.clientWidth&&(this.child.style.right="0");var o=!0;t.position.clientY+r.height>=document.documentElement.clientHeight&&(t.position.clientY-r.height>0?this.child.style.bottom="0":o=!1),o&&(this.element.style.top="".concat(t.position.clientY,"px")),this.element.style.left="".concat(t.position.clientX,"px")}}return Object(m.a)(e,[{key:"finalize",value:function(){this.element&&document.body.removeChild(this.element),this.element=null}}]),e}();function wi(e,t){var n=[];for(var r in e)if(r!==yi&&!gn(r)&&!(t&&t.exclude&&t.exclude(r))){var i=e[r],o=void 0;if(t&&t.displayValue)o=t.displayValue(i);else switch(i){case null:o=fe("i",null,"null");break;case void 0:o=fe("i",null,"undefined");break;default:o=i.toString()}n.push({cells:[{content:r+":"},{content:o}]})}return n}var Ci=function(e){return 0===e.rows.length?null:fe("div",{className:"".concat(e.cssPrefix,"tooltip")},xi({rows:e.rows}))},ki=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ei=u.defaultView,Oi=!1,Ti=function(){function e(t,n){var r=this;Object(g.a)(this,e),this.element=t,this.options=l.deepMerge(cn,n),this.presenter=new Jt(t,dn(this.options)),this._dataScope=new ui,this._animator=new wn(this._dataScope,{onDataChanged:this.onDataChanged.bind(this),onAnimateDataChange:this.onAnimateDataChange.bind(this)}),this._details=new li(this.presenter.getElement(Dt.panel),this.options.language,this._animator,this._dataScope,(function(e){r.currentColorContext=~~e,r.renderSameLayout()}),(function(){return r.insight&&r.insight.columns&&!!r.insight.columns.color&&r.colorContexts&&r.colorContexts.length>1})),this.insight={},this._signalValues={}}return Object(m.a)(e,[{key:"changeColorContexts",value:function(e){this.colorContexts=e,this.currentColorContext=0,this.options.onColorContextChange&&this.options.onColorContextChange()}},{key:"applyLegendColorContext",value:function(e){me(e.legendElement,this.presenter.getElement(Dt.legend)),this.presenter.stage.legend=e.legend}},{key:"onAnimateDataChange",value:function(e,t,n){var r=this;return new Promise((function(i,o){var a;if(e===_n.refine){var s=r.colorContexts[r.currentColorContext];a=new Promise((function(e){r.renderNewLayout({preStage:function(e,t){gi(r.insight.colorBin,r._specColumns.color,e.legend,r.options.language),r.overrideAxisLabels(e),On([s.colorMap],l.getCubes(t)),r.options.onStage&&r.options.onStage(e,t)}}).then((function(){r.applyLegendColorContext(s),e()}))}))}else a=r.renderNewLayout({preStage:function(e,t){gi(r.insight.colorBin,r._specColumns.color,e.legend,r.options.language),r.overrideAxisLabels(e),r.options.onStage&&r.options.onStage(e,t)}});a.then((function(){r.presenter.animationQueue(i,r.options.transitionDurations.position,{waitingLabel:t,handlerLabel:n,animationCanceled:o})}))}))}},{key:"onDataChanged",value:function(e,t){return ki(this,void 0,void 0,Sn.a.mark((function n(){var r,i,o,a,s=this;return Sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=n.t0===_n.same?3:n.t0===_n.refine?5:n.t0===_n.reset?11:18;break;case 3:return this.renderSameLayout(),n.abrupt("break",18);case 5:return r=this.colorContexts[this.currentColorContext],n.next=8,this.renderNewLayout({preStage:function(e,t){i=kn(e.cubeData),On([r.colorMap],l.getCubes(t)),s.preStage(e,t)},onPresent:function(){var e={colorMap:i,legend:l.clone(s.presenter.stage.legend),legendElement:s.presenter.getElement(Dt.legend).children[0]};s.applyLegendColorContext(r),s.changeColorContexts([r,e])}});case 8:return J(this.insight.filter,t)||(this.insight.filter=ae(this.insight.filter,t)),this.options.onDataFilter&&this.options.onDataFilter(this.insight.filter,this._dataScope.currentData()),n.abrupt("break",18);case 11:return o={colorMap:null,legend:null,legendElement:null},this.changeColorContexts([o]),n.next=15,this.renderNewLayout({onPresent:function(){En(o,s.presenter)}});case 15:return delete this.insight.filter,this.options.onDataFilter&&this.options.onDataFilter(null,null),n.abrupt("break",18);case 18:this.options.onSelectionChanged&&(a=this.getSelection(),this.options.onSelectionChanged(a&&a.search||null,0,a&&a.selectedData||null));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"getSpecColumnsWithFilteredStats",value:function(){var e=this;if(!this._dataScope.hasFilteredData())return this._specColumns;var t=Object.assign({},this._specColumns);return["color","facet","group","size","sort","x","y","z"].forEach((function(n){if(t[n]){var r=Object.assign({},t[n]);r.stats=e.getColumnStats(r),t[n]=r}})),t}},{key:"renderNewLayout",value:function(e,t){return ki(this,void 0,void 0,Sn.a.mark((function n(){var r,i,o,a,s,u;return Sn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this._dataScope.currentData(),i={specColumns:this.getSpecColumnsWithFilteredStats(),insight:this.insight,specViewOptions:this.options},(o=ni(i,r)).errors){n.next=25;break}return a=Pn(this.vegaViewGl,this.vegaSpec),this._signalValues=Object.assign(Object.assign(Object.assign({},this._signalValues),a),this.insight.signalValues),Tn(this._signalValues,o.vegaSpec),this.vegaSpec=o.vegaSpec,this.options.onVegaSpec&&this.options.onVegaSpec(this.vegaSpec),this.specCapabilities=o.specCapabilities,s=this.createConfig(e),t&&(s.getView=function(){return t}),Oi||(bn(Ue.vega),Oi=!0),n.prev=13,u=Ue.vega.parse(this.vegaSpec),this.vegaViewGl=new nn(u,s).renderer("deck.gl").initialize(this.element),n.next=18,this.vegaViewGl.runAsync();case 18:this.configForSignalCapture(s.presenterConfig),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(13),o.errors=[n.t0.message];case 24:o.errors||fi(this.presenter,this.options.language.headers);case 25:return o.errors&&(this.options.onError?this.options.onError(o.errors):this.presenter.logger&&this.presenter.logger("errors rendering Vega spec:".concat(o.errors.join("\n")))),n.abrupt("return",o);case 27:case"end":return n.stop()}}),n,this,[[13,21]])})))}},{key:"renderSameLayout",value:function(e){var t=this.colorContexts[this.currentColorContext],n=this.presenter.getCubeData().map((function(e){return Object.assign({},e)}));this.applyLegendColorContext(t);var r,i=this.presenter.stage,o=i.axes,a=i.textData;e&&(e.colors&&(o=(r=bi(this.presenter.stage,this._lastColorOptions,e.colors)).axes||o,a=r.textData||a),this.options=l.deepMerge(this.options,e));var s,u=[t.colorMap],c=this._dataScope.hasSelectedData(),d=!!this._dataScope.active;if(c||d){var f=Cn(this._dataScope.currentData(),c,d,this.options);u.push(f),s=this.options.colors.unselectedColorMethod}On(u,n,s);var h={cubeData:n,axes:o,textData:a};this.vegaViewGl.presenter.rePresent(h,this.createConfig().presenterConfig)}},{key:"getView",value:function(e){return void 0===e?null===this.presenter.view?Ei:this.presenter.view:e}},{key:"transformData",value:function(e,t){try{var n=Ue.vega.parse({$schema:"https://vega.github.io/schema/vega/v4.json",data:[{name:"source",values:e,transform:t}]});new nn(n).run()}catch(r){}return e}},{key:"render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ki(this,void 0,void 0,Sn.a.mark((function r(){var i,o,a=this;return Sn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(J(e.filter,this.insight.filter)){r.next=16;break}if(o=100,!e.filter){r.next=9;break}return r.next=5,this._render(e,t,n);case 5:i=r.sent,this.presenter.animationQueue((function(){a.filter(e.filter)}),o,{waitingLabel:"layout before refine",handlerLabel:"refine after layout"}),r.next=14;break;case 9:return this._dataScope.setFilteredData(null),r.next=12,this._render(e,t,n);case 12:i=r.sent,this.presenter.animationQueue((function(){a.reset()}),o,{waitingLabel:"layout before reset",handlerLabel:"reset after layout"});case 14:r.next=19;break;case 16:return r.next=18,this._render(e,t,n);case 18:i=r.sent;case 19:return r.abrupt("return",i);case 20:case"end":return r.stop()}}),r,this)})))}},{key:"shouldViewstateTransition",value:function(e,t){return!!t.columns&&(t.chart!==e.chart||(t.size.height!==e.size.height||(t.size.width!==e.size.width||t.columns.facet!==e.columns.facet)))}},{key:"configForSignalCapture",value:function(e){var t=this,n={colorMap:null,legend:null,legendElement:null};e.preStage=function(e,r){t._shouldSaveColorContext()&&(n.colorMap=kn(e.cubeData)),t.preStage(e,r)},e.onPresent=function(){t._shouldSaveColorContext()&&(En(n,t.presenter),t.changeColorContexts([n]),t._dataScope.deselect())}}},{key:"_render",value:function(e,t,n){return ki(this,void 0,void 0,Sn.a.mark((function r(){var i,o,a,s,u=this;return Sn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._tooltip&&(this._tooltip.finalize(),this._tooltip=null),this._dataScope.setData(t,n.columns)&&(this._signalValues={},this.transformData(t,e.transform)),this._specColumns=Dn(e,this._dataScope.getColumns(n.columnTypes)),i=In(this._specColumns,t,n.ordinalMap),this.insight=l.clone(e),this._lastColorOptions=l.clone(this.options.colors),this._shouldSaveColorContext=function(){return!n.initialColorContext},o=n.initialColorContext||{colorMap:null,legend:null,legendElement:null},r.next=10,this.renderNewLayout({preStage:function(e,t){u._shouldSaveColorContext()?o.colorMap=kn(e.cubeData):On([o.colorMap],l.getCubes(t));var n=!!u._dataScope.hasSelectedData(),r=!!u._dataScope.active;if(u._dataScope.hasSelectedData()||u._dataScope.active){var i=Cn(u._dataScope.currentData(),n,r,u.options);On([o.colorMap,i],e.cubeData,u.options.colors.unselectedColorMethod)}u.preStage(e,t)},onPresent:function(){u._shouldSaveColorContext()?(En(o,u.presenter),u.changeColorContexts([o])):u.applyLegendColorContext(o)},shouldViewstateTransition:function(){return u.shouldViewstateTransition(e,u.insight)}},this.getView(e.view));case 10:return a=r.sent,this._shouldSaveColorContext=function(){return!n.discardColorContextUpdates||!n.discardColorContextUpdates()},this._details.render(),s={ordinalMap:i,specResult:a},r.abrupt("return",s);case 15:case"end":return r.stop()}}),r,this)})))}},{key:"overrideAxisLabels",value:function(e){}},{key:"preStage",value:function(e,t){var n=this;this.overrideAxisLabels(e);var r=Qn(this.presenter,this.specCapabilities,this._specColumns,e,(function(e,t){n.options.onAxisClick?n.options.onAxisClick(e,t):n.select(t)}),this.options.colors.axisSelectHighlight,this.options.selectionPolygonZ);t.layers.splice(1,0,r),gi(this.insight.colorBin,this._specColumns.color,e.legend,this.options.language),this.options.onStage&&this.options.onStage(e,t)}},{key:"onCubeClick",value:function(e,t){var n=this._dataScope.hasSelectedData();if(n&&this._dataScope.selection.included.length>1){var r=this._dataScope.ordinalIndexWithinSelection(t.ordinal);if(r.index>=0){if(this.activate(r.datum),this._details.populate(this._dataScope.selection,r.index),this.options.onSelectionChanged){var i=this.getSelection();this.options.onSelectionChanged(i.search,r.index,i.selectedData)}return}}if(n&&1===this._dataScope.selection.included.length&&this._dataScope.selection.included[0][o.GL_ORDINAL]===t.ordinal)this.deselect();else{var a={name:o.GL_ORDINAL,operator:"==",value:t.ordinal};this.select(a)}}},{key:"onCubeHover",value:function(e,t){if(this._tooltip&&(this._tooltip.finalize(),this._tooltip=null),t){var n=this._dataScope.currentData(),r=function(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r][o.GL_ORDINAL]===e.ordinal)return r}(t,n);r>=0&&(this._tooltip=new Si({options:this.options.tooltipOptions,item:n[r],position:e,cssPrefix:this.presenter.style.cssPrefix}))}}},{key:"onTextHover",value:function(e,t){return!!(t&&this.options.getTextColor&&this.options.getTextHighlightColor)&&!l.colorIsEqual(this.options.getTextColor(t),this.options.getTextHighlightColor(t))}},{key:"createConfig",value:function(e){var t=this,n=this.options,r={getTextColor:n.getTextColor,getTextHighlightColor:n.getTextHighlightColor,onTextClick:n.onTextClick,onCubeClick:this.onCubeClick.bind(this),onCubeHover:this.onCubeHover.bind(this),onTextHover:this.onTextHover.bind(this),preStage:this.preStage.bind(this),onPresent:this.options.onPresent,onLayerClick:function(e,n,r){e||t.deselect()},onLegendClick:function(e,n,r){var i=null!==r&&n.rows[r];i?t.options.onLegendRowClick?t.options.onLegendRowClick(e,i):t.select(i.search):t.options.onLegendHeaderClick&&t.options.onLegendHeaderClick(e)}};this.options.onBeforeCreateLayers&&(r.preLayer=function(e){return t.options.onBeforeCreateLayers(e,t.specCapabilities)});var i={presenter:this.presenter,presenterConfig:Object.assign(r,e)};return this.options.transitionDurations&&(i.presenterConfig.transitionDurations=this.options.transitionDurations),i}},{key:"filter",value:function(e){var t=this,n=this._dataScope.createUserSelection(e,!1);return new Promise((function(r,i){t._animator.filter(e,n.included,n.excluded).then((function(){t._details.clear(),t._details.clearSelection(),t._details.populate(t._dataScope.selection),r()}))}))}},{key:"reset",value:function(){var e=this;return new Promise((function(t,n){e._animator.reset().then((function(){e._details.clear(),e._details.clearSelection(),t()}))}))}},{key:"select",value:function(e){var t=this;return new Promise((function(n,r){t._animator.select(e).then((function(){t._details.populate(t._dataScope.selection),n()}))}))}},{key:"deselect",value:function(){var e=this;return new Promise((function(t,n){e._animator.deselect().then((function(){e._details.clearSelection(),t()}))}))}},{key:"getSelection",value:function(){return this._dataScope?{search:this._dataScope.selection&&this._dataScope.selection.search||null,selectedData:this._dataScope.selection&&this._dataScope.selection.included||null,active:this._dataScope.active}:null}},{key:"activate",value:function(e){var t=this;return new Promise((function(n,r){t._animator.activate(e).then((function(){t._details.render(),n()}))}))}},{key:"deActivate",value:function(){var e=this;return new Promise((function(t,n){e._dataScope&&e._dataScope.active?e._animator.deactivate().then((function(){e._details.render(),t()})):t()}))}},{key:"getInsight",value:function(){var e=Object.assign({},this.insight);return e.signalValues=this.getSignalValues(),e}},{key:"getColumnStats",value:function(e){return this._dataScope.hasFilteredData()?this._dataScope.getFilteredColumnStats(e.name):e.stats}},{key:"getSignalValues",value:function(){return Pn(this.vegaViewGl,this.vegaSpec)}},{key:"finalize",value:function(){this._dataScope&&this._dataScope.finalize(),this._details&&this._details.finalize(),this._tooltip&&this._tooltip.finalize(),this.vegaViewGl&&this.vegaViewGl.finalize(),this.presenter&&this.presenter.finalize(),this.element&&(this.element.innerHTML=""),this.colorContexts=null,this.element=null,this.options=null,this.presenter=null,this.vegaSpec=null,this.vegaViewGl=null,this._animator=null,this._dataScope=null,this._details=null,this._tooltip=null}}]),e}();Ti.defaultViewerOptions=cn;var Pi="2.1.0",Ii=He,Di=n(144),Ai=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},Mi=n.n(Di).a||Di,ji=n(48);function Ri(e,t){return Object.assign(Object.assign({view:null,filter:null},e),{signalValues:t})}var Fi=function(e){b(n,e);var t=w(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"areLayoutPropsSame",value:function(){var e=this.viewer.getInsight(),t=Ri(e,Object.assign(Object.assign({},this.viewer.insight.signalValues),e.signalValues)),n=Ri(this.props.insight,Object.assign(Object.assign({},t.signalValues),this.props.insight.signalValues));return Mi(t,n)&&this.props.data===this.lastData}},{key:"needsLayout",value:function(){return this.props.insight&&this.props.data&&!this.areLayoutPropsSame()}},{key:"layout",value:function(){var e=this;this.lastData=this.props.data,this.viewer.render(this.props.insight,this.props.data,this.props.renderOptions).then((function(t){e.props.onView&&e.props.onView(t)})).catch((function(){}))}},{key:"view",value:function(){this.needsLayout()&&this.layout()}},{key:"componentDidMount",value:function(){var e=Object(ji.findDOMNode)(this.viewerDiv);this.viewer=new Ti(e,this.props.viewerOptions),this.props.onMount?this.props.onMount(this.viewer.presenter.getElement(c.PresenterElement.gl))&&this.view():this.view()}},{key:"componentDidUpdate",value:function(){this.viewer.options=c.util.deepMerge(this.viewer.options,this.props.viewerOptions),this.view()}},{key:"componentWillUnmount",value:function(){this.viewer.finalize()}},{key:"render",value:function(){var e=this;return C.createElement("div",{className:"sanddance-ReactViewer",ref:function(t){return e.viewerDiv=t}})}}]),n}(C.Component),Ni={fabric:null};function Li(e,t,n,r,i){f.VegaDeckGl.use(t,n,r,i),Ni.fabric=e}function Bi(e,t){var n=Object.keys(e[0]),r=e.map((function(e){return n.map((function(n){var r=e[n];return"number"===typeof r?r:"string"===typeof r?r.indexOf(t)>=0?'"'.concat(r.replace(/"/g,'""'),'"'):r:""})).join(t)}));return r.unshift(n.join(t)),r.join("\n")}var zi=function(e,t){return'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>'.concat(e,'</title>\n    <link rel="stylesheet" type="text/css"\n        href="https://unpkg.com/@msrvida/sanddance-embed@2/dist/css/sanddance-embed.css" />\n    <link rel="stylesheet" type="text/css"\n        href="https://unpkg.com/@msrvida/sanddance-explorer@2.2/dist/css/sanddance-explorer.css" />\n</head>\n\n<body>\n    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin><\/script>\n    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin><\/script>\n    <script src="https://unpkg.com/deck.gl@6/deckgl.min.js"><\/script>\n    <script src="https://unpkg.com/vega@5.8/build/vega.min.js"><\/script>\n    <script src="https://unpkg.com/office-ui-fabric-react@6.204.4/dist/office-ui-fabric-react.js"><\/script>\n    <script src="https://unpkg.com/@msrvida/sanddance-explorer@2.2/dist/umd/sanddance-explorer.js"><\/script>\n    <script src="https://unpkg.com/@msrvida/sanddance-embed@2/dist/umd/sanddance-embed.js"><\/script>\n\n    <div id="app"></div>\n\n    ').concat(t,"\n\n</body>\n\n</html>")},Ui={appName:"SandDance",bingsearch:"Bing",bingsearchDescription:function(e){return'Search Bing for "'.concat(e,'"')},buttonClose:"Close",buttonSelect:"Search & Select",buttonColorSchemeMap:"Map color scheme to filtered data",buttonColorSchemeRemap:"Remap color to filtered data",buttonColorSchemeKeep:"Keep same color scheme",buttonCopyToClipboard:"Copy to clipboard",buttonExclude:"Exclude",buttonExport:"Export",buttonExportCount:function(e){return 1==e?"Export 1 row...":"Export ".concat(e," rows...")},buttonIsolate:"Isolate",buttonReset:"Stop filtering",buttonDeselect:"Clear selection",buttonToolbarFloat:"Float toolbar",buttonToolbarDock:"Dock toolbar",buttonToolbarHide:"Hide toolbar",buttonToolbarShow:"Show toolbar",buttonNextDataItem:"Next data item",buttonPrevDataItem:"Previous data item",buttonCreateSnapshot:"Create snapshot",buttonNextSnapshot:"Next snapshot",buttonPrevSnapshot:"Previous snapshot",buttonUpdateSnapshot:"Update snapshot",buttonAddExpression:"Add expression",buttonAddExpressionGroup:"Add group",buttonDeleteExpression:"Delete",buttonDeleteExpressionGroup:"Delete group",buttonClearSnapshots:"Clear snapshots",buttonDeleteSnapshot:"Delete snapshot",buttonEditSnapshot:"Edit snapshot",buttonMoveUp:"Move up",buttonMoveDown:"Move down",buttonShowVegaSpec:"Show Vega spec",buttonLaunchVegaEditor:"Open Vega Editor",buttonCameraHome:"Center chart in window",buttonTooltipMapping:"Tooltip columns...",chartTypeBarChartH:"Bar",chartTypeBarChartV:"Column",chartTypeDensity:"Density",chartTypeGrid:"Grid",chartTypeScatterPlot:"Scatter",chartTypeStacks:"Stacks",chartTypeTreeMap:"Treemap",defaultFileName:"sanddance-data",errorExportFilenameEmpty:"Filename cannot be blank",errorExportFilenameCharacters:function(e){return"A filename cannot contain any of the following characters: ".concat(e)},errorColumnMustBeNumeric:"Numeric column required for this chart type.",labelBlank:"blank",labelNull:"null",labelTrue:"true",labelFalse:"false",labelSystemInfo:"System info",labelChartSettings:"Chart settings",labelDataBrowser:"Data browser",labelDataScope:"Scope",labelExport:"Export Data",labelExportFormat:"File format",labelExportCSV:".CSV - Comma separated values",labelExportHTML:".HTML - A SandDance html page embedding this data",labelExportJSON:".JSON - JavaScript object notation",labelExportTSV:".TSV - Tab separated values",labelTools:"Tools",labelVegaSpec:"Vega specification",labelColor:"Chart color",labelError:"Error",labelExportFileName:"File name",labelSnapshots:"Snapshots",labelSnapshotSettingThumbnailWidth:"Thumbnail image width",labelSearch:"Select by search",labelSearchClause:"Clause",labelSearchColumn:"Field",labelSearchOperator:"Operator",labelSearchValue:"Value",labelSearchValuePlaceholder:"Value to search for",labelChart:"Chart",labelChartCanvas:"Chart canvas",labelColumnMapping:"Column Mapping",labelChartTypeOptions:"Chart options",labelColorBin:"Color binning",labelColorOptions:"Color options",labelColorBinExplanation:"For numeric columns",labelColorFieldInfo:function(e,t,n,r){return'Field <span className="fieldname">'.concat(e,'</span> is of type <span className="fieldtype">').concat(t,"</span>").concat(n?" and has ".concat(r," distinct values"):"",".")},labelColorFieldIsColorData:function(e){return'Field <span className="fieldname">'.concat(e,"</span> contains direct color data.")},labelColorBinNone:"None (continuous)",labelColorBinQuantize:"Quantize",labelColorBinQuantile:"Quantile",labelColorFilter:"Note: Colors will be re-mapped to the filter when viewing this snapshot.",labelColorScheme:"Scheme",labelColumnColor:"Color by",labelColumnFacet:"Facet by",labelColumnSort:"Sort by",labelColumnX:"X Axis",labelColumnY:"Y Axis",labelColumnZ:"Z Axis",labelColumnSize:"Size by",labelColumnGroup:"Group by",labelAliasColor:"Color",labelAliasFacet:"Facet",labelAliasSort:"Sort",labelAliasX:"X Axis",labelAliasY:"Y Axis",labelAliasZ:"Z Axis",labelAliasSize:"Size",labelAliasGroup:"Group",labelDataItemIsFiltered:"Item is filtered from view",labelShowLegend:"Show legend",labelShowAxes:"Show axes",labelSnapshotTitle:"Title",labelSnapshotDescription:"Note (optional)",labelTooltipMapping:"Tooltip columns",labelTransitionDurations:"Transition durations",labelTransitionCamera:"2D / 3D view",labelTransitionColor:"Color",labelTransitionPosition:"Position",labelTransitionSize:"Size",labelVegaSpecData:"Data reference",labelVegaSpecNotes:"Note: You may need to change the color scheme to make this visible in Vega.",labelYes:"Yes",labelNo:"No",labelConfirmation:"Are you sure?",loading:"Loading...",schemeCategorical:"Categorical",schemeDiverging:"Diverging",schemeDual:"Dual",schemeSequentialMultiHue:"Sequential Multi Hue",schemeSequentialSingleHue:"Sequential Single Hue",selectDataSpanAll:"All rows",selectDataSpanFilter:"Filtered",selectDataSpanSelection:"Selected",selectVegaSpecDataNone:"None",selectVegaSpecDataInline:"Inline - WARNING this may use substantial browser/clipboard memory for large data sets.",selectVegaSpecDataUrl:"URL",record:function(e,t){return"".concat(e," of ").concat(t)},searchEQ:"=",searchNEQ:"<>",searchGT:">",searchGTE:">=",searchLT:"<",searchLTE:"<=",searchNULL:"is null or empty",searchIN:"contains",searchSW:"starts with",searchWHERE:"Where",searchAND:"and",searchOR:"or",selectAny:"-- any --",selectNone:"-- none --",selectNumeric:"Numeric",selectNonNumeric:"Categorical",selectDirectColor:"Direct color",selectReference:"Column mappings",tooltipSearch:function(e,t){return"Click to search in '".concat(e,"' for \"").concat(t,'"')},labelRequired:"required",labelSystem:"System",lavelViewType2d:"View in 2D",labelViewType3d:"View in 3D",labelDataColors:"Enabled if this data column contains any CSS color values.",labelDataNullAll:"Loading data...",labelDataNullFiltered:"You can filter by first making a selection, then choosing <b>Isolate</b> or <b>Exclude</b> in the top bar.",labelDataNullSelection:"You can select by: <ul><li>clicking the chart axes</li><li>clicking in the legend</li><li>searching</li</ul>",labelZeroAll:"Dataset contains zero rows.",labelZeroSearchResults:"No rows matched your search.",signalGroups:[{prefix:"Chart",label:"Chart options"},{prefix:"Mark",label:"Mark options"},{prefix:"RoleColor",label:"Color options"},{prefix:"RoleFacet",label:"Facet options"},{prefix:"RoleSort",label:"Sort options"},{prefix:"RoleX",label:"X axis options"},{prefix:"RoleY",label:"Y axis options"},{prefix:"RoleZ",label:"Z axis options"},{prefix:"Text",label:"Text options"},{prefix:"*",label:"Options"}]},Hi=[["json",Ui.labelExportJSON],["csv",Ui.labelExportCSV],["tsv",Ui.labelExportTSV],["html",Ui.labelExportHTML]],Vi=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state=r.getInitialState(r.props),r}return Object(m.a)(n,[{key:"getInitialState",value:function(e){return{initializer:e.initializer,dialogHidden:!0,exportType:Hi[0][0],fileName:e.initializer.fileName,fileNameError:"",working:!1}}},{key:"componentDidUpdate",value:function(){h.deepCompare(this.props.initializer,this.state.initializer)||this.setState(this.getInitialState(this.props))}},{key:"createExport",value:function(e,t){var n=this,r=function(r){n.props.dataExportHandler(r,e,t),n.close()},i=JSON.stringify(this.props.data,Wi);switch(e){case"json":r(i);break;case"csv":r(Bi(JSON.parse(i),","));break;case"tsv":r(Bi(JSON.parse(i),"\t"));break;case"html":var o=Bi(JSON.parse(i),",");r(zi("".concat(Ui.appName," - ").concat(escape(t)),Gi(o,t)))}}},{key:"close",value:function(){this.setState({dialogHidden:!0,working:!1})}},{key:"render",value:function(){var e=this,t=function(){return e.close()};this.state.delayAction&&requestAnimationFrame((function(){e.state.delayAction&&(e.state.delayAction(),e.setState({delayAction:null}))}));var n=this.state.working||this.state.dialogHidden;return C.createElement("div",{className:"sanddance-dataExporter"},C.createElement(Ni.fabric.DefaultButton,{className:"search-action search-bottom-action",text:Ui.buttonExportCount(this.props.data.length),onClick:function(){return e.setState({dialogHidden:!1})},disabled:this.props.disabled}),C.createElement(Ni.fabric.Dialog,{hidden:this.state.dialogHidden,onDismiss:t,dialogContentProps:{className:"sanddance-dialog ".concat(this.props.theme),type:Ni.fabric.DialogType.normal,title:Ui.labelExport}},C.createElement(Ni.fabric.TextField,{label:Ui.labelExportFileName,onChange:function(t,n){var r=function(e){if(!e)return Ui.errorExportFilenameEmpty;for(var t=0;t<'\\/:*?"<>|'.length;t++)if(e.indexOf('\\/:*?"<>|'[t])>=0)return Ui.errorExportFilenameCharacters('\\/:*?"<>|')}(n);e.setState({fileName:n,fileNameError:r})},errorMessage:this.state.fileNameError,value:this.state.fileName}),C.createElement(Ni.fabric.ChoiceGroup,{className:"sanddance-form-separate",disabled:n,options:Hi.map((function(t){var n=Object(p.a)(t,2),r=n[0];return{key:r,text:n[1],disabled:!1,checked:r===e.state.exportType}})),onChange:function(t,n){return e.setState({exportType:n.key})},label:Ui.labelExportFormat}),C.createElement(Ni.fabric.DialogFooter,null,C.createElement(Ni.fabric.PrimaryButton,{disabled:n||!!this.state.fileNameError,onClick:function(t){return e.setState({delayAction:function(){return e.createExport(e.state.exportType,e.state.fileName)},working:!0})},text:Ui.buttonExport}),C.createElement(Ni.fabric.DefaultButton,{onClick:t,text:Ui.buttonClose}))))}}]),n}(C.Component);function Wi(e,t){if(!f.util.isInternalFieldName(e,!0))return null===t?"":t}function Gi(e,t,n){var r={type:"csv",displayName:t,snapshots:n};return"<pre id='csv-data' style='display:none'>".concat(e,"</pre>\n    <script>SandDanceEmbed.load(Object.assign({rawText: document.getElementById('csv-data').innerText}, ").concat(JSON.stringify(r),"))<\/script>")}var Ki=f.VegaDeckGl.PresenterElement;function qi(e){var t=e.presenter.getElement(Ki.gl).getElementsByTagName("canvas");if(t)return t[0]}var Yi=!!document.createElement("canvas").getContext("webgl"),Xi=!!document.createElement("canvas").getContext("webgl2"),Zi={};function Qi(e){return C.createElement(Ni.fabric.IconButton,Object.assign({},e,{styles:{rootHovered:{color:e.themePalette.themePrimary},menuIcon:{display:"none"}},iconProps:{iconName:e.iconName},menuProps:e.menuProps}))}Zi[""]={themePrimary:"#0078d4",themeLighterAlt:"#eff6fc",themeLighter:"#deecf9",themeLight:"#c7e0f4",themeTertiary:"#71afe5",themeSecondary:"#2b88d8",themeDarkAlt:"#106ebe",themeDark:"#005a9e",themeDarker:"#004578",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#c2c2c2",neutralSecondary:"#858585",neutralPrimaryAlt:"#4b4b4b",neutralPrimary:"#333333",neutralDark:"#272727",black:"#1d1d1d",white:"#ffffff"},Zi["dark-theme"]={themePrimary:"#00b4f0",themeLighterAlt:"#00070a",themeLighter:"#001d26",themeLight:"#003648",themeTertiary:"#006c90",themeSecondary:"#009ed3",themeDarkAlt:"#18bbf1",themeDark:"#3ac5f3",themeDarker:"#6cd4f6",neutralLighterAlt:"#0b0b0b",neutralLighter:"#151515",neutralLight:"#252525",neutralQuaternaryAlt:"#2f2f2f",neutralQuaternary:"#373737",neutralTertiaryAlt:"#595959",neutralTertiary:"#929292",neutralSecondary:"#a7a7a7",neutralPrimaryAlt:"#b4b4b4",neutralPrimary:"#cccccc",neutralDark:"#d8d8d8",black:"#f5f5f5",white:"#000000"};function $i(e,t,n){var r=e.getElement(f.VegaDeckGl.PresenterElement.panel),i=function(e){var t=e.getElementsByClassName("sanddance-panel-tools");if(t.length>0)return t[0];var n=f.VegaDeckGl.util.addDiv(e,"sanddance-panel-tools");return e.insertAdjacentElement("afterbegin",n),n}(r);ji.render(function(e){var t={items:[{key:"new",text:Ui.buttonColorSchemeRemap,disabled:!e.canRemap||e.isRemap,onClick:function(){return e.colorMapHandler(!0)}},{key:"old",text:Ui.buttonColorSchemeKeep,disabled:!e.canRemap||!e.isRemap,onClick:function(){return e.colorMapHandler(!1)}}]};return C.createElement("div",null,C.createElement(Qi,{themePalette:e.themePalette,title:Ui.buttonColorSchemeMap,onClick:null,iconName:e.canRemap?"FiltersSolid":"Filters",menuProps:t}))}(n),i),r.style.display=t?"":"none"}function Ji(e){return e.quantitative?"redyellowgreen":2===e.stats.distinctValueCount?"dual_redgreen":e.stats.distinctValueCount<=10?"category10":"category20"}function eo(e){var t=Object.assign({},e),n=null;if(t.options&&t.options.length>1){var r=t.options.filter((function(e){return e.selected}));r&&r.length>0&&(n=r[0].key)}return t.collapseLabel&&(t.onRenderTitle=function(e,n){return C.createElement("span",null,t.label,": ",e[0].text)}),C.createElement(Ni.fabric.Dropdown,Object.assign({dropdownWidth:200},t,{label:t.collapseLabel?null:t.label,selectedKey:n}))}function to(e){if(!e.explorer.viewer||!e.signal)return null;if(e.signal.bind){var t=e.signal.bind.input;if(t){var n=no[t];if(n){var r,i=e.prefix?"".concat(e.prefix," "):"";try{r=e.explorer.viewer.vegaViewGl.signal(e.signal.name)}catch(a){}var o=n(i,e.signal.bind,r,(function(t){e.onChange&&e.onChange(t),e.explorer.signal(e.signal.name,t)}),e.disabled);return C.createElement("div",{className:"sanddance-signal"},o)}}}return null}var no={range:function(e,t,n,r,i){return C.createElement(Ni.fabric.Slider,{label:e+t.name,max:t.max,min:t.min,step:t.step,value:n,onChange:r,disabled:i})},select:function(e,t,n,r,i){var o=t.options.map((function(e,t){return{key:e,text:e}}));return C.createElement(Ni.fabric.Dropdown,{defaultSelectedKey:n,label:e+t.name,options:o,onChange:function(e,t){return r(t.text)},disabled:i})},checkbox:function(e,t,n,r,i){return C.createElement(Ni.fabric.Toggle,{defaultChecked:n,label:e+t.name,onChange:function(e,t){return r(t)},disabled:i})}},ro={color:Ui.labelColumnColor,facet:Ui.labelColumnFacet,group:Ui.labelColumnGroup,size:Ui.labelColumnSize,sort:Ui.labelColumnSort,uid:null,x:Ui.labelColumnX,y:Ui.labelColumnY,z:Ui.labelColumnZ},io={color:Ui.labelAliasColor,facet:Ui.labelAliasFacet,group:Ui.labelAliasGroup,size:Ui.labelAliasSize,sort:Ui.labelAliasSort,uid:null,x:Ui.labelAliasX,y:Ui.labelAliasY,z:Ui.labelAliasZ};function oo(e,t,n,r){var i=function(e,t){switch(e){case"facet":return t.filter((function(e){return e.quantitative||e.stats.distinctValueCount&&e.stats.distinctValueCount<50}));default:return t.slice()}}(n,t).map((function(e){return{key:"column:".concat(e.name),text:e.name,data:e,selected:r===e.name}}));if(i.length){var o={key:e,text:e,itemType:Ni.fabric.DropdownMenuItemType.Header};i.unshift(o)}return i}function ao(e){if(!e.specRole)return null;var t,n,r,i=[];if("color"===e.specRole.role?(t=e.categoricalColumns.filter((function(e){return!e.isColorData})),n=e.categoricalColumns.filter((function(e){return e.isColorData})),r=oo(Ui.selectDirectColor,n,"color",e.selectedColumnName)):t=e.categoricalColumns,"sort"===e.specRole.role){var o=e.specCapabilities.roles.filter((function(t){return t.role!==e.specRole.role}));i=function(e,t){var n=t.map((function(e){return{key:"role:".concat(e.role),text:io[e.role],data:e.role}})).sort((function(e,t){return e.text.localeCompare(t.text)}));if(n.length){var r={key:e,text:e,itemType:Ni.fabric.DropdownMenuItemType.Header};n.unshift(r)}return n}(Ui.selectReference,o)}var a,s=oo(Ui.selectNumeric,e.quantitativeColumns,e.specRole.role,e.selectedColumnName),u=e.specRole.excludeCategoric?null:oo(Ui.selectNonNumeric,t,e.specRole.role,e.selectedColumnName),l=i.concat(s).concat(u).concat(r).filter(Boolean);e.specRole.allowNone&&l.unshift({key:-1,text:Ui.selectNone}),l.reduce((function(e,t){return e||t.selected}),!1)||function(e){for(var t=0;t<e.length;t++)if(e[t].itemType!==Ni.fabric.DropdownMenuItemType.Header)return void(e[t].selected=!0)}(l),e.explorer.viewer&&e.explorer.viewer.vegaSpec&&e.specRole.signals&&(a=e.explorer.viewer.vegaSpec.signals.filter((function(t){return e.specRole.signals.indexOf(t.name)>=0})));var c=ro[e.specRole.role];return C.createElement("div",{className:"sanddance-columnMap"},C.createElement(eo,{componentRef:e.componentRef,collapseLabel:e.collapseLabel,disabled:e.disabled,label:c,options:l,onChange:function(t,n){return e.changeColumnMapping(e.specRole.role,"string"===typeof n.data?n.data:f.VegaDeckGl.util.clone(n.data))},onDismiss:e.onDismiss}),!e.hideSignals&&a&&a.map((function(t,n){return C.createElement(to,{key:n,explorer:e.explorer,signal:t,onChange:function(n){return e.onChangeSignal&&e.onChangeSignal(t.name,n)}})})))}function so(e){return C.createElement(Ni.fabric.Dialog,Object.assign({},e,{dialogContentProps:{type:Ni.fabric.DialogType.normal,title:e.title}}),e.children,C.createElement(Ni.fabric.DialogFooter,null,e.buttons,C.createElement(Ni.fabric.DefaultButton,{onClick:e.onDismiss,text:Ui.buttonClose})))}function uo(e){return C.createElement("div",{className:h.classList("sanddance-group",e.className)},C.createElement("div",{className:"group-head"},C.createElement("label",null,e.label),e.labelCount&&C.createElement("span",{className:"count"},"(",e.labelCount,")")),e.children&&C.createElement("div",{className:"group-body"},e.children))}function lo(e){return C.createElement("div",null,e.allColumns.map((function(t,n){return C.createElement("div",{key:t.name},C.createElement("label",null,C.createElement(Ni.fabric.Toggle,{checked:e.exclusions.indexOf(t.name)<0,inlineLabel:!0,label:t.name,onChange:function(){return e.toggleExclusion(t.name)}})))})))}var co=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={showTooltipDialog:!1},r}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.explorer.viewer&&t.explorer.viewer.vegaSpec&&t.specCapabilities&&t.specCapabilities.signals&&t.explorer.viewer.vegaSpec.signals.filter((function(e){return t.specCapabilities.signals.indexOf(e.name)>=0}));return C.createElement("div",null,C.createElement(uo,{label:Ui.labelChart},C.createElement("div",{className:"calculator"},C.createElement(Ni.fabric.ChoiceGroup,{className:"sanddance-chart-type",options:[{key:"grid",text:Ui.chartTypeGrid},{key:"scatterplot",text:Ui.chartTypeScatterPlot},{key:"density",text:Ui.chartTypeDensity},{key:"barchartV",text:Ui.chartTypeBarChartV},{key:"barchartH",text:Ui.chartTypeBarChartH},{key:"treemap",text:Ui.chartTypeTreeMap},{key:"stacks",text:Ui.chartTypeStacks}].map((function(e){return Object.assign(Object.assign({},e),{checked:t.chart===e.key,disabled:t.disabled})})),onChange:function(e,n){return t.onChangeChartType(n.key)}}))),n&&C.createElement(uo,{label:Ui.labelChartTypeOptions},n.map((function(e,n){return C.createElement(to,{key:n,signal:e,explorer:t.explorer,disabled:t.disabled})}))),C.createElement(uo,{label:Ui.labelColumnMapping},C.createElement("div",null,t.specCapabilities&&t.specCapabilities.roles.map((function(e,n){var r=t.insightColumns[e.role],i=t.disabled||"2d"===t.view&&"z"===e.role;return C.createElement(ao,Object.assign({},t,{collapseLabel:t.collapseLabels,disabled:i,selectedColumnName:r,specRole:e,key:n,onChangeSignal:function(n,i){return t.onChangeSignal(e.role,r,n,i)}}))})),C.createElement("div",{className:"sanddance-tooltipMap"},C.createElement(Ni.fabric.DefaultButton,{text:Ui.buttonTooltipMapping,onClick:function(){return e.setState({showTooltipDialog:!0})}})))),C.createElement(so,{hidden:!this.state.showTooltipDialog,onDismiss:function(){return e.setState({showTooltipDialog:!1})},title:Ui.labelTooltipMapping},C.createElement(lo,{allColumns:t.allColumns,exclusions:t.tooltipExclusions,toggleExclusion:t.toggleTooltipExclusion})))}}]),n}(C.Component);function fo(e,t){return{key:t,text:t,selected:e===t,scheme:t,children:ho[t]}}var ho={},po="".concat(12.5,"%"),go="".concat(100/9,"%"),mo="".concat(10,"%"),vo="".concat(100/12,"%"),bo="".concat(5,"%");ho.accent=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#7fc97f",style:{width:po,background:"rgb(127, 201, 127)"}}),C.createElement("div",{title:"#beaed4",style:{width:po,background:"rgb(190, 174, 212)"}}),C.createElement("div",{title:"#fdc086",style:{width:po,background:"rgb(253, 192, 134)"}}),C.createElement("div",{title:"#ffff99",style:{width:po,background:"rgb(255, 255, 153)"}}),C.createElement("div",{title:"#386cb0",style:{width:po,background:"rgb(56, 108, 176)"}}),C.createElement("div",{title:"#f0027f",style:{width:po,background:"rgb(240, 2, 127)"}}),C.createElement("div",{title:"#bf5b17",style:{width:po,background:"rgb(191, 91, 23)"}}),C.createElement("div",{title:"#666666",style:{width:po,background:"rgb(102, 102, 102)"}})),ho.category10=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#1f77b4",style:{width:mo,background:"rgb(31, 119, 180)"}}),C.createElement("div",{title:"#ff7f0e",style:{width:mo,background:"rgb(255, 127, 14)"}}),C.createElement("div",{title:"#2ca02c",style:{width:mo,background:"rgb(44, 160, 44)"}}),C.createElement("div",{title:"#d62728",style:{width:mo,background:"rgb(214, 39, 40)"}}),C.createElement("div",{title:"#9467bd",style:{width:mo,background:"rgb(148, 103, 189)"}}),C.createElement("div",{title:"#8c564b",style:{width:mo,background:"rgb(140, 86, 75)"}}),C.createElement("div",{title:"#e377c2",style:{width:mo,background:"rgb(227, 119, 194)"}}),C.createElement("div",{title:"#7f7f7f",style:{width:mo,background:"rgb(127, 127, 127)"}}),C.createElement("div",{title:"#bcbd22",style:{width:mo,background:"rgb(188, 189, 34)"}}),C.createElement("div",{title:"#17becf",style:{width:mo,background:"rgb(23, 190, 207)"}})),ho.category20=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#1f77b4",style:{width:bo,background:"rgb(31, 119, 180)"}}),C.createElement("div",{title:"#aec7e8",style:{width:bo,background:"rgb(174, 199, 232)"}}),C.createElement("div",{title:"#ff7f0e",style:{width:bo,background:"rgb(255, 127, 14)"}}),C.createElement("div",{title:"#ffbb78",style:{width:bo,background:"rgb(255, 187, 120)"}}),C.createElement("div",{title:"#2ca02c",style:{width:bo,background:"rgb(44, 160, 44)"}}),C.createElement("div",{title:"#98df8a",style:{width:bo,background:"rgb(152, 223, 138)"}}),C.createElement("div",{title:"#d62728",style:{width:bo,background:"rgb(214, 39, 40)"}}),C.createElement("div",{title:"#ff9896",style:{width:bo,background:"rgb(255, 152, 150)"}}),C.createElement("div",{title:"#9467bd",style:{width:bo,background:"rgb(148, 103, 189)"}}),C.createElement("div",{title:"#c5b0d5",style:{width:bo,background:"rgb(197, 176, 213)"}}),C.createElement("div",{title:"#8c564b",style:{width:bo,background:"rgb(140, 86, 75)"}}),C.createElement("div",{title:"#c49c94",style:{width:bo,background:"rgb(196, 156, 148)"}}),C.createElement("div",{title:"#e377c2",style:{width:bo,background:"rgb(227, 119, 194)"}}),C.createElement("div",{title:"#f7b6d2",style:{width:bo,background:"rgb(247, 182, 210)"}}),C.createElement("div",{title:"#7f7f7f",style:{width:bo,background:"rgb(127, 127, 127)"}}),C.createElement("div",{title:"#c7c7c7",style:{width:bo,background:"rgb(199, 199, 199)"}}),C.createElement("div",{title:"#bcbd22",style:{width:bo,background:"rgb(188, 189, 34)"}}),C.createElement("div",{title:"#dbdb8d",style:{width:bo,background:"rgb(219, 219, 141)"}}),C.createElement("div",{title:"#17becf",style:{width:bo,background:"rgb(23, 190, 207)"}}),C.createElement("div",{title:"#9edae5",style:{width:bo,background:"rgb(158, 218, 229)"}})),ho.category20b=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#393b79",style:{width:bo,background:"rgb(57, 59, 121)"}}),C.createElement("div",{title:"#5254a3",style:{width:bo,background:"rgb(82, 84, 163)"}}),C.createElement("div",{title:"#6b6ecf",style:{width:bo,background:"rgb(107, 110, 207)"}}),C.createElement("div",{title:"#9c9ede",style:{width:bo,background:"rgb(156, 158, 222)"}}),C.createElement("div",{title:"#637939",style:{width:bo,background:"rgb(99, 121, 57)"}}),C.createElement("div",{title:"#8ca252",style:{width:bo,background:"rgb(140, 162, 82)"}}),C.createElement("div",{title:"#b5cf6b",style:{width:bo,background:"rgb(181, 207, 107)"}}),C.createElement("div",{title:"#cedb9c",style:{width:bo,background:"rgb(206, 219, 156)"}}),C.createElement("div",{title:"#8c6d31",style:{width:bo,background:"rgb(140, 109, 49)"}}),C.createElement("div",{title:"#bd9e39",style:{width:bo,background:"rgb(189, 158, 57)"}}),C.createElement("div",{title:"#e7ba52",style:{width:bo,background:"rgb(231, 186, 82)"}}),C.createElement("div",{title:"#e7cb94",style:{width:bo,background:"rgb(231, 203, 148)"}}),C.createElement("div",{title:"#843c39",style:{width:bo,background:"rgb(132, 60, 57)"}}),C.createElement("div",{title:"#ad494a",style:{width:bo,background:"rgb(173, 73, 74)"}}),C.createElement("div",{title:"#d6616b",style:{width:bo,background:"rgb(214, 97, 107)"}}),C.createElement("div",{title:"#e7969c",style:{width:bo,background:"rgb(231, 150, 156)"}}),C.createElement("div",{title:"#7b4173",style:{width:bo,background:"rgb(123, 65, 115)"}}),C.createElement("div",{title:"#a55194",style:{width:bo,background:"rgb(165, 81, 148)"}}),C.createElement("div",{title:"#ce6dbd",style:{width:bo,background:"rgb(206, 109, 189)"}}),C.createElement("div",{title:"#de9ed6",style:{width:bo,background:"rgb(222, 158, 214)"}})),ho.category20c=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#3182bd",style:{width:bo,background:"rgb(49, 130, 189)"}}),C.createElement("div",{title:"#6baed6",style:{width:bo,background:"rgb(107, 174, 214)"}}),C.createElement("div",{title:"#9ecae1",style:{width:bo,background:"rgb(158, 202, 225)"}}),C.createElement("div",{title:"#c6dbef",style:{width:bo,background:"rgb(198, 219, 239)"}}),C.createElement("div",{title:"#e6550d",style:{width:bo,background:"rgb(230, 85, 13)"}}),C.createElement("div",{title:"#fd8d3c",style:{width:bo,background:"rgb(253, 141, 60)"}}),C.createElement("div",{title:"#fdae6b",style:{width:bo,background:"rgb(253, 174, 107)"}}),C.createElement("div",{title:"#fdd0a2",style:{width:bo,background:"rgb(253, 208, 162)"}}),C.createElement("div",{title:"#31a354",style:{width:bo,background:"rgb(49, 163, 84)"}}),C.createElement("div",{title:"#74c476",style:{width:bo,background:"rgb(116, 196, 118)"}}),C.createElement("div",{title:"#a1d99b",style:{width:bo,background:"rgb(161, 217, 155)"}}),C.createElement("div",{title:"#c7e9c0",style:{width:bo,background:"rgb(199, 233, 192)"}}),C.createElement("div",{title:"#756bb1",style:{width:bo,background:"rgb(117, 107, 177)"}}),C.createElement("div",{title:"#9e9ac8",style:{width:bo,background:"rgb(158, 154, 200)"}}),C.createElement("div",{title:"#bcbddc",style:{width:bo,background:"rgb(188, 189, 220)"}}),C.createElement("div",{title:"#dadaeb",style:{width:bo,background:"rgb(218, 218, 235)"}}),C.createElement("div",{title:"#636363",style:{width:bo,background:"rgb(99, 99, 99)"}}),C.createElement("div",{title:"#969696",style:{width:bo,background:"rgb(150, 150, 150)"}}),C.createElement("div",{title:"#bdbdbd",style:{width:bo,background:"rgb(189, 189, 189)"}}),C.createElement("div",{title:"#d9d9d9",style:{width:bo,background:"rgb(217, 217, 217)"}})),ho.dark2=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#1b9e77",style:{width:po,background:"rgb(27, 158, 119)"}}),C.createElement("div",{title:"#d95f02",style:{width:po,background:"rgb(217, 95, 2)"}}),C.createElement("div",{title:"#7570b3",style:{width:po,background:"rgb(117, 112, 179)"}}),C.createElement("div",{title:"#e7298a",style:{width:po,background:"rgb(231, 41, 138)"}}),C.createElement("div",{title:"#66a61e",style:{width:po,background:"rgb(102, 166, 30)"}}),C.createElement("div",{title:"#e6ab02",style:{width:po,background:"rgb(230, 171, 2)"}}),C.createElement("div",{title:"#a6761d",style:{width:po,background:"rgb(166, 118, 29)"}}),C.createElement("div",{title:"#666666",style:{width:po,background:"rgb(102, 102, 102)"}})),ho.paired=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#a6cee3",style:{width:vo,background:"rgb(166, 206, 227)"}}),C.createElement("div",{title:"#1f78b4",style:{width:vo,background:"rgb(31, 120, 180)"}}),C.createElement("div",{title:"#b2df8a",style:{width:vo,background:"rgb(178, 223, 138)"}}),C.createElement("div",{title:"#33a02c",style:{width:vo,background:"rgb(51, 160, 44)"}}),C.createElement("div",{title:"#fb9a99",style:{width:vo,background:"rgb(251, 154, 153)"}}),C.createElement("div",{title:"#e31a1c",style:{width:vo,background:"rgb(227, 26, 28)"}}),C.createElement("div",{title:"#fdbf6f",style:{width:vo,background:"rgb(253, 191, 111)"}}),C.createElement("div",{title:"#ff7f00",style:{width:vo,background:"rgb(255, 127, 0)"}}),C.createElement("div",{title:"#cab2d6",style:{width:vo,background:"rgb(202, 178, 214)"}}),C.createElement("div",{title:"#6a3d9a",style:{width:vo,background:"rgb(106, 61, 154)"}}),C.createElement("div",{title:"#ffff99",style:{width:vo,background:"rgb(255, 255, 153)"}}),C.createElement("div",{title:"#b15928",style:{width:vo,background:"rgb(177, 89, 40)"}})),ho.pastel1=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#fbb4ae",style:{width:go,background:"rgb(251, 180, 174)"}}),C.createElement("div",{title:"#b3cde3",style:{width:go,background:"rgb(179, 205, 227)"}}),C.createElement("div",{title:"#ccebc5",style:{width:go,background:"rgb(204, 235, 197)"}}),C.createElement("div",{title:"#decbe4",style:{width:go,background:"rgb(222, 203, 228)"}}),C.createElement("div",{title:"#fed9a6",style:{width:go,background:"rgb(254, 217, 166)"}}),C.createElement("div",{title:"#ffffcc",style:{width:go,background:"rgb(255, 255, 204)"}}),C.createElement("div",{title:"#e5d8bd",style:{width:go,background:"rgb(229, 216, 189)"}}),C.createElement("div",{title:"#fddaec",style:{width:go,background:"rgb(253, 218, 236)"}}),C.createElement("div",{title:"#f2f2f2",style:{width:go,background:"rgb(242, 242, 242)"}})),ho.pastel2=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#b3e2cd",style:{width:po,background:"rgb(179, 226, 205)"}}),C.createElement("div",{title:"#fdcdac",style:{width:po,background:"rgb(253, 205, 172)"}}),C.createElement("div",{title:"#cbd5e8",style:{width:po,background:"rgb(203, 213, 232)"}}),C.createElement("div",{title:"#f4cae4",style:{width:po,background:"rgb(244, 202, 228)"}}),C.createElement("div",{title:"#e6f5c9",style:{width:po,background:"rgb(230, 245, 201)"}}),C.createElement("div",{title:"#fff2ae",style:{width:po,background:"rgb(255, 242, 174)"}}),C.createElement("div",{title:"#f1e2cc",style:{width:po,background:"rgb(241, 226, 204)"}}),C.createElement("div",{title:"#cccccc",style:{width:po,background:"rgb(204, 204, 204)"}})),ho.set1=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#e41a1c",style:{width:go,background:"rgb(228, 26, 28)"}}),C.createElement("div",{title:"#377eb8",style:{width:go,background:"rgb(55, 126, 184)"}}),C.createElement("div",{title:"#4daf4a",style:{width:go,background:"rgb(77, 175, 74)"}}),C.createElement("div",{title:"#984ea3",style:{width:go,background:"rgb(152, 78, 163)"}}),C.createElement("div",{title:"#ff7f00",style:{width:go,background:"rgb(255, 127, 0)"}}),C.createElement("div",{title:"#ffff33",style:{width:go,background:"rgb(255, 255, 51)"}}),C.createElement("div",{title:"#a65628",style:{width:go,background:"rgb(166, 86, 40)"}}),C.createElement("div",{title:"#f781bf",style:{width:go,background:"rgb(247, 129, 191)"}}),C.createElement("div",{title:"#999999",style:{width:go,background:"rgb(153, 153, 153)"}})),ho.set2=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#66c2a5",style:{width:po,background:"rgb(102, 194, 165)"}}),C.createElement("div",{title:"#fc8d62",style:{width:po,background:"rgb(252, 141, 98)"}}),C.createElement("div",{title:"#8da0cb",style:{width:po,background:"rgb(141, 160, 203)"}}),C.createElement("div",{title:"#e78ac3",style:{width:po,background:"rgb(231, 138, 195)"}}),C.createElement("div",{title:"#a6d854",style:{width:po,background:"rgb(166, 216, 84)"}}),C.createElement("div",{title:"#ffd92f",style:{width:po,background:"rgb(255, 217, 47)"}}),C.createElement("div",{title:"#e5c494",style:{width:po,background:"rgb(229, 196, 148)"}}),C.createElement("div",{title:"#b3b3b3",style:{width:po,background:"rgb(179, 179, 179)"}})),ho.set3=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#8dd3c7",style:{width:vo,background:"rgb(141, 211, 199)"}}),C.createElement("div",{title:"#ffffb3",style:{width:vo,background:"rgb(255, 255, 179)"}}),C.createElement("div",{title:"#bebada",style:{width:vo,background:"rgb(190, 186, 218)"}}),C.createElement("div",{title:"#fb8072",style:{width:vo,background:"rgb(251, 128, 114)"}}),C.createElement("div",{title:"#80b1d3",style:{width:vo,background:"rgb(128, 177, 211)"}}),C.createElement("div",{title:"#fdb462",style:{width:vo,background:"rgb(253, 180, 98)"}}),C.createElement("div",{title:"#b3de69",style:{width:vo,background:"rgb(179, 222, 105)"}}),C.createElement("div",{title:"#fccde5",style:{width:vo,background:"rgb(252, 205, 229)"}}),C.createElement("div",{title:"#d9d9d9",style:{width:vo,background:"rgb(217, 217, 217)"}}),C.createElement("div",{title:"#bc80bd",style:{width:vo,background:"rgb(188, 128, 189)"}}),C.createElement("div",{title:"#ccebc5",style:{width:vo,background:"rgb(204, 235, 197)"}}),C.createElement("div",{title:"#ffed6f",style:{width:vo,background:"rgb(255, 237, 111)"}})),ho.tableau10=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#4c78a8",style:{width:mo,background:"rgb(76, 120, 168)"}}),C.createElement("div",{title:"#f58518",style:{width:mo,background:"rgb(245, 133, 24)"}}),C.createElement("div",{title:"#e45756",style:{width:mo,background:"rgb(228, 87, 86)"}}),C.createElement("div",{title:"#72b7b2",style:{width:mo,background:"rgb(114, 183, 178)"}}),C.createElement("div",{title:"#54a24b",style:{width:mo,background:"rgb(84, 162, 75)"}}),C.createElement("div",{title:"#eeca3b",style:{width:mo,background:"rgb(238, 202, 59)"}}),C.createElement("div",{title:"#b279a2",style:{width:mo,background:"rgb(178, 121, 162)"}}),C.createElement("div",{title:"#ff9da6",style:{width:mo,background:"rgb(255, 157, 166)"}}),C.createElement("div",{title:"#9d755d",style:{width:mo,background:"rgb(157, 117, 93)"}}),C.createElement("div",{title:"#bab0ac",style:{width:mo,background:"rgb(186, 176, 172)"}})),ho.tableau20=C.createElement("div",{className:"swatch"},C.createElement("div",{title:"#4c78a8",style:{width:bo,background:"rgb(76, 120, 168)"}}),C.createElement("div",{title:"#9ecae9",style:{width:bo,background:"rgb(158, 202, 233)"}}),C.createElement("div",{title:"#f58518",style:{width:bo,background:"rgb(245, 133, 24)"}}),C.createElement("div",{title:"#ffbf79",style:{width:bo,background:"rgb(255, 191, 121)"}}),C.createElement("div",{title:"#54a24b",style:{width:bo,background:"rgb(84, 162, 75)"}}),C.createElement("div",{title:"#88d27a",style:{width:bo,background:"rgb(136, 210, 122)"}}),C.createElement("div",{title:"#b79a20",style:{width:bo,background:"rgb(183, 154, 32)"}}),C.createElement("div",{title:"#f2cf5b",style:{width:bo,background:"rgb(242, 207, 91)"}}),C.createElement("div",{title:"#439894",style:{width:bo,background:"rgb(67, 152, 148)"}}),C.createElement("div",{title:"#83bcb6",style:{width:bo,background:"rgb(131, 188, 182)"}}),C.createElement("div",{title:"#e45756",style:{width:bo,background:"rgb(228, 87, 86)"}}),C.createElement("div",{title:"#ff9d98",style:{width:bo,background:"rgb(255, 157, 152)"}}),C.createElement("div",{title:"#79706e",style:{width:bo,background:"rgb(121, 112, 110)"}}),C.createElement("div",{title:"#bab0ac",style:{width:bo,background:"rgb(186, 176, 172)"}}),C.createElement("div",{title:"#d67195",style:{width:bo,background:"rgb(214, 113, 149)"}}),C.createElement("div",{title:"#fcbfd2",style:{width:bo,background:"rgb(252, 191, 210)"}}),C.createElement("div",{title:"#b279a2",style:{width:bo,background:"rgb(178, 121, 162)"}}),C.createElement("div",{title:"#d6a5c9",style:{width:bo,background:"rgb(214, 165, 201)"}}),C.createElement("div",{title:"#9e765f",style:{width:bo,background:"rgb(158, 118, 95)"}}),C.createElement("div",{title:"#d8b5a5",style:{width:bo,background:"rgb(216, 181, 165)"}})),ho.blueorange=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-blueorange"},C.createElement("stop",{offset:"0%",stopColor:"rgb(5, 48, 97)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(34, 101, 163)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(75, 148, 196)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(143, 194, 221)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(205, 227, 238)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(242, 240, 235)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(253, 221, 179)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(248, 182, 100)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(221, 132, 31)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(178, 90, 9)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(127, 59, 8)"}))),C.createElement("rect",{fill:"url(#gradient-blueorange)",x:"0",y:"0",width:"1",height:"1"})),ho.brownbluegreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-brownbluegreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(84, 48, 5)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(139, 84, 15)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(188, 132, 53)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(222, 190, 123)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(242, 228, 192)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(238, 241, 234)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(195, 231, 226)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(127, 201, 191)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(57, 152, 143)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(10, 103, 95)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 60, 48)"}))),C.createElement("rect",{fill:"url(#gradient-brownbluegreen)",x:"0",y:"0",width:"1",height:"1"})),ho.purplegreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purplegreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(64, 0, 75)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(115, 47, 128)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(154, 109, 170)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(193, 164, 205)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(228, 210, 230)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(239, 240, 239)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(214, 238, 209)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(162, 215, 158)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(92, 173, 101)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(33, 120, 57)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 68, 27)"}))),C.createElement("rect",{fill:"url(#gradient-purplegreen)",x:"0",y:"0",width:"1",height:"1"})),ho.pinkyellowgreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-pinkyellowgreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(142, 1, 82)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(192, 38, 126)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(221, 114, 173)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(240, 179, 214)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(250, 221, 237)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(245, 243, 239)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(225, 242, 202)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(182, 222, 135)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(128, 187, 71)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(79, 145, 37)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(39, 100, 25)"}))),C.createElement("rect",{fill:"url(#gradient-pinkyellowgreen)",x:"0",y:"0",width:"1",height:"1"})),ho.purpleorange=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purpleorange"},C.createElement("stop",{offset:"0%",stopColor:"rgb(45, 0, 75)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(85, 45, 132)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(129, 112, 172)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(176, 170, 208)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(215, 215, 233)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(243, 238, 234)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(253, 221, 179)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(248, 182, 100)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(221, 132, 31)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(178, 90, 9)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(127, 59, 8)"}))),C.createElement("rect",{fill:"url(#gradient-purpleorange)",x:"0",y:"0",width:"1",height:"1"})),ho.redblue=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-redblue"},C.createElement("stop",{offset:"0%",stopColor:"rgb(103, 0, 31)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(172, 32, 47)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(213, 96, 80)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(241, 163, 133)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(251, 215, 196)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(242, 239, 238)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(205, 227, 238)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(143, 194, 221)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(75, 148, 196)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(34, 101, 163)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(5, 48, 97)"}))),C.createElement("rect",{fill:"url(#gradient-redblue)",x:"0",y:"0",width:"1",height:"1"})),ho.redgrey=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-redgrey"},C.createElement("stop",{offset:"0%",stopColor:"rgb(103, 0, 31)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(172, 32, 47)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(213, 96, 80)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(241, 163, 133)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(252, 216, 197)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(250, 244, 241)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(223, 223, 223)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(184, 184, 184)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(134, 134, 134)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(78, 78, 78)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(26, 26, 26)"}))),C.createElement("rect",{fill:"url(#gradient-redgrey)",x:"0",y:"0",width:"1",height:"1"})),ho.redyellowblue=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-redyellowblue"},C.createElement("stop",{offset:"0%",stopColor:"rgb(165, 0, 38)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(212, 50, 44)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(241, 110, 67)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(252, 172, 100)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(254, 221, 144)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(250, 248, 193)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(220, 241, 236)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(171, 214, 232)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(117, 171, 208)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(74, 116, 180)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(49, 54, 149)"}))),C.createElement("rect",{fill:"url(#gradient-redyellowblue)",x:"0",y:"0",width:"1",height:"1"})),ho.redyellowgreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-redyellowgreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(165, 0, 38)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(212, 50, 44)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(241, 110, 67)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(252, 172, 99)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(254, 221, 141)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(249, 247, 174)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(215, 238, 142)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(164, 216, 110)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(100, 188, 97)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(34, 150, 79)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 104, 55)"}))),C.createElement("rect",{fill:"url(#gradient-redyellowgreen)",x:"0",y:"0",width:"1",height:"1"})),ho.spectral=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-spectral"},C.createElement("stop",{offset:"0%",stopColor:"rgb(158, 1, 66)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(209, 60, 75)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(240, 112, 74)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(252, 172, 99)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(254, 221, 141)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(251, 248, 176)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(224, 243, 161)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(169, 221, 162)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(105, 189, 169)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(66, 136, 181)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(94, 79, 162)"}))),C.createElement("rect",{fill:"url(#gradient-spectral)",x:"0",y:"0",width:"1",height:"1"})),f.colorSchemes.filter((function(e){return 2===e.colors.length})).map((function(e,t){ho[e.scheme]=C.createElement("div",{className:"swatch"},e.colors.map((function(e,t){return C.createElement("div",{key:t,title:e,style:{width:"50%",backgroundColor:e}})})))})),ho.viridis=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-viridis"},C.createElement("stop",{offset:"0%",stopColor:"#440154"}),C.createElement("stop",{offset:"10%",stopColor:"#482475"}),C.createElement("stop",{offset:"20%",stopColor:"#414487"}),C.createElement("stop",{offset:"30%",stopColor:"#355f8d"}),C.createElement("stop",{offset:"40%",stopColor:"#2a788e"}),C.createElement("stop",{offset:"50%",stopColor:"#21918c"}),C.createElement("stop",{offset:"60%",stopColor:"#22a884"}),C.createElement("stop",{offset:"70%",stopColor:"#44bf70"}),C.createElement("stop",{offset:"80%",stopColor:"#7ad151"}),C.createElement("stop",{offset:"90%",stopColor:"#bddf26"}),C.createElement("stop",{offset:"100%",stopColor:"#fde725"}))),C.createElement("rect",{fill:"url(#gradient-viridis)",x:"0",y:"0",width:"1",height:"1"})),ho.inferno=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-inferno"},C.createElement("stop",{offset:"0%",stopColor:"#000004"}),C.createElement("stop",{offset:"10%",stopColor:"#160b39"}),C.createElement("stop",{offset:"20%",stopColor:"#420a68"}),C.createElement("stop",{offset:"30%",stopColor:"#6a176e"}),C.createElement("stop",{offset:"40%",stopColor:"#932667"}),C.createElement("stop",{offset:"50%",stopColor:"#bc3754"}),C.createElement("stop",{offset:"60%",stopColor:"#dd513a"}),C.createElement("stop",{offset:"70%",stopColor:"#f37819"}),C.createElement("stop",{offset:"80%",stopColor:"#fca50a"}),C.createElement("stop",{offset:"90%",stopColor:"#f6d746"}),C.createElement("stop",{offset:"100%",stopColor:"#fcffa4"}))),C.createElement("rect",{fill:"url(#gradient-inferno)",x:"0",y:"0",width:"1",height:"1"})),ho.magma=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-magma"},C.createElement("stop",{offset:"0%",stopColor:"#000004"}),C.createElement("stop",{offset:"10%",stopColor:"#140e36"}),C.createElement("stop",{offset:"20%",stopColor:"#3b0f70"}),C.createElement("stop",{offset:"30%",stopColor:"#641a80"}),C.createElement("stop",{offset:"40%",stopColor:"#8c2981"}),C.createElement("stop",{offset:"50%",stopColor:"#b73779"}),C.createElement("stop",{offset:"60%",stopColor:"#de4968"}),C.createElement("stop",{offset:"70%",stopColor:"#f7705c"}),C.createElement("stop",{offset:"80%",stopColor:"#fe9f6d"}),C.createElement("stop",{offset:"90%",stopColor:"#fecf92"}),C.createElement("stop",{offset:"100%",stopColor:"#fcfdbf"}))),C.createElement("rect",{fill:"url(#gradient-magma)",x:"0",y:"0",width:"1",height:"1"})),ho.plasma=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-plasma"},C.createElement("stop",{offset:"0%",stopColor:"#0d0887"}),C.createElement("stop",{offset:"10%",stopColor:"#41049d"}),C.createElement("stop",{offset:"20%",stopColor:"#6a00a8"}),C.createElement("stop",{offset:"30%",stopColor:"#8f0da4"}),C.createElement("stop",{offset:"40%",stopColor:"#b12a90"}),C.createElement("stop",{offset:"50%",stopColor:"#cc4778"}),C.createElement("stop",{offset:"60%",stopColor:"#e16462"}),C.createElement("stop",{offset:"70%",stopColor:"#f2844b"}),C.createElement("stop",{offset:"80%",stopColor:"#fca636"}),C.createElement("stop",{offset:"90%",stopColor:"#fcce25"}),C.createElement("stop",{offset:"100%",stopColor:"#f0f921"}))),C.createElement("rect",{fill:"url(#gradient-plasma)",x:"0",y:"0",width:"1",height:"1"})),ho.bluegreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-bluegreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 252, 253)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(232, 246, 249)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(213, 239, 237)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(183, 228, 218)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(143, 211, 193)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(104, 194, 163)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(73, 177, 127)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(47, 153, 89)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(21, 127, 60)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(3, 100, 41)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 68, 27)"}))),C.createElement("rect",{fill:"url(#gradient-bluegreen)",x:"0",y:"0",width:"1",height:"1"})),ho.bluepurple=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-bluepurple"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 252, 253)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(228, 238, 245)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(204, 221, 236)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(178, 202, 225)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(156, 179, 213)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(143, 149, 198)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(140, 116, 181)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(137, 82, 165)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(133, 45, 143)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(115, 15, 113)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(77, 0, 75)"}))),C.createElement("rect",{fill:"url(#gradient-bluepurple)",x:"0",y:"0",width:"1",height:"1"})),ho.greenblue=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-greenblue"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 252, 240)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(229, 245, 223)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(211, 238, 206)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(189, 229, 191)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(158, 217, 187)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(123, 203, 196)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(88, 183, 205)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(57, 156, 198)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(29, 126, 183)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(11, 96, 161)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(8, 64, 129)"}))),C.createElement("rect",{fill:"url(#gradient-greenblue)",x:"0",y:"0",width:"1",height:"1"})),ho.orangered=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-orangered"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 247, 236)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(254, 235, 207)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(253, 220, 175)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(253, 202, 148)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(253, 176, 122)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(250, 142, 93)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(241, 108, 73)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(224, 69, 48)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(200, 29, 19)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(167, 4, 3)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(127, 0, 0)"}))),C.createElement("rect",{fill:"url(#gradient-orangered)",x:"0",y:"0",width:"1",height:"1"})),ho.purplebluegreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purplebluegreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 247, 251)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(239, 231, 242)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(219, 216, 234)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(190, 201, 226)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(152, 185, 217)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(105, 168, 207)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(64, 150, 192)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(25, 135, 159)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(3, 120, 119)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(1, 99, 83)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(1, 70, 54)"}))),C.createElement("rect",{fill:"url(#gradient-purplebluegreen)",x:"0",y:"0",width:"1",height:"1"})),ho.purpleblue=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purpleblue"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 247, 251)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(239, 234, 244)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(219, 218, 235)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(191, 201, 226)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(155, 185, 217)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(114, 168, 207)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(67, 148, 195)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(26, 125, 182)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(6, 103, 161)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(4, 82, 129)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(2, 56, 88)"}))),C.createElement("rect",{fill:"url(#gradient-purpleblue)",x:"0",y:"0",width:"1",height:"1"})),ho.purplered=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purplered"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 244, 249)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(234, 227, 240)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(220, 201, 226)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(208, 170, 210)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(208, 138, 194)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(221, 99, 174)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(227, 56, 144)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(215, 28, 108)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(183, 11, 79)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(143, 2, 58)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(103, 0, 31)"}))),C.createElement("rect",{fill:"url(#gradient-purplered)",x:"0",y:"0",width:"1",height:"1"})),ho.redpurple=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-redpurple"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 247, 243)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(253, 228, 225)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(252, 207, 204)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(251, 181, 188)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(249, 147, 176)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(243, 105, 163)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(224, 62, 152)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(192, 23, 136)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(153, 3, 124)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(112, 1, 116)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(73, 0, 106)"}))),C.createElement("rect",{fill:"url(#gradient-redpurple)",x:"0",y:"0",width:"1",height:"1"})),ho.yellowgreenblue=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-yellowgreenblue"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 255, 217)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(239, 249, 189)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(213, 238, 179)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(169, 221, 183)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(115, 201, 189)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(69, 180, 194)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(40, 151, 191)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(32, 115, 178)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(35, 78, 160)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(28, 49, 133)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(8, 29, 88)"}))),C.createElement("rect",{fill:"url(#gradient-yellowgreenblue)",x:"0",y:"0",width:"1",height:"1"})),ho.yellowgreen=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-yellowgreen"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 255, 229)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(247, 252, 196)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(228, 244, 172)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(199, 232, 155)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(162, 216, 138)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(120, 197, 120)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(78, 175, 99)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(47, 148, 78)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(21, 121, 63)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(3, 96, 52)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 69, 41)"}))),C.createElement("rect",{fill:"url(#gradient-yellowgreen)",x:"0",y:"0",width:"1",height:"1"})),ho.yelloworangebrown=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-yelloworangebrown"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 255, 229)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(255, 248, 196)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(254, 234, 161)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(254, 214, 118)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(254, 186, 74)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(251, 153, 44)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(238, 121, 24)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(216, 91, 10)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(183, 67, 4)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(143, 50, 4)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(102, 37, 6)"}))),C.createElement("rect",{fill:"url(#gradient-yelloworangebrown)",x:"0",y:"0",width:"1",height:"1"})),ho.yelloworangered=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-yelloworangered"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 255, 204)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(255, 240, 169)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(254, 224, 135)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(254, 201, 101)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(254, 171, 75)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(253, 137, 60)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(250, 92, 46)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(236, 48, 35)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(211, 17, 33)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(175, 2, 37)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(128, 0, 38)"}))),C.createElement("rect",{fill:"url(#gradient-yelloworangered)",x:"0",y:"0",width:"1",height:"1"})),ho.blues=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-blues"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 251, 255)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(227, 238, 249)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(207, 225, 242)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(181, 212, 233)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(147, 195, 223)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(109, 174, 213)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(75, 151, 201)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(47, 126, 188)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(24, 100, 170)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(10, 74, 144)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(8, 48, 107)"}))),C.createElement("rect",{fill:"url(#gradient-blues)",x:"0",y:"0",width:"1",height:"1"})),ho.greens=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-greens"},C.createElement("stop",{offset:"0%",stopColor:"rgb(247, 252, 245)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(232, 246, 227)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(211, 238, 205)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(183, 226, 177)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(151, 212, 148)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(115, 195, 120)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(77, 175, 98)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(47, 152, 79)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(21, 127, 59)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(3, 100, 41)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 68, 27)"}))),C.createElement("rect",{fill:"url(#gradient-greens)",x:"0",y:"0",width:"1",height:"1"})),ho.greys=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-greys"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 255, 255)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(242, 242, 242)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(226, 226, 226)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(206, 206, 206)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(180, 180, 180)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(151, 151, 151)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(122, 122, 122)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(95, 95, 95)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(64, 64, 64)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(30, 30, 30)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(0, 0, 0)"}))),C.createElement("rect",{fill:"url(#gradient-greys)",x:"0",y:"0",width:"1",height:"1"})),ho.purples=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-purples"},C.createElement("stop",{offset:"0%",stopColor:"rgb(252, 251, 253)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(241, 239, 246)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(226, 225, 239)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(206, 206, 229)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(182, 181, 216)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(158, 155, 201)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(135, 130, 188)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(115, 99, 172)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(97, 64, 155)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(80, 31, 140)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(63, 0, 125)"}))),C.createElement("rect",{fill:"url(#gradient-purples)",x:"0",y:"0",width:"1",height:"1"})),ho.reds=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-reds"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 245, 240)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(254, 227, 214)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(253, 201, 180)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(252, 170, 142)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(252, 138, 107)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(249, 105, 76)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(239, 69, 51)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(217, 39, 35)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(187, 21, 26)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(151, 11, 19)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(103, 0, 13)"}))),C.createElement("rect",{fill:"url(#gradient-reds)",x:"0",y:"0",width:"1",height:"1"})),ho.oranges=C.createElement("svg",{viewBox:"0,0,1,1",preserveAspectRatio:"none"},C.createElement("defs",null,C.createElement("linearGradient",{id:"gradient-oranges"},C.createElement("stop",{offset:"0%",stopColor:"rgb(255, 245, 235)"}),C.createElement("stop",{offset:"10%",stopColor:"rgb(254, 232, 211)"}),C.createElement("stop",{offset:"20%",stopColor:"rgb(253, 216, 179)"}),C.createElement("stop",{offset:"30%",stopColor:"rgb(253, 194, 140)"}),C.createElement("stop",{offset:"40%",stopColor:"rgb(253, 167, 98)"}),C.createElement("stop",{offset:"50%",stopColor:"rgb(251, 141, 61)"}),C.createElement("stop",{offset:"60%",stopColor:"rgb(242, 112, 29)"}),C.createElement("stop",{offset:"70%",stopColor:"rgb(226, 86, 9)"}),C.createElement("stop",{offset:"80%",stopColor:"rgb(196, 65, 3)"}),C.createElement("stop",{offset:"90%",stopColor:"rgb(159, 51, 3)"}),C.createElement("stop",{offset:"100%",stopColor:"rgb(127, 39, 4)"}))),C.createElement("rect",{fill:"url(#gradient-oranges)",x:"0",y:"0",width:"1",height:"1"}));function yo(e){var t=e.colorColumn.stats.distinctValueCount,n=2===t,r=t>0&&t<20,i=!1,o=!1;switch(e.colorColumn.type){case"boolean":case"string":i=!0;break;case"number":o=!0;break;case"date":case"integer":o=!0,i=r}var a=e.scheme,s=[];function u(e,t){s.push({key:e,text:e,itemType:Ni.fabric.DropdownMenuItemType.Header}),s.push.apply(s,t)}return i&&u(Ui.schemeCategorical,function(e){return[fo(e,"accent"),fo(e,"category10"),fo(e,"category20"),fo(e,"category20b"),fo(e,"category20c"),fo(e,"dark2"),fo(e,"paired"),fo(e,"pastel1"),fo(e,"pastel2"),fo(e,"set1"),fo(e,"set2"),fo(e,"set3"),fo(e,"tableau10"),fo(e,"tableau20")]}(a)),o&&u(Ui.schemeSequentialSingleHue,function(e){return[fo(e,"blues"),fo(e,"greens"),fo(e,"greys"),fo(e,"purples"),fo(e,"reds"),fo(e,"oranges")]}(a)),o&&u(Ui.schemeSequentialMultiHue,function(e){return[fo(e,"viridis"),fo(e,"inferno"),fo(e,"magma"),fo(e,"plasma"),fo(e,"bluegreen"),fo(e,"bluepurple"),fo(e,"greenblue"),fo(e,"orangered"),fo(e,"purplebluegreen"),fo(e,"purpleblue"),fo(e,"purplered"),fo(e,"redpurple"),fo(e,"yellowgreenblue"),fo(e,"yellowgreen"),fo(e,"yelloworangebrown"),fo(e,"yelloworangered")]}(a)),o&&u(Ui.schemeDiverging,function(e){return[fo(e,"blueorange"),fo(e,"brownbluegreen"),fo(e,"purplegreen"),fo(e,"pinkyellowgreen"),fo(e,"purpleorange"),fo(e,"redblue"),fo(e,"redgrey"),fo(e,"redyellowblue"),fo(e,"redyellowgreen"),fo(e,"spectral")]}(a)),n&&u(Ui.schemeDual,function(e){return f.colorSchemes.filter((function(e){return 2===e.colors.length})).map((function(t,n){return fo(e,t.scheme)}))}(a)),C.createElement("div",{className:"sanddance-palette"},C.createElement("div",{className:"sanddance-explanation",dangerouslySetInnerHTML:{__html:Ui.labelColorFieldInfo(e.colorColumn.name,e.colorColumn.type,r,t)}}),C.createElement(eo,{collapseLabel:e.collapseLabel,disabled:e.disabled,dropdownWidth:400,label:Ui.labelColorScheme,onRenderOption:function(e){return e.itemType===Ni.fabric.DropdownMenuItemType.Header?C.createElement("span",null,e.text):C.createElement("div",{className:"sanddance-scheme option"},C.createElement("span",{className:"name"},e.scheme),e.children)},options:s,onChange:function(t,n){e.changeColorScheme(n.scheme)}}),C.createElement("div",{className:h.classList("sanddance-scheme",e.disabled&&"disabled")},e.scheme&&ho[e.scheme]))}function _o(e){var t=e.dataContent.columns.filter((function(t){return t.name===e.colorColumn}))[0],n=!t||!t.quantitative||e.directColor,r=e.colorBin||"quantize";return C.createElement("div",{className:"sanddance-color-dialog"},C.createElement(uo,{label:Ui.labelColor},C.createElement(ao,Object.assign({},e,{collapseLabel:e.compactUI,selectedColumnName:e.colorColumn,specRole:e.specCapabilities&&e.specCapabilities.roles.filter((function(e){return"color"===e.role}))[0],key:0})),t&&t.isColorData&&C.createElement("div",{className:"sanddance-explanation",dangerouslySetInnerHTML:{__html:Ui.labelColorFieldIsColorData(t.name)}}),t&&!t.isColorData&&C.createElement(yo,{collapseLabel:e.compactUI,scheme:e.scheme,colorColumn:t,changeColorScheme:function(t){e.onColorSchemeChange(t)},disabled:e.disabled||e.directColor||t&&t.isColorData}),t&&!t.isColorData&&C.createElement(to,{disabled:e.disabled||!t||e.directColor||t&&t.isColorData,signal:e.colorReverseSignal,explorer:e.explorer,onChange:e.onColorReverseChange})),t&&!t.isColorData&&C.createElement(uo,{label:Ui.labelColorBin},C.createElement("div",{className:"sanddance-explanation"},Ui.labelColorBinExplanation),C.createElement(Ni.fabric.ChoiceGroup,{options:[{key:"continuous",text:Ui.labelColorBinNone,checked:"continuous"===r,disabled:n},{key:"quantize",text:Ui.labelColorBinQuantize,checked:"quantize"===r,disabled:n},{key:"quantile",text:Ui.labelColorBinQuantile,checked:"quantile"===r,disabled:n}],onChange:function(t,n){e.onColorBinChange(n.key)}}),C.createElement(to,{disabled:e.disabled||n||"continuous"===e.colorBin,signal:e.colorBinSignal,explorer:e.explorer,onChange:e.onColorBinCountChange})),t&&!t.isColorData&&C.createElement(uo,{label:Ui.labelColorOptions},C.createElement(Ni.fabric.Toggle,{label:Ui.selectDirectColor,disabled:!t.stats.hasColorData,checked:!(!t.stats.hasColorData||!e.directColor),onChange:function(t,n){return e.onDirectColorChange(n)}}),C.createElement("div",{className:"sanddance-explanation",dangerouslySetInnerHTML:{__html:Ui.labelDataColors}})))}function xo(e,t,n,r){var i=f.VegaDeckGl.util.deepMerge({},e["*"],e[t]),o=f.VegaDeckGl.util.deepMerge({},i["*"],i[n]);return f.VegaDeckGl.util.deepMerge({},o["*"],o[r])}function So(e,t,n,r,i){var o=e[t]||{};e[t]=o;var a=o[n]||{};return o[n]=a,a[r]=f.VegaDeckGl.util.deepMerge({},a[r],i),a[r]}function wo(e,t){return function(e){return"number"===typeof e||!isNaN(e)}(t)||function(e){if("boolean"===typeof e)return!0;if("string"===typeof e)switch(e.toLowerCase()){case!0+"":case!1+"":return!0}return!1}(t)||e&&2===e.stats.distinctValueCount?null:C.createElement("div",{className:"bing-search"},C.createElement("a",{href:"https://www.bing.com/search?q=".concat(encodeURIComponent(t)),target:"_blank",title:Ui.bingsearchDescription(t),"aria-label":Ui.bingsearchDescription(t)},Ui.bingsearch))}function Co(e){switch(e){case"":return{special:!0,display:Ui.labelBlank};case null:return{special:!0,display:Ui.labelNull};case!0:return{special:!0,display:Ui.labelTrue};case!1:return{special:!0,display:Ui.labelFalse};default:return"object"===typeof e?e instanceof Date?Co(e.input):{special:!1,display:e.toLocaleString()}:{special:!1,display:e}}}var ko=13;function Eo(e){if(!e.item)return null;var t=[],n=function(n){if(n===f.VegaDeckGl.constants.GL_ORDINAL&&!e.showSystemFields)return"continue";if(f.util.isInternalFieldName(n))return"continue";var r={columnName:n,value:e.item[n]};e.bingSearchDisabled||(r.bingSearch=wo(e.columns.filter((function(e){return e.name===n}))[0],e.item[n])),t.push(r)};for(var r in e.item)n(r);return C.createElement("div",{className:"sanddance-dataItem"},t.map((function(t,n){var r={key:0,name:t.columnName,operator:"==",value:t.value};null!==t.value&&""!==t.value||(r.operator="isnullorEmpty",delete r.value);var i=function(t){var n={key:0,expressions:[r]};e.onSearch(t,[n])},o=Ui.tooltipSearch(t.columnName,Co(t.value).display);return C.createElement("div",{key:n,onClick:e.disabled?null:i,title:o,onKeyUp:function(e){e.keyCode===ko&&i(e)},tabIndex:0,className:"name-value"},C.createElement("div",{className:"column-name"},t.columnName),C.createElement("div",{className:"column-value"},function(e){var t=Co(e.value);return t.special?C.createElement("i",null,t.display):t.display}(t)),t.bingSearch)})))}function Oo(e){return C.createElement(Ni.fabric.DefaultButton,Object.assign({},e,{styles:{root:{backgroundColor:"transparent",height:"30px",width:e.width,padding:0},rootDisabled:{backgroundColor:"transparent"},icon:{color:e.themePalette.themePrimary},label:{fontWeight:"400",textAlign:e.textAlign||"left"}},iconProps:{iconName:e.iconName}}))}var To,Po=n(255);!function(e){e[e.AllData=0]="AllData",e[e.SelectedData=1]="SelectedData",e[e.FilteredData=2]="FilteredData"}(To||(To={}));var Io=Object(Po.b)(".2~s");function Do(e){return-1===e?"--":e?e<1e3?e.toString():Io(e):"0"}function Ao(e){var t=Object.assign({all:-1,filtered:-1,selected:-1},e.dataCount);return e.compact?C.createElement("div",{className:h.classList("sanddance-datascope","compact"),onClick:e.onCompactClick},C.createElement(Mo,Object.assign({},e,{dataScopeId:To.AllData,text:Ui.selectDataSpanAll,count:t.all})),C.createElement(Mo,Object.assign({},e,{dataScopeId:To.FilteredData,text:Ui.selectDataSpanFilter,count:t.filtered})),C.createElement(Mo,Object.assign({},e,{dataScopeId:To.SelectedData,text:Ui.selectDataSpanSelection,count:t.selected}))):C.createElement("div",{className:h.classList("sanddance-datascope","extended",e.active&&"active")},C.createElement("div",null,C.createElement("div",null,e.dataSet),C.createElement("div",{className:"datascope-buttons"},C.createElement(jo,Object.assign({},e,{dataScopeId:To.AllData,text:Ui.selectDataSpanAll,count:t.all})),C.createElement(jo,Object.assign({},e,{dataScopeId:To.FilteredData,text:Ui.selectDataSpanFilter,count:t.filtered})),C.createElement(jo,Object.assign({},e,{dataScopeId:To.SelectedData,text:Ui.selectDataSpanSelection,count:t.selected})))))}function Mo(e){return C.createElement("div",{title:e.text,onClick:function(){e.onDataScopeClick(e.dataScopeId)}},Do(e.count))}function jo(e){return C.createElement(Oo,{themePalette:e.themePalette,className:h.classList("datascope-button",e.selectedDataScope===e.dataScopeId&&"selected"),disabled:e.disabled,text:e.text,onClick:function(){e.onDataScopeClick(e.dataScopeId)},onRenderText:function(){return C.createElement("div",{title:e.count>0?e.count.toString():""},C.createElement("label",null,e.text),C.createElement("div",null,Do(e.count)))},onRenderIcon:function(){return null}})}function Ro(e){function t(t){e.onActivate(e.data[t],t)}var n,r=e.index,i=e.data&&e.data.length||0;return C.createElement(uo,{label:Ui.labelDataBrowser,className:"sanddance-dataIndex"},C.createElement(eo,{label:Ui.labelDataScope,collapseLabel:!0,options:[{key:To.AllData,text:Ui.selectDataSpanAll,isSelected:e.selectedDataScope===To.AllData},{key:To.FilteredData,text:Ui.selectDataSpanFilter,isSelected:e.selectedDataScope===To.FilteredData},{key:To.SelectedData,text:Ui.selectDataSpanSelection,isSelected:e.selectedDataScope===To.SelectedData}],onChange:function(t,n){e.onDataScopeClick(n.key)}}),!e.data&&C.createElement("div",{dangerouslySetInnerHTML:{__html:e.nullMessage}}),e.data&&!e.data.length&&C.createElement("div",null,e.zeroMessage),!!i&&C.createElement("div",null,C.createElement("div",{className:"index"},C.createElement(Qi,{themePalette:e.themePalette,iconName:"ChevronLeftMed",onClick:function(e){return t(r<=0?i-1:r-1)},disabled:e.disabled||1===i,title:Ui.buttonPrevDataItem}),C.createElement("span",null,Ui.record(r+1,i)),C.createElement(Qi,{themePalette:e.themePalette,iconName:"ChevronRightMed",onClick:function(e){return t(r>=i-1?0:r+1)},disabled:e.disabled||1===i,title:Ui.buttonNextDataItem})),!e.itemVisible&&C.createElement("div",{className:"item-filtered"},Ui.labelDataItemIsFiltered),C.createElement(Eo,{columns:e.columns,item:e.data[r],disabled:e.disabled,onSearch:e.onSearch,bingSearchDisabled:e.bingSearchDisabled})),e.dataExportHandler&&e.data&&C.createElement(Vi,{theme:e.theme,initializer:{fileName:"".concat((n=e.displayName,Hi.forEach((function(e){var t=Object(p.a)(e,1)[0],r=new RegExp("\\.".concat(t),"ig");n=n.replace(r,"")})),n)," (").concat(e.data.length,")")},data:e.data,dataExportHandler:e.dataExportHandler,disabled:e.disabled}))}var Fo={colors:function(e){var t=f.VegaDeckGl.util.colorFromString;return{axisLine:t(e.black),axisText:t(e.black),hoveredCube:t(e.black),clickableText:t(e.themeDark),clickableTextHighlight:t(e.themeSecondary)}}(Zi[""]),fontFamily:"Segoe UI, sans-serif"},No=n(77);function Lo(e,t,n){var r=function(r){var i=e[r],o=t.filter((function(e){return e.name===i}))[0],a=n?n.filter((function(e){switch(e.type){case"formula":return e.as===i}}))[0]:null;o||a||delete e[r]};for(var i in e)r(i)}function Bo(e,t,n){var r=n.filter((function(e){return!f.util.isInternalFieldName(e.name)}))[0],i=r&&r.name,o=function(e){t[e]||(t[e]=i)};switch(e){case"barchart":case"barchartV":o("x");break;case"barchartH":o("y");break;case"density":case"scatterplot":case"stacks":o("x"),o("y");break;case"treemap":if(t.size||(t.size=Object(No.preferredColumnForTreemapSize)(n,!0),t.size||(t.size=Object(No.preferredColumnForTreemapSize)(n,!1))),!t.size)return[Ui.errorColumnMustBeNumeric]}}function zo(e){if(e&&void 0!==e.clientX&&void 0!==e.clientX)return{top:e.clientY,left:e.clientX}}function Uo(e){var t=zo(e);if(t)return t;var n=e;if(n)for(var r=0;r<n.touches.length;r++){var i=zo(n.touches[r]);if(i)return i}}function Ho(e){switch(e&&e.type){case"boolean":return[["==",Ui.searchEQ],["!=",Ui.searchNEQ],["isnullorEmpty",Ui.searchNULL]];case"date":case"integer":case"number":return[["==",Ui.searchEQ],["!=",Ui.searchNEQ],[">",Ui.searchGT],[">=",Ui.searchGTE],["<",Ui.searchLT],["<=",Ui.searchLTE],["isnullorEmpty",Ui.searchNULL]];case"string":default:return[["==",Ui.searchEQ],["!=",Ui.searchNEQ],[">",Ui.searchGT],[">=",Ui.searchGTE],["<",Ui.searchLT],["<=",Ui.searchLTE],["contains",Ui.searchIN],["starts",Ui.searchSW],["isnullorEmpty",Ui.searchNULL]]}}function Vo(e,t){var n=[["&&",Ui.searchAND]];return t||n.push(["||",Ui.searchOR]),n.map((function(t,n){var r=Object(p.a)(t,2),i=r[0];return{key:n,text:r[1],data:i,selected:e==i}}))}function Wo(e,t){var n=!1,r=Ho(t).map((function(t){var r=Object(p.a)(t,2),i=r[0],o=r[1],a=e.operator===i;return n=n||a,{key:i,text:o,data:i,selected:a}}));return n||(r[0].selected=!0),r}function Go(e,t,n,r){var i=t&&t.stats;return i&&i.distinctValueCount<100?(r[t.name]||(r[t.name]=function(e,t){for(var n={},r=0;r<e.length;r++){n[e[r][t]]=!0}return Object.keys(n).sort()}(n,t.name)),r[t.name].map((function(e,t){return{key:t,text:e}}))):[]}function Ko(e){return"isnullorEmpty"===e.operator?"":"string"===typeof e.value?e.value:null==e.value?"":e.value.toString()}function qo(e){var t=e.searchExpression,n=Go(0,e.column,e.data,e.autoCompleteDistinctValues);return C.createElement("div",null,e.index>0&&C.createElement(eo,{collapseLabel:e.collapseLabels,className:"search-field",label:Ui.labelSearchClause,dropdownWidth:120,disabled:!t.unlocked||e.disableOR,options:Vo(t.clause,e.disableOR),onChange:function(t,n){return e.onUpdateExpression({clause:n.data},e.index)}}),C.createElement(eo,{collapseLabel:e.collapseLabels,className:"search-field",label:Ui.labelSearchColumn,options:[{key:"",text:Ui.selectAny,data:null,selected:null===t.name}].concat(e.columns.map((function(e,n){return{key:e.name,text:e.name,data:e,selected:e.name===t.name}}))),onChange:function(t,n){return e.onUpdateExpression({name:n.data&&n.data.name||null},e.index)}}),C.createElement(eo,{collapseLabel:e.collapseLabels,className:"search-field",label:Ui.labelSearchOperator,dropdownWidth:120,options:Wo(t,e.column),onChange:function(t,n){return e.onUpdateExpression({operator:n.data},e.index)}}),n.length>0&&C.createElement(Ni.fabric.ComboBox,{className:"search-field",label:e.collapseLabels?null:Ui.labelSearchValue,placeholder:Ui.labelSearchValuePlaceholder,disabled:"isnullorEmpty"===t.operator,dropdownWidth:200,allowFreeform:!0,autoComplete:"on",errorMessage:t.errorMessage,text:Ko(t),options:Go(0,e.column,e.data,e.autoCompleteDistinctValues),onChange:function(t,n,r,i){n&&(i=n.text),e.onUpdateExpression({value:i},e.index)}}),0===n.length&&C.createElement(Ni.fabric.TextField,{className:"search-field",label:e.collapseLabels?null:Ui.labelSearchValue,placeholder:Ui.labelSearchValuePlaceholder,disabled:"isnullorEmpty"===t.operator,errorMessage:t.errorMessage,value:Ko(t),onChange:function(t,n){return e.onUpdateExpression({value:n},e.index)}}))}function Yo(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e)return t[n]}function Xo(e){"isnullorEmpty"!==e.operator?0===Ko(e).length?e.errorMessage=Ui.labelRequired:e.errorMessage=null:e.errorMessage=null}function Zo(e,t,n){var r;return 0===t?r=[[null,Ui.searchWHERE]]:(r=[["&&",Ui.searchAND]],n||r.push(["||",Ui.searchOR])),r.map((function(t,n){var r=Object(p.a)(t,2),i=r[0];return{key:n,text:r[1],data:i,selected:e==i}}))}var Qo=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state=r.getInitialState(r.props),r}return Object(m.a)(n,[{key:"getInitialState",value:function(e){var t={groups:e.initializer.search||[this.newGroup(0,null)],sortedColumns:Object(K.a)(e.initializer.columns).sort((function(e,t){return e.name.localeCompare(t.name)})),initializer:e.initializer};return t.groups.forEach((function(e){e.expressions.forEach((function(t){return t.unlocked=e.expressions.length<=2}))})),t}},{key:"componentDidUpdate",value:function(){h.deepCompare(this.props.initializer,this.state.initializer)||this.setState(this.getInitialState(this.props))}},{key:"validateAndSearch",value:function(){var e=this,t=Object(K.a)(this.state.groups);t.forEach((function(n){n.expressions.forEach(Xo),n.expressions.reduce((function(e,t){return e||t.errorMessage}),"")?e.setState({groups:t}):e.props.onSelect(e.state.groups)}))}},{key:"newGroup",value:function(e,t){return{key:e,clause:t,expressions:[this.newExpression(0,null)]}}},{key:"updateGroup",value:function(e,t){var n=Object(K.a)(this.state.groups),r=Object.assign(Object.assign({},n[t]),e);n[t]=r,this.setState({groups:n})}},{key:"addGroup",value:function(){var e=Object(K.a)(this.state.groups),t=e.reduce((function(e,t){return t.key>e?t.key:e}),e[0].key),n=this.newGroup(t+1,"&&");e.push(n),this.setState({groups:e})}},{key:"deleteGroup",value:function(e){var t=Object(K.a)(this.state.groups);t.splice(e,1),this.setState({groups:t})}},{key:"newExpression",value:function(e,t){return{key:e,clause:t,name:null,operator:"contains",value:""}}},{key:"addExpression",value:function(e){var t=Object(K.a)(this.state.groups),n=t[e],r=n.expressions.reduce((function(e,t){return t.key>e?t.key:e}),n.expressions[0].key),i=this.newExpression(r+1,"&&");n.expressions.push(i),2===n.expressions.length?i.unlocked=!0:(n.expressions.forEach((function(e){return e.unlocked=!1})),i.clause=n.expressions[1].clause),this.setState({groups:t})}},{key:"updateExpression",value:function(e,t,n){var r=Object(K.a)(this.state.groups),i=r[t],o=f.VegaDeckGl.util.clone(i.expressions[n]);if(o.name!==e.name){var a=Yo(o.name,this.state.sortedColumns),s=Yo(e.name,this.state.sortedColumns);if((a&&a.type)!==(s&&s.type))Ho(s).map((function(e){return e[0]})).indexOf(o.operator)<0&&(e.operator="==")}Object.assign(o,e),function(e){"isnullorEmpty"!==e.operator?0!==Ko(e).length&&(e.errorMessage=null):e.errorMessage=null}(o),i.expressions[n]=o,this.setState({groups:r})}},{key:"deleteExpression",value:function(e,t){var n=Object(K.a)(this.state.groups),r=n[e],i=Object(K.a)(r.expressions);i.splice(t,1),2===i.length&&(i[1].unlocked=!0),r.expressions=i,this.setState({groups:n})}},{key:"render",value:function(){var e=this;return C.createElement(uo,{className:"sanddance-search",label:Ui.labelSearch},C.createElement("div",null,this.state.groups.map((function(t,n){return C.createElement("div",{className:"sanddance-search-group",key:t.key},C.createElement(eo,{collapseLabel:e.props.collapseLabels,className:"search-group-clause",label:Ui.labelSearchClause,disabled:0===n||e.props.disableGroupOR,dropdownWidth:120,options:Zo(t.clause,n,e.props.disableGroupOR),onChange:function(t,r){return e.updateGroup({clause:r.data},n)}}),C.createElement("div",null,t.expressions.map((function(r,i){return C.createElement("div",{className:"sanddance-search-expression",key:r.key},C.createElement(qo,{collapseLabels:e.props.collapseLabels,onUpdateExpression:function(t,r){return e.updateExpression(t,n,r)},autoCompleteDistinctValues:e.props.autoCompleteDistinctValues,index:i,columns:e.state.sortedColumns,data:e.props.data,searchExpression:r,disableOR:e.props.disableExpressionOR,column:Yo(r.name,e.state.sortedColumns)}),t.expressions.length>1&&C.createElement(Oo,{themePalette:e.props.themePalette,className:"search-action",iconName:"Cancel",onClick:function(){return e.deleteExpression(n,i)},text:Ui.buttonDeleteExpression}))}))),t.expressions.length<5&&C.createElement("div",null,C.createElement(Oo,{themePalette:e.props.themePalette,className:"search-action",iconName:"Add",onClick:function(){return e.addExpression(n)},text:Ui.buttonAddExpression})),e.state.groups.length>1&&C.createElement(Oo,{themePalette:e.props.themePalette,className:"search-action",iconName:"Cancel",onClick:function(){return e.deleteGroup(n)},text:Ui.buttonDeleteExpressionGroup}))})),this.state.groups.length<5&&C.createElement("div",null,C.createElement(Oo,{themePalette:this.props.themePalette,className:"search-action search-bottom-action",iconName:"Add",onClick:function(){return e.addGroup()},text:Ui.buttonAddExpressionGroup}))),C.createElement(Ni.fabric.PrimaryButton,{className:"search-action search-bottom-action",text:Ui.buttonSelect,onClick:function(){return e.validateAndSearch()}}))}}]),n}(C.Component),$o=function(e,t){return new Promise((function(n,r){var i="csv"===t||"tsv"===t;i&&e.forEach((function(e){for(var t in e)""===e[t]&&(e[t]=null)}));var o=f.util.getColumnsFromData(e).sort((function(e,t){return e.name.localeCompare(t.name)}));if(i){var a=o.filter((function(e){return"boolean"===e.type})),s=o.filter((function(e){return"date"===e.type})),u=o.filter((function(e){return"integer"===e.type||"number"===e.type}));e.forEach((function(e){a.forEach((function(t){e[t.name]="true"===(""+e[t.name]).toLowerCase()})),s.forEach((function(t){var n=e[t.name];if(null!==n){var r=new Date(n);r.input=n,e[t.name]=r}})),u.forEach((function(t){var n=parseFloat(e[t.name]);e[t.name]=isNaN(n)?null:n}))}))}n({data:e,columns:o})}))};function Jo(e,t){var n=function(n){t.roles.forEach((function(t){t.role===n&&e.axes[n].forEach((function(e){e.title&&(e.title.specRole=t)}))}))};for(var r in e.axes)n(r)}function ea(e){return e+"px"}var ta,na=function(e){b(n,e);var t=w(n);function n(e){var r;Object(g.a)(this,n),r=t.call(this,e);var i=e.left,o=e.top;return r.state={left:i,top:o},r.dropdownRef=C.createRef(),r}return Object(m.a)(n,[{key:"focus",value:function(){this.focused||(this.focused=!0,this.dropdownRef.current.focus(!0))}},{key:"componentDidMount",value:function(){var e=f.VegaDeckGl.util.outerSize(this.div),t=Math.max(0,this.state.left+e.width-this.props.container.offsetWidth),n=Math.max(0,this.state.top+e.height-this.props.container.offsetHeight);if(t||n){var r=this.state,i=r.left,o=r.top;i-=t,o-=n,this.setState({left:i,top:o})}else this.focus()}},{key:"componentDidUpdate",value:function(){this.focus()}},{key:"render",value:function(){var e=this;return C.createElement("div",{ref:function(t){t&&(e.div=t)},className:"sanddance-columnMap-absolute",style:{position:"absolute",left:ea(this.state.left),top:ea(this.state.top)}},C.createElement(ao,Object.assign({},this.props,{componentRef:this.dropdownRef,hideSignals:!0})))}}]),n}(C.Component),ra=f;function ia(e){switch(e.name){case ra.constants.SignalNames.XBins:case ra.constants.SignalNames.YBins:case ra.constants.SignalNames.ColorBinCount:case ra.constants.SignalNames.ColorReverse:case ra.constants.SignalNames.PointSize:case ra.constants.SignalNames.TreeMapMethod:return!1;default:return!!e.bind}}function oa(e,t,n,r,i){var o=function(e){return ra.VegaDeckGl.util.clone(e.scales)}(e),a=o.filter((function(e){return e.name===ra.constants.ScaleNames.Color}))[0];i.indexOf("dual_")>=0&&(a.range=ra.colorSchemes.filter((function(e){return e.scheme===i}))[0].colors);var s=function(e){var t=e.data[0],n=t.values;delete t.values;var r=ra.VegaDeckGl.util.clone(e.data);return t.values=n,{data:r,values:n}}(e),u=s.data[0];if(n===ta.inline){var l=u;l.format={parse:"auto",type:"json"},l.values=s.values}else if(n===ta.none){var c=u;c.values=[],r&&(c.transform?c.transform.push.apply(c.transform,r):c.transform=r)}else if(n===ta.url){var d=u;d.url=t.dataUrl,d.format={parse:"auto",type:t.type},r&&(d.transform?d.transform.push.apply(d.transform,r):d.transform=r)}return Object.assign(Object.assign({},e),{data:s.data,scales:o})}function aa(e){return{showSystemDialog:!1,showVegaDialog:!1,dataRefType:(t=e.dataFile,t.dataUrl?ta.url:ta.none),spec:null};var t}function sa(e){var t={};return e.forEach((function(e){var n=function(e){for(var t=0;t<Ui.signalGroups.length;t++)if(Ui.signalGroups[t].prefix===e)return e;return"*"}(e.name.split("_")[0]);t[n]=t[n]||[],t[n].push(e)})),t}!function(e){e[e.none=0]="none",e[e.inline=1]="inline",e[e.url=2]="url"}(ta||(ta={}));var ua,la=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state=aa(e),r}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=this.state;if(!t.explorer.viewer||!t.explorer.viewer.vegaSpec)return null;var r=[{key:ta.none,text:Ui.selectVegaSpecDataNone,selected:this.state.dataRefType===ta.none,data:ta.none},!t.dataFile.rawText&&{key:ta.url,text:Ui.selectVegaSpecDataUrl,selected:this.state.dataRefType===ta.url,data:ta.url},{key:ta.inline,text:Ui.selectVegaSpecDataInline,selected:this.state.dataRefType===ta.inline,data:ta.inline}].filter(Boolean),i=sa(t.explorer.viewer.vegaSpec.signals);return C.createElement("div",null,Ui.signalGroups.map((function(e){var n=i[e.prefix];if(n){var r=n.filter(ia);if(r.length>0)return C.createElement(uo,{key:e.prefix,label:e.label},r.map((function(e,n){return C.createElement(to,{key:n,signal:e,explorer:t.explorer})})))}})),C.createElement(uo,{label:Ui.labelChartCanvas},C.createElement(Ni.fabric.Toggle,{label:Ui.labelShowAxes,defaultChecked:!t.hideAxes,onChange:function(e,n){return t.onToggleAxes(!n)}}),C.createElement(Ni.fabric.Toggle,{label:Ui.labelShowLegend,defaultChecked:!t.hideLegend,onChange:function(e,n){return t.onToggleLegend(!n)}})),C.createElement(uo,{label:Ui.labelTools},C.createElement(Ni.fabric.DefaultButton,{text:Ui.buttonShowVegaSpec,onClick:function(){return e.setState({showVegaDialog:!0,spec:oa(t.explorer.viewer.vegaSpec,t.dataFile,e.state.dataRefType,t.explorer.viewer.getInsight().transform,e.props.scheme)})}})),C.createElement(uo,{label:Ui.labelSnapshots},C.createElement(Ni.fabric.Slider,{label:Ui.labelSnapshotSettingThumbnailWidth,onChange:function(t){e.props.explorer.snapshotThumbWidth=t},min:100,max:800,defaultValue:this.props.explorer.snapshotThumbWidth})),C.createElement(uo,{label:Ui.labelTransitionDurations},C.createElement(Ni.fabric.Slider,{label:Ui.labelTransitionColor,onChange:function(t){e.props.explorer.viewerOptions.transitionDurations.color=t},min:0,max:1e4,defaultValue:this.props.explorer.viewerOptions.transitionDurations.color}),C.createElement(Ni.fabric.Slider,{label:Ui.labelTransitionPosition,onChange:function(t){e.props.explorer.viewerOptions.transitionDurations.position=t},min:0,max:1e4,defaultValue:this.props.explorer.viewerOptions.transitionDurations.position}),C.createElement(Ni.fabric.Slider,{label:Ui.labelTransitionSize,onChange:function(t){e.props.explorer.viewerOptions.transitionDurations.size=t},min:0,max:1e4,defaultValue:this.props.explorer.viewerOptions.transitionDurations.size}),C.createElement(Ni.fabric.Slider,{label:Ui.labelTransitionCamera,onChange:function(t){e.props.explorer.viewerOptions.transitionDurations.view=t},min:0,max:1e4,defaultValue:this.props.explorer.viewerOptions.transitionDurations.view})),t.additionalSettings&&t.additionalSettings.map((function(e,t){return C.createElement(uo,{key:t,label:e.groupLabel},e.children)})),C.createElement(uo,{label:Ui.labelSystem},C.createElement(Ni.fabric.DefaultButton,{text:Ui.labelSystemInfo,onClick:function(){return e.setState({showSystemDialog:!0})}})),C.createElement(so,{hidden:!n.showVegaDialog,onDismiss:function(){return e.setState(aa(e.props))},minWidth:"80%",title:Ui.labelVegaSpec,buttons:[C.createElement(Ni.fabric.PrimaryButton,{key:"copy",iconProps:{iconName:"Copy"},text:Ui.buttonCopyToClipboard,onClick:function(){var e=document.getElementById("sanddance-vega-spec"),t=document.createRange();t.selectNode(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),document.execCommand("copy")}}),C.createElement(Ni.fabric.DefaultButton,{key:"edit",iconProps:{iconName:"OpenInNewWindow"},text:Ui.buttonLaunchVegaEditor,onClick:function(){window.open("https://vega.github.io/editor/","_blank")}})]},C.createElement(eo,{label:Ui.labelVegaSpecData,options:r,onChange:function(n,r){return e.setState({dataRefType:r.data,spec:oa(t.explorer.viewer.vegaSpec,t.dataFile,r.data,t.explorer.viewer.getInsight().transform,e.props.scheme)})}}),C.createElement("pre",{id:"sanddance-vega-spec"},JSON.stringify(this.state.spec,null,2)),C.createElement("div",null,Ui.labelVegaSpecNotes)),C.createElement(so,{hidden:!n.showSystemDialog,onDismiss:function(){return e.setState(aa(e.props))},title:Ui.labelSystemInfo},C.createElement("ul",null,this.props.children,C.createElement("li",null,"SandDanceExplorer version: ","2.2.1"),C.createElement("li",null,"SandDanceReact version: ","2.0.0"),C.createElement("li",null,"SandDance version: ",ra.version),C.createElement("li",null,"WebGL enabled: ",Yi?Ui.labelYes:Ui.labelNo),C.createElement("li",null,"WebGL2 enabled: ",Xi?Ui.labelYes:Ui.labelNo))))}}]),n}(C.Component);function ca(e){return C.createElement("div",{className:h.classList("scrollable-container",e.className),role:e.role},C.createElement("div",{className:"scrollable"},e.children))}function da(e){var t=[{sideTabId:ua.ChartType,iconName:"BIDashboard",title:Ui.labelChart},{sideTabId:ua.Color,iconName:"Color",title:Ui.labelColor},{sideTabId:ua.Data,iconName:"Table",title:Ui.labelDataBrowser},{sideTabId:ua.Search,iconName:"Search",title:Ui.labelSearch},{sideTabId:ua.Snapshots,iconName:"Camera",title:Ui.labelSnapshots},{sideTabId:ua.Settings,iconName:"Settings",title:Ui.labelChartSettings}];return C.createElement("div",{className:h.classList("sanddance-sidebar","calculator",e.pinned&&"pinned",e.closed&&"closed")},C.createElement("div",{className:"sidebar-content"},C.createElement(Ao,Object.assign({},e.dataScopeProps)),C.createElement("div",{className:"vbuttons",role:"tablist"},C.createElement("div",{className:"sidebar-dialogs"},t.map((function(t,n){return C.createElement(fa,Object.assign({key:n},e,t,{themePalette:e.themePalette}))}))),!e.hideSidebarControls&&C.createElement("div",{className:"sidebar-controls"},C.createElement(fa,Object.assign({},e,{sideTabId:ua.Pin,iconName:e.pinned?"Pinned":"Pin",title:e.pinned?Ui.buttonToolbarFloat:Ui.buttonToolbarDock})),C.createElement(fa,Object.assign({},e,{sideTabId:ua.Collapse,iconName:e.closed?"DoubleChevronRight12":"DoubleChevronLeft12",title:e.closed?Ui.buttonToolbarShow:Ui.buttonToolbarHide})))),C.createElement(ca,{role:"tabpanel"},C.createElement("div",{className:"sidetab"},e.children)),e.calculating&&C.createElement("div",{className:"calculating"},C.createElement(Ni.fabric.Spinner,{size:Ni.fabric.SpinnerSize.large}))))}function fa(e){var t=!e.closed&&e.selectedSideTab===e.sideTabId;return C.createElement("div",{className:h.classList("vbutton",t&&"selected"),role:"tab","aria-selected":t},e.badgeText&&C.createElement("div",{className:"count"},e.badgeText),C.createElement(Qi,{themePalette:e.themePalette,className:"vbutton",iconName:e.iconName,title:e.title,onClick:function(){e.onSideTabClick(e.sideTabId)}}))}!function(e){e[e.ChartType=0]="ChartType",e[e.Data=1]="Data",e[e.Search=2]="Search",e[e.Color=3]="Color",e[e.Snapshots=4]="Snapshots",e[e.Settings=5]="Settings",e[e.Pin=6]="Pin",e[e.Collapse=7]="Collapse"}(ua||(ua={}));var ha=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={showEditFormDialog:!1,title:"",description:"",image:null,bgColor:null,insight:null,editIndex:-1},r}return Object(m.a)(n,[{key:"resize",value:function(e,t){var n=this;if(e){var r=new Image;r.onload=function(){var e=document.createElement("canvas"),i=e.getContext("2d"),o=r.width/t;e.height=r.height/o,e.width=t,i.drawImage(r,0,0,e.width,e.height);var a=e.toDataURL();n.setState({image:a})},r.src=e}}},{key:"editSnapshot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e?this.setState(Object.assign(Object.assign({showEditFormDialog:!0},e),{editIndex:n})):this.props.explorer.viewer.deselect().then((function(){var e=qi(t.props.explorer.viewer),r=e&&window.getComputedStyle(e).backgroundColor,i=f.VegaDeckGl.util.clone(t.props.explorer.viewer.getInsight());delete i.size;var o=t.props.getTitle&&t.props.getTitle(i)||"",a=t.props.getDescription&&t.props.getDescription(i)||"";t.setState({showEditFormDialog:!0,bgColor:r,title:o,description:a,insight:i,image:null,editIndex:n}),setTimeout((function(){t.resize(e&&e.toDataURL("image/png"),t.props.explorer.snapshotThumbWidth)}),500)}))}},{key:"render",value:function(){var e=this;return C.createElement(so,{modalProps:{className:h.classList("sanddance-snapshot-dialog",this.props.explorer.props.theme)},minWidth:"".concat(this.props.explorer.snapshotThumbWidth+64,"px"),hidden:!this.state.showEditFormDialog,onDismiss:function(){return e.setState({showEditFormDialog:!1})},title:this.state.editIndex>=0?Ui.buttonEditSnapshot:Ui.buttonCreateSnapshot,buttons:C.createElement(Ni.fabric.PrimaryButton,{disabled:!this.state.image||!this.state.title,key:0,onClick:function(t){var n={title:e.state.title,description:e.state.description,insight:e.state.insight,image:e.state.image,bgColor:e.state.bgColor};e.props.modifySnapShot&&e.props.modifySnapShot(n),e.props.onWriteSnapshot(n,e.state.editIndex),e.setState({showEditFormDialog:!1,title:"",description:"",image:null})},text:this.state.editIndex>=0?Ui.buttonUpdateSnapshot:Ui.buttonCreateSnapshot})},C.createElement(Ni.fabric.TextField,{label:Ui.labelSnapshotTitle,onChange:function(t,n){return e.setState({title:n})},value:this.state.title}),C.createElement(Ni.fabric.TextField,{label:Ui.labelSnapshotDescription,onChange:function(t,n){return e.setState({description:n})},value:this.state.description,multiline:!0}),C.createElement("div",{className:"thumbnail"},!this.state.image&&C.createElement(Ni.fabric.Spinner,null),this.state.image&&C.createElement("img",{src:this.state.image,style:{backgroundColor:this.state.bgColor}})),this.props.explorer.viewer&&this.props.explorer.viewer.colorContexts&&this.props.explorer.viewer.colorContexts.length>1&&C.createElement("div",null,Ui.labelColorFilter))}}]),n}(C.Component),pa=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={confirmation:null,title:"",description:"",image:null,bgColor:null,insight:null},r}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=[{key:"clear",text:Ui.buttonClearSnapshots,onClick:function(){return e.setState({confirmation:{buttonText:Ui.buttonClearSnapshots,handler:function(){return e.props.onClearSnapshots()}}})},disabled:0===this.props.snapshots.length}];return this.props.getTopActions&&t.push.apply(t,this.props.getTopActions(this.props.snapshots)),C.createElement(uo,{className:"sanddance-snapshots",label:Ui.labelSnapshots},C.createElement("div",null,C.createElement(Ni.fabric.PrimaryButton,{text:Ui.buttonCreateSnapshot,onClick:function(t){return e.props.editor.editSnapshot()},split:!0,menuProps:{items:t}}),this.props.getChildren&&this.props.getChildren(this.props.snapshots),this.state.confirmation&&C.createElement(so,{hidden:!1,buttons:C.createElement(Ni.fabric.PrimaryButton,{key:0,onClick:function(t){e.setState({confirmation:null}),e.state.confirmation.handler()},text:this.state.confirmation.buttonText}),onDismiss:function(){return e.setState({confirmation:null})}},Ui.labelConfirmation),C.createElement("div",null,this.props.snapshots.map((function(t,n){var r=e.props.getActions&&e.props.getActions(t,n)||[];return r.push({iconButtonProps:{themePalette:e.props.themePalette,title:Ui.buttonEditSnapshot,onClick:function(r){return e.props.editor.editSnapshot(t,n)},iconName:"Edit"}}),e.props.snapshots.length>1&&r.push({iconButtonProps:{disabled:0===n,themePalette:e.props.themePalette,title:Ui.buttonMoveUp,onClick:function(t){return e.props.onMoveUp(n)},iconName:"SortUp"}},{iconButtonProps:{disabled:n>e.props.snapshots.length-2,themePalette:e.props.themePalette,title:Ui.buttonMoveDown,onClick:function(t){return e.props.onMoveDown(n)},iconName:"SortDown"}}),r.push({iconButtonProps:{themePalette:e.props.themePalette,title:Ui.buttonDeleteSnapshot,onClick:function(){return e.setState({confirmation:{buttonText:Ui.buttonDeleteSnapshot,handler:function(){return e.props.onRemoveSnapshot(n)}}})},iconName:"Delete"}}),C.createElement("div",{key:n,className:h.classList("snapshot",n===e.props.selectedSnapshotIndex&&"selected")},C.createElement("div",{onClick:function(r){return e.props.onSnapshotClick(t,n)}},C.createElement("div",{className:"title"},t.title),C.createElement("div",{className:"thumbnail"},C.createElement("img",{title:t.description,src:t.image,style:{backgroundColor:t.bgColor}}))),C.createElement(ga,{actions:r,snapshot:t}))})))))}}]),n}(C.Component);function ga(e){return C.createElement("div",{className:"actions"},e.actions.map((function(e,t){return e.iconButtonProps?C.createElement(Qi,Object.assign({key:t},e.iconButtonProps)):e.element?e.element:void 0})))}function ma(e){return Object.assign(Object.assign({},e),{clause:null})}function va(e,t){var n=[],r=!1;return e.forEach((function(e){var i,o;i=e,o=t,f.searchExpression.compareGroup(ma(i),ma(o))?r=!0:n.push(e)})),{groups:n,found:r}}var ba="\n ......\n.......\n...\n......\n ......\n    ...\n.......\n......\n".split("\n").map((function(e,t){return e.length?e.split("").map((function(e,n){return e.trim()?"M".concat(2*n+1," ").concat(2*(t-1)+1," v1 h1 v-1 Z"):""})).join(" "):""})).join("\n");function ya(){return C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},C.createElement("path",{d:ba}))}function _a(e){var t=e.selectionState.selectedData&&0===e.selectionState.selectedData.length,n=!e.loaded,r=[{key:"deselect",name:Ui.buttonDeselect,iconProps:{iconName:"Cancel"},disabled:n||!e.selectionSearch,onClick:e.doDeselect},{key:"isolate",name:Ui.buttonIsolate,iconProps:{iconName:"Filter"},disabled:n||!e.selectionSearch||t,onClick:function(){return e.doFilter(e.selectionSearch)}},{key:"exclude",name:Ui.buttonExclude,iconProps:{iconName:"ClearFilter"},disabled:n||!e.selectionSearch||t,onClick:function(){return e.doFilter(f.searchExpression.invert(e.selectionSearch))}},{key:"reset",name:Ui.buttonReset,iconProps:{iconName:"RemoveFilter"},disabled:n||!e.filter,onClick:e.doUnfilter}];e.buttons&&r.push.apply(r,e.buttons);var i=[{key:"previous-snapshot",iconProps:{iconName:"Previous"},title:Ui.buttonPrevSnapshot,onClick:e.onSnapshotPreviousClick,disabled:e.snapshots.length<2},{key:"snapshot",iconProps:{iconName:"Camera"},title:Ui.buttonCreateSnapshot,onClick:e.onSnapshotClick,disabled:!e.loaded},{key:"next-snapshot",iconProps:{iconName:"Next"},title:Ui.buttonNextSnapshot,onClick:e.onSnapshotNextClick,disabled:e.snapshots.length<2},{key:"view",iconProps:{iconName:"2d"===e.view?"Product":"Page"},title:"2d"===e.view?Ui.labelViewType3d:Ui.lavelViewType2d,onClick:e.onViewClick,disabled:!e.loaded},{key:"home",iconProps:{iconName:"PicturePosition"},title:Ui.buttonCameraHome,onClick:e.onHomeClick,disabled:!e.loaded}];return C.createElement("div",{className:"sanddance-explorer-topbar"},C.createElement("div",{className:"logo"},C.createElement(ya,null),C.createElement("a",{href:e.logoClickUrl||"/",target:e.logoClickTarget||"_blank"},Ui.appName)),C.createElement("div",{className:"sanddance-explorer-commandbar"},C.createElement(Ni.fabric.Customizer,{scopedSettings:{CommandBarButton:{styles:function(t){return t.theme.palette=e.themePalette,function(e){var t=e.theme;if(!t)throw new Error("Theme is undefined or null.");var n=t.palette,r=t.semanticColors;return{root:[Object.assign({},Ni.fabric.getFocusStyle(t,{inset:2})),{backgroundColor:n.white}],rootHovered:{backgroundColor:n.neutralLighter,selectors:Object(We.a)({},".ms-Button-icon",{color:n.themeDarkAlt})},rootPressed:{backgroundColor:n.neutralLight,color:n.neutralDark,selectors:Object(We.a)({},".ms-Button-icon",{color:n.themeDark})},rootChecked:{backgroundColor:n.neutralLight,color:n.neutralDark,selectors:Object(We.a)({},".ms-Button-icon",{color:n.themeDark})},rootCheckedHovered:{backgroundColor:n.neutralQuaternaryAlt,color:n.neutralDark},rootExpanded:{color:n.neutralDark,backgroundColor:n.neutralLight,selectors:Object(We.a)({},".ms-Button-icon",{color:n.themeDark})},rootExpandedHovered:{background:n.neutralQuaternaryAlt},rootDisabled:{backgroundColor:n.white,selectors:Object(We.a)({},".ms-Button-icon",{color:r.disabledBodySubtext})},splitButtonMenuButton:{backgroundColor:n.white,color:n.neutralSecondary,selectors:{":hover":{backgroundColor:n.neutralLighter,selectors:Object(We.a)({},".ms-Button-icon",{color:n.neutralPrimary})},":active":{backgroundColor:n.neutralLight,selectors:Object(We.a)({},".ms-Button-icon",{color:n.neutralPrimary})}}},splitButtonMenuButtonDisabled:{backgroundColor:n.white},icon:{color:n.themePrimary}}}(t)}}}},C.createElement(Ni.fabric.CommandBar,{items:r,farItems:i,styles:{root:{backgroundColor:"transparent",height:"unset",paddingLeft:0,paddingRight:0}}}))))}var xa={};xa[To.AllData]=Ui.selectDataSpanAll,xa[To.FilteredData]=Ui.selectDataSpanFilter,xa[To.SelectedData]=Ui.selectDataSpanSelection;var Sa={};Sa[To.AllData]=Ui.labelZeroAll,Sa[To.FilteredData]=null,Sa[To.SelectedData]=Ui.labelZeroSearchResults;var wa={};function Ca(e){return f.util.ensureSearchExpressionGroupArray(e).map((function(e,t){return Object.assign(Object.assign({key:t},e),{expressions:e.expressions.map((function(e,t){return Object.assign({key:t},e)}))})}))}wa[To.AllData]=Ui.labelDataNullAll,wa[To.FilteredData]=Ui.labelDataNullFiltered,wa[To.SelectedData]=Ui.labelDataNullSelection;var ka=function(e){b(n,e);var t=w(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={calculating:null,errors:null,autoCompleteDistinctValues:{},colorBin:null,dataContent:null,dataFile:null,search:null,facets:null,filter:null,filteredData:null,specCapabilities:null,size:{height:null,width:null},scheme:null,transform:null,columns:null,chart:"grid",signalValues:null,hideAxes:!1,hideLegend:!1,sideTabId:ua.ChartType,dataScopeId:To.AllData,selectedItemIndex:{},sidebarClosed:!1,sidebarPinned:!0,view:e.initialView||"2d",snapshots:[],selectedSnapshotIndex:-1,tooltipExclusions:[],positionedColumnMapProps:null,note:null},r.state.selectedItemIndex[To.AllData]=0,r.state.selectedItemIndex[To.FilteredData]=0,r.state.selectedItemIndex[To.SelectedData]=0,r.snapshotThumbWidth=300,r.discardColorContextUpdates=!0,r.updateViewerOptions(Object.assign(Object.assign({},f.VegaDeckGl.util.clone(f.Viewer.defaultViewerOptions)),e.viewerOptions)),r}return Object(m.a)(n,[{key:"finalize",value:function(){this.viewer&&this.viewer.finalize()}},{key:"updateViewerOptions",value:function(e){var t=this;if(this.viewerOptions=Object.assign(Object.assign({},f.VegaDeckGl.util.deepMerge(Fo,this.viewerOptions,e)),{tooltipOptions:{exclude:function(e){return t.state.tooltipExclusions.indexOf(e)>=0}},onColorContextChange:function(){return t.manageColorToolbar()},onDataFilter:function(n,r){var i=Object.assign({},t.state.selectedItemIndex);i[To.FilteredData]=0,t.changeInsight({filter:n,filteredData:r,selectedItemIndex:i}),t.state.sideTabId===ua.Data&&t.state.dataScopeId===To.FilteredData&&requestAnimationFrame((function(){return r&&t.silentActivation(r[0])})),e&&e.onDataFilter&&e.onDataFilter(n,r)},onSelectionChanged:function(n,r,i){if(!t.ignoreSelectionChange){var o=Object.assign({},t.state.selectedItemIndex);o[To.SelectedData]=r||0;var a=t.state,s=a.search,u=a.sideTabId;n&&(s=Ca(n)),t.setState({search:s,selectedItemIndex:o,sideTabId:u}),e&&e.onSelectionChanged&&e.onSelectionChanged(n,r,i)}},onAxisClick:function(n,r){t.toggleableSearch(n,r),e&&e.onLegendRowClick&&e.onAxisClick(n,r)},onLegendHeaderClick:function(e){var n=Uo(e),r=t.state.specCapabilities&&t.state.specCapabilities.roles.filter((function(e){return"color"===e.role}))[0],i=Object.assign(Object.assign({},t.getColumnMapBaseProps()),{collapseLabel:!0,container:t.div,selectedColumnName:t.state.columns.color,onDismiss:function(){t.setState({positionedColumnMapProps:null})},specRole:r,left:n.left-t.div.clientLeft,top:n.top-t.div.clientTop});t.setState({positionedColumnMapProps:i})},onLegendRowClick:function(n,r){t.toggleableSearch(n,r.search),e&&e.onLegendRowClick&&e.onLegendRowClick(n,r)},onError:function(n){t.setState({errors:n}),e&&e.onError&&e.onError(n)},onBeforeCreateLayers:Jo,getTextColor:function(e){return e.specRole?t.viewerOptions.colors.clickableText:e.color},getTextHighlightColor:function(e){return e.specRole?t.viewerOptions.colors.clickableTextHighlight:e.color},onTextClick:function(e,n){if(e&&n){var r=Uo(e),i=n.specRole;if(r&&i){var o=Object.assign(Object.assign({},t.getColumnMapBaseProps()),{collapseLabel:!0,container:t.div,selectedColumnName:t.state.columns[i.role],onDismiss:function(){t.setState({positionedColumnMapProps:null})},specRole:i,left:r.left-t.div.clientLeft,top:r.top-t.div.clientTop});t.setState({positionedColumnMapProps:o})}else t.setState({positionedColumnMapProps:null})}}}),this.viewer&&this.viewer.presenter){var n=f.util.getPresenterStyle(this.viewerOptions),r=Object.assign(Object.assign({},this.viewer.presenter.style),n);this.viewer.presenter.style=r,this.viewer.options=f.VegaDeckGl.util.deepMerge(this.viewer.options,this.props.viewerOptions,this.viewerOptions)}}},{key:"signal",value:function(e,t){switch(e){case f.constants.SignalNames.ColorBinCount:case f.constants.SignalNames.ColorReverse:case f.constants.SignalNames.MarkOpacity:this.discardColorContextUpdates=!1}this.viewer.vegaViewGl.signal(e,t),this.viewer.vegaViewGl.run(),this.discardColorContextUpdates=!0,this.props.onSignalChanged&&this.props.onSignalChanged()}},{key:"manageColorToolbar",value:function(){var e=this,t=this.viewer.colorContexts&&this.viewer.colorContexts.length>1;$i(this.viewer.presenter,!!this.state.columns.color,{themePalette:Zi[this.props.theme||""],canRemap:t,isRemap:t&&this.viewer.currentColorContext>0,colorMapHandler:function(t){e.viewer.currentColorContext=~~t,e.viewer.renderSameLayout(),e.manageColorToolbar()}})}},{key:"getInsight",value:function(){return this.viewer.getInsight()}},{key:"setInsight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewer.getInsight(),n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object.assign({},this.state.selectedItemIndex);r[To.AllData]=0,r[To.FilteredData]=0,r[To.SelectedData]=0;var i=Object.assign({chart:null,scheme:null,columns:null,filter:null,filteredData:null,selectedItemIndex:r},t);i.search=Ca(i.filter);var o=function(){e.getColorContext=null,e.changeInsight(i)},a=this.viewer.getInsight().filter;n&&a&&i.filter?f.searchExpression.startsWith(i.filter,a)?o():this.viewer.reset().then((function(){return new Promise((function(t,n){setTimeout(t,e.viewer.options.transitionDurations.scope)}))})).then(o):o()}},{key:"reviveSnapshot",value:function(e){if("number"===typeof e){var t=e,n=this.state.snapshots[t],r=Object.assign(Object.assign({},n.insight),{note:n.description,selectedSnapshotIndex:t});this.state.sidebarClosed||(r.sideTabId=ua.Snapshots,this.scrollSnapshotIntoView(t)),this.setInsight(r,!0)}else{var i=e;i.insight?this.setInsight(Object.assign(Object.assign({},i.insight),{note:i.description,selectedSnapshotIndex:-1}),!0):this.setState({note:i.description,selectedSnapshotIndex:-1})}}},{key:"load",value:function(e,t,n){var r=this;return this.changeInsight({columns:null,note:null}),new Promise((function(i,o){var a,s=function(e){var o;(r.prefs=n&&n.chartPrefs||n||{},t&&(o=t(e.columns),function(e,t){if(t){var n=e[t.chart]||{};for(var r in e[t.chart]=n,t.columns){var i=r;"color"!==i&&"x"!==i||function(){var e=n[i]||{};n[i]=e;var r=t.columns[i],o=function(n){if(t.signalValues&&t.signalValues[n]&&e[r]){var i=e[r].signalValues||{};i[n]=t.signalValues[n],e[r].signalValues=i}};switch(i){case"color":e[r]={scheme:t.scheme,colorBin:t.colorBin},o(f.constants.SignalNames.ColorBinCount);break;case"x":o(f.constants.SignalNames.XBins)}}()}}}(r.prefs,o)),o)||(o=new No.RecommenderSummary(e.columns,e.data).recommend());var s=Object.assign({},r.state.selectedItemIndex),u=ua.ChartType;s[To.AllData]=0,s[To.FilteredData]=0,s[To.SelectedData]=0;var l=Object.assign({dataFile:a,dataContent:e,snapshots:e.snapshots||r.state.snapshots,autoCompleteDistinctValues:{},filter:null,filteredData:null,transform:null,tooltipExclusions:n&&n.tooltipExclusions||[],selectedItemIndex:s,sideTabId:u},o);r.getColorContext=null,Lo(l.columns,e.columns,l.transform);var c=Bo(o?o.chart:null,l.columns,e.columns);l.errors=c,r.changeInsight(l),r.activateDataBrowserItem(u,r.state.dataScopeId),i()};return Array.isArray(e)?$o(e,"json").then((function(e){a={type:"json"},s(e)})).catch(o):function(e){return new Promise((function(t,n){var r=f.VegaDeckGl.base.vega,i=r.loader();function o(i){var o;try{o=r.read(i,{type:e.type,parse:{}})}catch(a){n(a)}o&&$o(o,e.type).then((function(r){e.snapshotsUrl?fetch(e.snapshotsUrl).then((function(e){return e.json()})).then((function(e){r.snapshots=e,t(r)})).catch(n):e.snapshots?(r.snapshots=e.snapshots,t(r)):t(r)})).catch(n)}e.dataUrl?i.load(e.dataUrl).then(o).catch(n):e.rawText?o(e.rawText):n("dataFile object must have either dataUrl or rawText property set.")}))}(a=e).then(s).catch(o)}))}},{key:"changeChartType",value:function(e){var t=this,n=xo(this.prefs,e,"*","*"),r=Object.assign({chart:e},n),i=this.state.columns||{};if(r.columns=Object.assign({},i),"scatterplot"!==this.state.chart||"barchart"!==e&&"barchartV"!==e)if("scatterplot"===this.state.chart&&"barchartH"===e)r.columns=Object.assign(Object.assign({},i),{sort:i.x});else if("treemap"===e){if(r.view="2d",!i.size){var o=Object(No.preferredColumnForTreemapSize)(this.state.dataContent.columns,!0);o||(o=Object(No.preferredColumnForTreemapSize)(this.state.dataContent.columns,!1)),o&&(r.columns=Object.assign(Object.assign({},i),{size:o}))}}else"stacks"===e&&(r.view="3d");else r.columns=Object.assign(Object.assign({},i),{sort:i.y});Lo(r.columns,this.state.dataContent.columns,this.state.transform);var a=Bo(e,r.columns,this.state.dataContent.columns);a&&(r.errors=a),this.calculate((function(){return t.changeInsight(r)}))}},{key:"calculate",value:function(e){this.setState({calculating:e})}},{key:"changeView",value:function(e){this.changeInsight({view:e})}},{key:"changeInsight",value:function(e){e.signalValues||(e.signalValues=null),"barchart"===e.chart&&(e.chart="barchartV"),this.setState(e)}},{key:"changespecCapabilities",value:function(e){this.setState({specCapabilities:e})}},{key:"changeColumnMapping",value:function(e,t,n){var r=this,i=Object.assign({},this.state.columns),o=function(){i[e]=t&&t.name,r.changeInsight({columns:i})};if(t)switch(e){case"facet":!function(){var e,n=t;if(n.quantitative)e={columns:3,rows:3};else switch(n.stats.distinctValueCount){case 2:e={columns:2,rows:1};break;default:e={columns:null,rows:null};for(var o=1;o*o<n.stats.distinctValueCount;)o++;e.columns=e.rows=o}i.facet=t.name,r.changeInsight({facets:e,columns:i})}();break;case"color":!function(){var e,o,a,s={scheme:n&&n.scheme,columns:i,colorBin:r.state.colorBin};if(!s.scheme){var u=xo(r.prefs,r.state.chart,"color",t.name);s=Object.assign(Object.assign({},s),u)}if(s.scheme||(s.scheme=(e=t,o=null,a=r.state.scheme,o&&o.quantitative===e.quantitative&&Ji(o)===Ji(e)?a:Ji(e))),t.stats.hasColorData||(s.directColor=!1,r.state.directColor!==s.directColor&&(s.calculating=function(){return r._resize()})),r.state.columns&&r.state.columns.color&&r.state.columns.color!==t.name){var l=r.state.dataContent.columns.filter((function(e){return e.name===r.state.columns.color}))[0];t.isColorData!=l.isColorData&&(s.calculating=function(){return r._resize()})}r.ignoreSelectionChange=!0,r.viewer.deselect().then((function(){r.ignoreSelectionChange=!1,requestAnimationFrame((function(){i.color=t.name,r.getColorContext=null,r.changeInsight(s)}))}))}();break;case"x":!function(){var e=xo(r.prefs,r.state.chart,"x",t.name),n=Object.assign({columns:i},e);i.x=t.name,r.changeInsight(n)}();break;default:o()}else o()}},{key:"setSideTabId",value:function(e,t){e===ua.Data&&null==t&&(t=this.getBestDataScopeId()),null==t&&(t=this.state.dataScopeId),this.setState({sideTabId:e,dataScopeId:t,sidebarClosed:!1}),this.activateDataBrowserItem(e,t)}},{key:"getBestDataScopeId",value:function(){var e=this.viewer&&this.viewer.getSelection();return e&&e.selectedData&&e.selectedData.length?To.SelectedData:this.state.filteredData?To.FilteredData:To.AllData}},{key:"activateDataBrowserItem",value:function(e,t){if(this.viewer){var n;if(e===ua.Data)switch(t){case To.AllData:n=this.state.dataContent&&this.state.dataContent.data[this.state.selectedItemIndex[To.AllData]];break;case To.FilteredData:n=this.state.filteredData&&this.state.filteredData[this.state.selectedItemIndex[To.FilteredData]];break;case To.SelectedData:var r=this.viewer.getSelection()||{};n=r.selectedData&&r.selectedData[this.state.selectedItemIndex[To.SelectedData]]}this.silentActivation(n)}}},{key:"silentActivation",value:function(e){var t=this;this.ignoreSelectionChange=!0;var n=function(){t.ignoreSelectionChange=!1};return e?this.viewer.activate(e).then(n):this.viewer.deActivate().then(n)}},{key:"sidebar",value:function(e,t){this.setState({sidebarClosed:e,sidebarPinned:t})}},{key:"resize",value:function(){var e=this;this.setState({calculating:function(){return e._resize()}})}},{key:"_resize",value:function(){this.changeInsight({size:this.getLayoutDivSize(this.state.sidebarPinned,this.state.sidebarClosed)})}},{key:"viewerMounted",value:function(e){this.setState({size:this.getLayoutDivSize(this.state.sidebarPinned,this.state.sidebarClosed),signalValues:this.state.signalValues})}},{key:"getLayoutDivSize",value:function(e,t){var n=e&&!t?this.layoutDivPinned:this.layoutDivUnpinned;return{height:n.offsetHeight,width:n.offsetWidth}}},{key:"toggleableSearch",value:function(e,t){if(e.ctrlKey)this.setState({search:Ca(t)}),this.setSideTabId(ua.Search);else{var n=this.viewer.getSelection();if(n.search){var r=va(f.util.ensureSearchExpressionGroupArray(n.search),t);if(r.found)0===r.groups.length?this.doDeselect():this.doSelect(r.groups);else if(e.altKey||e.shiftKey){var i=!0;e.altKey?t.clause="&&":e.shiftKey&&(this.props.searchORDisabled?i=!1:t.clause="||"),i?(r.groups.push(t),this.doSelect(r.groups)):this.doSelect(t)}else this.doSelect(t)}else this.doSelect(t)}}},{key:"doFilter",value:function(e){this.viewer.filter(e)}},{key:"doUnfilter",value:function(){this.viewer.reset()}},{key:"doSelect",value:function(e){this.viewer.select(e)}},{key:"doDeselect",value:function(){return this.viewer.deselect()}},{key:"writeSnapshot",value:function(e,t){var n,r=this.state.selectedSnapshotIndex;if(t>=0)(n=Object(K.a)(this.state.snapshots))[t]=e,this.setState({snapshots:n,selectedSnapshotIndex:r});else{var i=e.description;r=(n=this.state.snapshots.concat(e)).length-1,this.state.sidebarClosed||this.scrollSnapshotIntoView(r),this.setState({sideTabId:ua.Snapshots,snapshots:n,selectedSnapshotIndex:r,note:i})}}},{key:"scrollSnapshotIntoView",value:function(e){var t=this;clearTimeout(this.scrollSnapshotTimer),this.scrollSnapshotTimer=setTimeout((function(){var n=t.div.querySelector(".snapshot:nth-child(".concat(e+1,")"));n&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}),500)}},{key:"componentDidMount",value:function(){this.props.mounted&&this.props.mounted(this)}},{key:"render",value:function(){var e=this,t=this.state,n={colorBin:t.colorBin,columns:t.columns,directColor:t.directColor,facets:t.facets,filter:t.filter,hideAxes:t.hideAxes,hideLegend:t.hideLegend,scheme:t.scheme,signalValues:t.signalValues,size:t.size,transform:t.transform,chart:t.chart,view:t.view},r=!(!this.state.columns||!this.state.dataContent),i=this.viewer&&this.viewer.getSelection()||{},o=i&&i.search,a=this.getColumnMapBaseProps(),s={};s[To.AllData]=this.state.dataContent&&this.state.dataContent.data,s[To.FilteredData]=this.state.filteredData,s[To.SelectedData]=i&&i.selectedData,this.state.calculating&&requestAnimationFrame((function(){e.state.calculating&&(e.state.calculating(),e.setState({calculating:null}))}));var u=this.props.theme||"",l=Zi[u];return C.createElement("div",{ref:function(t){t&&(e.div=t)},className:h.classList("sanddance-explorer",this.props.theme)},C.createElement(_a,{logoClickUrl:this.props.logoClickUrl,logoClickTarget:this.props.logoClickTarget,themePalette:l,loaded:r,doDeselect:this.doDeselect.bind(this),doFilter:this.doFilter.bind(this),doUnfilter:this.doUnfilter.bind(this),filter:this.state.filter,selectionSearch:o,selectionState:i,buttons:this.props.topBarButtonProps,view:this.state.view,snapshots:this.state.snapshots,onSnapshotPreviousClick:function(){var t;-1===e.state.selectedSnapshotIndex?t=e.state.snapshots.length-1:(t=e.state.selectedSnapshotIndex,--t<0&&(t=e.state.snapshots.length-1)),e.reviveSnapshot(t)},onSnapshotClick:function(){return e.snapshotEditor.editSnapshot()},onSnapshotNextClick:function(){var t;-1===e.state.selectedSnapshotIndex?t=0:(t=e.state.selectedSnapshotIndex,++t>e.state.snapshots.length-1&&(t=0)),e.reviveSnapshot(t)},onViewClick:function(){var t="2d"===e.state.view?"3d":"2d";e.changeInsight({view:t})},onHomeClick:function(){return e.viewer.presenter.homeCamera()}}),C.createElement("div",{className:h.classList("sanddance-main",this.state.sidebarPinned&&"pinned",this.state.sidebarClosed&&"closed",(n.hideLegend||n.directColor||!(n.columns&&n.columns.color&&!this.state.dataContent.columns.filter((function(e){return e.name===n.columns.color}))[0].isColorData))&&"hide-legend")},C.createElement("div",{ref:function(t){t&&!e.layoutDivUnpinned&&(e.layoutDivUnpinned=t)},className:"sanddance-layout-unpinned"}),C.createElement("div",{ref:function(t){t&&!e.layoutDivPinned&&(e.layoutDivPinned=t)},className:"sanddance-layout-pinned"}),!r&&C.createElement("div",{className:"loading"},C.createElement(Ni.fabric.Spinner,{size:Ni.fabric.SpinnerSize.large,label:Ui.loading})),C.createElement(da,{themePalette:l,calculating:!!this.state.calculating,closed:this.state.sidebarClosed,hideSidebarControls:this.props.hideSidebarControls,pinned:this.state.sidebarPinned,disabled:!r,dataScopeProps:{themePalette:l,compact:this.state.sidebarClosed,onCompactClick:function(){e.changeInsight({sidebarClosed:!1,size:e.getLayoutDivSize(e.state.sidebarPinned,!1)})},dataSet:this.props.datasetElement,dataCount:r&&{all:this.state.dataContent&&this.state.dataContent.data.length,filtered:this.state.filteredData&&this.state.filteredData.length,selected:i&&i.selectedData&&i.selectedData.length},active:this.state.sideTabId===ua.Data,onDataScopeClick:function(t){return e.setSideTabId(ua.Data,t)},selectedDataScope:this.state.dataScopeId,disabled:!r},onSideTabClick:function(t){if(t===ua.Collapse||e.state.sideTabId===t){var n=e.state,r=n.dataScopeId,i=n.sidebarClosed;i&&t===ua.Data&&(r=e.getBestDataScopeId()),i=!e.state.sidebarClosed,e.changeInsight({dataScopeId:r,sidebarClosed:i,size:e.getLayoutDivSize(e.state.sidebarPinned,i)})}else t===ua.Pin?e.changeInsight({sidebarPinned:!e.state.sidebarPinned,size:e.getLayoutDivSize(!e.state.sidebarPinned,e.state.sidebarClosed)}):e.setSideTabId(t)},selectedSideTab:this.state.sideTabId},r&&function(){switch(e.state.sideTabId){case ua.ChartType:return C.createElement(co,Object.assign({collapseLabels:e.props.compactUI,tooltipExclusions:e.state.tooltipExclusions,toggleTooltipExclusion:function(t){var n=Object(K.a)(e.state.tooltipExclusions),r=n.indexOf(t);r<0?n.push(t):n.splice(r,1),e.setState({tooltipExclusions:n}),e.props.onTooltipExclusionsChanged&&e.props.onTooltipExclusionsChanged(n)},disabled:!r||e.state.sidebarClosed},a,{chart:e.state.chart,view:e.state.view,onChangeChartType:function(t){return e.changeChartType(t)},insightColumns:e.state.columns,onChangeSignal:function(t,n,r,i){return function(e,t,n,r,i,o){So(e,t,n,r,{signalValues:{}}).signalValues[i]=o}(e.prefs,e.state.chart,t,n,r,i)}}));case ua.Color:return C.createElement(_o,Object.assign({compactUI:e.props.compactUI,specCapabilities:e.state.specCapabilities,disabled:!r||e.state.sidebarClosed},a,{dataContent:e.state.dataContent,scheme:e.state.scheme,colorBin:e.state.colorBin,colorBinSignal:e.viewer&&e.viewer.vegaSpec&&e.viewer.vegaSpec.signals.filter((function(e){return e.name===f.constants.SignalNames.ColorBinCount}))[0],colorReverseSignal:e.viewer&&e.viewer.vegaSpec&&e.viewer.vegaSpec.signals.filter((function(e){return e.name===f.constants.SignalNames.ColorReverse}))[0],colorColumn:e.state.columns.color,onColorBinChange:function(t){e.ignoreSelectionChange=!0,e.viewer.deselect().then((function(){e.ignoreSelectionChange=!1,requestAnimationFrame((function(){e.getColorContext=null,e.changeInsight({colorBin:t}),So(e.prefs,e.state.chart,"color",e.state.columns.color,{colorBin:t})}))}))},onColorSchemeChange:function(t){e.changeColumnMapping("color",e.state.dataContent.columns.filter((function(t){return t.name===e.state.columns.color}))[0],{scheme:t}),So(e.prefs,e.state.chart,"color",e.state.columns.color,{scheme:t})},onColorBinCountChange:function(t){var n={};n[f.constants.SignalNames.ColorBinCount]=t,So(e.prefs,e.state.chart,"color",e.state.columns.color,{signalValues:n})},onColorReverseChange:function(t){e.getColorContext=null;({})[f.constants.SignalNames.ColorReverse]=t},directColor:e.state.directColor,onDirectColorChange:function(t){e.changeInsight({directColor:t,calculating:function(){return e._resize()}})}}));case ua.Data:var t=s[e.state.dataScopeId],n=!0;switch(e.state.dataScopeId){case To.AllData:var i=e.state.selectedItemIndex[e.state.dataScopeId];n=e.state.dataContent&&!e.state.filteredData||e.state.filteredData.indexOf(t[i])>=0}return C.createElement(Ro,{theme:e.props.theme,themePalette:l,disabled:!r||e.state.sidebarClosed,columns:e.state.dataContent&&e.state.dataContent.columns,data:t,displayName:e.state.dataFile&&e.state.dataFile.displayName||Ui.defaultFileName,title:xa[e.state.dataScopeId],nullMessage:wa[e.state.dataScopeId],zeroMessage:Sa[e.state.dataScopeId],index:e.state.selectedItemIndex[e.state.dataScopeId],itemVisible:n,dataExportHandler:e.props.dataExportHandler,selectedDataScope:e.state.dataScopeId,onDataScopeClick:function(t){return e.setSideTabId(ua.Data,t)},onActivate:function(t,n){var r=Object.assign({},e.state.selectedItemIndex);r[e.state.dataScopeId]=n,e.setState({selectedItemIndex:r}),e.silentActivation(t)},onSearch:function(t,n){t.ctrlKey?e.setState({sideTabId:ua.Search,search:n}):e.doSelect(n)},bingSearchDisabled:e.props.bingSearchDisabled});case ua.Search:return C.createElement(Qo,{collapseLabels:e.props.compactUI,themePalette:l,disabled:!r||e.state.sidebarClosed,disableGroupOR:e.props.searchORDisabled,disableExpressionOR:e.props.searchORDisabled,initializer:{columns:a.allColumns,search:e.state.search},autoCompleteDistinctValues:e.state.autoCompleteDistinctValues,onSelect:function(t){return e.doSelect(t)},data:e.state.dataContent.data});case ua.Snapshots:return C.createElement(pa,Object.assign({},e.props.snapshotProps,{editor:e.snapshotEditor,themePalette:l,explorer:e,snapshots:e.state.snapshots,selectedSnapshotIndex:e.state.selectedSnapshotIndex,onClearSnapshots:function(){return e.setState({snapshots:[],selectedSnapshotIndex:-1})},onWriteSnapshot:function(t,n){return e.writeSnapshot(t,n)},onRemoveSnapshot:function(t){var n=Object(K.a)(e.state.snapshots);n.splice(t,1);var r=e.state.selectedSnapshotIndex;t===r?r=-1:r>t&&r--,e.setState({snapshots:n,selectedSnapshotIndex:r})},onSnapshotClick:function(t,n){e.setState({selectedSnapshotIndex:n}),e.calculate((function(){var r=!1;e.props.onSnapshotClick&&(r=e.props.onSnapshotClick(t,n)),r||e.reviveSnapshot(n)}))},onMoveUp:function(t){if(t>0){var n=Object(K.a)(e.state.snapshots),r=n[t-1];n[t-1]=n[t],n[t]=r;var i=e.state.selectedSnapshotIndex;t===i?i=t-1:t-1===i&&(i=t),e.setState({snapshots:n,selectedSnapshotIndex:i})}},onMoveDown:function(t){if(t<e.state.snapshots.length-1){var n=Object(K.a)(e.state.snapshots),r=n[t+1];n[t+1]=n[t],n[t]=r;var i=e.state.selectedSnapshotIndex;t===i?i=t+1:t+1===i&&(i=t),e.setState({snapshots:n,selectedSnapshotIndex:i})}}}));case ua.Settings:return C.createElement(la,{explorer:e,dataFile:e.state.dataFile,scheme:e.state.scheme,hideLegend:e.state.hideLegend,onToggleLegend:function(t){return e.setState({hideLegend:t,calculating:function(){return e._resize()}})},hideAxes:e.state.hideAxes,onToggleAxes:function(t){return e.setState({calculating:function(){return e.setState({hideAxes:t})}})},additionalSettings:e.props.additionalSettings},e.props.systemInfoChildren)}}()),r&&C.createElement("div",{className:"sanddance-view"},C.createElement(Fi,{renderOptions:{initialColorContext:this.getColorContext&&this.getColorContext(this.viewer.insight,n),discardColorContextUpdates:function(){return e.discardColorContextUpdates}},viewerOptions:this.viewerOptions,ref:function(t){t&&(e.viewer=t.viewer)},onView:function(t){e.changespecCapabilities(t.specResult.errors?t.specResult.specCapabilities:e.viewer.specCapabilities),e.getColorContext=function(t,n){return(t||n)&&t&&n?t.scheme!==n.scheme||t.columns.color!==n.columns.color||t.directColor!=n.directColor?null:e.viewer.colorContexts&&e.viewer.colorContexts[e.viewer.currentColorContext]:null},function(e){var t=qi(e);t&&(t.tabIndex=-1)}(e.viewer),e.props.onView&&e.props.onView()},onError:function(t){e.props.onError&&e.props.onError(t)},data:this.state.dataContent.data,insight:n,onMount:function(t){return e.viewerMounted(t)}}),this.state.note&&C.createElement("div",{className:"sanddance-note"},C.createElement(Qi,{className:"cancel",themePalette:l,title:Ui.buttonClose,iconName:"Cancel",onClick:function(){return e.setState({note:null})}}),this.state.note)),C.createElement(so,{title:Ui.labelError,hidden:!this.state.errors,onDismiss:function(){e.setState({errors:null})}},this.state.errors&&this.state.errors.map((function(e,t){return C.createElement("div",{key:t},e)}))),C.createElement(ha,Object.assign({ref:function(t){return e.snapshotEditor=t}},this.props.snapshotProps,{explorer:this,onWriteSnapshot:function(t,n){return e.writeSnapshot(t,n)},themePalette:l}))),this.state.positionedColumnMapProps&&C.createElement(na,Object.assign({},this.state.positionedColumnMapProps)))}},{key:"getColumnMapBaseProps",value:function(){var e=this,t=this.state.dataContent&&this.state.dataContent.columns.filter((function(e){return!f.util.isInternalFieldName(e.name,!0)})),n=t&&t.filter((function(e){return e.quantitative})),r=t&&t.filter((function(e){return!e.quantitative}));return{changeColumnMapping:function(n,r){var i;if("string"===typeof r){var o=e.state.columns[r];i=t.filter((function(e){return e.name===o}))[0]}else i=r;e.changeColumnMapping(n,i)},allColumns:t,quantitativeColumns:n,categoricalColumns:r,specCapabilities:this.state.specCapabilities,explorer:this}}}]),n}(C.Component)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){"use strict";(function(e){var t,r=n(3),i=n(190);function o(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function a(e){return e&&!0}var s=(t={},Object(r.a)(t,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){o(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(r.a)(t,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){o(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(r.a)(t,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){o(!1)}}),Object(r.a)(t,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){o(!1)},deleteQuery:function(){o(!1)},beginQuery:function(){o(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},queryCounter:function(){},getQueryObject:function(){}}),Object(r.a)(t,"EXT_disjoint_timer_query_webgl2",{meta:{suffix:"EXT"},queryCounter:null}),Object(r.a)(t,"OVERRIDES",{readBuffer:function(e,t,n){a(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:a(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),s=o.webgl2,u=o.ext;switch(r){case 35069:i=!!s&&void 0;break;case 35070:i=s||u?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!a(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){if(!a(e))switch(i){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(n,r,i)},getTexParameter:function(e,t,n,r){switch(r){case 34046:var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:i.a,hint:function(e,t,n,r){return t(n,r)}}),t);function u(e,t){var n=t.extension,r=t.target,i=t.target2,a=s[n];o(a);var u=a.meta,l=(void 0===u?{}:u).suffix,c=void 0===l?"":l,d=e.getExtension(n);Object.keys(a).forEach((function(t){var n="".concat(t).concat(c),o=null;"meta"===t||"function"===typeof e[t]||(d&&"function"===typeof d[n]?o=function(){return d[n].apply(d,arguments)}:"function"===typeof a[t]&&(o=a[t].bind(r))),o&&(r[t]=o,i[t]=o)}))}("undefined"!==typeof e?e:window).polyfillContext=function(e){if(e.luma=e.luma||{},function(e){e.luma.extensions={};var t=e.getSupportedExtensions()||[],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.luma[s]=e.getExtension(s)}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}(e),!e.luma.polyfilled){for(var t in s)"overrides"!==t&&u(e,{extension:t,target:e.luma,target2:e});!function(e,t){var n=t.target,r=t.target2,i=s.OVERRIDES;Object.keys(i).forEach((function(t){if("function"===typeof i[t]){var o=e[t]?e[t].bind(e):function(){},a=i[t].bind(null,e,o);n[t]=a,r[t]=a}}))}(e,{target:e.luma,target2:e}),e.luma.polyfilled=!0}return e}}).call(this,n(59))},function(e){e.exports=JSON.parse('{"a":"5.11.1"}')},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(152),i=function(){function e(e,t){for(var n=-1,i=0;i<e.length;i++){var a=new o(e[i],t).recommend();if(a.score>n&&(this.best=a,n=a.score),1===n)break}for(var s=0;s<e.length;s++){var u=e[s];if(u.name!==this.best.columns.x&&!u.stats.isSequential&&(u.quantitative||u.stats.distinctValueCount<r.maxCategoricalColors&&u.stats.distinctValueCount>1)){this.best.columns.color=this.best.columns.sort=u.name,this.best.scheme=r.defaultColorScheme(u),u.quantitative&&(this.best.colorBin="quantile");break}}}return e.prototype.recommend=function(){return this.best},e}();t.BarChartRecommenderSummary=i;var o=function(){function e(e,t){this.score=0,this.column=e,this.rules=[function(e){return!e.stats.isSequential&&(!!e.quantitative||!e.quantitative&&e.stats.distinctValueCount<=20&&e.stats.distinctValueCount>=2)}];for(var n=0;n<this.rules.length;n++)this.rules[n](e)&&this.score++}return e.prototype.recommend=function(){return{chart:"barchart",columns:{x:this.column.name},score:this.score,scheme:void 0,view:"2d"}},e}();t.BarChartRecommender=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxCategoricalColors=20;var r=function(e,t){};t.Recommender=r,t.defaultColorScheme=function(e){return e.quantitative?"redyellowgreen":2===e.stats.distinctValueCount?"dual_redgreen":e.stats.distinctValueCount<=10?"category10":"category20"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(152),i=n(139),o=function(){function e(e,t){var n={chart:"scatterplot",score:void 0,columns:{},scheme:void 0,view:"2d"};e.forEach((function(e){if(!n.columns.x){if("x"===e.name.toLowerCase())return n.columns.x=e.name;if(i.isLongitude(e))return n.columns.x=e.name}if(!n.columns.y){if("y"===e.name.toLowerCase())return n.columns.y=e.name;if(i.isLatitude(e))return n.columns.y=e.name}if(!n.columns.color&&!e.stats.isSequential&&(e.quantitative||e.stats.distinctValueCount<r.maxCategoricalColors))return n.columns.color=n.columns.sort=e.name,n.scheme=r.defaultColorScheme(e),void(e.quantitative&&(n.colorBin="quantile"))})),n.columns.x&&n.columns.y&&(this.best=n)}return e.prototype.recommend=function(){return this.best},e}();t.ScatterPlotRecommenderSummary=o},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(45),i=r.b.getInstance();i&&i.onReset&&r.b.getInstance().onReset(c);var o=0,a={empty:!0},s={},u="undefined"===typeof WeakMap?null:WeakMap;function l(e){u=e}function c(){o++}function d(e,t,n){var r=f(n.value&&n.value.bind(null));return{configurable:!0,get:function(){return r}}}function f(e,t){if(void 0===t&&(t=100),!u)return e;var n,r=0,i=o;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=n;(void 0===n||i!==o||t>0&&r>t)&&(n=p(),r=0,i=o),u=n;for(var l=0;l<a.length;l++){var c=h(a[l]);u.map.has(c)||u.map.set(c,p()),u=u.map.get(c)}return u.hasOwnProperty("value")||(u.value=e.apply(void 0,a),r++),u.value}}function h(e){return e?"object"===typeof e||"function"===typeof e?e:(s[e]||(s[e]={val:e}),s[e]):a}function p(){return{map:u?new u:null}}},function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var a=o[r];i(e||{},a)}return e}function i(e,t,n){for(var r in void 0===n&&(n=[]),n.push(t),t)if(t.hasOwnProperty(r)){var o=t[r];if("object"===typeof o){var a=n.indexOf(o)>-1;e[r]=a?o:i(e[r]||{},o,n)}else e[r]=o}return n.pop(),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n(135),a=n(58),s=n(67),u=["theme","styles"];function l(e,t,n,l,c){var d=(l=l||{scope:"",fields:void 0}).scope,f=l.fields,h=void 0===f?u:f;return function(u){function l(){var t=null!==u&&u.apply(this,arguments)||this;return t._inCustomizerContext=!1,t._renderContent=function(o){t._inCustomizerContext=!!o.customizations.inCustomizerContext;var s=a.a.getSettings(h,d,o.customizations),u=s.styles,l=(s.dir,r.d(s,["styles","dir"])),c=n?n(t.props):void 0;return t._updateStyles(u),i.createElement(e,r.a({},l,c,t.props,{styles:t._styles}))},t._onSettingsChanged=function(){return t.forceUpdate()},t}return r.c(l,u),l.prototype.render=function(){return i.createElement(s.a.Consumer,null,this._renderContent)},l.prototype.componentDidMount=function(){this._inCustomizerContext||a.a.observe(this._onSettingsChanged)},l.prototype.componentWillUnmount=function(){this._inCustomizerContext||a.a.unobserve(this._onSettingsChanged)},l.prototype._updateStyles=function(e){var n=this;this._styles&&e===this._styles.__cachedInputs__[1]&&!this.props.styles||(this._styles=function(r){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],i=0,a=t;i<a.length;i++){var s=a[i];s&&r.push("function"===typeof s?s(e):s)}if(1===r.length)return r[0];if(r.length)return o.a.apply(void 0,r);return{}}(r,t,e,n.props.styles)},this._styles.__cachedInputs__=[t,e,this.props.styles])},l.displayName="Styled"+(e.displayName||e.name),l}(c?i.PureComponent:i.Component)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(45),i=n(242),o=0,a=r.b.getInstance();a&&a.onReset&&a.onReset((function(){return o++}));var s="__retval__";function u(e){void 0===e&&(e={});var t=new Map,n=0,r=o;return function(a,u){void 0===u&&(u={});var l=t,d=e.disableCaching;return r!==o&&(r=o,t=new Map,n=0),e.disableCaching||(l=c(t,a),l=c(l,u)),!d&&l[s]||(l[s]=void 0===a?{}:Object(i.a)("function"===typeof a?a(u):a),d||n++),n>50&&(t.clear(),n=0,e.disableCaching=!0),l[s]}}function l(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function c(e,t){if("function"===typeof t&&t.__cachedInputs__)for(var n=0,r=t.__cachedInputs__;n<r.length;n++){e=l(e,r[n])}else if("object"===typeof t)for(var i in t)t.hasOwnProperty(i)&&(e=l(e,t[i]));return e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"z",(function(){return l})),n.d(t,"r",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"o",(function(){return p})),n.d(t,"w",(function(){return g})),n.d(t,"t",(function(){return m})),n.d(t,"s",(function(){return v})),n.d(t,"u",(function(){return b})),n.d(t,"y",(function(){return y})),n.d(t,"x",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"l",(function(){return k})),n.d(t,"n",(function(){return E})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return T})),n.d(t,"j",(function(){return P}));var r=n(84),i=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"],o=["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","role","style","tabIndex","title","translate","spellCheck","name"],a=o.concat(i),s=a.concat(["form"]),u=a.concat(["height","loop","muted","preload","src","width"]),l=u.concat(["poster"]),c=a.concat(["start"]),d=a.concat(["value"]),f=a.concat(["download","href","hrefLang","media","rel","target","type"]),h=a.concat(["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),p=h.concat(["accept","alt","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),g=h.concat(["cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),m=h.concat(["form","multiple","required"]),v=a.concat(["selected","value"]),b=a.concat(["cellPadding","cellSpacing"]),y=a,_=a.concat(["rowSpan","scope"]),x=a.concat(["colSpan","headers","rowSpan","scope"]),S=a.concat(["span"]),w=a.concat(["span"]),C=a.concat(["acceptCharset","action","encType","encType","method","noValidate","target"]),k=a.concat(["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),E=a.concat(["alt","crossOrigin","height","src","srcSet","useMap","width"]),O=E,T=a;function P(e,t,n){return Object(r.b)((function(e){return(!n||n.indexOf(e)<0)&&(0===e.indexOf("data-")||0===e.indexOf("aria-")||t.indexOf(e)>=0)}),{},e)}},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o)if("string"===typeof o)n.push(o);else if(o.hasOwnProperty("toString")&&"function"===typeof o.toString)n.push(o.toString());else for(var a in o)o[a]&&n.push(a)}return n.join(" ")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g,i=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i,o=/\s+/g,a=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/;function s(e,t,n){return e?(e=function(e){return e=(e=(e=e.replace(r,"")).replace(o," ")).trim()}(e),a.test(e)||!n&&i.test(e)?"":function(e,t){var n="",r=e.split(" ");return 2===r.length?(n+=r[0].charAt(0).toUpperCase(),n+=r[1].charAt(0).toUpperCase()):3===r.length?(n+=r[0].charAt(0).toUpperCase(),n+=r[2].charAt(0).toUpperCase()):0!==r.length&&(n+=r[0].charAt(0).toUpperCase()),t&&n.length>1?n.charAt(1)+n.charAt(0):n}(e,t)):""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isRendered:!1},n}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=setTimeout((function(){e.setState({isRendered:!0})}),t)},t.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},t.prototype.render=function(){return this.state.isRendered?i.Children.only(this.props.children):null},t.defaultProps={delay:0},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(30);function o(e){if("undefined"===typeof r||e){var t=Object(i.a)(),n=t&&t.navigator.userAgent;r=!!n&&-1!==n.indexOf("Macintosh")}return!!r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return C}));var r=n(120),i=n(118),o=n(72),a=n(30),s=n(54);function u(e,t,n){return p(e,t,!0,!1,!1,n)}function l(e,t,n){return h(e,t,!0,!1,!0,n)}function c(e,t,n,r){return void 0===r&&(r=!0),p(e,t,r,!1,!1,n,!1,!0)}function d(e,t,n,r){return void 0===r&&(r=!0),h(e,t,r,!1,!0,n,!1,!0)}function f(e){var t=p(e,e,!0,!1,!1,!0);return!!t&&(S(t),!0)}function h(e,t,n,r,i,o,a,s){if(!t||!a&&t===e)return null;var u=g(t);if(i&&u&&(o||!v(t)&&!b(t))){var l=h(e,t.lastElementChild,!0,!0,!0,o,a,s);if(l){if(s&&m(l,!0)||!s)return l;var c=h(e,l.previousElementSibling,!0,!0,!0,o,a,s);if(c)return c;for(var d=l.parentElement;d&&d!==t;){var f=h(e,d.previousElementSibling,!0,!0,!0,o,a,s);if(f)return f;d=d.parentElement}}}if(n&&u&&m(t,s))return t;var p=h(e,t.previousElementSibling,!0,!0,!0,o,a,s);return p||(r?null:h(e,t.parentElement,!0,!1,!1,o,a,s))}function p(e,t,n,r,i,o,a,s){if(!t||t===e&&i&&!a)return null;var u=g(t);if(n&&u&&m(t,s))return t;if(!i&&u&&(o||!v(t)&&!b(t))){var l=p(e,t.firstElementChild,!0,!0,!1,o,a,s);if(l)return l}if(t===e)return null;var c=p(e,t.nextElementSibling,!0,!0,!1,o,a,s);return c||(r?null:p(e,t.parentElement,!1,!1,!0,o,a,s))}function g(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute("data-is-visible");return null!==t&&void 0!==t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function m(e,t){if(!e||e.disabled)return!1;var n=0,r=null;e&&e.getAttribute&&(r=e.getAttribute("tabIndex"))&&(n=parseInt(r,10));var i=e.getAttribute?e.getAttribute("data-is-focusable"):null,o=null!==r&&n>=0,a=!!e&&"false"!==i&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"true"===i||o);return t?-1!==n&&a:a}function v(e){return!!(e&&e.getAttribute&&e.getAttribute("data-focuszone-id"))}function b(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute("data-is-sub-focuszone"))}function y(e){var t=Object(s.a)(e),n=t&&t.activeElement;return!(!n||!Object(i.a)(e,n))}function _(e,t){return"true"!==Object(r.a)(e,t)}var x=void 0;function S(e){if(e){if(x)return void(x=e);x=e;var t=Object(a.a)(e);t&&t.requestAnimationFrame((function(){x&&x.focus(),x=void 0}))}}function w(e,t){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r],a=n.children[Math.min(o,n.children.length-1)];if(!a)break;n=a}return n=m(n)&&g(n)?n:p(e,n,!0)||h(e,n)}function C(e,t){for(var n=[];t&&e&&t!==e;){var r=Object(o.a)(t,!0);if(null===r)return[];n.unshift(Array.prototype.indexOf.call(r.children,t)),t=r}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];function i(e,t,n){void 0===n&&(n=r);var i=[],o=function(r){"function"!==typeof t[r]||void 0!==e[r]||n&&-1!==n.indexOf(r)||(i.push(r),e[r]=function(){t[r].apply(t,arguments)})};for(var a in t)o(a);return i}function o(e,t){t.forEach((function(t){return delete e[t]}))}},function(e,t,n){"use strict";function r(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=n,this.bottom=r,this.left=e,this.right=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},e}()},function(e,t,n){"use strict";function r(){var e=function e(t){e.current=t};return Object.defineProperty(e,"value",{get:function(){return e.current}}),e.current=null,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n=e,r=t;n._virtual||(n._virtual={children:[]});var i=n._virtual.parent;if(i&&i!==t){var o=i._virtual.children.indexOf(n);o>-1&&i._virtual.children.splice(o,1)}n._virtual.parent=r||void 0,r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(n))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(0),o=n(58),a=n(121),s=n(67),u=n(135);function l(e,t,n){return function(l){var c,d=((c=function(a){function c(e){var t=a.call(this,e)||this;return t._onSettingChanged=t._onSettingChanged.bind(t),t}return r.c(c,a),c.prototype.componentDidMount=function(){o.a.observe(this._onSettingChanged)},c.prototype.componentWillUnmount=function(){o.a.unobserve(this._onSettingChanged)},c.prototype.render=function(){var a=this;return i.createElement(s.a.Consumer,null,(function(s){var c=o.a.getSettings(t,e,s.customizations),d=a.props;if(c.styles&&"function"===typeof c.styles&&(c.styles=c.styles(r.a({},c,d))),n&&(c.styles||d.styles)){var f=Object(u.a)(c.styles,d.styles);return i.createElement(l,r.a({},c,d,{styles:f}))}return i.createElement(l,r.a({},c,d))}))},c.prototype._onSettingChanged=function(){this.forceUpdate()},c}(i.Component)).displayName="Customized"+e,c);return Object(a.a)(l,d)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73);function i(e){Object(r.a)(e,{componentDidMount:o,componentDidUpdate:a,componentWillUnmount:s})}function o(){u(this.props.componentRef,this)}function a(e){e.componentRef!==this.props.componentRef&&(u(e.componentRef,null),u(this.props.componentRef,this))}function s(){u(this.props.componentRef,null)}function u(e,t){e&&("object"===typeof e?e.current=t:"function"===typeof e&&e(t))}},function(e,t,n){"use strict";function r(e){var t=function(e){var t;"function"===typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0);return t}("MouseEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(86),i=n(97);function o(e,t){var n=Object(r.a)(e,(function(e){return t===e||e.hasAttribute(i.a)}));return null!==n&&n.hasAttribute(i.a)}},function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=0;e&&r<e.length;r++)if(t(e[r],r)){n=r;break}return n}function i(e,t){var n=r(e,t);if(!(n<0))return e[n]}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function a(e,t){return e.reduce((function(e,n,r){return r%t===0?e.push([n]):e[e.length-1].push(n),e}),[])}function s(e,t){return e.filter((function(e,n){return t!==n}))}function u(e,t,n){var r=e.slice();return r[n]=t,r}function l(e,t,n){var r=e.slice();return r.splice(t,0,n),r}function c(e){var t=[];return e.forEach((function(e){return t=t.concat(e)})),t}function d(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return d}))},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter((function(e){return e})).join(" ").trim();return""===n?void 0:n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return e.clientWidth<e.scrollWidth}function i(e){return e.clientHeight<e.scrollHeight}function o(e){return r(e)||i(e)}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(0);function o(e,t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return r.c(o,n),o.prototype.getChildContext=function(){return t(this.props)},o.prototype.render=function(){return i.Children.only(this.props.children)},o.childContextTypes=e,o}(i.Component)}},function(e,t,n){"use strict";function r(e){throw new Error("Unexpected object: "+e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=/[\{\}]/g,i=/\{\d+\}/g;function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t;function a(e){var t=o[e.replace(r,"")];return null!==t&&void 0!==t||(t=""),t}return e.replace(i,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(73),i=function(e){var t;return function(n){t||(t=new Set,Object(r.a)(e,{componentWillUnmount:function(){t.forEach((function(e){return cancelAnimationFrame(e)}))}}));var i=requestAnimationFrame((function(){t.delete(i),n()}));t.add(i)}}},function(e,t,n){"use strict";function r(e,t,n){var r=n.value,i=!1;return{configurable:!0,get:function(){if(i||r&&this===r.prototype||this.hasOwnProperty(t))return r;var e=r&&r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e}),i=!1,e},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e})}}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(0),o=n(58),a=n(67),s=n(125),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return r.c(t,e),t.prototype.componentDidMount=function(){o.a.observe(this._onCustomizationChange)},t.prototype.componentWillUnmount=function(){o.a.unobserve(this._onCustomizationChange)},t.prototype.render=function(){var e=this,t=this.props.contextTransform;return i.createElement(a.a.Consumer,null,(function(n){var r=Object(s.a)(e.props,n);return t&&(r=t(r)),i.createElement(a.a.Provider,{value:r},e.props.children)}))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(71),i=n(122),o=n(124),a=function(){function e(e){this._events=new r.a(this),this._scrollableParent=Object(i.e)(e),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=Object(o.a)(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent&&(this._events.on(window,"mousemove",this._onMouseMove,!0),this._events.on(window,"touchmove",this._onTouchMove,!0))}return e.prototype.dispose=function(){this._events.dispose(),this._stopScroll()},e.prototype._onMouseMove=function(e){this._computeScrollVelocity(e.clientY)},e.prototype._onTouchMove=function(e){e.touches.length>0&&this._computeScrollVelocity(e.touches[0].clientY)},e.prototype._computeScrollVelocity=function(e){if(this._scrollRect){var t=this._scrollRect.top,n=t+this._scrollRect.height-100;this._scrollVelocity=e<t+100?Math.max(-15,(100-(e-t))/100*-15):e>n?Math.min(15,(e-n)/100*15):0,this._scrollVelocity?this._startScroll():this._stopScroll()}},e.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},e.prototype._incrementScroll=function(){this._scrollableParent&&(this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity)),this._timeoutId=setTimeout(this._incrementScroll,16)},e.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},e}()},function(e,t,n){"use strict";function r(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function i(e){var t,n=e.contentSize,r=e.boundsSize,i=e.mode,o=void 0===i?"contain":i,a=e.maxScale,s=void 0===a?1:a,u=n.width/n.height,l=r.width/r.height;t=("contain"===o?u>l:u<l)?r.width/n.width:r.height/n.height;var c=Math.min(s,t);return{width:n.width*c,height:n.height*c}}function o(e){var t=/[1-9]([0]+$)|\.([0-9]*)/.exec(String(e));return t?t[1]?-t[1].length:t[2]?t[2].length:0:0}function a(e,t,n){void 0===n&&(n=10);var r=Math.pow(n,t);return Math.round(e*r)/r}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r,i=n(54),o=n(30);function a(){if(void 0===r){var e=Object(i.a)(),t=function(e){var t=null;try{var n=Object(o.a)();t=n?n.localStorage.getItem(e):null}catch(r){}return t}("language");null!==t&&(r=t),void 0===r&&e&&(r=e.documentElement.getAttribute("lang")),void 0===r&&(r="en")}return r}function s(e,t){void 0===t&&(t=!1);var n=Object(i.a)();n&&n.documentElement.setAttribute("lang",e),t||function(e,t){try{var n=Object(o.a)();n&&n.localStorage.setItem(e,t)}catch(r){}}("language",e),r=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(43),i=n(54);var o,a=n(191);function s(){if(void 0===o){var e=function(e){var t=null;try{t=window.sessionStorage.getItem(e)}catch(n){}return t}("isRTL");null!==e&&u(o="1"===e);var t=Object(i.a)();void 0===o&&t&&(o="rtl"===(t.body&&t.body.getAttribute("dir")||t.documentElement.getAttribute("dir")),Object(a.b)(o))}return!!o}function u(e,t){void 0===t&&(t=!1);var n=Object(i.a)();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr"),t&&function(e,t){try{window.sessionStorage.setItem(e,t)}catch(n){}}("isRTL",e?"1":"0"),o=e,Object(a.b)(o)}function l(e){return s()&&(e===r.a.left?e=r.a.right:e===r.a.right&&(e=r.a.left)),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(2),i=n(0),o=n(114),a=n(71),s=n(117),u=n(116),l=n(115),c=n(112),d=n(30);var f=function(e){function t(n,r){var i=e.call(this,n,r)||this;return Object(c.b)(),function(e){var t=e||Object(d.a)();if(t&&!t.__hasInitializedDir__){t.__hasInitializedDir__=!0;var n=t.document.documentElement;n.hasAttribute("dir")||n.setAttribute("dir","ltr")}}(),function(e,t,n){for(var r=0,i=n.length;r<i;r++)h(e,t,n[r])}(i,t.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),i}return r.c(t,e),t.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},t.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},t.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(t.prototype,"className",{get:function(){if(!this.__className){var e=/function (.{1,})\(/.exec(this.constructor.toString());this.__className=e&&e.length>1?e[1]:""}return this.__className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_async",{get:function(){return this.__async||(this.__async=new o.a(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_events",{get:function(){return this.__events||(this.__events=new a.a(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),t.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},t.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e&&t&&e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},t.prototype._warnDeprecations=function(e){Object(l.a)(this.className,this.props,e)},t.prototype._warnMutuallyExclusive=function(e){Object(u.a)(this.className,this.props,e)},t.prototype._warnConditionallyRequiredProps=function(e,t,n){Object(s.a)(this.className,this.props,e,t,n)},t.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"===typeof e&&e(t),"object"===typeof e&&(e.current=t))},t}(i.Component);function h(e,t,n){var r=e[n],i=t[n];(r||i)&&(e[n]=function(){var e;return i&&(e=i.apply(this,arguments)),r!==i&&(e=r.apply(this,arguments)),e})}function p(){return null}},,function(e,t,n){"use strict";(function(e){var r=n(32);t.a="undefined"!==typeof window&&"object"===Object(r.a)(window.process)&&"renderer"===window.process.type||!("undefined"===typeof e||"object"!==Object(r.a)(e.versions)||!Boolean(e.versions.electron))||"object"===("undefined"===typeof navigator?"undefined":Object(r.a)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}).call(this,n(75))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n(3),o=function(e){return s(e)?void 0:0},a=(r={},Object(i.a)(r,3074,(function(e){return s(e)?void 0:36064})),Object(i.a)(r,35723,(function(e){return s(e)?void 0:4352})),Object(i.a)(r,35977,o),Object(i.a)(r,32937,o),Object(i.a)(r,36795,(function(e,t){var n=s(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),Object(i.a)(r,37445,(function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),Object(i.a)(r,37446,(function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),Object(i.a)(r,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(i.a)(r,32883,o),Object(i.a)(r,35071,o),Object(i.a)(r,37447,o),Object(i.a)(r,36063,(function(e,t){if(!s(e)){var n=e.getExtension("WEBGL_draw_buffers");return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(i.a)(r,35379,o),Object(i.a)(r,35374,o),Object(i.a)(r,35377,o),Object(i.a)(r,34852,(function(e){if(!s(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(i.a)(r,36203,(function(e){return e.getExtension("OES_element_index")?2147483647:65535})),Object(i.a)(r,33001,(function(e){return e.getExtension("OES_element_index")?16777216:65535})),Object(i.a)(r,33e3,(function(e){return 16777216})),Object(i.a)(r,37157,o),Object(i.a)(r,35373,o),Object(i.a)(r,35657,o),Object(i.a)(r,36183,o),Object(i.a)(r,37137,o),Object(i.a)(r,34045,o),Object(i.a)(r,35978,o),Object(i.a)(r,35979,o),Object(i.a)(r,35968,o),Object(i.a)(r,35376,o),Object(i.a)(r,35375,o),Object(i.a)(r,35659,o),Object(i.a)(r,37154,o),Object(i.a)(r,35371,o),Object(i.a)(r,35658,o),Object(i.a)(r,35076,o),Object(i.a)(r,35077,o),Object(i.a)(r,35380,o),r);function s(e){return e&&!0}function u(e,t,n){var r=a[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r,i=n(45),o="left",a="right",s=((r={})[o]=a,r[a]=o,r),u={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"},l=d();function c(e){l!==e&&(i.b.getInstance().resetKeys(),l=e)}function d(){return void 0===l&&(l="undefined"!==typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),l}function f(e,t){if(d()){var n=e[t];if(!n)return;var r=e[t+1];if("string"===typeof r&&r.indexOf("@noflip")>=0)e[t+1]=r.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(n.indexOf(o)>=0)e[t]=n.replace(o,a);else if(n.indexOf(a)>=0)e[t]=n.replace(a,o);else if(String(r).indexOf(o)>=0)e[t+1]=r.replace(o,a);else if(String(r).indexOf(a)>=0)e[t+1]=r.replace(a,o);else if(s[n])e[t]=s[n];else if(u[r])e[t+1]=u[r];else switch(n){case"margin":case"padding":e[t+1]=function(e){if("string"===typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(r);break;case"box-shadow":e[t+1]=function(e,t){var n=e.split(" "),r=parseInt(n[t],10);return n[0]=n[0].replace(String(r),String(-1*r)),n.join(" ")}(r,0)}}}},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,u,l,c,h,p,m=t&&t.length,v=m?t[0]*n:e.length,b=i(e,0,v,n,!0),y=[];if(!b||b.next===b.prev)return y;if(m&&(b=function(e,t,n,r){var a,s,u,l,c,h=[];for(a=0,s=t.length;a<s;a++)u=t[a]*r,l=a<s-1?t[a+1]*r:e.length,(c=i(e,u,l,r,!1))===c.next&&(c.steiner=!0),h.push(g(c));for(h.sort(d),a=0;a<h.length;a++)f(h[a],n),n=o(n,n.next);return n}(e,t,b,n)),e.length>80*n){r=u=e[0],s=l=e[1];for(var _=n;_<v;_+=n)(c=e[_])<r&&(r=c),(h=e[_+1])<s&&(s=h),c>u&&(u=c),h>l&&(l=h);p=0!==(p=Math.max(u-r,l-s))?1/p:0}return a(b,y,n,r,s,p),y}function i(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=k(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=k(o,e[o],e[o+1],a);return a&&y(a,a.next)&&(E(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==b(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,d,f){if(e){!f&&d&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,d);for(var h,g,m=e;e.prev!==e.next;)if(h=e.prev,g=e.next,d?u(e,r,i,d):s(e))t.push(h.i/n),t.push(e.i/n),t.push(g.i/n),E(e),e=g.next,m=g.next;else if((e=g)===m){f?1===f?a(e=l(o(e),t,n),t,n,r,i,d,2):2===f&&c(e,t,n,r,i,d):a(o(e),t,n,r,i,d,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(b(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(m(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&b(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(b(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=p(s,u,t,n,r),f=p(l,c,t,n,r),h=e.prevZ,g=e.nextZ;h&&h.z>=d&&g&&g.z<=f;){if(h!==e.prev&&h!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,g!==e.prev&&g!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&b(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=f;){if(g!==e.prev&&g!==e.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&b(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!y(i,a)&&_(i,r,r.next,a)&&w(i,a)&&w(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),E(r),E(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function c(e,t,n,r,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=C(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,t,n,r,i,s),void a(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function d(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&m(o<d?i:a,o,c,d,o<d?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),w(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t)){var n=C(t,e);o(t,t.next),o(n,n.next)}}function h(e,t){return b(e.prev,e,t.prev)<0&&b(t.next,e,e.next)<0}function p(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function g(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function m(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(b(e.prev,e,t.prev)||b(e,t.prev,t))||y(e,t)&&b(e.prev,e,e.next)>0&&b(t.prev,t,t.next)>0)}function b(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,n,r){var i=S(b(e,t,n)),o=S(b(e,t,r)),a=S(b(n,r,e)),s=S(b(n,r,t));return i!==o&&a!==s||(!(0!==i||!x(e,n,t))||(!(0!==o||!x(e,r,t))||(!(0!==a||!x(n,e,r))||!(0!==s||!x(n,t,r)))))}function x(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function S(e){return e>0?1:e<0?-1:0}function w(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function C(e,t){var n=new O(e.i,e.x,e.y),r=new O(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function k(e,t,n,r){var i=new O(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(T(e,l,c,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return mC.a})),n.d(t,"bandwidthNRD",(function(){return Tr})),n.d(t,"bin",(function(){return Pr})),n.d(t,"bootstrapCI",(function(){return Ar})),n.d(t,"dotbin",(function(){return Mr})),n.d(t,"quantiles",(function(){return kr})),n.d(t,"quartiles",(function(){return Er})),n.d(t,"random",(function(){return Ir})),n.d(t,"setRandom",(function(){return Dr})),n.d(t,"randomLCG",(function(){return jr})),n.d(t,"randomInteger",(function(){return Rr})),n.d(t,"randomKDE",(function(){return Wr})),n.d(t,"randomLogNormal",(function(){return Xr})),n.d(t,"sampleLogNormal",(function(){return Gr})),n.d(t,"densityLogNormal",(function(){return Kr})),n.d(t,"cumulativeLogNormal",(function(){return qr})),n.d(t,"quantileLogNormal",(function(){return Yr})),n.d(t,"randomMixture",(function(){return Zr})),n.d(t,"randomNormal",(function(){return Vr})),n.d(t,"sampleNormal",(function(){return Br})),n.d(t,"densityNormal",(function(){return zr})),n.d(t,"cumulativeNormal",(function(){return Ur})),n.d(t,"quantileNormal",(function(){return Hr})),n.d(t,"randomUniform",(function(){return ti})),n.d(t,"sampleUniform",(function(){return Qr})),n.d(t,"densityUniform",(function(){return $r})),n.d(t,"cumulativeUniform",(function(){return Jr})),n.d(t,"quantileUniform",(function(){return ei})),n.d(t,"regressionLinear",(function(){return ai})),n.d(t,"regressionLog",(function(){return si})),n.d(t,"regressionExp",(function(){return li})),n.d(t,"regressionPow",(function(){return ci})),n.d(t,"regressionQuad",(function(){return di})),n.d(t,"regressionPoly",(function(){return fi})),n.d(t,"regressionLoess",(function(){return gi})),n.d(t,"sampleCurve",(function(){return yi})),n.d(t,"timeUnits",(function(){return zo})),n.d(t,"TIME_UNITS",(function(){return Lo})),n.d(t,"dayofyear",(function(){return Vo})),n.d(t,"week",(function(){return Wo})),n.d(t,"utcdayofyear",(function(){return Xo})),n.d(t,"utcweek",(function(){return Zo})),n.d(t,"timeFloor",(function(){return ca})),n.d(t,"utcFloor",(function(){return ha})),n.d(t,"timeUnitSpecifier",(function(){return Wa})),n.d(t,"timeFormat",(function(){return Ga})),n.d(t,"utcFormat",(function(){return Ka})),n.d(t,"timeInterval",(function(){return Ra})),n.d(t,"timeOffset",(function(){return La})),n.d(t,"timeSequence",(function(){return Ua})),n.d(t,"utcInterval",(function(){return Fa})),n.d(t,"utcOffset",(function(){return Ba})),n.d(t,"utcSequence",(function(){return Ha})),n.d(t,"timeBin",(function(){return ls})),n.d(t,"accessor",(function(){return p.f})),n.d(t,"accessorName",(function(){return p.h})),n.d(t,"accessorFields",(function(){return p.g})),n.d(t,"id",(function(){return p.w})),n.d(t,"identity",(function(){return p.x})),n.d(t,"zero",(function(){return p.kb})),n.d(t,"one",(function(){return p.O})),n.d(t,"truthy",(function(){return p.gb})),n.d(t,"falsy",(function(){return p.r})),n.d(t,"logger",(function(){return p.K})),n.d(t,"None",(function(){return p.d})),n.d(t,"Error",(function(){return p.b})),n.d(t,"Warn",(function(){return p.e})),n.d(t,"Info",(function(){return p.c})),n.d(t,"Debug",(function(){return p.a})),n.d(t,"mergeConfig",(function(){return p.N})),n.d(t,"writeConfig",(function(){return p.jb})),n.d(t,"panLinear",(function(){return p.Q})),n.d(t,"panLog",(function(){return p.R})),n.d(t,"panPow",(function(){return p.S})),n.d(t,"panSymlog",(function(){return p.T})),n.d(t,"zoomLinear",(function(){return p.lb})),n.d(t,"zoomLog",(function(){return p.mb})),n.d(t,"zoomPow",(function(){return p.nb})),n.d(t,"zoomSymlog",(function(){return p.ob})),n.d(t,"quarter",(function(){return p.V})),n.d(t,"utcquarter",(function(){return p.hb})),n.d(t,"array",(function(){return p.i})),n.d(t,"clampRange",(function(){return p.j})),n.d(t,"compare",(function(){return p.k})),n.d(t,"constant",(function(){return p.l})),n.d(t,"debounce",(function(){return p.m})),n.d(t,"error",(function(){return p.n})),n.d(t,"extend",(function(){return p.o})),n.d(t,"extent",(function(){return p.p})),n.d(t,"extentIndex",(function(){return p.q})),n.d(t,"fastmap",(function(){return p.s})),n.d(t,"field",(function(){return p.t})),n.d(t,"flush",(function(){return p.u})),n.d(t,"hasOwnProperty",(function(){return p.v})),n.d(t,"inherits",(function(){return p.y})),n.d(t,"inrange",(function(){return p.z})),n.d(t,"isArray",(function(){return p.A})),n.d(t,"isBoolean",(function(){return p.B})),n.d(t,"isDate",(function(){return p.C})),n.d(t,"isFunction",(function(){return p.D})),n.d(t,"isNumber",(function(){return p.E})),n.d(t,"isObject",(function(){return p.F})),n.d(t,"isRegExp",(function(){return p.G})),n.d(t,"isString",(function(){return p.H})),n.d(t,"key",(function(){return p.I})),n.d(t,"lerp",(function(){return p.J})),n.d(t,"lruCache",(function(){return p.L})),n.d(t,"merge",(function(){return p.M})),n.d(t,"pad",(function(){return p.P})),n.d(t,"peek",(function(){return p.U})),n.d(t,"repeat",(function(){return p.W})),n.d(t,"span",(function(){return p.X})),n.d(t,"splitAccessPath",(function(){return p.Y})),n.d(t,"stringValue",(function(){return p.Z})),n.d(t,"toBoolean",(function(){return p.ab})),n.d(t,"toDate",(function(){return p.bb})),n.d(t,"toNumber",(function(){return p.cb})),n.d(t,"toString",(function(){return p.eb})),n.d(t,"toSet",(function(){return p.db})),n.d(t,"truncate",(function(){return p.fb})),n.d(t,"visitArray",(function(){return p.ib})),n.d(t,"loader",(function(){return In})),n.d(t,"read",(function(){return Pn})),n.d(t,"inferType",(function(){return ue})),n.d(t,"inferTypes",(function(){return le})),n.d(t,"typeParsers",(function(){return oe})),n.d(t,"format",(function(){return Ae})),n.d(t,"formats",(function(){return Me})),n.d(t,"responseType",(function(){return je})),n.d(t,"Bounds",(function(){return Ps})),n.d(t,"Gradient",(function(){return Rs})),n.d(t,"GroupItem",(function(){return Ns})),n.d(t,"ResourceLoader",(function(){return zs})),n.d(t,"Item",(function(){return Fs})),n.d(t,"Scenegraph",(function(){return Md})),n.d(t,"Handler",(function(){return Hd})),n.d(t,"Renderer",(function(){return Gd})),n.d(t,"CanvasHandler",(function(){return qd})),n.d(t,"CanvasRenderer",(function(){return $d})),n.d(t,"SVGHandler",(function(){return rf})),n.d(t,"SVGRenderer",(function(){return wg})),n.d(t,"SVGStringRenderer",(function(){return Ng})),n.d(t,"RenderType",(function(){return Wg})),n.d(t,"renderModule",(function(){return Kg})),n.d(t,"intersect",(function(){return qg})),n.d(t,"Marks",(function(){return Ed})),n.d(t,"boundClip",(function(){return $g})),n.d(t,"boundContext",(function(){return Zl})),n.d(t,"boundStroke",(function(){return Gl})),n.d(t,"boundItem",(function(){return Od})),n.d(t,"boundMark",(function(){return Pd})),n.d(t,"pathCurves",(function(){return Nu})),n.d(t,"pathSymbols",(function(){return tl})),n.d(t,"pathRectangle",(function(){return ml})),n.d(t,"pathTrail",(function(){return vl})),n.d(t,"pathParse",(function(){return zu})),n.d(t,"pathRender",(function(){return Qu})),n.d(t,"point",(function(){return Ud})),n.d(t,"domCreate",(function(){return Fd})),n.d(t,"domFind",(function(){return Nd})),n.d(t,"domChild",(function(){return Ld})),n.d(t,"domClear",(function(){return Bd})),n.d(t,"openTag",(function(){return bg})),n.d(t,"closeTag",(function(){return yg})),n.d(t,"font",(function(){return _d})),n.d(t,"fontFamily",(function(){return yd})),n.d(t,"fontSize",(function(){return pd})),n.d(t,"lineHeight",(function(){return gd})),n.d(t,"multiLineOffset",(function(){return vd})),n.d(t,"textMetrics",(function(){return ud})),n.d(t,"resetSVGClipId",(function(){return Lc})),n.d(t,"sceneEqual",(function(){return Jg})),n.d(t,"pathEqual",(function(){return em})),n.d(t,"sceneToJSON",(function(){return Dd})),n.d(t,"sceneFromJSON",(function(){return Ad})),n.d(t,"intersectPath",(function(){return sc})),n.d(t,"intersectPoint",(function(){return uc})),n.d(t,"intersectRule",(function(){return cc})),n.d(t,"intersectBoxLine",(function(){return dc})),n.d(t,"sceneZOrder",(function(){return _c})),n.d(t,"sceneVisit",(function(){return xc})),n.d(t,"scenePickVisit",(function(){return Sc})),n.d(t,"Dataflow",(function(){return $n})),n.d(t,"EventStream",(function(){return V})),n.d(t,"Parameters",(function(){return R})),n.d(t,"Pulse",(function(){return Bn})),n.d(t,"MultiPulse",(function(){return Wn})),n.d(t,"Operator",(function(){return B})),n.d(t,"Transform",(function(){return tr})),n.d(t,"changeset",(function(){return M})),n.d(t,"ingest",(function(){return O})),n.d(t,"isTuple",(function(){return C})),n.d(t,"definition",(function(){return ir})),n.d(t,"transform",(function(){return or})),n.d(t,"transforms",(function(){return rr})),n.d(t,"tupleid",(function(){return k})),n.d(t,"scale",(function(){return Nh})),n.d(t,"scheme",(function(){return Yp})),n.d(t,"interpolate",(function(){return Wp})),n.d(t,"interpolateColors",(function(){return Up})),n.d(t,"interpolateRange",(function(){return zp})),n.d(t,"quantizeInterpolator",(function(){return Hp})),n.d(t,"projection",(function(){return H_})),n.d(t,"View",(function(){return aT})),n.d(t,"expressionFunction",(function(){return RO})),n.d(t,"formatLocale",(function(){return wf.a})),n.d(t,"timeFormatLocale",(function(){return Tn})),n.d(t,"parse",(function(){return bD})),n.d(t,"runtime",(function(){return qO})),n.d(t,"runtimeContext",(function(){return XO}));var r={};n.r(r),n.d(r,"aggregate",(function(){return wi})),n.d(r,"bin",(function(){return ki})),n.d(r,"collect",(function(){return Ti})),n.d(r,"compare",(function(){return Pi})),n.d(r,"countpattern",(function(){return Di})),n.d(r,"cross",(function(){return Mi})),n.d(r,"density",(function(){return Ri})),n.d(r,"dotbin",(function(){return zi})),n.d(r,"expression",(function(){return Ui})),n.d(r,"extent",(function(){return Vi})),n.d(r,"facet",(function(){return Ki})),n.d(r,"field",(function(){return Yi})),n.d(r,"filter",(function(){return Zi})),n.d(r,"flatten",(function(){return Qi})),n.d(r,"fold",(function(){return $i})),n.d(r,"formula",(function(){return Ji})),n.d(r,"generate",(function(){return eo})),n.d(r,"impute",(function(){return ro})),n.d(r,"joinaggregate",(function(){return io})),n.d(r,"kde",(function(){return ao})),n.d(r,"key",(function(){return so})),n.d(r,"load",(function(){return lo})),n.d(r,"lookup",(function(){return fo})),n.d(r,"multiextent",(function(){return ho})),n.d(r,"multivalues",(function(){return go})),n.d(r,"params",(function(){return vo})),n.d(r,"pivot",(function(){return bo})),n.d(r,"prefacet",(function(){return _o})),n.d(r,"project",(function(){return xo})),n.d(r,"proxy",(function(){return So})),n.d(r,"quantile",(function(){return Co})),n.d(r,"relay",(function(){return Eo})),n.d(r,"sample",(function(){return Oo})),n.d(r,"sequence",(function(){return To})),n.d(r,"sieve",(function(){return Po})),n.d(r,"subflow",(function(){return Wi})),n.d(r,"timeunit",(function(){return cs})),n.d(r,"tupleindex",(function(){return hs})),n.d(r,"values",(function(){return ps})),n.d(r,"window",(function(){return ys}));var i={};n.r(i),n.d(i,"interpolate",(function(){return Qf})),n.d(i,"interpolateArray",(function(){return Vf})),n.d(i,"interpolateBasis",(function(){return If})),n.d(i,"interpolateBasisClosed",(function(){return Df})),n.d(i,"interpolateDate",(function(){return Gf})),n.d(i,"interpolateDiscrete",(function(){return Zh})),n.d(i,"interpolateHue",(function(){return Qh})),n.d(i,"interpolateNumber",(function(){return Kf})),n.d(i,"interpolateNumberArray",(function(){return Uf})),n.d(i,"interpolateObject",(function(){return qf})),n.d(i,"interpolateRound",(function(){return $f})),n.d(i,"interpolateString",(function(){return Zf})),n.d(i,"interpolateTransformCss",(function(){return np})),n.d(i,"interpolateTransformSvg",(function(){return rp})),n.d(i,"interpolateZoom",(function(){return ap})),n.d(i,"interpolateRgb",(function(){return Nf})),n.d(i,"interpolateRgbBasis",(function(){return Bf})),n.d(i,"interpolateRgbBasisClosed",(function(){return zf})),n.d(i,"interpolateHsl",(function(){return up})),n.d(i,"interpolateHslLong",(function(){return lp})),n.d(i,"interpolateLab",(function(){return Cp})),n.d(i,"interpolateHcl",(function(){return Ep})),n.d(i,"interpolateHclLong",(function(){return Op})),n.d(i,"interpolateCubehelix",(function(){return Fp})),n.d(i,"interpolateCubehelixLong",(function(){return Np})),n.d(i,"piecewise",(function(){return Ah})),n.d(i,"quantize",(function(){return Lp}));var o={};n.r(o),n.d(o,"bound",(function(){return tm})),n.d(o,"identifier",(function(){return rm})),n.d(o,"mark",(function(){return im})),n.d(o,"overlap",(function(){return om})),n.d(o,"render",(function(){return hm})),n.d(o,"viewlayout",(function(){return Fm}));var a={};n.r(a),n.d(a,"axisticks",(function(){return Nm})),n.d(a,"datajoin",(function(){return Lm})),n.d(a,"encode",(function(){return Um})),n.d(a,"legendentries",(function(){return Hm})),n.d(a,"linkpath",(function(){return Ym})),n.d(a,"pie",(function(){return Jm})),n.d(a,"scale",(function(){return nv})),n.d(a,"sortitems",(function(){return av})),n.d(a,"stack",(function(){return uv}));var s={};n.r(s),n.d(s,"contour",(function(){return Iv})),n.d(s,"geojson",(function(){return Dv})),n.d(s,"geopath",(function(){return K_})),n.d(s,"geopoint",(function(){return q_})),n.d(s,"geoshape",(function(){return Y_})),n.d(s,"graticule",(function(){return $_})),n.d(s,"heatmap",(function(){return J_})),n.d(s,"isocontour",(function(){return yv})),n.d(s,"kde2d",(function(){return Ev})),n.d(s,"projection",(function(){return tx}));var u={};n.r(u),n.d(u,"force",(function(){return Yx}));var l={};n.r(l),n.d(l,"nest",(function(){return sS})),n.d(l,"pack",(function(){return RS})),n.d(l,"partition",(function(){return zS})),n.d(l,"stratify",(function(){return qS})),n.d(l,"tree",(function(){return ow})),n.d(l,"treelinks",(function(){return sw})),n.d(l,"treemap",(function(){return gw}));var c={};n.r(c),n.d(c,"loess",(function(){return bw})),n.d(c,"regression",(function(){return _w}));var d={};n.r(d),n.d(d,"voronoi",(function(){return Kw}));var f={};n.r(f),n.d(f,"wordcloud",(function(){return aC}));var h={};n.r(h),n.d(h,"crossfilter",(function(){return hC})),n.d(h,"resolvefilter",(function(){return gC}));var p=n(1);function g(e){var t=e||p.x,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,o=t(e);return r[o]&&(r[o]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}var m=n(16),v=n.n(m);function b(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}var _=function(e,t){return x.apply(this,arguments)};function x(){return(x=y(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var S=Symbol("vega_id"),w=1;function C(e){return!(!e||!k(e))}function k(e){return e[S]}function E(e,t){return e[S]=t,e}function O(e){var t=e===Object(e)?e:{data:e};return k(t)?t:E(t,w++)}function T(e){return P(e,O({}))}function P(e,t){for(var n in e)t[n]=e[n];return t}function I(e,t){return E(t,k(e))}function D(e,t){return e?t?function(n,r){return e(n,r)||k(t(n))-k(t(r))}:function(t,n){return e(t,n)||k(t)-k(n)}:null}function A(e){return e&&e.constructor===M}function M(){var e=[],t=[],n=[],r=[],i=[],o=!1;return{constructor:M,insert:function(t){for(var n=Object(p.i)(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(p.D)(e)?r:t,i=Object(p.i)(e),o=0,a=i.length;o<a;++o)n.push(i[o]);return this},modify:function(e,t,r){var o={field:t,value:Object(p.l)(r)};return Object(p.D)(e)?(o.filter=e,i.push(o)):(o.tuple=e,n.push(o)),this},encode:function(e,t){return Object(p.D)(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return o=!0,this},pulse:function(a,s){var u,l,c,d,f,h,p={},g={};for(u=0,l=s.length;u<l;++u)p[k(s[u])]=1;for(u=0,l=t.length;u<l;++u)p[k(f=t[u])]=-1;for(u=0,l=r.length;u<l;++u)d=r[u],s.forEach((function(e){d(e)&&(p[k(e)]=-1)}));for(u=0,l=e.length;u<l;++u)h=k(f=e[u]),p[h]?p[h]=1:a.add.push(O(e[u]));for(u=0,l=s.length;u<l;++u)f=s[u],p[k(f)]<0&&a.rem.push(f);function m(e,t,n){n?e[t]=n(e):a.encode=t,o||(g[k(e)]=e)}for(u=0,l=n.length;u<l;++u)f=(c=n[u]).tuple,d=c.field,(h=p[k(f)])>0&&(m(f,d,c.value),a.modifies(d));for(u=0,l=i.length;u<l;++u)c=i[u],d=c.filter,s.forEach((function(e){d(e)&&p[k(e)]>0&&m(e,c.field,c.value)})),a.modifies(c.field);if(o)a.mod=t.length||r.length?s.filter((function(e){return p[k(e)]>0})):s.slice();else for(h in g)a.mod.push(g[h]);return a}}}var j="_:mod:_";function R(){Object.defineProperty(this,j,{writable:!0,value:{}})}var F=R.prototype;F.set=function(e,t,n,r){var i=this,o=i[e],a=i[j];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=Object(p.A)(n)?1+n.length:-1),i},F.modified=function(e,t){var n,r=this[j];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Object(p.A)(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},F.clear=function(){return this[j]={},this};var N=0,L=new R;function B(e,t,n,r){this.id=++N,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var z=B.prototype;function U(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}z.targets=function(){return this._targets||(this._targets=g(p.w))},z.set=function(e){return this.value!==e?(this.value=e,1):0},z.skip=U(1),z.modified=U(2),z.parameters=function(e,t,n){t=!1!==t;var r,i,o,a,s=this,u=s._argval=s._argval||new R,l=s._argops=s._argops||[],c=[];function d(e,n,r){r instanceof B?(r!==s&&(t&&r.targets().add(s),c.push(r)),l.push({op:r,name:e,index:n})):u.set(e,n,r)}for(r in e)if(i=e[r],"pulse"===r)Object(p.i)(i).forEach((function(e){e instanceof B?e!==s&&(e.targets().add(s),c.push(e)):Object(p.n)("Pulse parameters must be operator instances.")})),s.source=i;else if(Object(p.A)(i))for(u.set(r,-1,Array(o=i.length)),a=0;a<o;++a)d(r,a,i[a]);else d(r,-1,i);return this.marshall().clear(),n&&(l.initonly=!0),c},z.marshall=function(e){var t,n,r,i,o,a=this._argval||L,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)o=(i=(t=s[n]).op).modified()&&i.stamp===e,a.set(t.name,t.index,i.value,o);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},z.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},z.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t};var H=0;function V(e,t,n){this.id=++H,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function W(e,t,n){return new V(e,t,n)}var G=V.prototype;G._filter=p.gb,G._apply=p.x,G.targets=function(){return this._targets||(this._targets=g(p.w))},G.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},G.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},G.filter=function(e){var t=W(e);return this.targets().add(t),t},G.apply=function(e){var t=W(null,e);return this.targets().add(t),t},G.merge=function(){var e=W();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},G.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},G.debounce=function(e){var t=W();return this.targets().add(W(null,null,Object(p.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},G.between=function(e,t){var n=!1;return e.targets().add(W(null,null,(function(){n=!0}))),t.targets().add(W(null,null,(function(){n=!1}))),this.filter((function(){return n}))};var K=/^([A-Za-z]+:)?\/\//,q=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Y=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=y(v.a.mark((function e(t,n){var r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Q(e,t){return $.apply(this,arguments)}function $(){return($=y(v.a.mark((function e(t,n){var r,i,o,a,s,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.o)({},this.options,n),r=this.fileAccess,i={href:null},u=q.test(t.replace(Y,"")),null!=t&&"string"===typeof t&&u||Object(p.n)("Sanitize failure, invalid URI: "+Object(p.Z)(t)),l=K.test(t),(s=n.baseURL)&&!l&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),a=(o=t.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!l&&r,o?t=t.slice("file://".length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),a=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!a}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function J(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:ee}function ee(){return te.apply(this,arguments)}function te(){return(te=y(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.n)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return e?function(){var t=y(v.a.mark((function t(n,r){var i,o,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(p.o)({},this.options.http,r),o=r&&r.response,t.next=4,e(n,i);case 4:return a=t.sent,t.abrupt("return",a.ok?Object(p.D)(a[o])?a[o]():a.text():Object(p.n)(a.status+""+a.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():re}function re(){return ie.apply(this,arguments)}function ie(){return(ie=y(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.n)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={boolean:p.ab,integer:p.cb,number:p.cb,date:p.bb,string:p.eb,unknown:p.x},ae=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return ce(e)&&Number.isInteger(+e)},ce,function(e){return!Number.isNaN(Date.parse(e))}],se=["boolean","integer","number","date"];function ue(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,o=e.length,a=ae.length,s=ae.map((function(e,t){return t+1})),u=0,l=0;u<o;++u)for(r=t?e[u][t]:e[u],n=0;n<a;++n)if(s[n]&&(null!=(i=r)&&i===i)&&!ae[n](r)&&(s[n]=0,++l===ae.length))return"string";return se[s.reduce((function(e,t){return 0===e?t:e}),0)-1]}function le(e,t){return t.reduce((function(t,n){return t[n]=ue(e,n),t}),{})}function ce(e){return!Number.isNaN(+e)&&!(e instanceof Date)}var de={},fe={};function he(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function pe(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function ge(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function me(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+ge(-t,6):t>9999?"+"+ge(t,6):ge(t,4))+"-"+ge(e.getUTCMonth()+1,2)+"-"+ge(e.getUTCDate(),2)+(o?"T"+ge(n,2)+":"+ge(r,2)+":"+ge(i,2)+"."+ge(o,3)+"Z":i?"T"+ge(n,2)+":"+ge(r,2)+":"+ge(i,2)+"Z":r||n?"T"+ge(n,2)+":"+ge(r,2)+"Z":"")}var ve=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return fe;if(l)return l=!1,de;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?u=!0:10===(r=e.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))l=!0;else if(13===r)l=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==fe;){for(var d=[];r!==de&&r!==fe;)d.push(r),r=c();t&&null==(d=t(d,s++))||i.push(d)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?me(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=he(e);return function(r,i){return t(n(r),i,e)}}(e,t):he(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=pe(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=pe(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}};function be(e){var t=function(t,n){var r={delimiter:e};return ye(t,n?Object(p.o)(n,r):r)};return t.responseType="text",t}function ye(e,t){return t.header&&(e=t.header.map(p.Z).join(t.delimiter)+"\n"+e),ve(t.delimiter).parse(e+"")}ye.responseType="text";var _e=n(129),xe=function(e){return e},Se=function(e){if(null==e)return xe;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var u=2,l=e.length,c=new Array(l);for(c[0]=(t+=e[0])*r+o,c[1]=(n+=e[1])*i+a;u<l;)c[u]=e[u],++u;return c}},we=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Ce(e,t)}))}:Ce(e,t)};function Ce(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=ke(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function ke(e,t){var n=Se(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(t)}var Ee=function(e,t){var n={},r={},i={},o=[],a=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),s=a[0],u=a[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(t),n.start=s,o=i[s]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=u]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o},Oe=function(e){return ke(e,Te.apply(this,arguments))};function Te(e,t,n){var r,i,o;if(arguments.length>1)r=Pe(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Ee(e,r)}}function Pe(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function u(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var Ie={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function De(e,t){var n,r,i,o;return e=Object(_e.a)(e,t),t&&t.feature?(n=we,i=t.feature):t&&t.mesh?(n=Oe,i=t.mesh,o=Ie[t.filter]):Object(p.n)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,o):Object(p.n)("Invalid TopoJSON object: "+i))&&r.features||[r]}De.responseType="json";var Ae={dsv:ye,csv:be(","),tsv:be("\t"),json:_e.a,topojson:De};function Me(e,t){return arguments.length>1?(Ae[e]=t,this):Object(p.v)(Ae,e)?Ae[e]:null}function je(e){var t=Me(e);return t&&t.responseType||"text"}var Re=new Date,Fe=new Date;function Ne(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ne((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return Re.setTime(+t),Fe.setTime(+r),e(Re),e(Fe),Math.floor(n(Re,Fe))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}function Le(e){return Ne((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Be=Le(0),ze=Le(1),Ue=Le(2),He=Le(3),Ve=Le(4),We=Le(5),Ge=Le(6),Ke=(Be.range,ze.range,Ue.range,He.range,Ve.range,We.range,Ge.range,Ne((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),qe=Ke;Ke.range;function Ye(e){return Ne((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Xe=Ye(0),Ze=Ye(1),Qe=Ye(2),$e=Ye(3),Je=Ye(4),et=Ye(5),tt=Ye(6),nt=(Xe.range,Ze.range,Qe.range,$e.range,Je.range,et.range,tt.range,Ne((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),rt=nt,it=(nt.range,Ne((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));it.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ne((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ot=it,at=(it.range,Ne((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));at.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ne((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var st=at;at.range;function ut(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ct(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var dt,ft,ht,pt,gt,mt={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,bt=/^%/,yt=/[\\^$*+?|[\]().{}]/g;function _t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function xt(e){return e.replace(yt,"\\$&")}function St(e){return new RegExp("^(?:"+e.map(xt).join("|")+")","i")}function wt(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Ct(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kt(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Et(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ot(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Tt(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Pt(e,t,n){var r=vt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function It(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function At(e,t,n){var r=vt.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Mt(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jt(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Rt(e,t,n){var r=vt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ft(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Nt(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Lt(e,t,n){var r=vt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Bt(e,t,n){var r=vt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zt(e,t,n){var r=vt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ut(e,t,n){var r=bt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ht(e,t,n){var r=vt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vt(e,t,n){var r=vt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Wt(e,t){return _t(e.getDate(),t,2)}function Gt(e,t){return _t(e.getHours(),t,2)}function Kt(e,t){return _t(e.getHours()%12||12,t,2)}function qt(e,t){return _t(1+rt.count(ot(e),e),t,3)}function Yt(e,t){return _t(e.getMilliseconds(),t,3)}function Xt(e,t){return Yt(e,t)+"000"}function Zt(e,t){return _t(e.getMonth()+1,t,2)}function Qt(e,t){return _t(e.getMinutes(),t,2)}function $t(e,t){return _t(e.getSeconds(),t,2)}function Jt(e){var t=e.getDay();return 0===t?7:t}function en(e,t){return _t(Xe.count(ot(e)-1,e),t,2)}function tn(e,t){var n=e.getDay();return e=n>=4||0===n?Je(e):Je.ceil(e),_t(Je.count(ot(e),e)+(4===ot(e).getDay()),t,2)}function nn(e){return e.getDay()}function rn(e,t){return _t(Ze.count(ot(e)-1,e),t,2)}function on(e,t){return _t(e.getFullYear()%100,t,2)}function an(e,t){return _t(e.getFullYear()%1e4,t,4)}function sn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function un(e,t){return _t(e.getUTCDate(),t,2)}function ln(e,t){return _t(e.getUTCHours(),t,2)}function cn(e,t){return _t(e.getUTCHours()%12||12,t,2)}function dn(e,t){return _t(1+qe.count(st(e),e),t,3)}function fn(e,t){return _t(e.getUTCMilliseconds(),t,3)}function hn(e,t){return fn(e,t)+"000"}function pn(e,t){return _t(e.getUTCMonth()+1,t,2)}function gn(e,t){return _t(e.getUTCMinutes(),t,2)}function mn(e,t){return _t(e.getUTCSeconds(),t,2)}function vn(e){var t=e.getUTCDay();return 0===t?7:t}function bn(e,t){return _t(Be.count(st(e)-1,e),t,2)}function yn(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Ve(e):Ve.ceil(e),_t(Ve.count(st(e),e)+(4===st(e).getUTCDay()),t,2)}function _n(e){return e.getUTCDay()}function xn(e,t){return _t(ze.count(st(e)-1,e),t,2)}function Sn(e,t){return _t(e.getUTCFullYear()%100,t,2)}function wn(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function Cn(){return"+0000"}function kn(){return"%"}function En(e){return+e}function On(e){return Math.floor(+e/1e3)}function Tn(e){return dt=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=St(i),c=wt(i),d=St(o),f=wt(o),h=St(a),p=wt(a),g=St(s),m=wt(s),v=St(u),b=wt(u),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Wt,e:Wt,f:Xt,H:Gt,I:Kt,j:qt,L:Yt,m:Zt,M:Qt,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:En,s:On,S:$t,u:Jt,U:en,V:tn,w:nn,W:rn,x:null,X:null,y:on,Y:an,Z:sn,"%":kn},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:un,e:un,f:hn,H:ln,I:cn,j:dn,L:fn,m:pn,M:gn,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:En,s:On,S:mn,u:vn,U:bn,V:yn,w:_n,W:xn,x:null,X:null,y:Sn,Y:wn,Z:Cn,"%":kn},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:jt,e:jt,f:zt,H:Ft,I:Ft,j:Rt,L:Bt,m:Mt,M:Nt,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:At,Q:Ht,s:Vt,S:Lt,u:kt,U:Et,V:Ot,w:Ct,W:Tt,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:It,Y:Pt,Z:Dt,"%":Ut};function S(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=mt[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function w(e,t){return function(n){var r,i,o=ct(1900,void 0,1);if(C(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=lt(ct(o.y,0,1))).getUTCDay(),r=i>4||0===i?ze.ceil(r):ze(r),r=qe.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ut(ct(o.y,0,1))).getDay(),r=i>4||0===i?Ze.ceil(r):Ze(r),r=rt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?lt(ct(o.y,0,1)).getUTCDay():ut(ct(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,lt(o)):ut(o)}}function C(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in mt?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_),{format:function(e){var t=S(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}(e),ft=dt.format,ht=dt.parse,pt=dt.utcFormat,gt=dt.utcParse,dt}Tn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Pn=function(e,t,n){var r=Me((t=t||{}).type||"json");return r||Object(p.n)("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||ht;var r,i,o,a,s,u,l,c=e.columns||Object.keys(e[0]);"auto"===t&&(t=le(e,c));for(c=Object.keys(t),r=c.map((function(e){var r,i,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(i=(r=o.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?gt(i):n(i);if(!oe[o])throw Error("Illegal format pattern: "+e+":"+o);return oe[o]})),a=0,u=e.length,l=c.length;a<u;++a)for(i=e[a],s=0;s<l;++s)o=c[s],i[o]=r[s](i[o])}(e,t.parse,n),Object(p.v)(e,"columns")&&delete e.columns,e};var In=function(e,t){return function(n){return{options:n||{},sanitize:Q,load:X,fileAccess:!!t,file:J(t),http:ne(e)}}}("undefined"!==typeof fetch&&fetch,null),Dn=Pn;function An(){return(An=y(v.a.mark((function e(t,n){var r,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:je(n&&n.type)});case 5:o=e.sent;try{o=Dn(o,n)}catch(a){i=-2,r.warn("Data ingestion failed",t,a)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:o,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function Mn(){return(Mn=y(v.a.mark((function e(t,n,r){var i,o,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=(i=this)._pending||jn(i)).requests+=1,e.next=4,i.request(n,r);case 4:return a=e.sent,i.pulse(t,i.changeset().remove(p.gb).insert(a.data||[])),o.done(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function jn(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}var Rn={skip:!0};function Fn(e,t,n,r,i,o){var a,s,u=Object(p.o)({},o,Rn);Object(p.D)(n)||(n=Object(p.l)(n)),void 0===r?a=function(t){return e.touch(n(t))}:Object(p.D)(r)?(s=new B(null,r,i,!1),a=function(t){s.evaluate(t);var r=n(t),i=s.value;A(i)?e.pulse(r,i,o):e.update(r,i,u)}):a=function(t){return e.update(n(t),r,u)},t.apply(a)}function Nn(e,t,n,r,i,o){if(void 0===r)t.targets().add(n);else{var a=o||{},s=new B(null,function(e,t){return t=Object(p.D)(t)?t:Object(p.l)(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}var Ln={};function Bn(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var zn=Bn.prototype;function Un(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Hn(e,t){var n=[];return Object(p.ib)(e,t,(function(e){n.push(e)})),n}function Vn(e,t){var n={};return e.visit(t,(function(e){n[k(e)]=1})),function(e){return n[k(e)]?null:e}}function Wn(e,t,n,r){var i,o,a,s,u,l=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,a=0,s=n.length;a<s;++a)if((i=n[a]).stamp===t){if(i.fields)for(u in o=l.fields||(l.fields={}),i.fields)o[u]=1;i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}zn.StopPropagation=Ln,zn.ADD=1,zn.REM=2,zn.MOD=4,zn.ADD_REM=3,zn.ADD_MOD=5,zn.ALL=7,zn.REFLOW=8,zn.SOURCE=16,zn.NO_SOURCE=32,zn.NO_FIELDS=64,zn.fork=function(e){return new Bn(this.dataflow).init(this,e)},zn.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},zn.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new Bn(this.dataflow).init(this)).add=e.source,e):e},zn.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},zn.runAfter=function(e){this.dataflow.runAfter(e)},zn.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},zn.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Vn(this,1))),this},zn.modifies=function(e){var t=this.fields||(this.fields={});return Object(p.A)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},zn.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(p.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},zn.filter=function(e,t){var n=this;return 1&e&&(n.addF=Un(n.addF,t)),2&e&&(n.remF=Un(n.remF,t)),4&e&&(n.modF=Un(n.modF,t)),16&e&&(n.srcF=Un(n.srcF,t)),n},zn.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=Hn(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Hn(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Hn(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},zn.visit=function(e,t){var n,r,i=this,o=t;return 16&e?(Object(p.ib)(i.source,i.srcF,o),i):(1&e&&Object(p.ib)(i.add,i.addF,o),2&e&&Object(p.ib)(i.rem,i.remF,o),4&e&&Object(p.ib)(i.mod,i.modF,o),8&e&&(n=i.source)&&((r=i.add.length+i.mod.length)===n.length||(r?Object(p.ib)(n,Vn(i,5),o):Object(p.ib)(n,i.srcF,o))),i)};var Gn=Object(p.y)(Wn,Bn);function Kn(){return(Kn=y(v.a.mark((function e(t,n,r){var i,o,a,s,u,l,c,d,f,h,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=this).logLevel(),a=[],!i._pulse){e.next=3;break}return e.abrupt("return",Yn(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,_(i,n);case 9:if(i._touched.length){e.next=12;break}return i.info("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:s=++i._clock,u=0,i._pulse=new Bn(i,s,t),o>=p.c&&(d=Date.now(),i.debug("-- START PROPAGATION ("+s+") -----")),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=g(p.w),e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=36;break}if((l=i._heap.pop()).rank===l.qrank){e.next=23;break}return i._enqueue(l,!0),e.abrupt("continue",18);case 23:if(!(c=l.run(i._getPulse(l,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(a.push(c.async),c=Ln);case 31:o>=p.a&&i.debug(l.id,c===Ln?"STOP":c,l),c!==Ln&&l._targets&&l._targets.forEach((function(e){return i._enqueue(e)})),++u,e.next=18;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(17),i._heap.clear(),f=e.t0;case 42:if(i._input={},i._pulse=null,o>=p.c&&(d=Date.now()-d,i.info("> Pulse "+s+": "+u+" operators; "+d+"ms")),f&&(i._postrun=[],i.error(f)),!i._postrun.length){e.next=56;break}h=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],m=0;case 50:if(!(m<h.length)){e.next=56;break}return e.next=53,_(i,h[m].callback);case 53:++m,e.next=50;break;case 56:if(!r){e.next=59;break}return e.next=59,_(i,r);case 59:return a.length&&Promise.all(a).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(t){i.error(t)}}))}))})),e.abrupt("return",i);case 61:case"end":return e.stop()}}),e,this,[[17,38]])})))).apply(this,arguments)}function qn(){return(qn=y(v.a.mark((function e(t,n,r){var i,o=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return o._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Yn(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Gn.fork=function(e){var t=new Bn(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},Gn.changed=function(e){return this.changes&e},Gn.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(p.A)(e)?e.some((function(e){return n[e]})):n[e]:0},Gn.filter=function(){Object(p.n)("MultiPulse does not support filtering.")},Gn.materialize=function(){Object(p.n)("MultiPulse does not support materialization.")},Gn.visit=function(e,t){var n=this,r=n.pulses,i=r.length,o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n};var Xn={skip:!1,force:!1};function Zn(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),Qn(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,o=e.length,a=e[t],s=1+(t<<1);for(;s<o;)(r=s+1)<o&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=a,Qn(e,i,t,n)}(t,0,e)):n=r,n}}}function Qn(e,t,n,r){var i,o,a;for(i=e[n];n>t&&r(i,o=e[a=n-1>>1])<0;)e[n]=o,n=a;return e[n]=i}function $n(){this.logger(Object(p.K)()),this.logLevel(p.b),this._clock=0,this._rank=0;try{this._loader=In()}catch(e){}this._touched=g(p.w),this._input={},this._pulse=null,this._heap=Zn((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}var Jn=$n.prototype;function er(e){return function(){return this._log[e].apply(this,arguments)}}function tr(e,t){B.call(this,e,null,t)}Jn.stamp=function(){return this._clock},Jn.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},Jn.cleanThreshold=1e4,Jn.add=function(e,t,n,r){var i,o=1;return e instanceof B?i=e:e&&e.prototype instanceof B?i=new e:Object(p.D)(e)?i=new B(null,e):(o=0,i=new B(e,t)),this.rank(i),o&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},Jn.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},Jn.rank=function(e){e.rank=++this._rank},Jn.rerank=function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Object(p.n)("Cycle detected in dataflow graph.")},Jn.pulse=function(e,t,n){this.touch(e,n||Xn);var r=new Bn(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},Jn.touch=function(e,t){var n=t||Xn;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},Jn.update=function(e,t,n){var r=n||Xn;return(e.set(t)||r.force)&&this.touch(e,r),this},Jn.changeset=M,Jn.ingest=function(e,t,n){return this.pulse(e,this.changeset().insert(Dn(t,n)))},Jn.parse=Dn,Jn.preload=function(e,t,n){return Mn.apply(this,arguments)},Jn.request=function(e,t){return An.apply(this,arguments)},Jn.events=function(e,t,n,r){for(var i,o=this,a=W(n,r),s=function(e){e.dataflow=o;try{a.receive(e)}catch(t){o.error(t)}finally{o.run()}},u=0,l=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(p.i)(e)).length;u<l;++u)i[u].addEventListener(t,s);return a},Jn.on=function(e,t,n,r,i){return(e instanceof B?Nn:Fn)(this,e,t,n,r,i),this},Jn.evaluate=function(e,t,n){return Kn.apply(this,arguments)},Jn.run=function(e,t,n){return this._pulse?Yn(this):(this.evaluate(e,t,n),this)},Jn.runAsync=function(e,t,n){return qn.apply(this,arguments)},Jn.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},Jn._enqueue=function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},Jn._getPulse=function(e,t){var n=e.source,r=this._clock;return n&&Object(p.A)(n)?new Wn(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Ln&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)},Jn.logger=function(e){return arguments.length?(this._log=e,this):this._log},Jn.error=er("error"),Jn.warn=er("warn"),Jn.info=er("info"),Jn.debug=er("debug"),Jn.logLevel=er("level");var nr=Object(p.y)(tr,B);nr.run=function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},nr.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},nr.transform=function(){};var rr={};function ir(e){var t=or(e);return t&&t.Definition||null}function or(e){return e=e&&e.toLowerCase(),Object(p.v)(rr,e)?rr[e]:null}function ar(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function sr(e,t,n){return n||e+(t?"_"+t:"")}var ur={values:dr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:dr({name:"count",set:"cell.num"}),__count__:dr({name:"count",set:"this.missing + this.valid"}),missing:dr({name:"missing",set:"this.missing"}),valid:dr({name:"valid",set:"this.valid"}),sum:dr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),product:dr({name:"product",init:"this.product = 1;",add:"this.product *= v;",rem:"this.product /= v;",set:"this.valid ? this.product : undefined"}),mean:dr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:dr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:dr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:dr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:dr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:dr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:dr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:dr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:dr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:dr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:dr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:dr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:dr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:dr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:dr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:dr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:dr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},lr=Object.keys(ur);function cr(e,t){return ur[e](t)}function dr(e){return function(t){var n=Object(p.o)({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function fr(e,t){return e.idx-t.idx}function hr(e,t){var n=t||p.x,r=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=ur[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(fr)}(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",o="this.cell = cell; this.init();",a="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",u="var cell = this.cell;";return r.forEach((function(e){i+=e.init,a+=e.add,s+=e.rem})),e.slice().sort(fr).forEach((function(e){u+="t["+Object(p.Z)(e.out)+"]="+e.set+";"})),u+="return t;",(o=Function("cell",o)).prototype.init=Function(i),o.prototype.add=Function("v","t",a),o.prototype.rem=Function("v","t",s),o.prototype.set=Function("t",u),o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}var pr=n(23),gr=v.a.mark(mr);function mr(e,t){var n,r,i,o,a,s,u;return v.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==t){l.next=21;break}n=Object(pr.a)(e),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=40;break;case 21:o=-1,a=Object(pr.a)(e),l.prev=23,a.s();case 25:if((s=a.n()).done){l.next=32;break}if(u=s.value,!(null!=(u=t(u,++o,e))&&(u=+u)>=u)){l.next=30;break}return l.next=30,u;case 30:l.next=25;break;case 32:l.next=37;break;case 34:l.prev=34,l.t1=l.catch(23),a.e(l.t1);case 37:return l.prev=37,a.f(),l.finish(37);case 40:case"end":return l.stop()}}),gr,null,[[2,13,16,19],[23,34,37,40]])}var vr=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};function br(e,t){var n;if(void 0===t){var r,i=Object(pr.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=Object(pr.a)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function yr(e,t){var n;if(void 0===t){var r,i=Object(pr.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=Object(pr.a)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;null!=(l=t(l,++s,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function _r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var xr=v.a.mark(wr),Sr=function(e){return null===e?NaN:+e};function wr(e,t){var n,r,i,o,a,s,u;return v.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==t){l.next=21;break}n=Object(pr.a)(e),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=40;break;case 21:o=-1,a=Object(pr.a)(e),l.prev=23,a.s();case 25:if((s=a.n()).done){l.next=32;break}if(u=s.value,!(null!=(u=t(u,++o,e))&&(u=+u)>=u)){l.next=30;break}return l.next=30,u;case 30:l.next=25;break;case 32:l.next=37;break;case 34:l.prev=34,l.t1=l.catch(23),a.e(l.t1);case 37:return l.prev=37,a.f(),l.finish(37);case 40:case"end":return l.stop()}}),xr,null,[[2,13,16,19],[23,34,37,40]])}function Cr(e,t,n){if(r=(e=Float64Array.from(wr(e,n))).length){if((t=+t)<=0||r<2)return yr(e);if(t>=1)return br(e);var r,i=(r-1)*t,o=Math.floor(i),a=br(function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vr;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1),d=Math.max(r,Math.floor(n-s*l/a+c)),f=Math.min(i,Math.floor(n+(a-s)*l/a+c));e(t,n,d,f,o)}var h=t[n],p=r,g=i;for(_r(t,r,n),o(t[i],h)>0&&_r(t,r,i);p<g;){for(_r(t,p,g),++p,--g;o(t[p],h)<0;)++p;for(;o(t[g],h)>0;)--g}0===o(t[r],h)?_r(t,r,g):_r(t,++g,i),g<=n&&(r=g+1),n<=g&&(i=g-1)}return t}(e,o).subarray(0,o+1));return a+(yr(e.subarray(o+1))-a)*(i-o)}}var kr=function(e,t,n){var r=Float64Array.from(mr(e,n));return r.sort(vr),t.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sr;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}(r,e)}))},Er=function(e,t){return kr(e,[.25,.5,.75],t)};function Or(e,t){var n=function(e,t){var n,r=0,i=0,o=0;if(void 0===t){var a,s=Object(pr.a)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;null!=u&&(u=+u)>=u&&(o+=(n=u-i)*(u-(i+=n/++r)))}}catch(h){s.e(h)}finally{s.f()}}else{var l,c=-1,d=Object(pr.a)(e);try{for(d.s();!(l=d.n()).done;){var f=l.value;null!=(f=t(f,++c,e))&&(f=+f)>=f&&(o+=(n=f-i)*(f-(i+=n/++r)))}}catch(h){d.e(h)}finally{d.f()}}if(r>1)return o/(r-1)}(e,t);return n?Math.sqrt(n):n}var Tr=function(e,t){var n=e.length,r=Or(e,t),i=Er(e,t),o=(i[2]-i[0])/1.34;return 1.06*(r=Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)},Pr=function(e){var t,n,r,i,o,a,s,u,l=e.maxbins||20,c=e.base||10,d=Math.log(c),f=e.divide||[5,2],h=e.extent[0],p=e.extent[1],g=e.span||p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(o=g/l,a=0,s=e.steps.length;a<s&&e.steps[a]<o;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(l)/d),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(g)/d)-n));Math.ceil(g/t)>l;)t*=c;for(a=0,s=f.length;a<s;++a)(o=t/f[a])>=r&&g/o<=l&&(t=o)}return i=(o=Math.log(t))>=0?0:1+~~(-o/d),u=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(h=h<(o=Math.floor(h/t+u)*t)?o-t:o,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}},Ir=Math.random;function Dr(e){Ir=e}var Ar=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,o,a,s,u=Float64Array.from(mr(e,r)),l=u.length,c=t;for(a=0,s=Array(c);a<c;++a){for(i=0,o=0;o<l;++o)i+=u[~~(Ir()*l)];s[a]=i/l}return s.sort(vr),[Cr(s,n/2),Cr(s,1-n/2)]},Mr=function(e,t,n,r){r=r||function(e){return e};for(var i,o=0,a=1,s=e.length,u=new Float64Array(s),l=r(e[0]),c=l,d=l+t;a<s;++a){if((i=r(e[a]))>=d){for(c=(l+c)/2;o<a;++o)u[o]=c;d=i+t,l=i}c=i}for(c=(l+c)/2;o<a;++o)u[o]=c;return n?function(e,t){var n,r,i=e.length,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<i;){for(n=a+1;e[a]===e[n];)++n;if(e[a]-e[a-1]<t){for(r=a+(o+n-a-a>>1);r<a;)e[r++]=e[a];for(;r>a;)e[r--]=e[o]}o=a,a=n}return e}(u,t+t/4):u};var jr=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},Rr=function(e,t){null==t&&(t=e,e=0);var n,r,i,o={};return o.min=function(e){return arguments.length?(i=r-(n=e||0),o):n},o.max=function(e){return arguments.length?(i=(r=e||0)-n,o):r},o.sample=function(){return n+Math.floor(i*Ir())},o.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},o.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},o.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},o.min(e).max(t)},Fr=Math.sqrt(2*Math.PI),Nr=Math.SQRT2,Lr=NaN;function Br(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,o=0;if(Lr===Lr)i=Lr,Lr=NaN;else{do{n=(i=2*Ir()-1)*i+(o=2*Ir()-1)*o}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),Lr=o*r}return e+i*t}function zr(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*Fr)}function Ur(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(r=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),r/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):r=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-r:r}function Hr(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*Nr*function(e){var t,n=-Math.log((1-e)*(1+e));n<6.25?t=1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?(n=Math.sqrt(n)-3.25,t=3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*n)*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*n-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n):t=1/0;return t*e}(2*e-1)}var Vr=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Br(n,r)},pdf:function(e){return zr(e,n,r)},cdf:function(e){return Ur(e,n,r)},icdf:function(e){return Hr(e,n,r)}};return i.mean(e).stdev(t)},Wr=function(e,t){var n=Vr(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=Tr(e)),r):t},r.sample=function(){return e[~~(Ir()*i)]+t*n.sample()},r.pdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.pdf((r-e[a])/t);return o/t/i},r.cdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.cdf((r-e[a])/t);return o/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)};function Gr(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Br()*t)}function Kr(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Fr*e)}function qr(e,t,n){return Ur(Math.log(e),t,n)}function Yr(e,t,n){return Math.exp(Hr(e,t,n))}var Xr=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Gr(n,r)},pdf:function(e){return Kr(e,n,r)},cdf:function(e){return qr(e,n,r)},icdf:function(e){return Yr(e,n,r)}};return i.mean(e).stdev(t)},Zr=function(e,t){var n,r={},i=0;function o(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}return r.weights=function(e){return arguments.length?(n=o(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=Ir(),r=e[i-1],o=n[0],a=0;a<i-1;o+=n[++a])if(t<o){r=e[a];break}return r.sample()},r.pdf=function(t){for(var r=0,o=0;o<i;++o)r+=n[o]*e[o].pdf(t);return r},r.cdf=function(t){for(var r=0,o=0;o<i;++o)r+=n[o]*e[o].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)};function Qr(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Ir()}function $r(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Jr(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function ei(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}var ti=function(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Qr(n,r)},pdf:function(e){return $r(e,n,r)},cdf:function(e){return Jr(e,n,r)},icdf:function(e){return ei(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)},ni=function(e,t,n,r){var i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]};function ri(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,o,a,s,u=e.length,l=new Float64Array(u),c=new Float64Array(u),d=0,f=0,h=0,p=Object(pr.a)(e);try{for(p.s();!(s=p.n()).done;)a=s.value,l[d]=i=+t(a),c[d]=o=+n(a),f+=(i-f)/++d,h+=(o-h)/d}catch(g){p.e(g)}finally{p.f()}for(d=0;d<u;++d)l[d]-=f,c[d]-=h;return[l,c,f,h]}function ii(e,t,n,r){var i,o,a,s=-1,u=Object(pr.a)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;i=t(l),o=n(l),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++s)}}catch(c){u.e(c)}finally{u.f()}}var oi=function(e,t,n,r,i){var o=0,a=0;return ii(e,t,n,(function(e,t){var n=t-i(e),s=t-r;o+=n*n,a+=s*s})),1-o/a},ai=function(e,t,n){var r=0,i=0,o=0,a=0,s=0;ii(e,t,n,(function(e,t){++s,r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var u=ni(r,i,o,a),l=function(e){return u[0]+u[1]*e};return{coef:u,predict:l,rSquared:oi(e,t,n,i,l)}},si=function(e,t,n){var r=0,i=0,o=0,a=0,s=0;ii(e,t,n,(function(e,t){++s,e=Math.log(e),r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var u=ni(r,i,o,a),l=function(e){return u[0]+u[1]*Math.log(e)};return{coef:u,predict:l,rSquared:oi(e,t,n,i,l)}},ui=n(25),li=function(e,t,n){var r,i,o,a=ri(e,t,n),s=Object(ui.a)(a,4),u=s[0],l=(s[1],s[2]),c=s[3],d=0,f=0,h=0,p=0,g=0;ii(e,t,n,(function(e,t){r=u[g++],i=Math.log(t),d+=(t*i-d)/g,f+=((o=r*t)-f)/g,h+=(o*i-h)/g,p+=(r*o-p)/g}));var m=ni(f/c,d/c,h/c,p/c),v=Object(ui.a)(m,2),b=v[0],y=v[1],_=function(e){return Math.exp(b+y*(e-l))};return{coef:[Math.exp(b-y*l),y],predict:_,rSquared:oi(e,t,n,c,_)}},ci=function(e,t,n){var r=0,i=0,o=0,a=0,s=0,u=0;ii(e,t,n,(function(e,t){var n=Math.log(e),l=Math.log(t);++u,r+=(n-r)/u,i+=(l-i)/u,o+=(n*l-o)/u,a+=(n*n-a)/u,s+=(t-s)/u}));var l=ni(r,i,o,a),c=function(e){return l[0]*Math.pow(e,l[1])};return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:oi(e,t,n,s,c)}},di=function(e,t,n){var r,i,o,a,s=ri(e,t,n),u=Object(ui.a)(s,4),l=u[0],c=u[1],d=u[2],f=u[3],h=l.length,p=0,g=0,m=0,v=0,b=0;for(r=0;r<h;)i=l[r],o=c[r++],p+=((a=i*i)-p)/r,g+=(a*i-g)/r,m+=(a*a-m)/r,v+=(i*o-v)/r,b+=(a*o-b)/r;var y=m-p*p,_=p*y-g*g,x=(b*p-v*g)/_,S=(v*y-b*g)/_,w=-x*p,C=function(e){return x*(e-=d)*e+S*e+w+f};return{coef:[w-S*d+x*d*d+f,S-2*x*d,x],predict:C,rSquared:oi(e,t,n,f,C)}},fi=function(e,t,n,r){if(1===r)return ai(e,t,n);if(2===r)return di(e,t,n);var i,o,a,s,u,l=ri(e,t,n),c=Object(ui.a)(l,4),d=c[0],f=c[1],h=c[2],p=c[3],g=d.length,m=[],v=[],b=r+1;for(i=0;i<b;++i){for(a=0,s=0;a<g;++a)s+=Math.pow(d[a],i)*f[a];for(m.push(s),u=new Float64Array(b),o=0;o<b;++o){for(a=0,s=0;a<g;++a)s+=Math.pow(d[a],i+o);u[o]=s}v.push(u)}v.push(m);var y=function(e){var t,n,r,i,o,a=e.length-1,s=[];for(t=0;t<a;++t){for(i=t,n=t+1;n<a;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<a+1;++r)o=e[r][t],e[r][t]=e[r][i],e[r][i]=o;for(n=t+1;n<a;++n)for(r=a;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=e[r][n]*s[r];s[n]=(e[a][n]-o)/e[n][n]}return s}(v),_=function(e){e-=h;var t=p+y[0]+y[1]*e+y[2]*e*e;for(i=3;i<b;++i)t+=y[i]*Math.pow(e,i);return t};return{coef:hi(b,y,-h,p),predict:_,rSquared:oi(e,t,n,p,_)}};function hi(e,t,n,r){var i,o,a,s,u=Array(e);for(i=0;i<e;++i)u[i]=0;for(i=e-1;i>=0;--i)for(a=t[i],s=1,u[i]+=a,o=1;o<=i;++o)s*=(i+1-o)/o,u[i-o]+=a*Math.pow(n,o)*s;return u[0]+=r,u}var pi=function(e,t){return Cr(e,.5,t)},gi=function(e,t,n,r){for(var i=ri(e,t,n,!0),o=Object(ui.a)(i,4),a=o[0],s=o[1],u=o[2],l=o[3],c=a.length,d=Math.max(2,~~(r*c)),f=new Float64Array(c),h=new Float64Array(c),p=new Float64Array(c).fill(1),g=-1;++g<=2;){for(var m=[0,d-1],v=0;v<c;++v){for(var b=a[v],y=m[0],_=m[1],x=b-a[y]>a[_]-b?y:_,S=0,w=0,C=0,k=0,E=0,O=1/Math.abs(a[x]-b||1),T=y;T<=_;++T){var P=a[T],I=s[T],D=mi(Math.abs(b-P)*O)*p[T],A=P*D;S+=D,w+=A,C+=I*D,k+=I*A,E+=P*A}var M=ni(w/S,C/S,k/S,E/S),j=Object(ui.a)(M,2),R=j[0],F=j[1];f[v]=R+F*b,h[v]=Math.abs(s[v]-f[v]),vi(a,v+1,m)}if(2===g)break;var N=pi(h);if(Math.abs(N)<1e-12)break;for(var L,B,z=0;z<c;++z)L=h[z]/(6*N),p[z]=L>=1?1e-12:(B=1-L*L)*B}return function(e,t,n,r){for(var i,o=e.length,a=[],s=0,u=0,l=[];s<o;++s)i=e[s]+n,l[0]===i?l[1]+=(t[s]-l[1])/++u:(u=0,l[1]+=r,l=[i,t[s]],a.push(l));return l[1]+=r,a}(a,f,u,l)};function mi(e){return(e=1-e*e*e)*e*e}function vi(e,t,n){var r=e[t],i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}var bi=.1*Math.PI/180,yi=function(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},o=t[0],a=t[1],s=a-o,u=s/r,l=[i(o)],c=[];if(n===r){for(var d=1;d<r;++d)l.push(i(o+d/n*s));return l.push(i(a)),l}c.push(i(a));for(var f=n;--f>0;)c.push(i(o+f/n*s));for(var h=l[0],p=c[c.length-1];p;){var g=i((h[0]+p[0])/2);g[0]-h[0]>=u&&_i(h,g,p)>bi?c.push(g):(h=p,l.push(p),c.pop()),p=c[c.length-1]}return l};function _i(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}function xi(e){this._key=e?Object(p.t)(e):k,this.reset()}var Si=xi.prototype;function wi(e){tr.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Si.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Si.add=function(e){this._add.push(e)},Si.rem=function(e){this._rem.push(e)},Si.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,o=this._key,a=r.length,s=i.length,u=Array(a-s),l={};for(e=0;e<s;++e)l[o(i[e])]=1;for(e=0,t=0;e<a;++e)l[o(n=r[e])]?l[o(n)]=0:u[t++]=n;return this._rem=[],this._add=u},Si.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},o=0;--r>=0;)t=e(n[r])+"",Object(p.v)(i,t)||(i[t]=1,++o);return o},Si.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(p.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},Si.argmin=function(e){return this.extent(e)[0]||{}},Si.argmax=function(e){return this.extent(e)[1]||{}},Si.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},Si.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},Si.quartile=function(e){return this._get===e&&this._q||(this._q=Er(this.values(),e),this._get=e),this._q},Si.q1=function(e){return this.quartile(e)[0]},Si.q2=function(e){return this.quartile(e)[1]},Si.q3=function(e){return this.quartile(e)[2]},Si.ci=function(e){return this._get===e&&this._ci||(this._ci=Ar(this.values(),1e3,.05,e),this._get=e),this._ci},Si.ci0=function(e){return this.ci(e)[0]},Si.ci1=function(e){return this.ci(e)[1]},wi.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:lr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Ci=Object(p.y)(wi,tr);Ci.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,(function(e){return n.add(e)}))):(n.value=n.value||n.init(e),t.visit(t.REM,(function(e){return n.rem(e)})),t.visit(t.ADD,(function(e){return n.add(e)}))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},Ci.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function o(e){var t,o,a,s;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][s=a[n[o]]]=s}o(e._prev),o(t),function o(a,s,u){var l,c,d=n[u],f=r[u++];for(l in f)s[d]=f[l],c=a?a+"|"+l:l,u<i?o(c,s,u):t[c]||e.cell(c,s)}("",{},0)},Ci.init=function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Object(p.i)(Object(p.g)(e)),o=0,a=i.length;o<a;++o)r[n=i[o]]||(r[n]=1,t.push(n))}this._dims=Object(p.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(p.h)(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:ar(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,s,u,l,c,d=e.fields||[null],f=e.ops||["count"],h=e.as||[],g=d.length,m={};for(g!==f.length&&Object(p.n)("Unmatched number of fields and aggregate ops."),c=0;c<g;++c)o=d[c],a=f[c],null==o&&"count"!==a&&Object(p.n)("Null aggregate field specified."),l=sr(a,u=Object(p.h)(o),h[c]),n.push(l),"count"!==a?((s=m[u])||(i(o),(s=m[u]=[]).field=o,this._measures.push(s)),"count"!==a&&(this._countOnly=!1),s.push(cr(a,l))):this._counts.push(l);return this._measures=this._measures.map((function(e){return hr(e,e.field)})),{}},Ci.cellkey=ar(),Ci.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},Ci.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new xi),n},Ci.newtuple=function(e,t){var n,r,i=this._dnames,o=this._dims,a={};for(n=0,r=o.length;n<r;++n)a[i[n]]=o[n](e);return t?I(t.tuple,a):O(a)},Ci.add=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num+=1,!this._countOnly)for(o.store&&o.data.add(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},Ci.rem=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num-=1,!this._countOnly)for(o.store&&o.data.rem(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},Ci.celltuple=function(e){var t,n,r,i=e.tuple,o=this._counts;for(e.store&&e.data.values(),n=0,r=o.length;n<r;++n)i[o[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},Ci.changes=function(e){var t,n,r,i,o=this._adds,a=this._mods,s=this._prev,u=this._drop,l=e.add,c=e.rem,d=e.mod;if(s)for(n in s)t=s[n],u&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=a[r]).num&&u?c:d).push(this.celltuple(t)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,e};function ki(e){tr.call(this,null,e)}ki.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var Ei=Object(p.y)(ki,tr);Ei.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),o=i.start,a=i.step,s=e.as||["bin0","bin1"],u=s[0],l=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(p.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[u]=t,e[l]=null==t?null:o+a*(1+(t-o)/a)}:function(e){e[u]=i(e)}),t.modifies(r?s:u)},Ei._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=Pr(e),o=i.step,a=i.start,s=a+Math.ceil((i.stop-a)/o)*o;null!=(t=e.anchor)&&(n=t-(a+o*Math.floor((t-a)/o)),a+=n,s+=n);var u=function(e){var t=r(e);return null==t?null:t<a?-1/0:t>s?1/0:(t=Math.max(a,Math.min(+t,s-o)),a+o*Math.floor(1e-14+(t-a)/o))};return u.start=a,u.stop=i.stop,u.step=o,this.value=Object(p.f)(u,Object(p.g)(r),e.name||"bin_"+Object(p.h)(r))};var Oi=function(e,t,n){var r=e,i=t||[],o=n||[],a={},s=0;return{add:function(e){o.push(e)},remove:function(e){a[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter((function(e){return!a[r(e)]})),a={},s=0),t&&e&&i.sort(e),o.length&&(i=e?Object(p.M)(e,i,o.sort(e)):i.concat(o),o=[]),i}}};function Ti(e){tr.call(this,[],e)}function Pi(e){B.call(this,null,Ii,e)}function Ii(e){return this.value&&!e.modified()?this.value:Object(p.k)(e.fields,e.orders)}function Di(e){tr.call(this,null,e)}Ti.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(p.y)(Ti,tr).transform=function(e,t){var n=t.fork(t.ALL),r=Oi(k,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(D(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n},Object(p.y)(Pi,B),Di.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var Ai=Object(p.y)(Di,tr);function Mi(e){tr.call(this,null,e)}Ai.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,o)||[],u=0,l=i.length;u<l;++u)a.test(r=i[u])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,u=e.as||["text","count"],l=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},Ai._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},Ai._finish=function(e,t){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),s=t[0],u=t[1],l=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=O({}),r[s]=n,r[u]=i,l.add.push(r)):0===i?(r&&l.rem.push(r),o[n]=null,a[n]=null):r[u]!==i&&(r[u]=i,l.mod.push(r));return l.modifies(t)},Mi.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(p.y)(Mi,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],o=i[0],a=i[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),r=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,o,a=[],s={},u=e.length,l=0;l<u;++l)for(s[t]=o=e[l],i=0;i<u;++i)s[n]=e[i],r(s)&&(a.push(O(s)),(s={})[t]=o);return a}(r,o,a,e.filter||p.gb)):n.mod=r,n.source=this.value,n.modifies(i)};var ji={kde:Wr,mixture:Zr,normal:Vr,lognormal:Xr,uniform:ti};function Ri(e){tr.call(this,null,e)}var Fi=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ni={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Fi},{name:"weights",type:"number",array:!0}]};function Li(e,t){return e?e.map((function(e,n){return t[n]||Object(p.h)(e)})):null}function Bi(e,t,n){var r,i,o,a,s,u,l=[],c=function(e){return e(a)};if(null==t)l.push(e.map(n));else for(r={},i=0,o=e.length;i<o;++i)a=e[i],(u=r[s=t.map(c)])||(r[s]=u=[],u.dims=s,l.push(u)),u.push(n(a));return l}Ri.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Fi.concat(Ni)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(p.y)(Ri,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t.function;Object(p.v)(ji,r)||Object(p.n)("Unknown distribution function: "+r);var i=ji[r]();for(var o in t)"field"===o?i.data((t.from||n()).map(t[o])):"distributions"===o?i[o](t[o].map((function(t){return e(t,n)}))):"function"===typeof i[o]&&i[o](t[o]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200,a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Object(p.n)("Invalid density method: "+a),e.extent||r.data||Object(p.n)("Missing density extent parameter."),a=r[a];var s=e.as||["value","density"],u=e.extent||Object(p.p)(r.data()),l=yi(a,u,i,o).map((function(e){var t={};return t[s[0]]=e[0],t[s[1]]=e[1],O(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n};function zi(e){tr.call(this,null,e)}function Ui(e){B.call(this,null,Hi,e),this.modified(!0)}function Hi(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(p.f)((function(n){return t(n,e)}),Object(p.g)(t),Object(p.h)(t))}function Vi(e){tr.call(this,[void 0,void 0],e)}function Wi(e,t){B.call(this,e),this.parent=t}zi.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(p.y)(zi,tr).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=Bi(t.source,e.groupby,p.x),o=e.smooth||!1,a=e.field,s=e.step||function(e,t){return Object(p.X)(Object(p.p)(e,t))/30}(r,a),u=D((function(e,t){return a(e)-a(t)})),l=e.as||"bin",c=i.length,d=1/0,f=-1/0,h=0;h<c;++h){var g=i[h].sort(u);n=-1;var m,v=Object(pr.a)(Mr(g,s,o,a));try{for(v.s();!(m=v.n()).done;){var b=m.value;b<d&&(d=b),b>f&&(f=b),g[++n][l]=b}}catch(y){v.e(y)}finally{v.f()}}return this.value={start:d,stop:f,step:s},t.reflow(!0).modifies(l)},Object(p.y)(Ui,B),Vi.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(p.y)(Vi,tr).transform=function(e,t){var n,r=this.value,i=e.field,o=r[0],a=r[1];if(((n=t.changed()||t.modified(i.fields)||e.modified("field"))||null==o)&&(o=1/0,a=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=i(e);null!=t&&((t=+t)<o&&(o=t),t>a&&(a=t))})),!Number.isFinite(o)||!Number.isFinite(a)){var s=Object(p.h)(i);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]};var Gi=Object(p.y)(Wi,B);function Ki(e){tr.call(this,{},e),this._keys=Object(p.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}Gi.connect=function(e){return this.targets().add(e),e.source=this},Gi.add=function(e){this.value.add.push(e)},Gi.rem=function(e){this.value.rem.push(e)},Gi.mod=function(e){this.value.mod.push(e)},Gi.init=function(e){this.value.init(e,e.NO_SOURCE)},Gi.evaluate=function(){return this.value};var qi=Object(p.y)(Ki,tr);function Yi(e){B.call(this,null,Xi,e)}function Xi(e){return this.value&&!e.modified()?this.value:Object(p.A)(e.name)?Object(p.i)(e.name).map((function(e){return Object(p.t)(e)})):Object(p.t)(e.name,e.as)}function Zi(e){tr.call(this,Object(p.s)(),e)}function Qi(e){tr.call(this,[],e)}function $i(e){tr.call(this,[],e)}function Ji(e){tr.call(this,null,e)}function eo(e){tr.call(this,[],e)}qi.activate=function(e){this._targets[this._targets.active++]=e},qi.subflow=function(e,t,n,r){var i,o,a=this.value,s=Object(p.v)(a,e)&&a[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,s=(i=n.dataflow).add(new Wi(n.fork(n.NO_SOURCE),this)).connect(t(i,e,o)),a[e]=s,this.activate(s)),s},qi.transform=function(e,t){var n=t.dataflow,r=this,i=e.key,o=e.subflow,a=this._keys,s=e.modified("key");function u(e){return r.subflow(e,o,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=k(e),n=a.get(t);void 0!==n&&(a.delete(t),u(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);a.set(k(e),t),u(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=k(e),n=a.get(t),r=i(e);n===r?u(r).mod(e):(a.set(t,r),u(n).rem(e),u(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){u(a.get(k(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=k(e),n=a.get(t),r=i(e);n!==r&&(a.set(t,r),u(n).rem(e),u(r).add(e))})),a.empty>n.cleanThreshold&&n.runAfter(a.clean),t},Object(p.y)(Yi,B),Zi.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(p.y)(Zi,tr).transform=function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,u=e.expr,l=!0;function c(t){var n=k(t),i=u(t,e),c=r.get(n);i&&c?(r.delete(n),o.push(t)):i||c?l&&i&&!c&&s.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,(function(e){var t=k(e);r.has(t)?r.delete(t):a.push(e)})),t.visit(t.ADD,(function(t){u(t,e)?o.push(t):r.set(k(t),1)})),t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},Qi.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(p.y)(Qi,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=Li(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,s,u,l=r.map((function(t){return t(e)})),c=l.reduce((function(e,t){return Math.max(e,t.length)}),0),d=0;d<c;++d){for(s=T(e),t=0;t<a;++t)s[i[t]]=null==(u=l[t][d])?null:u;o&&(s[o]=d),n.add.push(s)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)},$i.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(p.y)($i,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(p.h),o=e.as||["key","value"],a=o[0],s=o[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,o=0;o<u;++o)(t=T(e))[a]=i[o],t[s]=r[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)},Ji.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(p.y)(Ji,tr).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,(function(t){return t[r]=n(t,e)}))},Object(p.y)(eo,tr).transform=function(e,t){var n,r,i,o=this.value,a=t.fork(t.ALL),s=e.size-o.length,u=e.generator;if(s>0){for(n=[];--s>=0;)n.push(i=O(u(e))),o.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=o.slice(0,-s),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,o=o.slice(-s);return a.source=this.value=o,a};var to={value:"value",median:pi,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,o=Object(pr.a)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(d){o.e(d)}finally{o.f()}}else{var s,u=-1,l=Object(pr.a)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(d){l.e(d)}finally{l.f()}}if(n)return r/n},min:yr,max:br},no=[];function ro(e){tr.call(this,[],e)}function io(e){wi.call(this,e)}ro.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(p.y)(ro,tr).transform=function(e,t){var n,r,i,o,a,s,u,l,c,d,f=t.fork(t.ALL),h=function(e){var t,n=e.method||to.value;if(null!=to[n])return n===to.value?(t=void 0!==e.value?e.value:0,function(){return t}):to[n];Object(p.n)("Unrecognized imputation method: "+n)}(e),g=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),m=Object(p.h)(e.field),v=Object(p.h)(e.key),b=(e.groupby||[]).map(p.h),y=function(e,t,n,r){var i,o,a,s,u,l,c,d,f=function(e){return e(d)},h=[],p=r?r.slice():[],g={},m={};for(p.forEach((function(e,t){g[e]=t+1})),s=0,c=e.length;s<c;++s)d=e[s],l=n(d),u=g[l]||(g[l]=p.push(l)),o=(i=t?t.map(f):no)+"",(a=m[o])||(a=m[o]=[],h.push(a),a.values=i),a[u-1]=d;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),_=[],x=this.value,S=y.domain.length;for(a=0,l=y.length;a<l;++a)for(i=(n=y[a]).values,r=NaN,u=0;u<S;++u)if(null==n[u]){for(o=y.domain[u],d={_impute:!0},s=0,c=i.length;s<c;++s)d[b[s]]=i[s];d[v]=o,d[m]=Number.isNaN(r)?r=h(n,g):r,_.push(O(d))}return _.length&&(f.add=f.materialize(f.ADD).add.concat(_)),x.length&&(f.rem=f.materialize(f.REM).rem.concat(x)),this.value=_,f},io.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:lr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var oo=Object(p.y)(io,wi);function ao(e){tr.call(this,null,e)}function so(e){B.call(this,null,uo,e)}function uo(e){return this.value&&!e.modified()?this.value:Object(p.I)(e.fields,e.flat)}function lo(e){tr.call(this,[],e),this._pending=null}function co(e,t,n){n.forEach(O);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r}function fo(e){tr.call(this,{},e)}function ho(e){B.call(this,null,po,e)}function po(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,o=-1/0,a=e.extents;for(t=0,n=a.length;t<n;++t)(r=a[t])[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function go(e){B.call(this,null,mo,e)}function mo(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function vo(e){tr.call(this,null,e)}function bo(e){wi.call(this,e)}oo.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(p.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},oo.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},ao.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(p.y)(ao,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Bi(r,e.groupby,e.field),o=(e.groupby||[]).map(p.h),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[],c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;"pdf"!==s&&"cdf"!==s&&Object(p.n)("Invalid density method: "+s),"shared"===e.resolve&&(c||(c=Object(p.p)(r,e.field)),d=f=e.steps||f),i.forEach((function(t){var n=Wr(t,a)[s],r=e.counts?t.length:1,i=c||Object(p.p)(t);yi(n,i,d,f).forEach((function(e){for(var n={},i=0;i<o.length;++i)n[o[i]]=t.dims[i];n[u[0]]=e[0],n[u[1]]=e[1]*r,l.push(O(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n},Object(p.y)(so,B),Object(p.y)(lo,tr).transform=function(e,t){var n=this,r=t.dataflow;return this._pending?co(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?co(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(p.i)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return co(n,t,Object(p.i)(e.data))}))},fo.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(p.y)(fo,tr).transform=function(e,t){var n,r,i=t,o=e.as,a=e.fields,s=e.index,u=e.values,l=null==e.default?null:e.default,c=e.modified(),d=c?t.SOURCE:t.ADD,f=a.length;return u?(r=u.length,f>1&&!o&&Object(p.n)('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==f*r&&Object(p.n)('The "as" parameter has too few output field names.'),o=o||u.map(p.h),n=function(e){for(var t,n,i=0,c=0;i<f;++i)if(null==(n=s.get(a[i](e))))for(t=0;t<r;++t,++c)e[o[c]]=l;else for(t=0;t<r;++t,++c)e[o[c]]=u[t](n)}):(o||Object(p.n)("Missing output field names."),n=function(e){for(var t,n=0;n<f;++n)t=s.get(a[n](e)),e[o[n]]=null==t?l:t}),c?i=t.reflow(!0):d|=a.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(d,n),i.modifies(o)},Object(p.y)(ho,B),Object(p.y)(go,B),Object(p.y)(vo,tr),vo.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},bo.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:lr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var yo=Object(p.y)(bo,wi);function _o(e){Ki.call(this,e)}function xo(e){tr.call(this,null,e)}function So(e){tr.call(this,null,e)}yo._transform=yo.transform,yo.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=Object(p.g)(n).concat(Object(p.g)(r)),a=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:a.map((function(){return i})),fields:a.map((function(e){return function(e,t,n,r){return Object(p.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,o)})),as:a.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)},Object(p.y)(_o,Ki).transform=function(e,t){var n=this,r=e.subflow,i=e.field;return(e.modified("field")||i&&t.modified(Object(p.g)(i)))&&Object(p.n)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(e){var o=n.subflow(k(e),r,t,e);i?i(e).forEach((function(e){o.mod(e)})):o.mod(e)})),t.visit(t.ADD,(function(e){var o=n.subflow(k(e),r,t,e);i?i(e).forEach((function(e){o.add(O(e))})):o.add(e)})),t.visit(t.REM,(function(e){var o=n.subflow(k(e),r,t,e);i?i(e).forEach((function(e){o.rem(e)})):o.rem(e)})),t},xo.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(p.y)(xo,tr).transform=function(e,t){var n,r,i=e.fields,o=Li(e.fields,e.as||[]),a=i?function(e,t){return function(e,t,n,r){for(var i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,i,o)}:P;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=k(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=a(e,O({}));r[k(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(a(e,r[k(e)]))})),n},Object(p.y)(So,tr).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var wo=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o};function Co(e){tr.call(this,null,e)}Co.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var ko=Object(p.y)(Co,tr);function Eo(e){tr.call(this,null,e)}function Oo(e){tr.call(this,[],e),this.count=0}function To(e){tr.call(this,null,e)}function Po(e){tr.call(this,null,e),this.modified(!0)}ko.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=Bi(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(p.h),a=[],s=e.step||.01,u=e.probs||wo(s/2,1-1e-14,s),l=u.length;return i.forEach((function(e){for(var t=kr(e,u),n=0;n<l;++n){for(var i={},s=0;s<o.length;++s)i[o[s]]=e.dims[s];i[r[0]]=u[n],i[r[1]]=t[n],a.push(O(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n},Object(p.y)(Eo,tr).transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=k(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=T(e);r[k(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t,i=r[k(e)];for(t in e)i[t]=e[t],n.modifies(t);n.mod.push(i)}))),n},Oo.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(p.y)(Oo,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value,a=this.count,s=0,u=o.reduce((function(e,t){return e[k(t)]=1,e}),{});function l(e){var t,r;o.length<i?o.push(e):(r=~~((a+1)*Ir()))<o.length&&r>=s&&(t=o[r],u[k(t)]&&n.rem.push(t),o[r]=e),++a}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=k(e);u[t]&&(u[t]=-1,n.rem.push(e)),--a})),o=o.filter((function(e){return-1!==u[k(e)]}))),(t.rem.length||r)&&o.length<i&&t.source&&(s=a=o.length,t.visit(t.SOURCE,(function(e){u[k(e)]||l(e)})),s=-1),r&&o.length>i){for(var c=0,d=o.length-i;c<d;++c)u[k(o[c])]=-1,n.rem.push(o[c]);o=o.slice(d)}return t.mod.length&&t.visit(t.MOD,(function(e){u[k(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,l),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!u[k(e)]}))),this.count=a,this.value=n.source=o,n},To.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(p.y)(To,tr).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=wo(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,O(t)})),n.add=t.add.concat(this.value),n}},Object(p.y)(Po,tr).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Io="year",Do="quarter",Ao="month",Mo="week",jo="day",Ro="hours",Fo="minutes",No="seconds",Lo=[Io,Do,Ao,Mo,"date",jo,"dayofyear",Ro,Fo,No,"milliseconds"],Bo=Lo.reduce((function(e,t,n){return e[t]=1+n,e}),{});function zo(e){var t=Object(p.i)(e).slice(),n={};return t.length||Object(p.n)("Missing time unit."),t.forEach((function(e){Object(p.v)(Bo,e)?n[e]=1:Object(p.n)("Invalid time unit: ".concat(e,"."))})),(n[Mo]||n.day?1:0)+(n[Do]||n[Ao]||n.date?1:0)+(n.dayofyear?1:0)>1&&Object(p.n)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return Bo[e]-Bo[t]})),t}var Uo=new Date;function Ho(e){return Uo.setFullYear(e),Uo.setMonth(0),Uo.setDate(1),Uo.setHours(0,0,0,0),Uo}function Vo(e){return Go(new Date(e))}function Wo(e){return Ko(new Date(e))}function Go(e){return rt.count(Ho(e.getFullYear())-1,e)}function Ko(e){return Xe.count(Ho(e.getFullYear())-1,e)}function qo(e){return Ho(e).getDay()}function Yo(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function Xo(e){return Qo(new Date(e))}function Zo(e){return $o(new Date(e))}function Qo(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return qe.count(t-1,e)}function $o(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Be.count(t-1,e)}function Jo(e){return Uo.setTime(Date.UTC(e,0,1)),Uo.getUTCDay()}function ea(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(Date.UTC(-1,t,n,r,i,o,a));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,o,a))}var ta,na,ra,ia,oa=n(10);function aa(e,t,n,r,i){var o=t||1,a=Object(p.U)(e),s=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===a&&o,t)},u=new Date,l=Object(p.db)(e),c=l[Io]?s(Io):Object(p.l)(2012),d=l[Ao]?s(Ao):l[Do]?s(Do):p.kb,f=l[Mo]&&l.day?s(jo,1,Mo+jo):l[Mo]?s(Mo,1):l.day?s(jo,1):l.date?s("date",1):l.dayofyear?s("dayofyear",1):p.O,h=l[Ro]?s(Ro):p.kb,g=l[Fo]?s(Fo):p.kb,m=l[No]?s(No):p.kb,v=l.milliseconds?s("milliseconds"):p.kb;return function(e){u.setTime(+e);var t=c(u);return i(t,d(u),f(u,t),h(u),g(u),m(u),v(u))}}function sa(e,t,n){return t+7*e-(n+6)%7}var ua=(ta={},Object(oa.a)(ta,Io,(function(e){return e.getFullYear()})),Object(oa.a)(ta,Do,(function(e){return Math.floor(e.getMonth()/3)})),Object(oa.a)(ta,Ao,(function(e){return e.getMonth()})),Object(oa.a)(ta,"date",(function(e){return e.getDate()})),Object(oa.a)(ta,Ro,(function(e){return e.getHours()})),Object(oa.a)(ta,Fo,(function(e){return e.getMinutes()})),Object(oa.a)(ta,No,(function(e){return e.getSeconds()})),Object(oa.a)(ta,"milliseconds",(function(e){return e.getMilliseconds()})),Object(oa.a)(ta,"dayofyear",(function(e){return Go(e)})),Object(oa.a)(ta,Mo,(function(e){return Ko(e)})),Object(oa.a)(ta,Mo+jo,(function(e,t){return sa(Ko(e),e.getDay(),qo(t))})),Object(oa.a)(ta,jo,(function(e,t){return sa(1,e.getDay(),qo(t))})),ta),la=(na={},Object(oa.a)(na,Do,(function(e){return 3*e})),Object(oa.a)(na,Mo,(function(e,t){return sa(e,0,qo(t))})),na);function ca(e,t){return aa(e,t||1,ua,la,Yo)}var da=(ra={},Object(oa.a)(ra,Io,(function(e){return e.getUTCFullYear()})),Object(oa.a)(ra,Do,(function(e){return Math.floor(e.getUTCMonth()/3)})),Object(oa.a)(ra,Ao,(function(e){return e.getUTCMonth()})),Object(oa.a)(ra,"date",(function(e){return e.getUTCDate()})),Object(oa.a)(ra,Ro,(function(e){return e.getUTCHours()})),Object(oa.a)(ra,Fo,(function(e){return e.getUTCMinutes()})),Object(oa.a)(ra,No,(function(e){return e.getUTCSeconds()})),Object(oa.a)(ra,"milliseconds",(function(e){return e.getUTCMilliseconds()})),Object(oa.a)(ra,"dayofyear",(function(e){return Qo(e)})),Object(oa.a)(ra,Mo,(function(e){return $o(e)})),Object(oa.a)(ra,jo,(function(e,t){return sa(1,e.getUTCDay(),Jo(t))})),Object(oa.a)(ra,Mo+jo,(function(e,t){return sa($o(e),e.getUTCDay(),Jo(t))})),ra),fa=(ia={},Object(oa.a)(ia,Do,(function(e){return 3*e})),Object(oa.a)(ia,Mo,(function(e,t){return sa(e,0,Jo(t))})),ia);function ha(e,t){return aa(e,t||1,da,fa,ea)}var pa=Ne((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),ga=pa,ma=(pa.range,Ne((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),va=ma,ba=(ma.range,Ne((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),ya=ba,_a=(ba.range,Ne((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),xa=_a,Sa=(_a.range,Ne((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Sa.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ne((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Sa:null};var wa,Ca,ka,Ea=Sa,Oa=(Sa.range,Ne((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),Ta=Oa,Pa=(Oa.range,Ne((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Ia=Pa,Da=(Pa.range,Ne((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),Aa=Da,Ma=(Da.range,wa={},Object(oa.a)(wa,Io,ot),Object(oa.a)(wa,Do,ga.every(3)),Object(oa.a)(wa,Ao,ga),Object(oa.a)(wa,Mo,Xe),Object(oa.a)(wa,"date",rt),Object(oa.a)(wa,jo,rt),Object(oa.a)(wa,"dayofyear",rt),Object(oa.a)(wa,Ro,va),Object(oa.a)(wa,Fo,ya),Object(oa.a)(wa,No,xa),Object(oa.a)(wa,"milliseconds",Ea),wa),ja=(Ca={},Object(oa.a)(Ca,Io,st),Object(oa.a)(Ca,Do,Ta.every(3)),Object(oa.a)(Ca,Ao,Ta),Object(oa.a)(Ca,Mo,Be),Object(oa.a)(Ca,"date",qe),Object(oa.a)(Ca,jo,qe),Object(oa.a)(Ca,"dayofyear",qe),Object(oa.a)(Ca,Ro,Ia),Object(oa.a)(Ca,Fo,Aa),Object(oa.a)(Ca,No,xa),Object(oa.a)(Ca,"milliseconds",Ea),Ca);function Ra(e){return Ma[e]}function Fa(e){return ja[e]}function Na(e,t,n){return e?e.offset(t,n):void 0}function La(e,t,n){return Na(Ra(e),t,n)}function Ba(e,t,n){return Na(Fa(e),t,n)}function za(e,t,n,r){return e?e.range(t,n,r):void 0}function Ua(e,t,n,r){return za(Ra(e),t,n,r)}function Ha(e,t,n,r){return za(Fa(e),t,n,r)}var Va=(ka={},Object(oa.a)(ka,Io,"%Y "),Object(oa.a)(ka,Do,"Q%q "),Object(oa.a)(ka,Ao,"%b "),Object(oa.a)(ka,"date","%d "),Object(oa.a)(ka,Mo,"W%U "),Object(oa.a)(ka,jo,"%a "),Object(oa.a)(ka,"dayofyear","%j "),Object(oa.a)(ka,Ro,"%H:00"),Object(oa.a)(ka,Fo,"00:%M"),Object(oa.a)(ka,No,":%S"),Object(oa.a)(ka,"milliseconds",".%L"),Object(oa.a)(ka,"".concat(Io,"-").concat(Ao),"%Y-%m "),Object(oa.a)(ka,"".concat(Io,"-").concat(Ao,"-").concat("date"),"%Y-%m-%d "),Object(oa.a)(ka,"".concat(Ro,"-").concat(Fo),"%H:%M"),ka);function Wa(e,t){var n,r,i=Object(p.o)({},Va,t),o=zo(e),a=o.length,s="",u=0;for(u=0;u<a;)for(n=o.length;n>u;--n)if(null!=i[r=o.slice(u,n).join("-")]){s+=i[r],u=n;break}return s.trim()}function Ga(e){return qa(ft,Ra,e)}function Ka(e){return qa(pt,Fa,e)}function qa(e,t,n){return Object(p.H)(n)?e(n):function(e,t,n){n=n||{},Object(p.F)(n)||Object(p.n)("Invalid time multi-format specifier: ".concat(n));var r=t(No),i=t(Fo),o=t(Ro),a=t("date"),s=t(Mo),u=t(Ao),l=t(Do),c=t(Io),d=e(n.milliseconds||".%L"),f=e(n[No]||":%S"),h=e(n[Fo]||"%I:%M"),g=e(n[Ro]||"%I %p"),m=e(n.date||n.day||"%a %d"),v=e(n[Mo]||"%b %d"),b=e(n[Ao]||"%B"),y=e(n[Do]||"%B"),_=e(n[Io]||"%Y");return function(e){return(r(e)<e?d:i(e)<e?f:o(e)<e?h:a(e)<e?g:u(e)<e?s(e)<e?m:v:c(e)<e?l(e)<e?b:y:_)(e)}}(e,t,n)}var Ya=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return vr(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var Xa=Math.sqrt(50),Za=Math.sqrt(10),Qa=Math.sqrt(2),$a=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Ja(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function Ja(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Xa?10:o>=Za?5:o>=Qa?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Xa?10:o>=Za?5:o>=Qa?2:1)}function es(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Xa?i*=10:o>=Za?i*=5:o>=Qa&&(i*=2),t<e?-i:i}var ts=[Io,Ao,"date",Ro,Fo,No,"milliseconds"],ns=ts.slice(0,-1),rs=ns.slice(0,-1),is=rs.slice(0,-1),os=is.slice(0,-1),as=[Io,Ao],ss=[Io],us=[[ns,1,1e3],[ns,5,5e3],[ns,15,15e3],[ns,30,3e4],[rs,1,6e4],[rs,5,3e5],[rs,15,9e5],[rs,30,18e5],[is,1,36e5],[is,3,108e5],[is,6,216e5],[is,12,432e5],[os,1,864e5],[[Io,Mo],1,6048e5],[as,1,2592e6],[as,3,7776e6],[ss,1,31536e6]],ls=function(e){var t,n,r=e.extent,i=e.maxbins||40,o=Math.abs(Object(p.X)(r))/i,a=Ya((function(e){return e[2]})).right(us,o);return a===us.length?(t=ss,n=es(r[0]/31536e6,r[1]/31536e6,i)):a?(t=(a=us[o/us[a-1][2]<us[a][2]/o?a-1:a])[0],n=a[1]):(t=ts,n=Math.max(es(r[0],r[1],i),1)),{units:t,step:n}};function cs(e){tr.call(this,null,e)}var ds=["unit0","unit1"];cs.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Lo,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:ds}]};var fs=Object(p.y)(cs,tr);function hs(e){tr.call(this,Object(p.s)(),e)}function ps(e){tr.call(this,null,e)}fs.transform=function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,o=this._floor(e,t),a=(i?Fa:Ra)(o.unit).offset,s=e.as||ds,u=s[0],l=s[1],c=o.start||1/0,d=o.stop||-1/0,f=o.step,h=t.ADD;return(e.modified()||t.modified(Object(p.g)(n)))&&(h=(t=t.reflow(!0)).SOURCE,c=1/0,d=-1/0),t.visit(h,(function(e){var t,i,s=n(e);null==s?(e[u]=null,r&&(e[l]=null)):(e[u]=t=i=o(s),r&&(e[l]=i=a(t,f)),t<c&&(c=t),i>d&&(d=i))})),o.start=c,o.stop=d,t.modifies(r?s:u)},fs._floor=function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:ls({extent:e.extent||Object(p.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,o=r.step;i=zo(i);var a=this.value||{},s=(n?ha:ca)(i,o);return s.unit=Object(p.U)(i),s.units=i,s.step=o,s.start=a.start,s.stop=a.stop,this.value=s},Object(p.y)(hs,tr).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,o=!0;function a(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},Object(p.y)(ps,tr).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(D(e.sort)):t.source).map(e.field))};var gs={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=gs.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(p.n)("ntile num must be greater than zero.");var n=gs.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(p.n)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var ms=Object.keys(gs);function vs(e){var t=Object(p.i)(e.ops),n=Object(p.i)(e.fields),r=Object(p.i)(e.params),i=Object(p.i)(e.as),o=this.outputs=[],a=this.windows=[],s={},u={},l=!0,c=[],d=[];function f(e){Object(p.i)(Object(p.g)(e)).forEach((function(e){return s[e]=1}))}f(e.sort),t.forEach((function(e,t){var s=n[t],h=Object(p.h)(s),g=sr(e,h,i[t]);if(f(s),o.push(g),Object(p.v)(gs,e))a.push(function(e,t,n,r){var i=gs[e](t,n);return{init:i.init||p.kb,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],g));else{if(null==s&&"count"!==e&&Object(p.n)("Null aggregate field specified."),"count"===e)return void c.push(g);l=!1;var m=u[h];m||((m=u[h]=[]).field=s,d.push(m)),m.push(cr(e,g))}})),(c.length||d.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return hr(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new xi;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){var i,a;for(s&&s.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)o[e].init()},r}(d,c,l)),this.inputs=Object.keys(s)}var bs=vs.prototype;function ys(e){tr.call(this,{},e),this._mlen=0,this._mods=[]}bs.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},bs.update=function(e,t){var n,r=this.cell,i=this.windows,o=e.data,a=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(o[n]);for(n=e.p1;n<e.i1;++n)r.add(o[n]);r.set(t)}for(n=0;n<a;++n)i[n].update(e,t)},ys.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ms.concat(lr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var _s=Object(p.y)(ys,tr);function xs(e,t,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),u=s.length,l=0,c=o?Ya(i):null,d={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Object(p.l)(-1)};for(t.init();l<u;++l)Ss(d,a,l,u),o&&ws(d,c),t.update(d,s[l])}function Ss(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function ws(e,t){var n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}_s.transform=function(e,t){var n,r,i=this,o=i.state,a=e.modified(),s=D(e.sort);this.stamp=t.stamp,o&&!a||(o=i.state=new vs(e));var u=ar(e.groupby);function l(e){return i.group(u(e))}for(a||t.modified(o.inputs)?(i.value={},t.visit(t.SOURCE,(function(e){l(e).add(e)}))):(t.visit(t.REM,(function(e){l(e).remove(e)})),t.visit(t.ADD,(function(e){l(e).add(e)}))),n=0,r=i._mlen;n<r;++n)xs(i._mods[n],o,s,e);return i._mlen=0,i._mods=[],t.reflow(a).modifies(o.outputs)},_s.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Oi(k)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var Cs="top",ks="left",Es="right",Os="end",Ts="row";function Ps(e){this.clear(),e&&this.union(e)}var Is=Ps.prototype;Is.clone=function(){return new Ps(this)},Is.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Is.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Is.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},Is.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},Is.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},Is.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},Is.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Is.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},Is.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},Is.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Is.rotatedPoints=function(e,t,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,c=n-t*u-n*s;return[s*r-u*i+l,u*r+s*i+c,s*r-u*a+l,u*r+s*a+c,s*o-u*i+l,u*o+s*i+c,s*o-u*a+l,u*o+s*a+c]},Is.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},Is.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},Is.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},Is.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},Is.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},Is.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},Is.width=function(){return this.x2-this.x1},Is.height=function(){return this.y2-this.y1};var Ds=0;function As(e){return e&&e.gradient}function Ms(e,t,n){var r=e.id,i=e.gradient,o="radial"===i?"p_":"";return r||(r=e.id="gradient_"+Ds++,"radial"===i?(e.x1=js(e.x1,.5),e.y1=js(e.y1,.5),e.r1=js(e.r1,0),e.x2=js(e.x2,.5),e.y2=js(e.y2,.5),e.r2=js(e.r2,.5),o="p_"):(e.x1=js(e.x1,0),e.y1=js(e.y1,0),e.x2=js(e.x2,1),e.y2=js(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+o+r+")"}function js(e,t){return null!=e?e:t}var Rs=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};function Fs(e){this.mark=e,this.bounds=this.bounds||new Ps}function Ns(e){Fs.call(this,e),this.items=this.items||[]}function Ls(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function Bs(){return"undefined"!==typeof Image?Image:null}function zs(e){this._pending=0,this._loader=e||In()}Object(p.y)(Ns,Fs);var Us=zs.prototype;function Hs(e){e._pending+=1}function Vs(e){e._pending-=1}function Ws(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gs(e){this._context=e}Us.pending=function(){return this._pending},Us.sanitizeURL=function(e){var t=this;return Hs(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return Vs(t),e})).catch((function(){return Vs(t),null}))},Us.loadImage=function(e){var t=this,n=Bs();return Hs(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,o=Object(p.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=function(){return Vs(t)},i.onerror=function(){return Vs(t)},i.src=r,i})).catch((function(e){return Vs(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},Us.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))},Gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ws(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ws(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ks=function(){};function qs(e){this._context=e}qs.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ws(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ys(e){this._context=e}Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ws(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xs(e,t){this._basis=new Gs(e),this._beta=t}Xs.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Zs=function e(t){function n(e){return 1===t?new Gs(e):new Xs(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Qs(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function $s(e,t){this._context=e,this._k=(1-t)/6}$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qs(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Qs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Js=function e(t){function n(e){return new $s(e,t)}return n.tension=function(t){return e(+t)},n}(0);function eu(e,t){this._context=e,this._k=(1-t)/6}eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tu=function e(t){function n(e){return new eu(e,t)}return n.tension=function(t){return e(+t)},n}(0);function nu(e,t){this._context=e,this._k=(1-t)/6}nu.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Qs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ru=function e(t){function n(e){return new nu(e,t)}return n.tension=function(t){return e(+t)},n}(0),iu=Math.abs,ou=Math.atan2,au=Math.cos,su=Math.max,uu=Math.min,lu=Math.sin,cu=Math.sqrt,du=Math.PI,fu=du/2,hu=2*du;function pu(e){return e>1?0:e<-1?du:Math.acos(e)}function gu(e){return e>=1?fu:e<=-1?-fu:Math.asin(e)}function mu(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function vu(e,t){this._context=e,this._alpha=t}vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:mu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var bu=function e(t){function n(e){return t?new vu(e,t):new $s(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function yu(e,t){this._context=e,this._alpha=t}yu.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:mu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _u=function e(t){function n(e){return t?new yu(e,t):new nu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function xu(e,t){this._context=e,this._alpha=t}xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mu(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Su=function e(t){function n(e){return t?new xu(e,t):new eu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function wu(e){this._context=e}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Cu=function(e){return new wu(e)};function ku(e){this._context=e}ku.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Eu(e){return e<0?-1:1}function Ou(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Eu(o)+Eu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Tu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Pu(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Iu(e){this._context=e}function Du(e){this._context=new Au(e)}function Au(e){this._context=e}function Mu(e){this._context=e}function ju(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}Iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pu(this,this._t0,Tu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pu(this,Tu(this,n=Ou(this,e,t)),n);break;default:Pu(this,this._t0,n=Ou(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Du.prototype=Object.create(Iu.prototype)).point=function(e,t){Iu.prototype.point.call(this,t,e)},Au.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ju(e),i=ju(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ru(e,t){this._context=e,this._t=t}Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Fu={basis:{curve:function(e){return new Gs(e)}},"basis-closed":{curve:function(e){return new qs(e)}},"basis-open":{curve:function(e){return new Ys(e)}},bundle:{curve:Zs,tension:"beta",value:.85},cardinal:{curve:Js,tension:"tension",value:0},"cardinal-open":{curve:tu,tension:"tension",value:0},"cardinal-closed":{curve:ru,tension:"tension",value:0},"catmull-rom":{curve:bu,tension:"alpha",value:.5},"catmull-rom-closed":{curve:_u,tension:"alpha",value:.5},"catmull-rom-open":{curve:Su,tension:"alpha",value:.5},linear:{curve:Cu},"linear-closed":{curve:function(e){return new ku(e)}},monotone:{horizontal:function(e){return new Du(e)},vertical:function(e){return new Iu(e)}},natural:{curve:function(e){return new Mu(e)}},step:{curve:function(e){return new Ru(e,.5)}},"step-after":{curve:function(e){return new Ru(e,1)}},"step-before":{curve:function(e){return new Ru(e,0)}}};function Nu(e,t,n){var r=Object(p.v)(Fu,e)&&Fu[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Lu={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Bu=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],zu=function(e){var t,n,r,i,o,a,s,u,l,c,d,f=[];for(u=0,c=(t=e.slice().replace(Bu[0],"###$1").split(Bu[1]).slice(1)).length;u<c;++u){for(r=(n=t[u]).slice(1).trim().replace(Bu[2],"$1###$2").split(Bu[3]),i=[a=n.charAt(0)],l=0,d=r.length;l<d;++l)(o=+r[l])===o&&i.push(o);if(s=Lu[a.toLowerCase()],i.length-1>s)for(l=1,d=i.length;l<d;l+=s)f.push([a].concat(i.slice(l,l+s)));else f.push(i)}return f},Uu=Math.PI/180,Hu=Math.PI/2,Vu=2*Math.PI,Wu=Math.sqrt(3)/2,Gu={},Ku={},qu=[].join;function Yu(e){var t=qu.call(e);if(Ku[t])return Ku[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=l*a,d=-u*s,f=u*a,h=l*s,p=Math.cos(i),g=Math.sin(i),m=Math.cos(o),v=Math.sin(o),b=.5*(o-i),y=Math.sin(.5*b),_=8/3*y*y/Math.sin(b),x=n+p-_*g,S=r+g+_*p,w=n+m,C=r+v,k=w+_*v,E=C-_*m;return Ku[t]=[c*x+d*S,f*x+h*S,c*k+d*E,f*k+h*E,c*w+d*C,f*w+h*C]}var Xu=["l",0,0,0,0,0,0,0];function Zu(e,t,n){var r=Xu[0]=e[0];if("a"===r||"A"===r)Xu[1]=t*e[1],Xu[2]=n*e[2],Xu[3]=e[3],Xu[4]=e[4],Xu[5]=e[5],Xu[6]=t*e[6],Xu[7]=n*e[7];else if("h"===r||"H"===r)Xu[1]=t*e[1];else if("v"===r||"V"===r)Xu[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Xu[i]=(i%2==1?t:n)*e[i];return Xu}var Qu=function(e,t,n,r,i,o){var a,s,u,l,c,d=null,f=0,h=0,p=0,g=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var m=0,v=t.length;m<v;++m){switch(a=t[m],1===i&&1===o||(a=Zu(a,i,o)),a[0]){case"l":f+=a[1],h+=a[2],e.lineTo(f+n,h+r);break;case"L":f=a[1],h=a[2],e.lineTo(f+n,h+r);break;case"h":f+=a[1],e.lineTo(f+n,h+r);break;case"H":f=a[1],e.lineTo(f+n,h+r);break;case"v":h+=a[1],e.lineTo(f+n,h+r);break;case"V":h=a[1],e.lineTo(f+n,h+r);break;case"m":f+=a[1],h+=a[2],e.moveTo(f+n,h+r);break;case"M":f=a[1],h=a[2],e.moveTo(f+n,h+r);break;case"c":s=f+a[5],u=h+a[6],p=f+a[3],g=h+a[4],e.bezierCurveTo(f+a[1]+n,h+a[2]+r,p+n,g+r,s+n,u+r),f=s,h=u;break;case"C":f=a[5],h=a[6],p=a[3],g=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,g+r,f+n,h+r);break;case"s":s=f+a[3],u=h+a[4],p=2*f-p,g=2*h-g,e.bezierCurveTo(p+n,g+r,f+a[1]+n,h+a[2]+r,s+n,u+r),p=f+a[1],g=h+a[2],f=s,h=u;break;case"S":s=a[3],u=a[4],p=2*f-p,g=2*h-g,e.bezierCurveTo(p+n,g+r,a[1]+n,a[2]+r,s+n,u+r),f=s,h=u,p=a[1],g=a[2];break;case"q":s=f+a[3],u=h+a[4],p=f+a[1],g=h+a[2],e.quadraticCurveTo(p+n,g+r,s+n,u+r),f=s,h=u;break;case"Q":s=a[3],u=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,s+n,u+r),f=s,h=u,p=a[1],g=a[2];break;case"t":s=f+a[1],u=h+a[2],null===d[0].match(/[QqTt]/)?(p=f,g=h):"t"===d[0]?(p=2*f-l,g=2*h-c):"q"===d[0]&&(p=2*f-p,g=2*h-g),l=p,c=g,e.quadraticCurveTo(p+n,g+r,s+n,u+r),h=u,p=(f=s)+a[1],g=h+a[2];break;case"T":s=a[1],u=a[2],p=2*f-p,g=2*h-g,e.quadraticCurveTo(p+n,g+r,s+n,u+r),f=s,h=u;break;case"a":$u(e,f+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+h+r]),f+=a[6],h+=a[7];break;case"A":$u(e,f+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),f=a[6],h=a[7];break;case"z":case"Z":e.closePath()}d=a}};function $u(e,t,n,r){for(var i=function(e,t,n,r,i,o,a,s,u){var l=qu.call(arguments);if(Gu[l])return Gu[l];var c=a*Uu,d=Math.sin(c),f=Math.cos(c),h=f*(s-e)*.5+d*(u-t)*.5,p=f*(u-t)*.5-d*(s-e)*.5,g=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);g>1&&(n*=g=Math.sqrt(g),r*=g);var m=f/n,v=d/n,b=-d/r,y=f/r,_=m*s+v*u,x=b*s+y*u,S=m*e+v*t,w=b*e+y*t,C=(S-_)*(S-_)+(w-x)*(w-x),k=1/C-.25;k<0&&(k=0);var E=Math.sqrt(k);o==i&&(E=-E);var O=.5*(_+S)-E*(w-x),T=.5*(x+w)+E*(S-_),P=Math.atan2(x-T,_-O),I=Math.atan2(w-T,S-O),D=I-P;D<0&&1===o?D+=Vu:D>0&&0===o&&(D-=Vu);for(var A=Math.ceil(Math.abs(D/(Hu+.001))),M=[],j=0;j<A;++j){var R=P+j*D/A,F=P+(j+1)*D/A;M[j]=[O,T,R,F,n,r,d,f]}return Gu[l]=M}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),o=0;o<i.length;++o){var a=Yu(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Ju=.5773502691896257,el={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Vu)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n,i=r-n*Ju,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n,i=r-n*Ju;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wu*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function tl(e){return Object(p.v)(el,e)?el[e]:function(e){if(!Object(p.v)(nl,e)){var t=zu(e);nl[e]={draw:function(e,n){Qu(e,t,0,0,Math.sqrt(n)/2)}}}return nl[e]}(e)}var nl={};var rl=Math.PI,il=2*rl,ol=il-1e-6;function al(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sl(){return new al}al.prototype=sl.prototype={constructor:al,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,l=o-e,c=a-t,d=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,h=r-a,p=s*s+u*u,g=f*f+h*h,m=Math.sqrt(p),v=Math.sqrt(d),b=i*Math.tan((rl-Math.acos((p+d-g)/(2*m*v)))/2),y=b/v,_=b/m;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*l)+","+(t+y*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*h)+","+(this._x1=e+_*s)+","+(this._y1=t+_*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(d<0&&(d=d%il+il),d>ol?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=rl)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ul=sl,ll=.448084975506;function cl(e){return e.x}function dl(e){return e.y}function fl(e){return e.width}function hl(e){return e.height}function pl(e){return"function"===typeof e?e:function(){return+e}}function gl(e,t,n){return Math.max(t,Math.min(e,n))}var ml=function(){var e=cl,t=dl,n=fl,r=hl,i=pl(0),o=i,a=i,s=i,u=null;function l(l,c,d){var f,h=null!=c?c:+e.call(this,l),p=null!=d?d:+t.call(this,l),g=+n.call(this,l),m=+r.call(this,l),v=Math.min(g,m)/2,b=gl(+i.call(this,l),0,v),y=gl(+o.call(this,l),0,v),_=gl(+a.call(this,l),0,v),x=gl(+s.call(this,l),0,v);if(u||(u=f=ul()),b<=0&&y<=0&&_<=0&&x<=0)u.rect(h,p,g,m);else{var S=h+g,w=p+m;u.moveTo(h+b,p),u.lineTo(S-y,p),u.bezierCurveTo(S-ll*y,p,S,p+ll*y,S,p+y),u.lineTo(S,w-x),u.bezierCurveTo(S,w-ll*x,S-ll*x,w,S-x,w),u.lineTo(h+_,w),u.bezierCurveTo(h+ll*_,w,h,w-ll*_,h,w-_),u.lineTo(h,p+b),u.bezierCurveTo(h,p+ll*b,h+ll*b,p,h+b,p),u.closePath()}if(f)return u=null,f+""||null}return l.x=function(t){return arguments.length?(e=pl(t),l):e},l.y=function(e){return arguments.length?(t=pl(e),l):t},l.width=function(e){return arguments.length?(n=pl(e),l):n},l.height=function(e){return arguments.length?(r=pl(e),l):r},l.cornerRadius=function(e,t,n,r){return arguments.length?(i=pl(e),o=null!=t?pl(t):i,s=null!=n?pl(n):i,a=null!=r?pl(r):o,l):i},l.context=function(e){return arguments.length?(u=null==e?null:e,l):u},l},vl=function(){var e,t,n,r,i,o,a,s,u=null;function l(e,t,n){var r=n/2;if(i){var l=a-t,c=e-o;if(l||c){var d=Math.sqrt(l*l+c*c),f=(l/=d)*s,h=(c/=d)*s,p=Math.atan2(c,l);u.moveTo(o-f,a-h),u.lineTo(e-l*r,t-c*r),u.arc(e,t,r,p-Math.PI,p),u.lineTo(o+f,a+h),u.arc(o,a,s,p,p+Math.PI)}else u.arc(e,t,r,0,Vu);u.closePath()}else i=1;o=e,a=t,s=r}function c(o){var a,s,c,d=o.length,f=!1;for(null==u&&(u=c=ul()),a=0;a<=d;++a)!(a<d&&r(s=o[a],a,o))===f&&(f=!f)&&(i=0),f&&l(+e(s,a,o),+t(s,a,o),+n(s,a,o));if(c)return u=null,c+""||null}return c.x=function(t){return arguments.length?(e=t,c):e},c.y=function(e){return arguments.length?(t=e,c):t},c.size=function(e){return arguments.length?(n=e,c):n},c.defined=function(e){return arguments.length?(r=e,c):r},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c},bl=function(e){return function(){return e}};function yl(e){return e.innerRadius}function _l(e){return e.outerRadius}function xl(e){return e.startAngle}function Sl(e){return e.endAngle}function wl(e){return e&&e.padAngle}function Cl(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,d=s-o,f=d*u-c*l;if(!(f*f<1e-12))return[e+(f=(c*(t-o)-d*(e-i))/f)*u,t+f*l]}function kl(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/cu(s*s+u*u),c=l*u,d=-l*s,f=e+c,h=t+d,p=n+c,g=r+d,m=(f+p)/2,v=(h+g)/2,b=p-f,y=g-h,_=b*b+y*y,x=i-o,S=f*g-p*h,w=(y<0?-1:1)*cu(su(0,x*x*_-S*S)),C=(S*y-b*w)/_,k=(-S*b-y*w)/_,E=(S*y+b*w)/_,O=(-S*b+y*w)/_,T=C-m,P=k-v,I=E-m,D=O-v;return T*T+P*P>I*I+D*D&&(C=E,k=O),{cx:C,cy:k,x01:-c,y01:-d,x11:C*(i/x-1),y11:k*(i/x-1)}}function El(e){return e[0]}function Ol(e){return e[1]}var Tl=function(){var e=El,t=Ol,n=bl(!0),r=null,i=Cu,o=null;function a(a){var s,u,l,c=a.length,d=!1;for(null==r&&(o=i(l=ul())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:bl(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:bl(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:bl(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},Pl=function(){var e=El,t=null,n=bl(0),r=Ol,i=bl(!0),o=null,a=Cu,s=null;function u(u){var l,c,d,f,h,p=u.length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(h=ul())),l=0;l<=p;++l){if(!(l<p&&i(f=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=l-1;d>=c;--d)s.point(m[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+e(f,l,u),v[l]=+n(f,l,u),s.point(t?+t(f,l,u):m[l],r?+r(f,l,u):v[l]))}if(h)return s=null,h+""||null}function l(){return Tl().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:bl(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:bl(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:bl(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:bl(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:bl(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bl(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:bl(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u},Il={draw:function(e,t){var n=Math.sqrt(t/du);e.moveTo(n,0),e.arc(0,0,n,0,hu)}},Dl=(Math.sqrt(1/3),Math.sin(du/10)/Math.sin(7*du/10));Math.sin(hu/10),Math.cos(hu/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Al(e,t){return null!=e?e:t}var Ml=function(e){return e.x||0},jl=function(e){return e.y||0},Rl=function(e){return!(!1===e.defined)},Fl=function(){var e=yl,t=_l,n=bl(0),r=null,i=xl,o=Sl,a=wl,s=null;function u(){var u,l,c=+e.apply(this,arguments),d=+t.apply(this,arguments),f=i.apply(this,arguments)-fu,h=o.apply(this,arguments)-fu,p=iu(h-f),g=h>f;if(s||(s=u=ul()),d<c&&(l=d,d=c,c=l),d>1e-12)if(p>hu-1e-12)s.moveTo(d*au(f),d*lu(f)),s.arc(0,0,d,f,h,!g),c>1e-12&&(s.moveTo(c*au(h),c*lu(h)),s.arc(0,0,c,h,f,g));else{var m,v,b=f,y=h,_=f,x=h,S=p,w=p,C=a.apply(this,arguments)/2,k=C>1e-12&&(r?+r.apply(this,arguments):cu(c*c+d*d)),E=uu(iu(d-c)/2,+n.apply(this,arguments)),O=E,T=E;if(k>1e-12){var P=gu(k/c*lu(C)),I=gu(k/d*lu(C));(S-=2*P)>1e-12?(_+=P*=g?1:-1,x-=P):(S=0,_=x=(f+h)/2),(w-=2*I)>1e-12?(b+=I*=g?1:-1,y-=I):(w=0,b=y=(f+h)/2)}var D=d*au(b),A=d*lu(b),M=c*au(x),j=c*lu(x);if(E>1e-12){var R,F=d*au(y),N=d*lu(y),L=c*au(_),B=c*lu(_);if(p<du&&(R=Cl(D,A,L,B,F,N,M,j))){var z=D-R[0],U=A-R[1],H=F-R[0],V=N-R[1],W=1/lu(pu((z*H+U*V)/(cu(z*z+U*U)*cu(H*H+V*V)))/2),G=cu(R[0]*R[0]+R[1]*R[1]);O=uu(E,(c-G)/(W-1)),T=uu(E,(d-G)/(W+1))}}w>1e-12?T>1e-12?(m=kl(L,B,D,A,d,T,g),v=kl(F,N,M,j,d,T,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),T<E?s.arc(m.cx,m.cy,T,ou(m.y01,m.x01),ou(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,T,ou(m.y01,m.x01),ou(m.y11,m.x11),!g),s.arc(0,0,d,ou(m.cy+m.y11,m.cx+m.x11),ou(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,T,ou(v.y11,v.x11),ou(v.y01,v.x01),!g))):(s.moveTo(D,A),s.arc(0,0,d,b,y,!g)):s.moveTo(D,A),c>1e-12&&S>1e-12?O>1e-12?(m=kl(M,j,F,N,c,-O,g),v=kl(D,A,L,B,c,-O,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),O<E?s.arc(m.cx,m.cy,O,ou(m.y01,m.x01),ou(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,O,ou(m.y01,m.x01),ou(m.y11,m.x11),!g),s.arc(0,0,c,ou(m.cy+m.y11,m.cx+m.x11),ou(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,O,ou(v.y11,v.x11),ou(v.y01,v.x01),!g))):s.arc(0,0,c,x,_,g):s.lineTo(M,j)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-du/2;return[au(r)*n,lu(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:bl(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:bl(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:bl(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bl(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:bl(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:bl(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:bl(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),Nl=Pl().x(Ml).y1(jl).y0((function(e){return(e.y||0)+(e.height||0)})).defined(Rl),Ll=Pl().y(jl).x1(Ml).x0((function(e){return(e.x||0)+(e.width||0)})).defined(Rl),Bl=Tl().x(Ml).y(jl).defined(Rl),zl=ml().x(Ml).y(jl).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return Al(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return Al(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return Al(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return Al(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),Ul=function(){var e=bl(Il),t=bl(64),n=null;function r(){var r;if(n||(n=r=ul()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:bl(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:bl(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return tl(e.shape||"circle")})).size((function(e){return Al(e.size,64)})),Hl=vl().x(Ml).y(jl).defined(Rl).size((function(e){return e.size||1}));function Vl(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Wl(e,t,n,r){return zl.context(e)(t,n,r)}var Gl=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e};var Kl,ql,Yl,Xl=Vu-1e-8;function Zl(e){return Kl=e,Zl}function Ql(){}function $l(e,t){Kl.add(e,t)}function Jl(e,t){$l(ql=e,Yl=t)}function ec(e){$l(e,Kl.y1)}function tc(e){$l(Kl.x1,e)}function nc(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function rc(e,t,n,r,i){var o,a=r-e+3*t-3*n,s=e+n-2*t,u=e-t,l=0,c=0;Math.abs(a)>1e-14?(o=s*s+u*a)>=0&&(l=(-s+(o=Math.sqrt(o)))/a,c=(-s-o)/a):l=.5*u/s,0<l&&l<1&&i(ic(l,e,t,n,r)),0<c&&c<1&&i(ic(c,e,t,n,r))}function ic(e,t,n,r,i){var o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}Zl.beginPath=Ql,Zl.closePath=Ql,Zl.moveTo=Jl,Zl.lineTo=Jl,Zl.rect=function(e,t,n,r){$l(e+n,t+r),Jl(e,t)},Zl.quadraticCurveTo=function(e,t,n,r){nc(ql,e,n,ec),nc(Yl,t,r,tc),Jl(n,r)},Zl.bezierCurveTo=function(e,t,n,r,i,o){rc(ql,e,n,i,ec),rc(Yl,t,r,o,tc),Jl(i,o)},Zl.arc=function(e,t,n,r,i,o){if(ql=n*Math.cos(i)+e,Yl=n*Math.sin(i)+t,Math.abs(i-r)>Xl)$l(e-n,t-n),$l(e+n,t+n);else{var a,s,u=function(r){return $l(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(u(r),u(i),i!==r)if((r%=Vu)<0&&(r+=Vu),(i%=Vu)<0&&(i+=Vu),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Vu,a=r-r%Hu,s=0;s<4&&a>i;++s,a-=Hu)u(a);else for(a=r-r%Hu+Hu,s=0;s<4&&a<i;++s,a+=Hu)u(a)}};var oc=(oc=Ls(1,1))?oc.getContext("2d"):null,ac=new Ps;function sc(e){return function(t,n){if(!oc)return!0;e(oc,t),ac.clear().union(t.bounds).intersect(n).round();for(var r=ac.x1,i=ac.y1,o=ac.x2,a=ac.y2,s=i;s<=a;++s)for(var u=r;u<=o;++u)if(oc.isPointInPath(u,s))return!0;return!1}}function uc(e,t){return t.contains(e.x||0,e.y||0)}function lc(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(ac.set(n,r,n+i,r+o))}function cc(e,t){var n=e.x||0,r=e.y||0;return dc(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function dc(e,t,n,r,i){var o,a,s,u,l=e.x1,c=e.y1,d=e.x2,f=e.y2,h=r-t,p=i-n,g=0,m=1;for(u=0;u<4;++u){if(0===u&&(o=-h,a=-(l-t)),1===u&&(o=h,a=d-t),2===u&&(o=-p,a=-(c-n)),3===u&&(o=p,a=f-n),Math.abs(o)<1e-10&&a<0)return!1;if(s=a/o,o<0){if(s>m)return!1;s>g&&(g=s)}else if(o>0){if(s<g)return!1;s<m&&(m=s)}}return!0}var fc=function(e,t){e.globalCompositeOperation=t.blend||"source-over"};function hc(e,t){return null==e?t:e}function pc(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}var gc=function(e,t,n){return As(n)?function(e,t,n){var r,i=n.width(),o=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+hc(t.x1,.5)*i,n.y1+hc(t.y1,.5)*o,Math.max(i,o)*hc(t.r1,0),n.x1+hc(t.x2,.5)*i,n.y1+hc(t.y2,.5)*o,Math.max(i,o)*hc(t.r2,.5));else{var a=hc(t.x1,0),s=hc(t.y1,0),u=hc(t.x2,1),l=hc(t.y2,0);if(a!==u&&s!==l&&i!==o){var c=Ls(Math.ceil(i),Math.ceil(o)),d=c.getContext("2d");return d.scale(i,o),d.fillStyle=pc(d.createLinearGradient(a,s,u,l),t.stops),d.fillRect(0,0,i,o),e.createPattern(c,"no-repeat")}r=e.createLinearGradient(n.x1+a*i,n.y1+s*o,n.x1+u*i,n.y1+l*o)}return pc(r,t.stops)}(e,n,t.bounds):n},mc=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=gc(e,t,t.fill),!0)},vc=[],bc=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=gc(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||vc),e.lineDashOffset=t.strokeDashOffset||0),!0))};function yc(e,t){return e.zindex-t.zindex||e.index-t.index}function _c(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(yc)}function xc(e,t){var n,r,i=e.items;if(i&&i.length){var o=_c(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}}function Sc(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var o=_c(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function wc(e){return function(t,n,r){xc(n,(function(n){r&&!r.intersects(n.bounds)||Cc(e,t,n,n)}))}}function Cc(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(fc(t,n),n.fill&&mc(t,n,i)&&t.fill(),n.stroke&&bc(t,n,i)&&t.stroke()))}function kc(e){return e=e||p.gb,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,Sc(n,(function(n){var s=n.bounds;if((!s||s.contains(o,a))&&s)return e(t,n,r,i,o,a)?n:void 0}))}}function Ec(e,t){return function(n,r,i,o){var a,s,u=Array.isArray(r)?r[0]:r,l=null==t?u.fill:t,c=u.stroke&&n.isPointInStroke;return c&&(a=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function Oc(e){return kc(Ec(e))}function Tc(e,t){return"translate("+e+","+t+")"}function Pc(e){return"rotate("+e+")"}function Ic(e){return Tc(e.x||0,e.y||0)}function Dc(e){return Tc(e.x||0,e.y||0)+(e.angle?" "+Pc(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}var Ac=function(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=Uu),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Dc(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(Zl(e),n),Gl(e,n).translate(r,i),n.angle&&e.rotate(n.angle*Uu,r,i),e},draw:wc(r),pick:Oc(r),isect:n||sc(r)}},Mc=Ac("arc",(function(e,t){return Fl.context(e)(t)}));var jc=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i,o=Ec(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Zl(e),r),Gl(e,r[0]))},draw:(i=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||Cc(i,e,t.items[0],t.items)}),pick:function(e,t,n,r,i,a){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,o(e,s,n,r)?s[0]:null)},isect:uc,tip:n}},Rc=jc("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Ll:Nl).curve(Nu(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,s=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<s&&(s=r,n=e[a]);return n}));function Fc(e,t){e.beginPath(),Vl(t)?Wl(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}var Nc=1;function Lc(){Nc=1}var Bc=function(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Nc++),a=i.clipping[o]||(i.clipping[o]={id:o});return Object(p.D)(r)?a.path=r(null):Vl(n)?a.path=Wl(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"};function zc(e){var t=null!=(t=e.strokeWidth)?t:1;return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Uc(e,t){var n=zc(t);e("d",Wl(null,t,n,n))}function Hc(e,t,n,r){var i=zc(t);e.beginPath(),Wl(e,t,(n||0)+i,(r||0)+i)}var Vc=Ec(Hc),Wc=Ec(Hc,!1);var Gc={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Ic(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Gl(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;xc(t,(function(t){var i=t.x||0,o=t.y||0,a=t.strokeForeground,s=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&s&&(Hc(e,t,i,o),fc(e,t),t.fill&&mc(e,t,s)&&e.fill(),t.stroke&&!a&&bc(e,t,s)&&e.stroke()),e.save(),e.translate(i,o),t.clip&&Fc(e,t),n&&n.translate(-i,-o),xc(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,o),e.restore(),a&&t.stroke&&s&&(Hc(e,t,i,o),fc(e,t),bc(e,t,s)&&e.stroke())}))},pick:function(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;var a=this,s=n*e.pixelRatio,u=r*e.pixelRatio;return Sc(t,(function(l){var c,d,f,h,p,g,m,v,b;if((!(v=l.bounds)||v.contains(i,o))&&(h=l.x||0,p=l.y||0,g=h+(l.width||0),m=p+(l.height||0),!(b=l.clip)||!(i<h||i>g||o<h||o>m)))return e.save(),e.translate(h,p),h=i-h,p=o-p,b&&Vl(l)&&!Vc(e,l,s,u)?(e.restore(),null):(d=l.strokeForeground,(f=!1!==t.interactive)&&d&&l.stroke&&Wc(e,l,s,u)?(e.restore(),l):(!(c=Sc(l,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,h,p)?a.pick(e,n,r,h,p):null})))&&f&&(l.fill||!d&&l.stroke)&&Vc(e,l,s,u)&&(c=l),e.restore(),c||null))}))},isect:lc,content:function(e,t,n){e("clip-path",t.clip?Bc(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Uc(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Uc(e,t):e("d","")}};function Kc(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function qc(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Yc(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Xc(e,t){return"center"===e?t/2:"right"===e?t:0}function Zc(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Qc={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=Kc(t,n),i=t.x||0,o=t.y||0,a=qc(t,r),s=Yc(t,r),u=!1===t.aspect?"none":"xMidYMid";i-=Xc(t.align,a),o-=Zc(t.baseline,s),!r.src&&r.toDataURL?e("href",r.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Tc(i,o)),e("width",a),e("height",s),e("preserveAspectRatio",u)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,o=qc(t,n),a=Yc(t,n);return r-=Xc(t.align,o),i-=Zc(t.baseline,a),e.set(r,i,r+o,i+a)},draw:function(e,t,n){var r=this;xc(t,(function(t){if(!n||n.intersects(t.bounds)){var i,o,a,s,u=Kc(t,r),l=t.x||0,c=t.y||0,d=qc(t,u),f=Yc(t,u);l-=Xc(t.align,d),c-=Zc(t.baseline,f),!1!==t.aspect&&(o=u.width/u.height,a=t.width/t.height,o===o&&a===a&&o!==a&&(a<o?(c+=(f-(s=d/o))/2,f=s):(l+=(d-(s=f*o))/2,d=s))),(u.complete||u.toDataURL)&&(fc(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(u,l,c,d,f))}}))},pick:kc(),isect:p.gb,get:Kc,xOffset:Xc,yOffset:Zc},$c=jc("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return Bl.curve(Nu(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function Jc(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*Uu,u=t.pathCache;u&&u.path===n||((t.pathCache=u=zu(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Qu(e,u,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):Qu(e,u,r,i,o,a)}var ed={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",Dc(t)),e("d",t.path)},bound:function(e,t){return Jc(Zl(e),t)?e.set(0,0,0,0):Gl(e,t,!0),t.angle&&e.rotate(t.angle*Uu,t.x||0,t.y||0),e},draw:wc(Jc),pick:Oc(Jc),isect:sc(Jc)};function td(e,t){e.beginPath(),Wl(e,t)}var nd={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Wl(null,t))},bound:function(e,t){var n,r;return Gl(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:wc(td),pick:Oc(td),isect:lc};function rd(e,t,n){var r,i,o,a;return!(!t.stroke||!bc(e,t,n))&&(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0)}var id={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Ic(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Gl(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){xc(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&rd(e,t,r)&&(fc(e,t),e.stroke())}}))},pick:kc((function(e,t,n,r){return!!e.isPointInStroke&&(rd(e,t,1)&&e.isPointInStroke(n,r))})),isect:cc},od=Ac("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),ad=Ac("symbol",(function(e,t){return Ul.context(e)(t)}),uc),sd=Object(p.L)(),ud={height:pd,measureWidth:fd,estimateWidth:cd,width:cd,canvas:ld};function ld(e){ud.width=e&&oc?fd:cd}function cd(e,t){return dd(bd(e,t),pd(e))}function dd(e,t){return~~(.8*e.length*t)}function fd(e,t){return pd(e)<=0||!(t=bd(e,t))?0:hd(t,_d(e))}function hd(e,t){var n="(".concat(t,") ").concat(e),r=sd.get(n);return void 0===r&&(oc.font=t,r=oc.measureText(e).width,sd.set(n,r)),r}function pd(e){return null!=e.fontSize?+e.fontSize||0:11}function gd(e){return null!=e.lineHeight?e.lineHeight:pd(e)+2}function md(e){return t=e.lineBreak&&e.text&&!Object(p.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(p.A)(t)?t.length>1?t:t[0]:t;var t}function vd(e){var t=md(e);return(Object(p.A)(t)?t.length-1:0)*gd(e)}function bd(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(ud.width===fd){var t=_d(e);return function(e){return hd(e,t)}}var n=pd(e);return function(e){return dd(e,n)}}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"\u2026",a="rtl"===e.dir,s=0,u=t.length;if(n-=r(o),a){for(;s<u;)i=s+u>>>1,r(t.slice(i))>n?s=i+1:u=i;return o+t.slice(s)}for(;s<u;)i=1+(s+u>>>1),r(t.slice(0,i))<n?s=i:u=i-1;return t.slice(0,s)+o}(e,n):n}function yd(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function _d(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+pd(e)+"px "+yd(e,t)}function xd(e){var t=e.baseline,n=pd(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*gd(e):"line-bottom"===t?.29*n-.5*gd(e):0)}ld(!0);var Sd={left:"start",center:"middle",right:"end"},wd=new Ps;function Cd(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-Hu,n+=i*Math.cos(t),r+=i*Math.sin(t)),wd.x1=n,wd.y1=r,wd}function kd(e,t,n){var r,i=ud.height(t),o=t.align,a=Cd(t),s=a.x1,u=a.y1,l=t.dx||0,c=(t.dy||0)+xd(t)-Math.round(.8*i),d=md(t);if(Object(p.A)(d)?(i+=gd(t)*(d.length-1),r=d.reduce((function(e,n){return Math.max(e,ud.width(t,n))}),0)):r=ud.width(t,d),"center"===o?l-=r/2:"right"===o&&(l-=r),e.set(l+=s,c+=u,l+r,c+i),t.angle&&!n)e.rotate(t.angle*Uu,s,u);else if(2===n)return e.rotatedPoints(t.angle*Uu,s,u);return e}var Ed={arc:Mc,area:Rc,group:Gc,image:Qc,line:$c,path:ed,rect:nd,rule:id,shape:od,symbol:ad,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+xd(t),o=Cd(t),a=o.x1,s=o.y1,u=t.angle||0;e("text-anchor",Sd[t.align]||"start"),u?(n=Tc(a,s)+" "+Pc(u),(r||i)&&(n+=" "+Tc(r,i))):n=Tc(a+r,s+i),e("transform",n)},bound:kd,draw:function(e,t,n){xc(t,(function(t){var r,i,o,a,s,u,l,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=_d(t),e.textAlign=t.align||"left",i=(r=Cd(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(i,o),e.rotate(t.angle*Uu),i=o=0),i+=t.dx||0,o+=(t.dy||0)+xd(t),u=md(t),fc(e,t),Object(p.A)(u))for(s=gd(t),a=0;a<u.length;++a)l=bd(t,u[a]),t.fill&&mc(e,t,c)&&e.fillText(l,i,o),t.stroke&&bc(e,t,c)&&e.strokeText(l,i,o),o+=s;else l=bd(t,u),t.fill&&mc(e,t,c)&&e.fillText(l,i,o),t.stroke&&bc(e,t,c)&&e.strokeText(l,i,o);t.angle&&e.restore()}}))},pick:kc((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=Cd(t),s=a.x1,u=a.y1,l=kd(wd,t,1),c=-t.angle*Uu,d=Math.cos(c),f=Math.sin(c),h=d*i-f*o+(s-d*s+f*u),p=f*i+d*o+(u-f*s-d*u);return l.contains(h,p)})),isect:function(e,t){var n=kd(wd,e,2);return dc(t,n[0],n[1],n[2],n[3])||dc(t,n[0],n[1],n[4],n[5])||dc(t,n[4],n[5],n[6],n[7])||dc(t,n[2],n[3],n[6],n[7])}},trail:jc("trail",(function(e,t){return Hl.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}))},Od=function(e,t,n){var r=Ed[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Ps),e,n)},Td={mark:null},Pd=function(e,t,n){var r,i,o,a,s=Ed[e.marktype],u=s.bound,l=e.items,c=l&&l.length;if(s.nested)return c?o=l[0]:(Td.mark=e,o=Td),a=Od(o,u,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new Ps,c)for(r=0,i=l.length;r<i;++r)t.union(Od(l[r],u,n));return e.bounds=t},Id=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Dd(e,t){return JSON.stringify(e,Id,t)}function Ad(e){return function e(t){var n,r,i,o=t.marktype,a=t.items;if(a)for(r=0,i=a.length;r<i;++r)n=o?"mark":"group",a[r][n]=t,a[r].zindex&&(a[r][n].zdirty=!0),"group"===(o||n)&&e(a[r]);o&&Pd(t);return t}("string"===typeof e?JSON.parse(e):e)}function Md(e){arguments.length?this.root=Ad(e):(this.root=Rd({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ns(this.root)])}var jd=Md.prototype;function Rd(e,t){var n={bounds:new Ps,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Fd(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Nd(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Ld(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Fd(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function Bd(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function zd(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}jd.toJSON=function(e){return Dd(this.root,e||0)},jd.mark=function(e,t,n){var r=Rd(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Ud=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function Hd(e,t){this._active=null,this._handlers={},this._loader=e||In(),this._tooltip=t||Vd}function Vd(e,t,n,r){e.element().setAttribute("title",r||"")}var Wd=Hd.prototype;function Gd(e){this._el=null,this._bgcolor=null,this._loader=new zs(e)}Wd.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},Wd.element=function(){return this._el},Wd.canvas=function(){return this._el&&this._el.firstChild},Wd.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},Wd.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},Wd.on=function(){},Wd.off=function(){},Wd._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},Wd.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},Wd.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},Wd.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=Fd(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},Wd.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=Ed[a.marktype]).tip){for((o=Ud(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},Wd.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,s=i.width(),u=i.height();e.mark&&(e=e.mark.group);)o+=e.x||0,a+=e.y||0;return{x:o,y:a,width:s,height:u,left:o,top:a,right:o+s,bottom:a+u}}};var Kd=Gd.prototype;Kd.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},Kd.element=function(){return this._el},Kd.canvas=function(){return this._el&&this._el.firstChild},Kd.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},Kd.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},Kd.dirty=function(){},Kd.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},Kd._render=function(){},Kd.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},Kd._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},Kd.sanitizeURL=function(e){return this._load("sanitizeURL",e)},Kd.loadImage=function(e){return this._load("loadImage",e)};function qd(e,t){Hd.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var Yd=Object(p.y)(qd,Hd);function Xd(e,t,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(t,r)),this.fire(e,r)}}function Zd(e){return function(t){this.fire(e,t),this._active=null}}Yd.initialize=function(e,t,n){var r=this._canvas=e&&Nd(e,"canvas");if(r){var i=this;this.events.forEach((function(e){r.addEventListener(e,(function(t){Yd[e]?Yd[e].call(i,t):i.fire(e,t)}))}))}return Hd.prototype.initialize.call(this,e,t,n)},Yd.canvas=function(){return this._canvas},Yd.context=function(){return this._canvas.getContext("2d")},Yd.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Yd.DOMMouseScroll=function(e){this.fire("mousewheel",e)},Yd.mousemove=Xd("mousemove","mouseover","mouseout"),Yd.dragover=Xd("dragover","dragenter","dragleave"),Yd.mouseout=Zd("mouseout"),Yd.dragleave=Zd("dragleave"),Yd.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},Yd.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},Yd.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},Yd.touchmove=function(e){this.fire("touchmove",e,!0)},Yd.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},Yd.fire=function(e,t,n){var r,i,o=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,"click"===e&&o&&o.href?this.handleHref(t,o,o.href):"mousemove"!==e&&"mouseout"!==e||this.handleTooltip(t,o,"mouseout"!==e),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,t,o)},Yd.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},Yd.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},Yd.pickEvent=function(e){var t=Ud(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},Yd.pick=function(e,t,n,r,i){var o=this.context();return Ed[e.marktype].pick.call(this,o,e,t,n,r,i)};var Qd="undefined"!==typeof window&&window.devicePixelRatio||1;function $d(e){Gd.call(this,e),this._redraw=!1,this._dirty=new Ps}var Jd=Object(p.y)($d,Gd),ef=Gd.prototype,tf=new Ps;function nf(e,t,n){return tf.set(0,0,t,n).translate(-e[0],-e[1])}function rf(e,t){Hd.call(this,e,t);var n=this;n._hrefHandler=af(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=af(n,(function(e,t){n.handleTooltip(e,t,"mouseout"!==e.type)}))}Jd.initialize=function(e,t,n,r,i,o){return this._options=o,this._canvas=Ls(1,1,o&&o.type),e&&(Bd(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),ef.initialize.call(this,e,t,n,r,i)},Jd.resize=function(e,t,n,r){return ef.resize.call(this,e,t,n,r),function(e,t,n,r,i,o){var a="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),u=a?Qd:i;for(var l in e.width=t*u,e.height=n*u,o)s[l]=o[l];a&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*r[0],u*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},Jd.canvas=function(){return this._canvas},Jd.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Jd.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=tf.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},Jd._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty;return t.save(),this._redraw||o.empty()?(this._redraw=!1,o=nf(n,r,i).expand(1)):o=function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(nf(n,r,i)),n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,o),t.restore(),this._dirty.clear(),this},Jd.draw=function(e,t,n){var r=Ed[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(p.D)(n)?(e.beginPath(),n(e),e.clip()):Fc(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},Jd.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var of=Object(p.y)(rf,Hd);function af(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}of.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&Nd(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),Hd.prototype.initialize.call(this,e,t,n)},of.canvas=function(){return this._svg},of.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:af(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},of.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var sf=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},uf="log",lf="time",cf="utc",df="continuous",ff=Ya(vr),hf=ff.right,pf=ff.left,gf=hf;function mf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function vf(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var bf=Symbol("implicit");function yf(){var e=new Map,t=[],n=[],r=bf;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==bf)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=Object(pr.a)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(u){o.e(u)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return yf(t,n).unknown(r)},mf.apply(i,arguments),i}function _f(){var e,t,n=yf().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=o[1]<o[0],d=o[c-0],f=o[1-c],h=sf(n,s,u);e=(f-d)/(h||1),a&&(e=Math.floor(e)),d+=(f-d-e*(n-s))*l,t=e*(1-s),a&&(d=Math.round(d),t=Math.round(t));var p=wo(n).map((function(t){return d+e*t}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),s=u,c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,s,u=+e[0],l=+e[1],c=o[1]<o[0],d=c?i().reverse():i(),f=d.length-1;if(u===u&&l===l&&(l<u&&(s=u,u=l,l=s),!(l<d[0]||u>o[1-c])))return n=Math.max(0,hf(d,u)-1),a=u===l?n:hf(d,l)-1,u-d[n]>t+1e-10&&++n,c&&(s=n,n=f-a,a=f-s),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return _f().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(u).align(l)},c()}var xf=n(142),Sf=n(64),wf=n(255),Cf=function(e,t,n,r){var i,o=es(e,t,n);switch((r=Object(xf.a)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(Sf.a)(t)/3)))-Object(Sf.a)(Math.abs(e)))}(o,a))||(r.precision=i),Object(wf.c)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(Sf.a)(t)-Object(Sf.a)(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Object(Sf.a)(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Object(wf.b)(r)},kf=Array.prototype.map;function Ef(e){return kf.call(e,(function(e){return+e}))}var Of=Array.prototype.slice;var Tf=n(51);function Pf(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var If=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Pf((n-r/t)*t,a,i,o,s)}},Df=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Pf((n-r/t)*t,i,o,a,s)}},Af=function(e){return function(){return e}};function Mf(e,t){return function(n){return e+n*t}}function jf(e,t){var n=t-e;return n?Mf(e,n>180||n<-180?n-360*Math.round(n/360):n):Af(isNaN(e)?t:e)}function Rf(e){return 1===(e=+e)?Ff:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Af(isNaN(t)?n:t)}}function Ff(e,t){var n=t-e;return n?Mf(e,n):Af(isNaN(e)?t:e)}var Nf=function e(t){var n=Rf(t);function r(e,t){var r=n((e=Object(Tf.g)(e)).r,(t=Object(Tf.g)(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Ff(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Lf(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(Tf.g)(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var Bf=Lf(If),zf=Lf(Df),Uf=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function Hf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Vf=function(e,t){return(Hf(t)?Uf:Wf)(e,t)};function Wf(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Qf(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Gf=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Kf=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},qf=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Qf(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Yf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xf=new RegExp(Yf.source,"g");var Zf=function(e,t){var n,r,i,o=Yf.lastIndex=Xf.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Yf.exec(e))&&(r=Xf.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Kf(n,r)})),o=Xf.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Qf=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Af(t):("number"===r?Kf:"string"===r?(n=Object(Tf.e)(t))?(t=n,Nf):Zf:t instanceof Tf.e?Nf:t instanceof Date?Gf:Hf(t)?Uf:Array.isArray(t)?Wf:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?qf:Kf)(e,t)},$f=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Jf=function(e){return+e},eh=[0,1];function th(e){return e}function nh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function rh(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=nh(i,r),o=n(a,o)):(r=nh(r,i),o=n(o,a)),function(e){return o(r(e))}}function ih(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=nh(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=gf(e,t,1,r)-1;return o[n](i[n](t))}}function oh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ah(){var e,t,n,r,i,o,a=eh,s=eh,u=Qf,l=th;function c(){var e=Math.min(a.length,s.length);return l!==th&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?ih:rh,i=o=null,d}function d(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return d.invert=function(n){return l(t((o||(o=r(s,a.map(e),Kf)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Jf),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),u=$f,c()},d.clamp=function(e){return arguments.length?(l=!!e||th,c()):l!==th},d.interpolate=function(e){return arguments.length?(u=e,c()):u},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function sh(){return ah()(th,th)}function uh(e){var t=e.domain;return e.ticks=function(e){var n=t();return $a(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Cf(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=Ja(s,u,n))>0?r=Ja(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Ja(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}var lh=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function ch(e){return Math.log(e)}function dh(e){return Math.exp(e)}function fh(e){return-Math.log(-e)}function hh(e){return-Math.exp(-e)}function ph(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gh(e){return function(t){return-e(-t)}}function mh(e){var t,n,r=e(ch,dh),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?ph:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=gh(t),n=gh(n),e(fh,hh)):e(ch,dh),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var l,c,d,f=t(s),h=t(u),p=null==e?10:+e,g=[];if(!(o%1)&&h-f<p){if(f=Math.floor(f),h=Math.ceil(h),s>0){for(;f<=h;++f)for(c=1,l=n(f);c<o;++c)if(!((d=l*c)<s)){if(d>u)break;g.push(d)}}else for(;f<=h;++f)for(c=o-1,l=n(f);c>=1;--c)if(!((d=l*c)<s)){if(d>u)break;g.push(d)}2*g.length<p&&(g=$a(s,u,p))}else g=$a(f,h,Math.min(h-f,p)).map(n);return r?g.reverse():g},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Object(wf.b)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(lh(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function vh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bh(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yh(e){return e<0?-e*e:e*e}function _h(e){var t=e(th,th),n=1;function r(){return 1===n?e(th,th):.5===n?e(bh,yh):e(vh(n),vh(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},uh(t)}function xh(){var e=_h(ah());return e.copy=function(){return oh(e,xh()).exponent(e.exponent())},mf.apply(e,arguments),e}function Sh(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ch(e){var t=1,n=e(Sh(t),wh(t));return n.constant=function(n){return arguments.length?e(Sh(t=+n),wh(t)):t},uh(n)}function kh(e){return new Date(e)}function Eh(e){return e instanceof Date?+e:+new Date(+e)}function Oh(e,t,n,r,i,o,a,s,u){var l=sh(),c=l.invert,d=l.domain,f=u(".%L"),h=u(":%S"),p=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),v=u("%b %d"),b=u("%B"),y=u("%Y"),_=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function x(s){return(a(s)<s?f:o(s)<s?h:i(s)<s?p:r(s)<s?g:t(s)<s?n(s)<s?m:v:e(s)<s?b:y)(s)}function S(t,n,r){if(null==t&&(t=10),"number"===typeof t){var i,o=Math.abs(r-n)/t,a=Ya((function(e){return e[2]})).right(_,o);return a===_.length?(i=es(n/31536e6,r/31536e6,t),t=e):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(es(n,r,t),1),t=s),t.every(i)}return t}return l.invert=function(e){return new Date(c(e))},l.domain=function(e){return arguments.length?d(Array.from(e,Eh)):d().map(kh)},l.ticks=function(e){var t,n=d(),r=n[0],i=n[n.length-1],o=i<r;return o&&(t=r,r=i,i=t),t=(t=S(e,r,i))?t.range(r,i+1):[],o?t.reverse():t},l.tickFormat=function(e,t){return null==t?x:u(t)},l.nice=function(e){var t=d();return(e=S(e,t[0],t[t.length-1]))?d(lh(t,e)):l},l.copy=function(){return oh(l,Oh(e,t,n,r,i,o,a,s,u))},l}function Th(){var e,t,n,r,i,o=0,a=1,s=th,u=!1;function l(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r,i,o;return arguments.length?(n=t,i=(r=Object(ui.a)(n,2))[0],o=r[1],s=e(i,o),l):[s(0),s(1)]}}return l.domain=function(i){var s,u;return arguments.length?(s=i,u=Object(ui.a)(s,2),o=u[0],a=u[1],e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),l):[o,a]},l.clamp=function(e){return arguments.length?(u=!!e,l):u},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=c(Qf),l.rangeRound=c($f),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),l}}function Ph(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ih(){var e=uh(Th()(th));return e.copy=function(){return Ph(e,Ih())},vf.apply(e,arguments)}function Dh(){var e=_h(Th());return e.copy=function(){return Ph(e,Dh()).exponent(e.exponent())},vf.apply(e,arguments)}function Ah(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function Mh(){var e,t,n,r,i,o,a,s=0,u=.5,l=1,c=1,d=th,f=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,o,a;return arguments.length?(n=t,i=(r=Object(ui.a)(n,3))[0],o=r[1],a=r[2],d=Ah(e,[i,o,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(a){var d,f;return arguments.length?(d=a,f=Object(ui.a)(d,3),s=f[0],u=f[1],l=f[2],e=o(s=+s),t=o(u=+u),n=o(l=+l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h):[s,u,l]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(Qf),h.rangeRound=p($f),h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return o=a,e=a(s),t=a(u),n=a(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h}}function jh(){var e=_h(Mh());return e.copy=function(){return Ph(e,jh()).exponent(e.exponent())},vf.apply(e,arguments)}var Rh={};function Fh(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,o,a=e.range(),s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),i=0,o=a.length;i<o;++i)a[i]>=s&&a[i]<=u&&(l<0&&(l=i),n=i);if(!(l<0))return s=e.invertExtent(a[l]),u=e.invertExtent(a[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(p.db)(Object(p.i)(n)),r}function Nh(e,t,n){return arguments.length>1?(Rh[e]=Fh(e,t,n),this):Lh(e)?Rh[e]:void 0}function Lh(e){return Object(p.v)(Rh,e)}function Bh(e,t){var n=Rh[e];return n&&n.metadata[t]}function zh(e){return Bh(e,df)}function Uh(e){return Bh(e,"discrete")}function Hh(e){return Bh(e,"discretizing")}function Vh(e){return Bh(e,uf)}function Wh(e){return Bh(e,"interpolating")}function Gh(e){return Bh(e,"quantile")}Nh("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Jf),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Jf):[0,1],uh(r)})),Nh("linear",(function e(){var t=sh();return t.copy=function(){return oh(t,e())},mf.apply(t,arguments),uh(t)}),df),Nh(uf,(function e(){var t=mh(ah()).domain([1,10]);return t.copy=function(){return oh(t,e()).base(t.base())},mf.apply(t,arguments),t}),[df,uf]),Nh("pow",xh,df),Nh("sqrt",(function(){return xh.apply(null,arguments).exponent(.5)}),df),Nh("symlog",(function e(){var t=Ch(ah());return t.copy=function(){return oh(t,e()).constant(t.constant())},mf.apply(t,arguments)}),df),Nh(lf,(function(){return mf.apply(Oh(ot,ga,Xe,rt,va,ya,xa,Ea,ft).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[df,"temporal"]),Nh(cf,(function(){return mf.apply(Oh(st,Ta,Be,qe,Ia,Aa,xa,Ea,pt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[df,"temporal"]),Nh("sequential",Ih,[df,"interpolating"]),Nh("".concat("sequential","-").concat("linear"),Ih,[df,"interpolating"]),Nh("".concat("sequential","-").concat(uf),(function e(){var t=mh(Th()).domain([1,10]);return t.copy=function(){return Ph(t,e()).base(t.base())},vf.apply(t,arguments)}),[df,"interpolating",uf]),Nh("".concat("sequential","-").concat("pow"),Dh,[df,"interpolating"]),Nh("".concat("sequential","-").concat("sqrt"),(function(){return Dh.apply(null,arguments).exponent(.5)}),[df,"interpolating"]),Nh("".concat("sequential","-").concat("symlog"),(function e(){var t=Ch(Th());return t.copy=function(){return Ph(t,e()).constant(t.constant())},vf.apply(t,arguments)}),[df,"interpolating"]),Nh("".concat("diverging","-").concat("linear"),(function e(){var t=uh(Mh()(th));return t.copy=function(){return Ph(t,e())},vf.apply(t,arguments)}),[df,"interpolating"]),Nh("".concat("diverging","-").concat(uf),(function e(){var t=mh(Mh()).domain([.1,1,10]);return t.copy=function(){return Ph(t,e()).base(t.base())},vf.apply(t,arguments)}),[df,"interpolating",uf]),Nh("".concat("diverging","-").concat("pow"),jh,[df,"interpolating"]),Nh("".concat("diverging","-").concat("sqrt"),(function(){return jh.apply(null,arguments).exponent(.5)}),[df,"interpolating"]),Nh("".concat("diverging","-").concat("symlog"),(function e(){var t=Ch(Mh());return t.copy=function(){return Ph(t,e()).constant(t.constant())},vf.apply(t,arguments)}),[df,"interpolating"]),Nh("quantile",(function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Cr(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[gf(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=Object(pr.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.sort(vr),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},mf.apply(a,arguments)}),["discretizing","quantile"]),Nh("quantize",(function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return e<=e?a[gf(o,e,0,i)]:t}function u(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){var t,i;return arguments.length?(t=e,i=Object(ui.a)(t,2),n=i[0],r=i[1],n=+n,r=+r,u()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,u()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},mf.apply(uh(s),arguments)}),"discretizing"),Nh("threshold",(function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return e<=e?r[gf(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},mf.apply(o,arguments)}),"discretizing"),Nh("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(gf(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Ef(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Of.call(e),r):n.slice()},r.tickFormat=function(e,n){return Cf(t[0],Object(p.U)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),Nh("ordinal",yf,"discrete"),Nh("band",_f,"discrete"),Nh("point",(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(_f().paddingInner(1))}),"discrete");var Kh,qh,Yh,Xh,Zh=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Qh=function(e,t){var n=jf(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},$h=180/Math.PI,Jh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ep=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*$h,skewX:Math.atan(u)*$h,scaleX:a,scaleY:s}};function tp(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:Kf(e,i)},{i:u-2,x:Kf(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Kf(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Kf(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Kf(e,n)},{i:s-2,x:Kf(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var np=tp((function(e){return"none"===e?Jh:(Kh||(Kh=document.createElement("DIV"),qh=document.documentElement,Yh=document.defaultView),Kh.style.transform=e,e=Yh.getComputedStyle(qh.appendChild(Kh),null).getPropertyValue("transform"),qh.removeChild(Kh),e=e.slice(7,-1).split(","),ep(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),rp=tp((function(e){return null==e?Jh:(Xh||(Xh=document.createElementNS("http://www.w3.org/2000/svg","g")),Xh.setAttribute("transform",e),(e=Xh.transform.baseVal.consolidate())?(e=e.matrix,ep(e.a,e.b,e.c,e.d,e.e,e.f)):Jh)}),", ",")",")"),ip=Math.SQRT2;function op(e){return((e=Math.exp(e))+1/e)/2}var ap=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],l=t[2],c=s-i,d=u-o,f=c*c+d*d;if(f<1e-12)r=Math.log(l/a)/ip,n=function(e){return[i+e*c,o+e*d,a*Math.exp(ip*e*r)]};else{var h=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*h),g=(l*l-a*a-4*f)/(2*l*2*h),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/ip,n=function(e){var t,n=e*r,s=op(m),u=a/(2*h)*(s*(t=ip*n+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+u*c,o+u*d,a*s/op(ip*n+m)]}}return n.duration=1e3*r,n};function sp(e){return function(t,n){var r=e((t=Object(Tf.f)(t)).h,(n=Object(Tf.f)(n)).h),i=Ff(t.s,n.s),o=Ff(t.l,n.l),a=Ff(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var up=sp(jf),lp=sp(Ff),cp=n(57),dp=Math.PI/180,fp=180/Math.PI;function hp(e){if(e instanceof gp)return new gp(e.l,e.a,e.b,e.opacity);if(e instanceof Sp)return wp(e);e instanceof Tf.b||(e=Object(Tf.h)(e));var t,n,r=yp(e.r),i=yp(e.g),o=yp(e.b),a=mp((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=a:(t=mp((.4360747*r+.3850649*i+.1430804*o)/.96422),n=mp((.0139322*r+.0971045*i+.7141733*o)/.82521)),new gp(116*a-16,500*(t-a),200*(a-n),e.opacity)}function pp(e,t,n,r){return 1===arguments.length?hp(e):new gp(e,t,n,null==r?1:r)}function gp(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function mp(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function vp(e){return e>6/29?e*e*e:6/29*3*(6/29)*(e-4/29)}function bp(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function yp(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _p(e){if(e instanceof Sp)return new Sp(e.h,e.c,e.l,e.opacity);if(e instanceof gp||(e=hp(e)),0===e.a&&0===e.b)return new Sp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fp;return new Sp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function xp(e,t,n,r){return 1===arguments.length?_p(e):new Sp(e,t,n,null==r?1:r)}function Sp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function wp(e){if(isNaN(e.h))return new gp(e.l,0,0,e.opacity);var t=e.h*dp;return new gp(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Cp(e,t){var n=Ff((e=pp(e)).l,(t=pp(t)).l),r=Ff(e.a,t.a),i=Ff(e.b,t.b),o=Ff(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function kp(e){return function(t,n){var r=e((t=xp(t)).h,(n=xp(n)).h),i=Ff(t.c,n.c),o=Ff(t.l,n.l),a=Ff(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}Object(cp.a)(gp,pp,Object(cp.b)(Tf.a,{brighter:function(e){return new gp(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new gp(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*vp(t),e=1*vp(e),n=.82521*vp(n),new Tf.b(bp(3.1338561*t-1.6168667*e-.4906146*n),bp(-.9787684*t+1.9161415*e+.033454*n),bp(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(cp.a)(Sp,xp,Object(cp.b)(Tf.a,{brighter:function(e){return new Sp(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Sp(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return wp(this).rgb()}}));var Ep=kp(jf),Op=kp(Ff),Tp=1.97294,Pp=-.90649*Tp,Ip=1.78277*Tp,Dp=-.6557636667999999;function Ap(e){if(e instanceof jp)return new jp(e.h,e.s,e.l,e.opacity);e instanceof Tf.b||(e=Object(Tf.h)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Dp*r+Pp*t-Ip*n)/(Dp+Pp-Ip),o=r-i,a=(Tp*(n-i)- -.29227*o)/-.90649,s=Math.sqrt(a*a+o*o)/(Tp*i*(1-i)),u=s?Math.atan2(a,o)*fp-120:NaN;return new jp(u<0?u+360:u,s,i,e.opacity)}function Mp(e,t,n,r){return 1===arguments.length?Ap(e):new jp(e,t,n,null==r?1:r)}function jp(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Rp(e){return function t(n){function r(t,r){var i=e((t=Mp(t)).h,(r=Mp(r)).h),o=Ff(t.s,r.s),a=Ff(t.l,r.l),s=Ff(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Object(cp.a)(jp,Mp,Object(cp.b)(Tf.a,{brighter:function(e){return e=null==e?Tf.c:Math.pow(Tf.c,e),new jp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Tf.d:Math.pow(Tf.d,e),new jp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*dp,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Tf.b(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(-.29227*r+-.90649*i)),255*(t+n*(Tp*r)),this.opacity)}}));var Fp=Rp(jf),Np=Rp(Ff),Lp=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},Bp=["clamp","base","constant","exponent"];function zp(e,t){var n=t[0],r=Object(p.U)(t)-n;return function(t){return e(n+t*r)}}function Up(e,t,n){return Ah(Wp(t||"rgb",n),e)}function Hp(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function Vp(e,t,n){var r,i,o,a=n-t;return a&&Number.isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=Nh(i)().domain([t,n]).range([0,1]),Bp.forEach((function(t){return e[t]?o[t](e[t]()):0})),o):Object(p.l)(.5)}function Wp(e,t){var n=i[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Gp(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Kp(e,t){for(var n in e)Yp(n,t(e[n]))}var qp={};function Yp(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(qp[e]=t,this):qp[e]}Kp({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Gp),Kp({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return Up(Gp(e))}));var Xp,Zp,Qp=function(e){return Object(p.A)(e)?e.map((function(e){return String(e)})):String(e)};function $p(e,t,n){var r;return Object(p.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(p.X)(e.domain())/n||1)))),Object(p.F)(t)&&(r=t.step,t=t.interval),Object(p.H)(t)&&(t=e.type===lf?Ra(t):e.type==cf?Fa(t):Object(p.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Jp(e,t,n){var r=e.range(),i=r[0],o=Object(p.U)(r);if(i>o&&(r=o,o=i,i=r),i=Math.floor(i),o=Math.ceil(o),t=t.filter((function(t){return t=e(t),i<=t&&t<=o})),n>0&&t.length>1){for(var a=[t[0],Object(p.U)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=a)}return t}function eg(e,t){return e.bins?Jp(e,e.bins):e.ticks?e.ticks(t):e.domain()}function tg(e,t,n,r,i){var o,a,s=e.type,u=s===lf||r===lf?Ga(n):s===cf||r===cf?Ka(n):e.tickFormat?e.tickFormat(t,n):n?Object(wf.b)(n):Qp;if(Vh(s)){var l=function(e){var t=Object(xf.a)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return function(e,t){return function(n){var r,i,o=e(n),a=o.indexOf(t);if(a<0)return o;for(i=(r=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(o,a))<o.length?o.slice(r):"";--r>a;)if("0"!==o[r]){++r;break}return o.slice(0,r)+i}}(Object(wf.b)(t),Object(wf.b)(".1f")(1)[1])}return Object(wf.b)(t)}(n);u=i||e.bins?l:(o=u,a=l,function(e){return o(e)?a(e):""})}return u}var ng=(Xp={},Object(oa.a)(Xp,"quantile","quantiles"),Object(oa.a)(Xp,"quantize","thresholds"),Object(oa.a)(Xp,"threshold","domain"),Xp),rg=(Zp={},Object(oa.a)(Zp,"quantile","quantiles"),Object(oa.a)(Zp,"quantize","domain"),Zp);function ig(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(p.U)(e),t}(e.bins):e.type===uf?function(e,t){var n=eg(e,t),r=e.base(),i=Math.log(r),o=Math.max(1,r*t/n.length);return n.filter((function(e){var t=e/Math.pow(r,Math.round(Math.log(e)/i));return t*r<r-.5&&(t*=r),t<=o}))}(e,t):ng[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[ng[e.type]]()):eg(e,t)}function og(e,t,n,r,i,o){var a=rg[e.type]&&i!==lf&&i!==cf?function(e,t){var n,r=e[rg[e.type]](),i=r.length,o=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)o=Math.min(o,r[n]-r[n-1]);return Cf(0,o,30,t)}(e,r):tg(e,t,r,i,o);return"symbol"===n&&function(e){return ng[e.type]||e.bins}(e)?function(e){return function(t,n,r){var i=ag(r[n+1],ag(r.max,1/0)),o=sg(t,e),a=sg(i,e);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o}}(a):"discrete"===n?function(e){return function(t,n){return n?e(t):null}}(a):function(e){return function(t){return e(t)}}(a)}function ag(e,t){return null!=e?e:t}function sg(e,t){return Number.isFinite(e)?t(e):null}function ug(e,t,n){var r=n||e.type;return Object(p.H)(t)&&Bh(r,"temporal")&&(t=t.replace(/%a/g,"%A").replace(/%b/g,"%B")),t||r!==lf?t||r!==cf?og(e,5,null,t,n,!0):Ka("%A, %d %B %Y, %X UTC"):Ga("%A, %d %B %Y, %X")}function lg(e,t){t=t||{};var n=Math.max(3,t.maxlen||7),r=ug(e,t.format,t.formatType);if(Hh(e.type)){var i=ig(e).slice(1).map(r),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(Uh(e.type)){var a=e.domain(),s=a.length,u=s>n?a.slice(0,n-2).map(r).join(", ")+", ending with "+a.slice(-1).map(r):a.map(r).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(u)}var l=e.domain();return"values from ".concat(r(l[0])," to ").concat(r(Object(p.U)(l)))}var cg=function(e,t,n){var r;return r={},Object(oa.a)(r,"role",e),Object(oa.a)(r,"aria-roledescription",t),Object(oa.a)(r,"aria-label",n||void 0),r},dg=Object(p.db)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),fg={axis:{desc:"axis",caption:function(e){var t=e.datum,n=t.orient,r=t.title?vg(e):null,i=e.context.scales[t.scale].value,o=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Uh(o)?"discrete":o," scale")+" with ".concat(lg(i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?vg(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,o=Object.keys(i),a=e.context.scales[i[o[0]]].value;return s=r,(s.length?s[0].toUpperCase()+s.slice(1):s)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(p.U)(e)}(o)," with ").concat(lg(a,e));var s}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(mg(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(mg(e),"'")}}},hg={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function pg(e,t){var n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(var r in hg)e(hg[r],void 0);else{var i=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===i?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||"".concat(i," mark"))}}function gg(e){return!1===e.aria?Object(oa.a)({},"aria-hidden",!0):dg[e.role]?null:fg[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return cg(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(i){return null}}(e,fg[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return cg(n?"graphics-object":"graphics-symbol","".concat(t," mark container"),e.description)}(e)}function mg(e){return Object(p.i)(e.text).join(" ")}function vg(e){try{return Object(p.i)(Object(p.U)(e.items).items[0].text).join(" ")}catch(t){return null}}function bg(e,t,n){var r,i,o="<"+e;if(t)for(r in t)null!=(i=t[r])&&(o+=" "+r+'="'+(i=(i+"").replace(/"/g,"&quot;"))+'"');return n&&(o+=" "+n),o+">"}function yg(e){return"</"+e+">"}var _g={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},xg={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Sg=_g.xmlns;function wg(e){Gd.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var Cg=Object(p.y)(wg,Gd),kg=Gd.prototype;function Eg(e,t,n){var r,i,o;if("radial"===t.gradient){var a=Ld(e,n++,"pattern",Sg);a.setAttribute("id","p_"+t.id),a.setAttribute("viewBox","0,0,1,1"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("preserveAspectRatio","xMidYMid slice"),(a=Ld(a,0,"rect",Sg)).setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("fill","url("+Fg()+"#"+t.id+")"),(e=Ld(e,n++,"radialGradient",Sg)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Ld(e,n++,"linearGradient",Sg)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(o=Ld(e,r,"stop",Sg)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Bd(e,r),n}function Og(e,t,n){var r;return(e=Ld(e,n,"clipPath",Sg)).setAttribute("id",t.id),t.path?(r=Ld(e,0,"path",Sg)).setAttribute("d",t.path):((r=Ld(e,0,"rect",Sg)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),Bd(e,1),n+1}function Tg(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Pg(e,t,n,r,i){var o,a=e._svg;if(!a&&(a=Fd(o=t.ownerDocument,r,Sg),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var s=Fd(o,"path",Sg);a.appendChild(s),s.__data__=e;var u=Fd(o,"g",Sg);a.appendChild(u),u.__data__=e;var l=Fd(o,"path",Sg);a.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}Cg.initialize=function(e,t,n,r){return e&&(this._svg=Ld(e,0,"svg",Sg),this._svg.setAttribute("class","marks"),Bd(e,1),this._root=Ld(this._svg,0,"g",Sg),Bd(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),kg.initialize.call(this,e,t,n,r)},Cg.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),kg.background.apply(this,arguments)},Cg.resize=function(e,t,n,r){return kg.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},Cg.canvas=function(){return this._svg},Cg.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in _g)e[t]=_g[t];var n=this._bgcolor?bg("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+yg("rect"):"";return bg("svg",e)+n+this._svg.innerHTML+yg("svg")},Cg._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),Bd(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},Cg.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=Ld(t,0,"defs",Sg)),i=Eg(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=Ld(t,0,"defs",Sg)),i=Og(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):Bd(r,i))},Cg._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},Cg.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},Cg.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},Cg._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,o,a,s,u=++this._dirtyID;for(o=0,a=e.length;o<a;++o)(n=(t=e[o]).mark).marktype!==r&&(r=n.marktype,i=Ed[r]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,Tg(t,u),n.items.forEach((function(e){e.dirty=u}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==u&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Tg(t,u)),t._update=u));return!this._dirtyAll},Cg.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,o=this._svg,a=Ed[t.marktype],s=!1===t.interactive?"none":null,u="g"===a.tag,l=null,c=0;(r=Pg(t,e,n,"g",o)).setAttribute("class",zd(t));var d=gg(t);for(var f in d)Rg(r,f,d[f]);function h(e){var t=i.isDirty(e),n=Pg(e,r,l,a.tag,o);t&&(i._update(a,n,e),u&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;xc(n,(function(n){r=e.draw(t,n,r),++i})),Bd(t,1+i)}(i,n,e)),l=n,++c}return u||r.style.setProperty("pointer-events",s),Rg(r,"clip-path",t.clip?Bc(i,t,t.group):null),a.nested?t.items.length&&h(t.items[0]):xc(t,h),Bd(r,c),r};var Ig=null,Dg=null,Ag={group:function(e,t,n){var r,i;Ig=r=t.childNodes[2],Dg=r.__values__,e.foreground(jg,n,this),Dg=t.__values__,Ig=t.childNodes[1],e.content(jg,n,this),Ig=i=t.childNodes[0],e.background(jg,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==Dg.events&&(r.style.setProperty("pointer-events",o),i.style.setProperty("pointer-events",o),Dg.events=o),n.strokeForeground&&n.stroke){var a=n.fill;r.style.removeProperty("display"),this.style(i,n),i.style.removeProperty("stroke"),a&&(n.fill=null),Dg=r.__values__,this.style(r,n),a&&(n.fill=a),Ig=null}else r.style.setProperty("display","none"),r.style.setProperty("fill","none")},image:function(e,t,n){!1===n.smooth?(Mg(t,"image-rendering","optimizeSpeed"),Mg(t,"image-rendering","pixelated")):Mg(t,"image-rendering",null)},text:function(e,t,n){var r,i,o,a,s=md(n);Object(p.A)(s)?(r=(i=s.map((function(e){return bd(n,e)}))).join("\n"))!==Dg.text&&(Bd(t,0),o=t.ownerDocument,a=gd(n),i.forEach((function(e,r){var i=Fd(o,"tspan",Sg);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),t.appendChild(i)})),Dg.text=r):(i=bd(n,s))!==Dg.text&&(t.textContent=i,Dg.text=i),Mg(t,"font-family",yd(n)),Mg(t,"font-size",pd(n)+"px"),Mg(t,"font-style",n.fontStyle),Mg(t,"font-variant",n.fontVariant),Mg(t,"font-weight",n.fontWeight)}};function Mg(e,t,n){n!==Dg[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Dg[t]=n)}function jg(e,t,n){t!==Dg[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(Ig,e,t,n):Rg(Ig,e,t),Dg[e]=t)}function Rg(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Fg(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Ng(e){Gd.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}Cg._update=function(e,t,n){Ig=t,Dg=t.__values__,pg(jg,n),e.attr(jg,n,this);var r=Ag[e.type];r&&r.call(this,e,t,n),Ig&&this.style(Ig,n)},Cg.style=function(e,t){if(null!=t)for(var n in xg){var r=t[n];if("font"===n&&(r=yd(t)),r!==Dg[n]){var i=xg[n];null==r?"fill"===i?e.style.setProperty(i,"none"):e.style.removeProperty(i):(As(r)&&(r=Ms(r,this._defs.gradient,Fg())),e.style.setProperty(i,r+"")),Dg[n]=r}}};var Lg,Bg=Object(p.y)(Ng,Gd),zg=Gd.prototype;function Ug(e,t,n,r){Lg[r||e]=t}function Hg(e,t,n,r){if(null==e)return"";var i="";for(var o in"bgrect"===n&&!1===t.interactive&&(i+="pointer-events: none; "),"bgfore"===n&&(!1===t.interactive&&(i+="pointer-events: none; "),i+="display: none; "),"image"===n&&!1===e.smooth&&(i+="image-rendering: optimizeSpeed; image-rendering: pixelated; "),"text"===n&&(i+="font-family: "+yd(e)+"; ",i+="font-size: "+pd(e)+"px; ",e.fontStyle&&(i+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(i+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(i+="font-weight: "+e.fontWeight+"; ")),xg){var a=e[o],s=xg[o];null==a?"fill"===s&&(i+="fill: none; "):"transparent"!==a||"fill"!==s&&"stroke"!==s?(As(a)&&(a=Ms(a,r.gradient,"")),i+=s+": "+a+"; "):i+=s+": none; "}return i?'style="'+i.trim()+'"':null}function Vg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Bg.resize=function(e,t,n,r){zg.resize.call(this,e,t,n,r);var i=this._origin,o=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in _g)a[s]=_g[s];o.head=bg("svg",a);var u=this._bgcolor;return"transparent"!==u&&"none"!==u||(u=null),o.bg=u?bg("rect",{width:this._width,height:this._height,style:"fill: "+u+";"})+yg("rect"):"",o.root=bg("g",{transform:"translate("+i+")"}),o.foot=yg("g")+yg("svg"),this},Bg.background=function(){var e=zg.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},Bg.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},Bg._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},Bg.buildDefs=function(){var e,t,n,r,i,o=this._defs,a="";for(t in o.gradient){for(i=(n=o.gradient[t]).stops,"radial"===n.gradient?(a+=bg(r="pattern",{id:"p_"+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a+=bg("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+yg("rect"),a+=yg(r),a+=bg(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):a+=bg(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<i.length;++e)a+=bg("stop",{offset:i[e].offset,"stop-color":i[e].color})+yg("stop");a+=yg(r)}for(t in o.clipping)n=o.clipping[t],a+=bg("clipPath",{id:t}),n.path?a+=bg("path",{d:n.path})+yg("path"):a+=bg("rect",{x:0,y:0,width:n.width,height:n.height})+yg("rect"),a+=yg("clipPath");return a.length>0?bg("defs")+a+yg("defs"):""},Bg.attributes=function(e,t){var n=this;return Lg={},Array.isArray(e)?e.forEach((function(e){return e(Ug,t,n)})):e(Ug,t,this),Lg},Bg.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},Bg.mark=function(e){var t,n=this,r=Ed[e.marktype],i=r.tag,o=this._defs,a="";function s(s){var u=n.href(s);if(u&&(a+=bg("a",u)),t="g"!==i?Hg(s,e,i,o):null,a+=bg(i,n.attributes([pg,r.attr],s),t),"text"===i){var l=md(s);if(Object(p.A)(l))for(var c={x:0,dy:gd(s)},d=0;d<l.length;++d)a+=bg("tspan",d?c:null)+Vg(bd(s,l[d]))+yg("tspan");else a+=Vg(bd(s,l))}else if("g"===i){var f=s.strokeForeground,h=s.fill,g=s.stroke;f&&g&&(s.stroke=null),a+=bg("path",n.attributes(r.background,s),Hg(s,e,"bgrect",o))+yg("path"),a+=bg("g",n.attributes(r.content,s))+n.markGroup(s)+yg("g"),f&&g?(h&&(s.fill=null),s.stroke=g,a+=bg("path",n.attributes(r.foreground,s),Hg(s,e,"bgrect",o))+yg("path"),h&&(s.fill=h)):a+=bg("path",n.attributes(r.foreground,s),Hg({},e,"bgfore",o))+yg("path")}a+=yg(i),u&&(a+=yg("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),a+=bg("g",Object.assign({class:zd(e),"clip-path":e.clip?Bc(n,e,e.group):null},gg(e)),t),r.nested?e.items&&e.items.length&&s(e.items[0]):xc(e,s),a+yg("g")},Bg.markGroup=function(e){var t=this,n="";return xc(e,(function(e){n+=t.mark(e)})),n};var Wg={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Gg={};function Kg(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Gg[e]=t,this):Gg[e]}function qg(e,t,n){var r=[],i=(new Ps).union(t),o=e.marktype;return o?Yg(e,i,n,r):"group"===o?Xg(e,i,n,r):Object(p.n)("Intersect scene must be mark node or group item.")}function Yg(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,o=e.marktype,a=i.length,s=0;if("group"===o)for(;s<a;++s)Xg(i[s],t,n,r);else for(var u=Ed[o].isect;s<a;++s){var l=i[s];Zg(l,t,u)&&r.push(l)}}return r}function Xg(e,t,n,r){n&&n(e.mark)&&Zg(e,t,Ed.group.isect)&&r.push(e);var i=e.items,o=i&&i.length;if(o){var a=e.x||0,s=e.y||0;t.translate(-a,-s);for(var u=0;u<o;++u)Yg(i[u],t,n,r);t.translate(a,s)}return r}function Zg(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}Gg.canvas=Gg.png={renderer:$d,headless:$d,handler:qd},Gg.svg={renderer:wg,headless:Ng,handler:rf},Gg.none={};var Qg=new Ps,$g=function(e){var t=e.clip;if(Object(p.D)(t))t(Zl(Qg.clear()));else{if(!t)return;Qg.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Qg)};function Jg(e,t,n){return e===t||("path"===n?em(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(p.E)(e)&&Object(p.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(p.F)(e)||Object(p.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Jg(e[n],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function em(e,t){return Jg(zu(e),zu(t))}function tm(e){tr.call(this,null,e)}function nm(e,t,n){return t(e.bounds.clear(),e,n)}Object(p.y)(tm,tr).transform=function(e,t){var n,r=t.dataflow,i=e.mark,o=i.marktype,a=Ed[o],s=a.bound,u=i.bounds;if(a.nested)i.items.length&&r.dirty(i.items[0]),u=nm(i,s),i.items.forEach((function(e){e.bounds.clear().union(u)}));else if("group"===o||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),u.clear(),i.items.forEach((function(e){return u.union(nm(e,s))})),i.role){case"axis":case"legend":case"title":t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){u.union(nm(e,s))})),t.visit(t.MOD,(function(e){n=n||u.alignsWith(e.bounds),r.dirty(e),u.union(nm(e,s))})),n&&(u.clear(),i.items.forEach((function(e){return u.union(e.bounds)})));return $g(i),t.modifies("bounds")};function rm(e){tr.call(this,0,e)}function im(e){tr.call(this,null,e)}function om(e){tr.call(this,null,e)}rm.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(p.y)(rm,tr).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,(function(e){e[i]||(e[i]=++r)})),n.set(this.value=r),t},Object(p.y)(im,tr).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r="group"===n.marktype?Ns:Fs;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t};var am=Object(p.y)(om,tr),sm={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&um(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}};function um(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function lm(e,t){for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(um(o,n=e[r].bounds,t))return!0}function cm(e){var t=e.bounds;return t.width()>1&&t.height()>1}function dm(e){return e.forEach((function(e){return e.opacity=1})),e}function fm(e,t){return e.reflow(t.modified()).modifies("opacity")}function hm(e){tr.call(this,null,e)}am.transform=function(e,t){var n,r,i,o=sm[e.method]||sm.parity,a=t.materialize(t.SOURCE).source,s=e.separation||0;if(a&&a.length){if(!e.method)return e.modified("method")&&(dm(a),t=fm(t,e)),t;if((a=a.filter(cm)).length){if(e.sort&&(a=a.slice().sort(e.sort)),n=dm(a),t=fm(t,e),n.length>=3&&lm(n,s)){do{n=o(n,s)}while(n.length>=3&&lm(n,s));n.length<3&&!Object(p.U)(a).opacity&&(n.length>1&&(Object(p.U)(n).opacity=0),Object(p.U)(a).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new Ps;return t===Cs||"bottom"===t?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),a.forEach((function(e){r(e)||(e.opacity=0)}))),i=n[0].mark.bounds.clear(),a.forEach((function(e){e.opacity&&i.union(e.bounds)})),t}}},Object(p.y)(hm,tr).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var pm=new Ps;function gm(e,t,n){return e[t]===n?0:(e[t]=n,1)}function mm(e){var t=e.items[0].datum.orient;return t===ks||t===Es}function vm(e,t,n,r){var i,o,a=t.items[0],s=a.datum,u=s.orient,l=null!=s.translate?s.translate:.5,c=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),d=a.range,f=a.offset,h=a.position,p=a.minExtent,g=a.maxExtent,m=s.title&&a.items[c[2]].items[0],v=a.titlePadding,b=a.bounds,y=m&&vd(m),_=0,x=0;switch(pm.clear().union(b),b.clear(),(i=c[0])>-1&&b.union(a.items[i].bounds),(i=c[1])>-1&&b.union(a.items[i].bounds),u){case Cs:_=h||0,x=-f,o=Math.max(p,Math.min(g,-b.y1)),b.add(0,-o).add(d,0),m&&bm(e,m,o,v,y,0,-1,b);break;case ks:_=-f,x=h||0,o=Math.max(p,Math.min(g,-b.x1)),b.add(-o,0).add(0,d),m&&bm(e,m,o,v,y,1,-1,b);break;case Es:_=n+f,x=h||0,o=Math.max(p,Math.min(g,b.x2)),b.add(0,0).add(o,d),m&&bm(e,m,o,v,y,1,1,b);break;case"bottom":_=h||0,x=r+f,o=Math.max(p,Math.min(g,b.y2)),b.add(0,0).add(d,o),m&&bm(e,m,o,v,0,0,1,b);break;default:_=a.x,x=a.y}return Gl(b.translate(_,x),a),gm(a,"x",_+l)|gm(a,"y",x+l)&&(a.bounds=pm,e.dirty(a),a.bounds=b,e.dirty(a)),a.mark.bounds.clear().union(b)}function bm(e,t,n,r,i,o,a,s){var u=t.bounds;if(t.auto){var l=a*(n+i+r),c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=l):d=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-d)),e.dirty(t)}s.union(u)}var ym=n(28),_m=function(e,t){return Math.floor(Math.min(e,t))},xm=function(e,t){return Math.ceil(Math.max(e,t))};function Sm(e){return(new Ps).set(0,0,e.width||0,e.height||0)}function wm(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Cm(e,t,n){var r=Object(p.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function km(e){return e<0?Math.ceil(-e):0}function Em(e,t,n){var r,i,o,a,s,u,l,c,d,f,h,p=!n.nodirty,g="flush"===n.bounds?Sm:wm,m=pm.set(0,0,0,0),v=Cm(n.align,"column"),b=Cm(n.align,Ts),y=Cm(n.padding,"column"),_=Cm(n.padding,Ts),x=n.columns||t.length,S=x<0?1:Math.ceil(t.length/x),w=t.length,C=Array(w),k=Array(x),E=0,O=Array(w),T=Array(S),P=0,I=Array(w),D=Array(w),A=Array(w);for(i=0;i<x;++i)k[i]=0;for(i=0;i<S;++i)T[i]=0;for(i=0;i<w;++i)u=t[i],s=A[i]=g(u),u.x=u.x||0,I[i]=0,u.y=u.y||0,D[i]=0,o=i%x,a=~~(i/x),E=Math.max(E,l=Math.ceil(s.x2)),P=Math.max(P,c=Math.ceil(s.y2)),k[o]=Math.max(k[o],l),T[a]=Math.max(T[a],c),C[i]=y+km(s.x1),O[i]=_+km(s.y1),p&&e.dirty(t[i]);for(i=0;i<w;++i)i%x===0&&(C[i]=0),i<x&&(O[i]=0);if("each"===v)for(o=1;o<x;++o){for(h=0,i=o;i<w;i+=x)h<C[i]&&(h=C[i]);for(i=o;i<w;i+=x)C[i]=h+k[o-1]}else if("all"===v){for(h=0,i=0;i<w;++i)i%x&&h<C[i]&&(h=C[i]);for(i=0;i<w;++i)i%x&&(C[i]=h+E)}else for(v=!1,o=1;o<x;++o)for(i=o;i<w;i+=x)C[i]+=k[o-1];if("each"===b)for(a=1;a<S;++a){for(h=0,r=(i=a*x)+x;i<r;++i)h<O[i]&&(h=O[i]);for(i=a*x;i<r;++i)O[i]=h+T[a-1]}else if("all"===b){for(h=0,i=x;i<w;++i)h<O[i]&&(h=O[i]);for(i=x;i<w;++i)O[i]=h+P}else for(b=!1,a=1;a<S;++a)for(r=(i=a*x)+x;i<r;++i)O[i]+=T[a-1];for(d=0,i=0;i<w;++i)d=C[i]+(i%x?d:0),I[i]+=d-t[i].x;for(o=0;o<x;++o)for(f=0,i=o;i<w;i+=x)f+=O[i],D[i]+=f-t[i].y;if(v&&Cm(n.center,"column")&&S>1)for(i=0;i<w;++i)(d=(s="all"===v?E:k[i%x])-A[i].x2-t[i].x-I[i])>0&&(I[i]+=d/2);if(b&&Cm(n.center,Ts)&&1!==x)for(i=0;i<w;++i)(f=(s="all"===b?P:T[~~(i/x)])-A[i].y2-t[i].y-D[i])>0&&(D[i]+=f/2);for(i=0;i<w;++i)m.union(A[i].translate(I[i],D[i]));switch(d=Cm(n.anchor,"x"),f=Cm(n.anchor,"y"),Cm(n.anchor,"column")){case Os:d-=m.width();break;case"middle":d-=m.width()/2}switch(Cm(n.anchor,Ts)){case Os:f-=m.height();break;case"middle":f-=m.height()/2}for(d=Math.round(d),f=Math.round(f),m.clear(),i=0;i<w;++i)t[i].mark.bounds.clear();for(i=0;i<w;++i)(u=t[i]).x+=I[i]+=d,u.y+=D[i]+=f,m.union(u.mark.bounds.union(u.bounds.translate(I[i],D[i]))),p&&e.dirty(u);return m}function Om(e,t,n){var r,i,o,a,s,u,l,c=function(e){for(var t,n,r,i,o,a,s,u=e.items,l=u.length,c=0,d={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};c<l;++c)if(s=(a=u[c]).items,"group"===a.marktype)switch(a.role){case"axis":case"legend":case"title":break;case"row-header":(t=d.rowheaders).push.apply(t,Object(ym.a)(s));break;case"row-footer":(n=d.rowfooters).push.apply(n,Object(ym.a)(s));break;case"column-header":(r=d.colheaders).push.apply(r,Object(ym.a)(s));break;case"column-footer":(i=d.colfooters).push.apply(i,Object(ym.a)(s));break;case"row-title":d.rowtitle=s[0];break;case"column-title":d.coltitle=s[0];break;default:(o=d.marks).push.apply(o,Object(ym.a)(s))}return d}(t),d=c.marks,f="flush"===n.bounds?Tm:Pm,h=n.offset,p=n.columns||d.length,g=p<0?1:Math.ceil(d.length/p),m=g*p,v=Em(e,d,n);c.rowheaders&&(u=Cm(n.headerBand,Ts,null),r=Im(e,c.rowheaders,d,p,g,-Cm(h,"rowHeader"),_m,0,f,"x1",0,p,1,u)),c.colheaders&&(u=Cm(n.headerBand,"column",null),i=Im(e,c.colheaders,d,p,p,-Cm(h,"columnHeader"),_m,1,f,"y1",0,1,p,u)),c.rowfooters&&(u=Cm(n.footerBand,Ts,null),o=Im(e,c.rowfooters,d,p,g,Cm(h,"rowFooter"),xm,0,f,"x2",p-1,p,1,u)),c.colfooters&&(u=Cm(n.footerBand,"column",null),a=Im(e,c.colfooters,d,p,p,Cm(h,"columnFooter"),xm,1,f,"y2",m-p,1,p,u)),c.rowtitle&&(s=Cm(n.titleAnchor,Ts),l=Cm(h,"rowTitle"),l=s===Os?o+l:r-l,u=Cm(n.titleBand,Ts,.5),Dm(e,c.rowtitle,l,0,v,u)),c.coltitle&&(s=Cm(n.titleAnchor,"column"),l=Cm(h,"columnTitle"),l=s===Os?a+l:i-l,u=Cm(n.titleBand,"column",.5),Dm(e,c.coltitle,l,1,v,u))}function Tm(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function Pm(e,t){return e.bounds[t]}function Im(e,t,n,r,i,o,a,s,u,l,c,d,f,h){var p,g,m,v,b,y,_,x,S,w=n.length,C=0,k=0;if(!w)return C;for(p=c;p<w;p+=d)n[p]&&(C=a(C,u(n[p],l)));if(!t.length)return C;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),C+=o,g=0,v=t.length;g<v;++g)e.dirty(t[g]),t[g].mark.bounds.clear();for(p=c,g=0,v=t.length;g<v;++g,p+=d){for(b=(y=t[g]).mark.bounds,m=p;m>=0&&null==(_=n[m]);m-=f);s?(x=null==h?_.x:Math.round(_.bounds.x1+h*_.bounds.width()),S=C):(x=C,S=null==h?_.y:Math.round(_.bounds.y1+h*_.bounds.height())),b.union(y.bounds.translate(x-(y.x||0),S-(y.y||0))),y.x=x,y.y=S,e.dirty(y),k=a(k,b[l])}return k}function Dm(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function Am(e,t,n,r,i,o,a){var s=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),u=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,s("offset",0)),l=s("anchor","start"),c=l===Os?1:"middle"===l?.5:0,d={align:"each",bounds:s("bounds","flush"),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case ks:d.anchor={x:Math.floor(r.x1)-u,column:Os,y:c*(a||r.height()+2*r.y1),row:l};break;case Es:d.anchor={x:Math.ceil(r.x2)+u,y:c*(a||r.height()+2*r.y1),row:l};break;case Cs:d.anchor={y:Math.floor(i.y1)-u,row:Os,x:c*(o||i.width()+2*i.x1),column:l};break;case"bottom":d.anchor={y:Math.ceil(i.y2)+u,x:c*(o||i.width()+2*i.x1),column:l};break;case"top-left":d.anchor={x:u,y:u};break;case"top-right":d.anchor={x:o-u,y:u,column:Os};break;case"bottom-left":d.anchor={x:u,y:a-u,row:Os};break;case"bottom-right":d.anchor={x:o-u,y:a-u,column:Os,row:Os}}return d}function Mm(e,t){var n,r,i=t.items[0],o=i.datum,a=i.orient,s=i.bounds,u=i.x,l=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(t.datum.title){var a=t.items[1].items[0],s=a.anchor,u=t.titlePadding||0,l=r-a.x,c=r-a.y;switch(a.orient){case ks:i+=Math.ceil(a.bounds.width())+u;break;case Es:case"bottom":break;default:o+=a.bounds.height()+u}switch((i||o)&&Rm(e,n,i,o),a.orient){case ks:c+=jm(t,n,a,s,1,1);break;case Es:l+=jm(t,n,a,Os,0,0)+u,c+=jm(t,n,a,s,1,1);break;case"bottom":l+=jm(t,n,a,s,0,0),c+=jm(t,n,a,Os,-1,0,1)+u;break;default:l+=jm(t,n,a,s,0,0)}(l||c)&&Rm(e,a,l,c),(l=Math.round(a.bounds.x1-r))<0&&(Rm(e,n,-l,0),Rm(e,a,-l,0))}else(i||o)&&Rm(e,n,i,o)}(e,i,i.items[0].items[0]),s=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),"symbol"===o.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),"none"!==a&&(i.x=u=0,i.y=l=0),i.width=n,i.height=r,Gl(s.set(u,l,u+n,l+r),i),i.mark.bounds.clear().union(s),i}function jm(e,t,n,r,i,o,a){var s="symbol"!==e.datum.type,u=n.datum.vgrad,l=(!s||!o&&u||a?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,c=u&&o?l:0,d=u&&o?0:l,f=i<=0?0:vd(n);return Math.round("start"===r?c:r===Os?d-f:.5*(l-f))}function Rm(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Fm(e){tr.call(this,null,e)}function Nm(e){tr.call(this,null,e)}function Lm(e){tr.call(this,null,e)}function Bm(){return O({})}function zm(e){return e.exit}function Um(e){tr.call(this,null,e)}function Hm(e){tr.call(this,[],e)}Object(p.y)(Fm,tr).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&Om(n,t,e.layout),function(e,t,n){var r,i,o,a,s,u=t.items,l=Math.max(0,t.width||0),c=Math.max(0,t.height||0),d=(new Ps).set(0,0,l,c),f=d.clone(),h=d.clone(),p=[];for(a=0,s=u.length;a<s;++a)switch((i=u[a]).role){case"axis":(mm(i)?f:h).union(vm(e,i,l,c));break;case"title":r=i;break;case"legend":p.push(Mm(e,i));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":f.union(i.bounds),h.union(i.bounds);break;default:d.union(i.bounds)}if(p.length){var g={};for(var m in p.forEach((function(e){"none"!==(o=e.orient||Es)&&(g[o]||(g[o]=[])).push(e)})),g){var v=g[m];Em(e,v,Am(v,m,n.legends,f,h,l,c))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case ks:case Es:d.add(r.x1,0).add(r.x2,0);break;case Cs:case"bottom":d.add(0,r.y1).add(0,r.y2)}else d.union(r)}))}d.union(f).union(h),r&&d.union(function(e,t,n,r,i){var o,a=t.items[0],s=a.frame,u=a.orient,l=a.anchor,c=a.offset,d=a.padding,f=a.items[0].items[0],h=a.items[1]&&a.items[1].items[0],p=u===ks||u===Es?r:n,g=0,m=0,v=0,b=0,y=0;if("group"!==s?u===ks?(g=i.y2,p=i.y1):u===Es?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):u===ks&&(g=r,p=0),o="start"===l?g:l===Os?p:(g+p)/2,h&&h.text){switch(u){case Cs:case"bottom":y=f.bounds.height()+d;break;case ks:b=f.bounds.width()+d;break;case Es:b=-f.bounds.width()-d}pm.clear().union(h.bounds),pm.translate(b-(h.x||0),y-(h.y||0)),gm(h,"x",b)|gm(h,"y",y)&&(e.dirty(h),h.bounds.clear().union(pm),h.mark.bounds.clear().union(pm),e.dirty(h)),pm.clear().union(h.bounds)}else pm.clear();switch(pm.union(f.bounds),u){case Cs:m=o,v=i.y1-pm.height()-c;break;case ks:m=i.x1-pm.width()-c,v=o;break;case Es:m=i.x2+pm.width()+c,v=o;break;case"bottom":m=o,v=i.y2+c;break;default:m=a.x,v=a.y}return gm(a,"x",m)|gm(a,"y",v)&&(pm.translate(m,v),e.dirty(a),a.bounds.clear().union(pm),t.bounds.clear().union(pm),e.dirty(a)),a.bounds}(e,r,l,c,d));t.clip&&d.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;var a=e._width,s=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,Math.ceil(n.x2-u)),d=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-d));if("padding"===i.contains){var p=e.padding();a-=p.left+p.right,s-=p.top+p.bottom}"none"===o?(l=0,f=0,u=a,d=s):"fit"===o?(u=Math.max(0,a-l-c),d=Math.max(0,s-f-h)):"fit-x"===o?(u=Math.max(0,a-l-c),s=d+f+h):"fit-y"===o?(a=u+l+c,d=Math.max(0,s-f-h)):"pad"===o&&(a=u+l+c,s=d+f+h);e._resizeView(a,s,u,d,[l,f],i.resize)}(e,t,d,n)}(n,t,e)})),e.modified()&&t.reflow(),t},Object(p.y)(Nm,tr).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,o=$p(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),a=e.format||tg(i,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?Jp(i,e.values,o):eg(i,o);return r&&(n.rem=r),r=s.map((function(e,t){return O({index:t/(s.length-1||1),value:e,label:a(e)})})),e.extra&&r.length&&r.push(O({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n},Object(p.y)(Lm,tr).transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Bm,o=e.key||k,a=this.value;return Object(p.A)(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&Object(p.n)("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=Object(p.s)().test(zm),a.lookup=function(e){return a.get(o(e))}),t.visit(t.ADD,(function(e){var t=o(e),n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(a.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=o(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=o(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&a.empty>n.cleanThreshold&&n.runAfter(a.clean),r},Object(p.y)(Um,tr).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Object(p.A)(o)){if(!n.changed()&&!o.every((function(e){return i[e]})))return t.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,s=i.update||p.r,u=i.enter||p.r,l=i.exit||p.r,c=(o&&!a?i[o]:s)||p.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){u(t,e),s(t,e)})),n.modifies(u.output),n.modifies(s.output),c!==p.r&&c!==s&&(t.visit(t.ADD,(function(t){c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&l!==p.r&&(t.visit(t.REM,(function(t){l(t,e)})),n.modifies(l.output)),a||c!==p.r){var d=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(d,(function(t){var i=u(t,e)||r;(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(u.output)):t.visit(d,(function(t){(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation},Object(p.y)(Hm,tr).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,o,a,s=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,l=e.type||"symbol",c=e.scale,d=+e.limit,f=$p(c,null==e.count?5:e.count,e.minstep),h=!!e.values||"symbol"===l,g=e.format||og(c,f,l,e.formatSpecifier,e.formatType,h),m=e.values||ig(c,f);return u&&(s.rem=u),"symbol"===l?(d&&m.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),u=m.slice(0,d-1),a=!0):u=m,Object(p.D)(i=e.size)?(e.values||0!==c(u[0])||(u=u.slice(1)),o=u.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Object(p.l)(o=i||8),u=u.map((function(t,n){return O({index:n,label:g(t,n,u),value:t,offset:o,size:i(t,e)})})),a&&(a=m[u.length],u.push(O({index:u.length,label:"\u2026".concat(m.length-u.length," entries"),value:a,offset:o,size:i(a,e)})))):"gradient"===l?(n=c.domain(),r=Vp(c,n[0],Object(p.U)(n)),m.length<3&&!e.values&&n[0]!==Object(p.U)(n)&&(m=[n[0],Object(p.U)(n)]),u=m.map((function(e,t){return O({index:t,label:g(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(p.U)(t),o=i-r;if("threshold"===e.type){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(e){return(e-r)/o}}(c),u=m.map((function(e,t){return O({index:t,label:g(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),s.source=u,s.add=u,this.value=u,s};var Vm=Object(p.s)({line:Xm,"line-radial":function(e,t,n,r){return Xm(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:Zm,"arc-radial":function(e,t,n,r){return Zm(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:Qm,"curve-radial":function(e,t,n,r){return Qm(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*o+"C"+u*i+","+u*o+" "+u*a+","+u*s+" "+r*a+","+r*s}});function Wm(e){return e.source.x}function Gm(e){return e.source.y}function Km(e){return e.target.x}function qm(e){return e.target.y}function Ym(e){tr.call(this,{},e)}function Xm(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function Zm(e,t,n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r}function Qm(e,t,n,r){var i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r}function $m(e,t){var n=0;if(void 0===t){var r,i=Object(pr.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,u=Object(pr.a)(e);try{for(u.s();!(a=u.n()).done;){var l=a.value;(l=+t(l,++s,e))&&(n+=l)}}catch(c){u.e(c)}finally{u.f()}}return n}function Jm(e){tr.call(this,null,e)}Ym.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(p.y)(Ym,tr).transform=function(e,t){var n=e.sourceX||Wm,r=e.sourceY||Gm,i=e.targetX||Km,o=e.targetY||qm,a=e.as||"path",s=e.orient||"vertical",u=e.shape||"line",l=Vm.get(u+"-"+s)||Vm.get(u);return l||Object(p.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[a]=l(n(e),r(e),i(e),o(e))})),t.reflow(e.modified()).modifies(a)},Jm.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(p.y)(Jm,tr).transform=function(e,t){var n,r,i,o=e.as||["startAngle","endAngle"],a=o[0],s=o[1],u=e.field||p.O,l=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,d=t.source,f=d.map(u),h=f.length,g=l,m=(c-l)/$m(f),v=wo(h);for(e.sort&&v.sort((function(e,t){return f[e]-f[t]})),n=0;n<h;++n)i=f[v[n]],(r=d[v[n]])[a]=g,r[s]=g+=i*m;return this.value=f,t.reflow(e.modified()).modifies(o)};function ev(e){return zh(e)&&"sequential"!==e}var tv=Object(p.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function nv(e){tr.call(this,null,e),this.modified(!0)}function rv(e,t,n){Vh(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(p.Z)(t)));return t}function iv(e,t,n){return Object(p.D)(e)&&(t||n)?zp(e,ov(t||[0,1],n)):e}function ov(e,t){return t?e.slice().reverse():e}function av(e){tr.call(this,null,e)}Object(p.y)(nv,tr).transform=function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if("sequential"===n)return"sequential-linear";(function(e){var t=e.type;return zh(t)&&t!==lf&&t!==cf&&(e.scheme||e.range&&e.range.length&&e.range.every(p.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?"sequential-":3===t?"diverging-":"");return(r+n||"linear").toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=Nh(i)()),e)if(!tv[i]){if("padding"===i&&ev(r.type))continue;Object(p.D)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){"band"!==e&&"point"!==e&&Object(p.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i="point"===e?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*sf(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i,o=t.schemeExtent;Object(p.A)(t.scheme)?i=Up(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Yp(r))||Object(p.n)("Unrecognized scheme name: ".concat(t.scheme)));return n="threshold"===e?n+1:"bin-ordinal"===e?n-1:"quantile"===e||"quantize"===e?+t.schemeCount||5:n,Wh(e)?iv(i,o,t.reverse):Object(p.D)(i)?Hp(iv(i,o),n):"ordinal"===e?i:i.slice(0,n)}(r,t,n),Object(p.D)(o))){if(e.interpolator)return e.interpolator(o);Object(p.n)("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&Wh(r))return e.interpolator(Up(ov(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(Wp(t.interpolate,t.interpolateGamma)):Object(p.D)(e.round)?e.round(i):Object(p.D)(e.rangeRound)&&e.interpolate(i?$f:Qf);o&&e.range(ov(o,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(p.A)(r)){var i=e.domain(),o=i[0],a=Object(p.U)(i),s=null==r.start?o:r.start,u=null==r.stop?a:r.stop,l=r.step;l||Object(p.n)("Scale bins parameter missing step property."),s<o&&(s=l*Math.ceil(o/l)),u>a&&(u=l*Math.floor(a/l)),r=wo(s,u+l/2,l)}r?e.bins=r:e.bins&&delete e.bins;"bin-ordinal"===e.type&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(rv(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,o,a=t.domain,s=e.type,u=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&("linear"===t||"pow"===t||"sqrt"===t)}(e);if(!a)return 0;ev(s)&&t.padding&&a[0]!==Object(p.U)(a)&&(a=function(e,t,n,r,i,o){var a=Math.abs(Object(p.U)(n)-n[0]),s=a/(a-2*r),u=e===uf?Object(p.mb)(t,null,s):"sqrt"===e?Object(p.nb)(t,null,s,.5):"pow"===e?Object(p.nb)(t,null,s,i||1):"symlog"===e?Object(p.ob)(t,null,s,o||1):Object(p.lb)(t,null,s);return(t=t.slice())[0]=u[0],t[t.length-1]=u[1],t}(s,a,t.range,t.padding,t.exponent,t.constant));(u||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,u&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid&&(((o=t.domainMid)<a[0]||o>a[i])&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(i,0,o)));e.domain(rv(s,a,n)),"ordinal"===s&&e.unknown(t.domainImplicit?bf:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&$p(e,t.nice)||null);return a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Object(p.y)(av,tr).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(D(e.sort)),this.modified(n),t};var sv=["y0","y1"];function uv(e){tr.call(this,null,e)}function lv(e,t,n,r,i){for(var o,a=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(o=e[u])[r]=a,o[i]=a+=Math.abs(n(o))}function cv(e,t,n,r,i){for(var o,a=1/e.sum,s=0,u=e.length,l=0,c=0;l<u;++l)(o=e[l])[r]=s,o[i]=s=a*(c+=Math.abs(n(o)))}function dv(e,t,n,r,i){for(var o,a,s=0,u=0,l=e.length,c=0;c<l;++c)(o=+n(a=e[c]))<0?(a[r]=u,a[i]=u+=o):(a[r]=s,a[i]=s+=o)}function fv(){}uv.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:sv}]},Object(p.y)(uv,tr).transform=function(e,t){var n,r,i,o,a=e.as||sv,s=a[0],u=a[1],l=D(e.sort),c=e.field||p.O,d="center"===e.offset?lv:"normalize"===e.offset?cv:dv;for(n=function(e,t,n,r){var i,o,a,s,u,l,c,d,f,h=[],p=function(e){return e(u)};if(null==t)h.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)u=e[o],l=t.map(p),(c=i[l])||(i[l]=c=[],h.push(c)),c.push(u);for(l=0,f=0,s=h.length;l<s;++l){for(c=h[l],o=0,d=0,a=c.length;o<a;++o)d+=Math.abs(r(c[o]));c.sum=d,d>f&&(f=d),n&&c.sort(n)}return h.max=f,h}(t.source,e.groupby,l,c),r=0,i=n.length,o=n.max;r<i;++r)d(n[r],o,c,s,u);return t.reflow(e.modified()).modifies(a)};var hv=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],pv=function(){var e=1,t=1,n=a;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var a=[],s=[];return function(n,r,i){var a,s,u,l,c,d,f=new Array,h=new Array;a=s=-1,l=n[0]>=r,hv[l<<1].forEach(p);for(;++a<e-1;)u=l,l=n[a+1]>=r,hv[u|l<<1].forEach(p);hv[l<<0].forEach(p);for(;++s<t-1;){for(a=-1,l=n[s*e+e]>=r,c=n[s*e]>=r,hv[l<<1|c<<2].forEach(p);++a<e-1;)u=l,l=n[s*e+e+a+1]>=r,d=c,c=n[s*e+a+1]>=r,hv[u|l<<1|c<<2|d<<3].forEach(p);hv[l|c<<3].forEach(p)}a=-1,c=n[s*e]>=r,hv[c<<2].forEach(p);for(;++a<e-1;)d=c,c=n[s*e+a+1]>=r,hv[c<<2|d<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],u=[e[1][0]+a,e[1][1]+s],l=o(r),c=o(u);(t=h[l])?(n=f[c])?(delete h[t.end],delete f[n.start],t===n?(t.ring.push(u),i(t.ring)):f[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=c]=t):(t=f[c])?(n=h[l])?(delete f[t.start],delete h[n.end],t===n?(t.ring.push(u),i(t.ring)):f[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=l]=t):f[l]=h[c]={start:l,end:c,ring:[r,u]}}hv[c<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==gv((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],u=0|a,l=0|s,c=r[l*e+u];a>0&&a<e&&u===a&&(o=r[l*e+u-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&l===s&&(o=r[(l-1)*e+u],n[1]=s+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);return i>0&&o>0||Object(p.n)("invalid size"),e=i,t=o,r},r.smooth=function(e){return arguments.length?(n=e?a:fv,r):n===a},r};function gv(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=mv(e,t[r]))return n;return 0}function mv(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var u=e[o],l=u[0],c=u[1],d=e[s],f=d[0],h=d[1];if(vv(u,d,t))return 0;c>r!==h>r&&n<(f-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function vv(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}var bv=function(e,t,n){return function(r){var i=Object(p.p)(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,u=t?es(o,a,e):s/(e+1);return wo(u,a,u)}};function yv(e){tr.call(this,null,e)}function _v(e,t,n,r,i){var o=e.x1||0,a=e.y1||0,s=t*n<0;function u(e){e.forEach(l)}function l(e){s&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(u),e}}function xv(e,t,n){var r=e>=0?e:Tr(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Sv(e){return Object(p.D)(e)?e:Object(p.l)(+e)}yv.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(p.y)(yv,tr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||p.x,o=pv().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){var r=bv(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return br(t(e).values)})))}(r,i,e),s=null===e.as?null:e.as||"contour",u=[];return r.forEach((function(t){var n=i(t),r=o.size([n.width,n.height])(n.values,Object(p.A)(a)?a:a(n.values));!function(e,t,n,r){var i=r.scale||t.scale,o=r.translate||t.translate;Object(p.D)(i)&&(i=i(n,r));Object(p.D)(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;var a=(Object(p.E)(i)?i:i[0])||1,s=(Object(p.E)(i)?i:i[1])||1,u=o&&o[0]||0,l=o&&o[1]||0;e.forEach(_v(t,a,s,u,l))}(r,n,t,e),r.forEach((function(e){u.push(P(t,O(null!=s?Object(oa.a)({},s,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n};var wv=function(){var e=function(e){return e[0]},t=function(e){return e[1]},n=p.O,r=[-1,-1],i=960,o=500,a=2;function s(s,u){var l=xv(r[0],s,e)>>a,c=xv(r[1],s,t)>>a,d=l?l+2:0,f=c?c+2:0,h=2*d+(i>>a),p=2*f+(o>>a),g=new Float32Array(h*p),m=new Float32Array(h*p),v=g;s.forEach((function(r){var i=d+(+e(r)>>a),o=f+(+t(r)>>a);i>=0&&i<h&&o>=0&&o<p&&(g[i+o*h]+=+n(r))})),l>0&&c>0?(Cv(h,p,g,m,l),kv(h,p,m,g,c),Cv(h,p,g,m,l),kv(h,p,m,g,c),Cv(h,p,g,m,l),kv(h,p,m,g,c)):l>0?(Cv(h,p,g,m,l),Cv(h,p,m,g,l),Cv(h,p,g,m,l),v=m):c>0&&(kv(h,p,g,m,c),kv(h,p,m,g,c),kv(h,p,g,m,c),v=m);for(var b=u?Math.pow(2,-2*a):1/$m(v),y=0,_=h*p;y<_;++y)v[y]*=b;return{values:v,scale:1<<a,width:h,height:p,x1:d,y1:f,x2:d+(i>>a),y2:f+(o>>a)}}return s.x=function(t){return arguments.length?(e=Sv(t),s):e},s.y=function(e){return arguments.length?(t=Sv(e),s):t},s.weight=function(e){return arguments.length?(n=Sv(e),s):n},s.size=function(e){if(!arguments.length)return[i,o];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);return t>=0||n>=0||Object(p.n)("invalid size"),i=t,o=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(p.n)("invalid cell size"),a=Math.floor(Math.log(e)/Math.LN2),s):1<<a},s.bandwidth=function(e){return arguments.length?(1===(e=Object(p.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(p.n)("invalid bandwidth"),r=e,s):r},s};function Cv(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<t;++a)for(var s=0,u=0;s<e+i;++s)s<e&&(u+=n[s+a*e]),s>=i&&(s>=o&&(u-=n[s-o+a*e]),r[s-i+a*e]=u/Math.min(s+1,e-1+o-s,o))}function kv(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<e;++a)for(var s=0,u=0;s<t+i;++s)s<t&&(u+=n[a+s*e]),s>=i&&(s>=o&&(u-=n[a+(s-o)*e]),r[a+(s-i)*e]=u/Math.min(s+1,t-1+o-s,o))}function Ev(e){tr.call(this,null,e)}Ev.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var Ov=Object(p.y)(Ev,tr),Tv=["x","y","weight","size","cellSize","bandwidth"];function Pv(e,t){return Tv.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function Iv(e){tr.call(this,null,e)}Ov.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,o,a,s,u=[],l=function(e){return e(o)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],a=t.map(l),(s=n[a])||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(p.h),a=Pv(wv(),e),s=e.as||"grid";return n=i.map((function(t){return O(function(e,t){for(var n=0;n<o.length;++n)e[o[n]]=t[n];return e}(Object(oa.a)({},s,a(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r},Iv.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(p.y)(Iv,tr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=pv().smooth(!1!==e.smooth),a=e.values,s=e.thresholds||bv(e.count||10,e.nice,!!a),u=e.size;return a||(a=t.materialize(t.SOURCE).source,r=_v(n=Pv(wv(),e)(a,!0),n.scale||1,n.scale||1,0,0),u=[n.width,n.height],a=n.values),s=Object(p.A)(s)?s:s(a),a=o.size(u)(a,s),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(O),i};function Dv(e){tr.call(this,null,e)}Dv.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(p.y)(Dv,tr).transform=function(e,t){var n,r=this._features,i=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],u=e.geojson||!o&&p.x,l=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(p.g)(u))||a&&t.modified(Object(p.g)(a))||s&&t.modified(Object(p.g)(s)),this.value&&!n||(l=t.SOURCE,this._features=r=[],this._points=i=[]),u&&t.visit(l,(function(e){r.push(u(e))})),a&&s&&(t.visit(l,(function(e){var t=a(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:"FeatureCollection",features:r}};var Av=function(e){return e};function Mv(e,t){e&&Rv.hasOwnProperty(e.type)&&Rv[e.type](e,t)}var jv={Feature:function(e,t){Mv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Mv(n[r].geometry,t)}},Rv={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Fv(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Fv(n[r],t,0)},Polygon:function(e,t){Nv(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nv(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Mv(n[r],t)}};function Fv(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Nv(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Fv(e[n],t,1);t.polygonEnd()}var Lv=function(e,t){e&&jv.hasOwnProperty(e.type)?jv[e.type](e,t):Mv(e,t)},Bv=function(){return new zv};function zv(){this.reset()}zv.prototype={constructor:zv,reset:function(){this.s=this.t=0},add:function(e){Hv(Uv,e,this.t),Hv(this,Uv.s,this.s),this.s?this.t+=Uv.t:this.s=Uv.t},valueOf:function(){return this.s}};var Uv=new zv;function Hv(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var Vv=Math.PI,Wv=Vv/2,Gv=Vv/4,Kv=2*Vv,qv=180/Vv,Yv=Vv/180,Xv=Math.abs,Zv=Math.atan,Qv=Math.atan2,$v=Math.cos,Jv=Math.ceil,eb=Math.exp,tb=(Math.floor,Math.log),nb=Math.pow,rb=Math.sin,ib=Math.sign||function(e){return e>0?1:e<0?-1:0},ob=Math.sqrt,ab=Math.tan;function sb(e){return e>1?0:e<-1?Vv:Math.acos(e)}function ub(e){return e>1?Wv:e<-1?-Wv:Math.asin(e)}function lb(){}var cb,db,fb,hb,pb=Bv(),gb=Bv(),mb={point:lb,lineStart:lb,lineEnd:lb,polygonStart:function(){mb.lineStart=vb,mb.lineEnd=_b},polygonEnd:function(){mb.lineStart=mb.lineEnd=mb.point=lb,pb.add(Xv(gb)),gb.reset()},result:function(){var e=pb/2;return pb.reset(),e}};function vb(){mb.point=bb}function bb(e,t){mb.point=yb,cb=fb=e,db=hb=t}function yb(e,t){gb.add(hb*e-fb*t),fb=e,hb=t}function _b(){yb(cb,db)}var xb=mb,Sb=1/0,wb=Sb,Cb=-Sb,kb=Cb;var Eb,Ob,Tb,Pb,Ib={point:function(e,t){e<Sb&&(Sb=e);e>Cb&&(Cb=e);t<wb&&(wb=t);t>kb&&(kb=t)},lineStart:lb,lineEnd:lb,polygonStart:lb,polygonEnd:lb,result:function(){var e=[[Sb,wb],[Cb,kb]];return Cb=kb=-(wb=Sb=1/0),e}},Db=0,Ab=0,Mb=0,jb=0,Rb=0,Fb=0,Nb=0,Lb=0,Bb=0,zb={point:Ub,lineStart:Hb,lineEnd:Gb,polygonStart:function(){zb.lineStart=Kb,zb.lineEnd=qb},polygonEnd:function(){zb.point=Ub,zb.lineStart=Hb,zb.lineEnd=Gb},result:function(){var e=Bb?[Nb/Bb,Lb/Bb]:Fb?[jb/Fb,Rb/Fb]:Mb?[Db/Mb,Ab/Mb]:[NaN,NaN];return Db=Ab=Mb=jb=Rb=Fb=Nb=Lb=Bb=0,e}};function Ub(e,t){Db+=e,Ab+=t,++Mb}function Hb(){zb.point=Vb}function Vb(e,t){zb.point=Wb,Ub(Tb=e,Pb=t)}function Wb(e,t){var n=e-Tb,r=t-Pb,i=ob(n*n+r*r);jb+=i*(Tb+e)/2,Rb+=i*(Pb+t)/2,Fb+=i,Ub(Tb=e,Pb=t)}function Gb(){zb.point=Ub}function Kb(){zb.point=Yb}function qb(){Xb(Eb,Ob)}function Yb(e,t){zb.point=Xb,Ub(Eb=Tb=e,Ob=Pb=t)}function Xb(e,t){var n=e-Tb,r=t-Pb,i=ob(n*n+r*r);jb+=i*(Tb+e)/2,Rb+=i*(Pb+t)/2,Fb+=i,Nb+=(i=Pb*e-Tb*t)*(Tb+e),Lb+=i*(Pb+t),Bb+=3*i,Ub(Tb=e,Pb=t)}var Zb=zb;function Qb(e){this._context=e}Qb.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Kv)}},result:lb};var $b,Jb,ey,ty,ny,ry=Bv(),iy={point:lb,lineStart:function(){iy.point=oy},lineEnd:function(){$b&&ay(Jb,ey),iy.point=lb},polygonStart:function(){$b=!0},polygonEnd:function(){$b=null},result:function(){var e=+ry;return ry.reset(),e}};function oy(e,t){iy.point=ay,Jb=ty=e,ey=ny=t}function ay(e,t){ty-=e,ny-=t,ry.add(ob(ty*ty+ny*ny)),ty=e,ny=t}var sy=iy;function uy(){this._string=[]}function ly(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}uy.prototype={_radius:4.5,_circle:ly(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=ly(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var cy=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Lv(e,n(r))),r.result()}return o.area=function(e){return Lv(e,n(xb)),xb.result()},o.measure=function(e){return Lv(e,n(sy)),sy.result()},o.bounds=function(e){return Lv(e,n(Ib)),Ib.result()},o.centroid=function(e){return Lv(e,n(Zb)),Zb.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Av):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new uy):new Qb(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},dy=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:lb,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},fy=function(e,t){return Xv(e[0]-t[0])<1e-6&&Xv(e[1]-t[1])<1e-6};function hy(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var py=function(e,t,n,r,i){var o,a,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(fy(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new hy(r,e,null,!0)),u.push(n.o=new hy(r,null,n,!1)),s.push(n=new hy(a,e,null,!1)),u.push(n.o=new hy(a,null,n,!0))}})),s.length){for(u.sort(t),gy(s),gy(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,d=s[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,h=!h}while(!f.v);i.lineEnd()}}};function gy(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function my(e){return[Qv(e[1],e[0]),ub(e[2])]}function vy(e){var t=e[0],n=e[1],r=$v(n);return[r*$v(t),r*rb(t),rb(n)]}function by(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yy(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function _y(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xy(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Sy(e){var t=ob(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var wy=Bv();function Cy(e){return Xv(e[0])<=Vv?e[0]:ib(e[0])*((Xv(e[0])+Vv)%Kv-Vv)}var ky=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var Ey=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return ky(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}(ky);Ey.right,Ey.left;var Oy=Array.prototype,Ty=(Oy.slice,Oy.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Py=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var Iy=function(e,t,n,r){return function(i){var o,a,s,u=t(i),l=dy(),c=t(l),d=!1,f={point:h,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=b,f.lineEnd=y,a=[],o=[]},polygonEnd:function(){f.point=h,f.lineStart=g,f.lineEnd=m,a=Py(a);var e=function(e,t){var n=Cy(t),r=t[1],i=rb(r),o=[rb(n),-$v(n),0],a=0,s=0;wy.reset(),1===i?r=Wv+1e-6:-1===i&&(r=-Wv-1e-6);for(var u=0,l=e.length;u<l;++u)if(d=(c=e[u]).length)for(var c,d,f=c[d-1],h=Cy(f),p=f[1]/2+Gv,g=rb(p),m=$v(p),v=0;v<d;++v,h=y,g=x,m=S,f=b){var b=c[v],y=Cy(b),_=b[1]/2+Gv,x=rb(_),S=$v(_),w=y-h,C=w>=0?1:-1,k=C*w,E=k>Vv,O=g*x;if(wy.add(Qv(O*C*rb(k),m*S+O*$v(k))),a+=E?w+C*Kv:w,E^h>=n^y>=n){var T=yy(vy(f),vy(b));Sy(T);var P=yy(o,T);Sy(P);var I=(E^w>=0?-1:1)*ub(P[2]);(r>I||r===I&&(T[0]||T[1]))&&(s+=E^w>=0?1:-1)}}return(a<-1e-6||a<1e-6&&wy<-1e-6)^1&s}(o,r);a.length?(d||(i.polygonStart(),d=!0),py(a,Ay,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){u.point(e,t)}function g(){f.point=p,u.lineStart()}function m(){f.point=h,u.lineEnd()}function v(e,t){s.push([e,t]),c.point(e,t)}function b(){c.lineStart(),s=[]}function y(){v(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,u=c.clean(),f=l.result(),h=f.length;if(s.pop(),o.push(s),s=null,h)if(1&u){if((t=(n=f[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&u&&f.push(f.pop().concat(f.shift())),a.push(f.filter(Dy))}return f}};function Dy(e){return e.length>1}function Ay(e,t){return((e=e.x)[0]<0?e[1]-Wv-1e-6:Wv-e[1])-((t=t.x)[0]<0?t[1]-Wv-1e-6:Wv-t[1])}var My=Iy((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Vv:-Vv,u=Xv(o-n);Xv(u-Vv)<1e-6?(e.point(n,r=(r+a)/2>0?Wv:-Wv),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Vv&&(Xv(n-i)<1e-6&&(n-=1e-6*i),Xv(o-s)<1e-6&&(o-=1e-6*s),r=function(e,t,n,r){var i,o,a=rb(e-n);return Xv(a)>1e-6?Zv((rb(t)*(o=$v(r))*rb(n)-rb(r)*(i=$v(t))*rb(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Wv,r.point(-Vv,i),r.point(0,i),r.point(Vv,i),r.point(Vv,0),r.point(Vv,-i),r.point(0,-i),r.point(-Vv,-i),r.point(-Vv,0),r.point(-Vv,i);else if(Xv(e[0]-t[0])>1e-6){var o=e[0]<t[0]?Vv:-Vv;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Vv,-Wv]);var jy=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function Ry(e,t){return[Xv(e)>Vv?e+Math.round(-e/Kv)*Kv:e,t]}function Fy(e,t,n){return(e%=Kv)?t||n?jy(Ly(e),By(t,n)):Ly(e):t||n?By(t,n):Ry}function Ny(e){return function(t,n){return[(t+=e)>Vv?t-Kv:t<-Vv?t+Kv:t,n]}}function Ly(e){var t=Ny(e);return t.invert=Ny(-e),t}function By(e,t){var n=$v(e),r=rb(e),i=$v(t),o=rb(t);function a(e,t){var a=$v(t),s=$v(e)*a,u=rb(e)*a,l=rb(t),c=l*n+s*r;return[Qv(u*i-c*o,s*n-l*r),ub(c*i+u*o)]}return a.invert=function(e,t){var a=$v(t),s=$v(e)*a,u=rb(e)*a,l=rb(t),c=l*i-u*o;return[Qv(u*i+l*o,s*n+c*r),ub(c*n-s*r)]},a}Ry.invert=Ry;function zy(e,t,n,r,i,o){if(n){var a=$v(t),s=rb(t),u=r*n;null==i?(i=t+r*Kv,o=t-u/2):(i=Uy(a,i),o=Uy(a,o),(r>0?i<o:i>o)&&(i+=r*Kv));for(var l,c=i;r>0?c>o:c<o;c-=u)l=my([a,-s*$v(c),-s*rb(c)]),e.point(l[0],l[1])}}function Uy(e,t){(t=vy(t))[0]-=e,Sy(t);var n=sb(-t[1]);return((-t[2]<0?-n:n)+Kv-1e-6)%Kv}var Hy=function(e){var t=$v(e),n=6*Yv,r=t>0,i=Xv(t)>1e-6;function o(e,n){return $v(e)*$v(n)>t}function a(e,n,r){var i=[1,0,0],o=yy(vy(e),vy(n)),a=by(o,o),s=o[0],u=a-s*s;if(!u)return!r&&e;var l=t*a/u,c=-t*s/u,d=yy(i,o),f=xy(i,l);_y(f,xy(o,c));var h=d,p=by(f,h),g=by(h,h),m=p*p-g*(by(f,f)-1);if(!(m<0)){var v=ob(m),b=xy(h,(-p-v)/g);if(_y(b,f),b=my(b),!r)return b;var y,_=e[0],x=n[0],S=e[1],w=n[1];x<_&&(y=_,_=x,x=y);var C=x-_,k=Xv(C-Vv)<1e-6;if(!k&&w<S&&(y=S,S=w,w=y),k||C<1e-6?k?S+w>0^b[1]<(Xv(b[0]-_)<1e-6?S:w):S<=b[1]&&b[1]<=w:C>Vv^(_<=b[0]&&b[0]<=x)){var E=xy(h,(-p+v)/g);return _y(E,f),[b,my(E)]}}}function s(t,n){var i=r?e:Vv-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Iy(o,(function(e){var t,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(d,f){var h,p=[d,f],g=o(d,f),m=r?g?0:s(d,f):g?s(d+(d<0?Vv:-Vv),f):0;if(!t&&(l=u=g)&&e.lineStart(),g!==u&&(!(h=a(t,p))||fy(t,h)||fy(p,h))&&(p[0]+=1e-6,p[1]+=1e-6,g=o(p[0],p[1])),g!==u)c=0,g?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(i&&t&&r^g){var v;m&n||!(v=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||t&&fy(t,p)||e.point(p[0],p[1]),t=p,u=g,n=m},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}),(function(t,r,i,o){zy(o,e,n,i,t,r)}),r?[0,-e]:[-Vv,e-Vv])};function Vy(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,d=0;if(null==i||(c=a(i,s))!==(d=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==d);else l.point(o[0],o[1])}function a(r,i){return Xv(r[0]-e)<1e-6?i>0?0:3:Xv(r[0]-n)<1e-6?i>0?2:1:Xv(r[1]-t)<1e-6?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,l,c,d,f,h,p,g,m,v,b,y=a,_=dy(),x={point:S,lineStart:function(){x.point=w,l&&l.push(c=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){u&&(w(d,f),h&&m&&_.rejoin(),u.push(_.result()));x.point=S,m&&y.lineEnd()},polygonStart:function(){y=_,u=[],l=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,d=s[0],f=d[0],h=d[1];u<c;++u)o=f,a=h,d=s[u],f=d[0],h=d[1],a<=r?h>r&&(f-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(f-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=b&&t,i=(u=Py(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&py(u,s,t,o,a),a.polygonEnd());y=a,u=l=c=null}};function S(e,t){i(e,t)&&y.point(e,t)}function w(o,a){var s=i(o,a);if(l&&c.push([o,a]),v)d=o,f=a,h=s,v=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&m)y.point(o,a);else{var u=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,i,o){var a,s=e[0],u=e[1],l=0,c=1,d=t[0]-s,f=t[1]-u;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(e[0]=s+l*d,e[1]=u+l*f),c<1&&(t[0]=s+c*d,t[1]=u+c*f),!0}}}}}(u,_,e,t,n,r)?s&&(y.lineStart(),y.point(o,a),b=!1):(m||(y.lineStart(),y.point(u[0],u[1])),y.point(_[0],_[1]),s||y.lineEnd(),b=!1)}p=o,g=a,m=s}return x}}function Wy(e){return function(t){var n=new Gy;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Gy(){}function Ky(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Lv(n,e.stream(Ib)),t(Ib.result()),null!=r&&e.clipExtent(r),e}function qy(e,t,n){return Ky(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function Yy(e,t,n){return qy(e,[[0,0],t],n)}function Xy(e,t,n){return Ky(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function Zy(e,t,n){return Ky(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}Gy.prototype={constructor:Gy,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qy=$v(30*Yv),$y=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,u,l,c,d,f,h,p,g,m){var v=l-r,b=c-i,y=v*v+b*b;if(y>4*t&&g--){var _=a+f,x=s+h,S=u+p,w=ob(_*_+x*x+S*S),C=ub(S/=w),k=Xv(Xv(S)-1)<1e-6||Xv(o-d)<1e-6?(o+d)/2:Qv(x,_),E=e(k,C),O=E[0],T=E[1],P=O-r,I=T-i,D=b*P-v*I;(D*D/y>t||Xv((v*P+b*I)/y-.5)>.3||a*f+s*h+u*p<Qy)&&(n(r,i,o,a,s,u,O,T,k,_/=w,x/=w,S,g,m),m.point(O,T),n(O,T,k,_,x,S,l,c,d,f,h,p,g,m))}}return function(t){var r,i,o,a,s,u,l,c,d,f,h,p,g={point:m,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){c=NaN,g.point=b,t.lineStart()}function b(r,i){var o=vy([r,i]),a=e(r,i);n(c,d,l,f,h,p,c=a[0],d=a[1],l=r,f=o[0],h=o[1],p=o[2],16,t),t.point(c,d)}function y(){g.point=m,t.lineEnd()}function _(){v(),g.point=x,g.lineEnd=S}function x(e,t){b(r=e,t),i=c,o=d,a=f,s=h,u=p,g.point=b}function S(){n(c,d,l,f,h,p,i,o,r,a,s,u,16,t),g.lineEnd=y,y()}return g}}(e,t):function(e){return Wy({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var Jy=Wy({point:function(e,t){this.stream.point(e*Yv,t*Yv)}});function e_(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}function t_(e,t,n,r,i,o){var a=$v(o),s=rb(o),u=a*e,l=s*e,c=a/e,d=s/e,f=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(e,o){return[u*(e*=r)-l*(o*=i)+t,n-l*e-u*o]}return p.invert=function(e,t){return[r*(c*e-d*t+f),i*(h-d*e-c*t)]},p}function n_(e){return r_((function(){return e}))()}function r_(e){var t,n,r,i,o,a,s,u,l,c,d=150,f=480,h=250,p=0,g=0,m=0,v=0,b=0,y=0,_=1,x=1,S=null,w=My,C=null,k=Av,E=.5;function O(e){return u(e[0]*Yv,e[1]*Yv)}function T(e){return(e=u.invert(e[0],e[1]))&&[e[0]*qv,e[1]*qv]}function P(){var e=t_(d,0,0,_,x,y).apply(null,t(p,g)),r=(y?t_:e_)(d,f-e[0],h-e[1],_,x,y);return n=Fy(m,v,b),s=jy(t,r),u=jy(n,s),a=$y(s,E),I()}function I(){return l=c=null,O}return O.stream=function(e){return l&&c===e?l:l=Jy(function(e){return Wy({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(w(a(k(c=e)))))},O.preclip=function(e){return arguments.length?(w=e,S=void 0,I()):w},O.postclip=function(e){return arguments.length?(k=e,C=r=i=o=null,I()):k},O.clipAngle=function(e){return arguments.length?(w=+e?Hy(S=e*Yv):(S=null,My),I()):S*qv},O.clipExtent=function(e){return arguments.length?(k=null==e?(C=r=i=o=null,Av):Vy(C=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),I()):null==C?null:[[C,r],[i,o]]},O.scale=function(e){return arguments.length?(d=+e,P()):d},O.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],P()):[f,h]},O.center=function(e){return arguments.length?(p=e[0]%360*Yv,g=e[1]%360*Yv,P()):[p*qv,g*qv]},O.rotate=function(e){return arguments.length?(m=e[0]%360*Yv,v=e[1]%360*Yv,b=e.length>2?e[2]%360*Yv:0,P()):[m*qv,v*qv,b*qv]},O.angle=function(e){return arguments.length?(y=e%360*Yv,P()):y*qv},O.reflectX=function(e){return arguments.length?(_=e?-1:1,P()):_<0},O.reflectY=function(e){return arguments.length?(x=e?-1:1,P()):x<0},O.precision=function(e){return arguments.length?(a=$y(s,E=e*e),I()):ob(E)},O.fitExtent=function(e,t){return qy(O,e,t)},O.fitSize=function(e,t){return Yy(O,e,t)},O.fitWidth=function(e,t){return Xy(O,e,t)},O.fitHeight=function(e,t){return Zy(O,e,t)},function(){return t=e.apply(this,arguments),O.invert=t.invert&&T,P()}}function i_(e){var t=0,n=Vv/3,r=r_(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Yv,n=e[1]*Yv):[t*qv,n*qv]},i}function o_(e,t){var n=rb(e),r=(n+rb(t))/2;if(Xv(r)<1e-6)return function(e){var t=$v(e);function n(e,n){return[e*t,rb(n)/t]}return n.invert=function(e,n){return[e/t,ub(n*t)]},n}(e);var i=1+n*(2*r-n),o=ob(i)/r;function a(e,t){var n=ob(i-2*r*rb(t))/r;return[n*rb(e*=r),o-n*$v(e)]}return a.invert=function(e,t){var n=o-t,a=Qv(e,Xv(n))*ib(n);return n*r<0&&(a-=Vv*ib(e)*ib(n)),[a/r,ub((i-(e*e+n*n)*r*r)/(2*r))]},a}var a_=function(){return i_(o_).scale(155.424).center([0,33.6442])},s_=function(){return a_().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function u_(e){return function(t,n){var r=$v(t),i=$v(n),o=e(r*i);return[o*i*rb(t),o*rb(n)]}}function l_(e){return function(t,n){var r=ob(t*t+n*n),i=e(r),o=rb(i),a=$v(i);return[Qv(t*o,r*a),ub(r&&n*o/r)]}}var c_=u_((function(e){return ob(2/(1+e))}));c_.invert=l_((function(e){return 2*ub(e/2)}));var d_=u_((function(e){return(e=sb(e))&&e/rb(e)}));d_.invert=l_((function(e){return e}));function f_(e,t){return[e,tb(ab((Wv+t)/2))]}f_.invert=function(e,t){return[e,2*Zv(eb(t))-Wv]};function h_(e){var t,n,r,i=n_(e),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,l=null;function c(){var o=Vv*a(),s=i(function(e){function t(t){return(t=e(t[0]*Yv,t[1]*Yv))[0]*=qv,t[1]*=qv,t}return e=Fy(e[0]*Yv,e[1]*Yv,e.length>2?e[2]*Yv:0),t.invert=function(t){return(t=e.invert(t[0]*Yv,t[1]*Yv))[0]*=qv,t[1]*=qv,t},t}(i.rotate()).invert([0,0]));return u(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===f_?[[Math.max(s[0]-o,l),t],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),c()):a()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(o(e),c()):o()},i.clipExtent=function(e){return arguments.length?(null==e?l=t=n=r=null:(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==l?null:[[l,t],[n,r]]},c()}function p_(e){return ab((Wv+e)/2)}function g_(e,t){var n=$v(e),r=e===t?rb(e):tb(n/$v(t))/tb(p_(t)/p_(e)),i=n*nb(p_(e),r)/r;if(!r)return f_;function o(e,t){i>0?t<1e-6-Wv&&(t=1e-6-Wv):t>Wv-1e-6&&(t=Wv-1e-6);var n=i/nb(p_(t),r);return[n*rb(r*e),i-n*$v(r*e)]}return o.invert=function(e,t){var n=i-t,o=ib(r)*ob(e*e+n*n),a=Qv(e,Xv(n))*ib(n);return n*r<0&&(a-=Vv*ib(e)*ib(n)),[a/r,2*Zv(nb(i/o,1/r))-Wv]},o}function m_(e,t){return[e,t]}m_.invert=m_;function v_(e,t){var n=$v(e),r=e===t?rb(e):(n-$v(t))/(t-e),i=n/r+e;if(Xv(r)<1e-6)return m_;function o(e,t){var n=i-t,o=r*e;return[n*rb(o),i-n*$v(o)]}return o.invert=function(e,t){var n=i-t,o=Qv(e,Xv(n))*ib(n);return n*r<0&&(o-=Vv*ib(e)*ib(n)),[o/r,i-ib(r)*ob(e*e+n*n)]},o}var b_=1.340264,y_=-.081106,__=893e-6,x_=.003796,S_=ob(3)/2;function w_(e,t){var n=ub(S_*rb(t)),r=n*n,i=r*r*r;return[e*$v(n)/(S_*(b_+3*y_*r+i*(7*__+9*x_*r))),n*(b_+y_*r+i*(__+x_*r))]}w_.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(b_+y_*i+o*(__+x_*i))-t)/(b_+3*y_*i+o*(7*__+9*x_*i)))*r)*i*i,!(Xv(n)<1e-12));++a);return[S_*e*(b_+3*y_*i+o*(7*__+9*x_*i))/$v(r),ub(rb(r)/S_)]};function C_(e,t){var n=$v(t),r=$v(e)*n;return[n*rb(e)/r,rb(t)/r]}C_.invert=l_(Zv);function k_(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}k_.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Xv(n)>1e-6&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function E_(e,t){return[$v(t)*rb(e),rb(t)]}E_.invert=l_(ub);function O_(e,t){var n=$v(t),r=1+$v(e)*n;return[n*rb(e)/r,rb(t)/r]}O_.invert=l_((function(e){return 2*Zv(e)}));function T_(e,t){return[tb(ab((Wv+t)/2)),-e]}T_.invert=function(e,t){return[-t,2*Zv(eb(e))-Wv]};var P_=Math.abs,I_=(Math.atan,Math.atan2,Math.ceil,Math.cos),D_=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),A_=(Math.tan,Math.PI),M_=A_/2,j_=(Math.SQRT1_2,F_(2));F_(A_);function R_(e){return e>1?M_:e<-1?-M_:Math.asin(e)}function F_(e){return e>0?Math.sqrt(e):0}function N_(e,t){var n,r=e*D_(t),i=30;do{t-=n=(t+D_(t)-r)/(1+I_(t))}while(P_(n)>1e-6&&--i>0);return t/2}var L_=function(e,t,n){function r(r,i){return[e*r*I_(i=N_(n,i)),t*D_(i)]}return r.invert=function(r,i){return i=R_(i/t),[r/(e*I_(i)),R_((2*i+D_(2*i))/n)]},r}(j_/M_,j_,A_),B_=cy(),z_=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function U_(e,t){return function n(){var r=t();return r.type=e,r.path=cy().projection(r),r.copy=r.copy||function(){var e=n();return z_.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function H_(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(W_[e]=U_(e,t),this):W_[e]||null}function V_(e){return e&&e.path||B_}var W_={albers:s_,albersusa:function(){var e,t,n,r,i,o,a=s_(),s=a_().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=a_().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},c.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),s.stream(n),u.stream(n)])},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),u.precision(e),d()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),u.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(l),r=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+1e-6,c+.12*t+1e-6],[o-.214*t-1e-6,c+.234*t-1e-6]]).stream(l),i=u.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+1e-6,c+.166*t+1e-6],[o-.115*t-1e-6,c+.234*t-1e-6]]).stream(l),d()},c.fitExtent=function(e,t){return qy(c,e,t)},c.fitSize=function(e,t){return Yy(c,e,t)},c.fitWidth=function(e,t){return Xy(c,e,t)},c.fitHeight=function(e,t){return Zy(c,e,t)},c.scale(1070)},azimuthalequalarea:function(){return n_(c_).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return n_(d_).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return i_(g_).scale(109.5).parallels([30,30])},conicequalarea:a_,conicequidistant:function(){return i_(v_).scale(131.154).center([0,13.9389])},equalEarth:function(){return n_(w_).scale(177.158)},equirectangular:function(){return n_(m_).scale(152.63)},gnomonic:function(){return n_(C_).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,o,a,s=1,u=0,l=0,c=1,d=1,f=0,h=null,p=1,g=1,m=Wy({point:function(e,t){var n=y([e,t]);this.stream.point(n[0],n[1])}}),v=Av;function b(){return p=s*c,g=s*d,o=a=null,y}function y(n){var r=n[0]*p,i=n[1]*g;if(f){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+u,i+l]}return y.invert=function(n){var r=n[0]-u,i=n[1]-l;if(f){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/p,i/g]},y.stream=function(e){return o&&a===e?o:o=m(v(a=e))},y.postclip=function(e){return arguments.length?(v=e,h=n=r=i=null,b()):v},y.clipExtent=function(e){return arguments.length?(v=null==e?(h=n=r=i=null,Av):Vy(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),b()):null==h?null:[[h,n],[r,i]]},y.scale=function(e){return arguments.length?(s=+e,b()):s},y.translate=function(e){return arguments.length?(u=+e[0],l=+e[1],b()):[u,l]},y.angle=function(n){return arguments.length?(t=rb(f=n%360*Yv),e=$v(f),b()):f*qv},y.reflectX=function(e){return arguments.length?(c=e?-1:1,b()):c<0},y.reflectY=function(e){return arguments.length?(d=e?-1:1,b()):d<0},y.fitExtent=function(e,t){return qy(y,e,t)},y.fitSize=function(e,t){return Yy(y,e,t)},y.fitWidth=function(e,t){return Xy(y,e,t)},y.fitHeight=function(e,t){return Zy(y,e,t)},y},mercator:function(){return h_(f_).scale(961/Kv)},mollweide:function(){return n_(L_).scale(169.529)},naturalEarth1:function(){return n_(k_).scale(175.295)},orthographic:function(){return n_(E_).scale(249.5).clipAngle(90.000001)},stereographic:function(){return n_(O_).scale(250).clipAngle(142)},transversemercator:function(){var e=h_(T_),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var G_ in W_)H_(G_,W_[G_]);function K_(e){tr.call(this,null,e)}function q_(e){tr.call(this,null,e)}function Y_(e){tr.call(this,null,e)}function X_(e,t,n){var r=Ty(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Z_(e,t,n){var r=Ty(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Q_(){var e,t,n,r,i,o,a,s,u,l,c,d,f=10,h=f,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return Ty(Jv(r/p)*p,n,p).map(c).concat(Ty(Jv(s/g)*g,a,g).map(d)).concat(Ty(Jv(t/f)*f,e,f).filter((function(e){return Xv(e%p)>1e-6})).map(u)).concat(Ty(Jv(o/h)*h,i,h).filter((function(e){return Xv(e%g)>1e-6})).map(l))}return v.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(a).slice(1),c(n).reverse().slice(1),d(s).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),v.precision(m)):[[r,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),v.precision(m)):[[t,o],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],g=+e[1],v):[p,g]},v.stepMinor=function(e){return arguments.length?(f=+e[0],h=+e[1],v):[f,h]},v.precision=function(f){return arguments.length?(m=+f,u=X_(o,i,90),l=Z_(t,e,m),c=X_(s,a,90),d=Z_(r,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function $_(e){tr.call(this,[],e),this.generator=Q_()}function J_(e){tr.call(this,null,e)}function ex(e){if(!Object(p.D)(e))return!1;var t=Object(p.db)(Object(p.g)(e));return t.$x||t.$y||t.$value||t.$max}function tx(e){tr.call(this,null,e),this.modified(!0)}function nx(e,t,n){Object(p.D)(e[t])&&e[t](n)}K_.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(p.y)(K_,tr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||p.x,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=V_(e.projection),n.materialize().reflow()):a=i===p.x||t.modified(i.fields)?n.ADD_MOD:n.ADD;var s=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(a,(function(e){e[o]=r(i(e))})),r.pointRadius(s),n.modifies(o)},q_.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(p.y)(q_,tr).transform=function(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],s=a[0],u=a[1];function l(e){var t=r([i(e),o(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,l)),t.modifies(a)},Y_.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(p.y)(Y_,tr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=function(t){return e.context(t),r},r}(V_(e.projection),e.field||Object(p.t)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){e[i]=r})),n.modifies(i)},$_.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(p.y)($_,tr).transform=function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var o in e)Object(p.D)(i[o])&&i[o](e[o]);return n=i(),r.length?t.mod.push(I(r[0],n)):t.add.push(O(n)),r[0]=n,t},J_.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(p.y)(J_,tr).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||p.x,o=function(e,t){var n;Object(p.D)(e)?(n=function(n){return e(n,t)}).dep=ex(e):e?n=Object(p.l)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0;return n}(e.opacity,e),a=function(e,t){var n;Object(p.D)(e)?(n=function(n){return Object(Tf.g)(e(n,t))}).dep=ex(e):n=Object(p.l)(Object(Tf.g)(e||"#888"));return n}(e.color,e),s=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?br(n.map((function(e){return br(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Object(p.o)({},e,u);r||(n.$max=br(t.values||[])),e[s]=function(e,t,n,r){for(var i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,u=e.x2||i,l=e.y2||o,c=e.values,d=c?function(e){return c[e]}:p.kb,f=Ls(u-a,l-s),h=f.getContext("2d"),g=h.getImageData(0,0,u-a,l-s),m=g.data,v=s,b=0;v<l;++v){t.$y=v-s;for(var y=a,_=v*i;y<u;++y,b+=4){t.$x=y-a,t.$value=d(y+_);var x=n(t);m[b+0]=x.r,m[b+1]=x.g,m[b+2]=x.b,m[b+3]=~~(255*r(t))}}return h.putImageData(g,0,0),f}(t,n,a.dep?a:Object(p.l)(a(n)),o.dep?o:Object(p.l)(o(n)))})),t.reflow(!0).modifies(s)},Object(p.y)(tx,tr).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=H_((e||"mercator").toLowerCase());t||Object(p.n)("Unrecognized projection type: "+e);return t()}(e.type),z_.forEach((function(t){null!=e[t]&&nx(n,t,e[t])}))):z_.forEach((function(t){e.modified(t)&&nx(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(p.i)(e)).length?e[0]:{type:"FeatureCollection",features:e.reduce((function(e,t){return e.concat(function(e){return"FeatureCollection"===e.type?e.features:Object(p.i)(e).filter((function(e){return null!=e})).map((function(e){return"Feature"===e.type?e:{type:"Feature",geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};function rx(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,d,f,h=e._root,p={data:r},g=e._x0,m=e._y0,v=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+b)/2))?m=a:b=a,i=h,!(h=h[d=c<<1|l]))return i[d]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+b)/2))?m=a:b=a}while((d=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=h,i[d]=p,e}var ix=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function ox(e){return e[0]}function ax(e){return e[1]}function sx(e,t,n){var r=new ux(null==t?ox:t,null==n?ax:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ux(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function lx(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var cx=sx.prototype=ux.prototype;cx.copy=function(){var e,t,n=new ux(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=lx(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=lx(t));return n},cx.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return rx(this.cover(t,n),t,n,e)},cx.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>d&&(d=i));if(u>c||l>d)return this;for(this.cover(u,l).cover(c,d),n=0;n<o;++n)rx(this,a[n],s[n],e[n]);return this},cx.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},cx.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},cx.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cx.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new ix(g,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>h||(a=u.x1)<c||(s=u.y1)<d))if(g.length){var m=(i+a)/2,v=(o+s)/2;p.push(new ix(g[3],m,v,a,s),new ix(g[2],i,v,m,s),new ix(g[1],m,o,a,v),new ix(g[0],i,o,m,v)),(l=(t>=v)<<1|e>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var b=e-+this._x.call(null,g.data),y=t-+this._y.call(null,g.data),_=b*b+y*y;if(_<n){var x=Math.sqrt(n=_);c=e-x,d=t-x,f=e+x,h=t+x,r=g.data}}return r},cx.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,d,f,h=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(g+v)/2))?g=u:v=u,t=h,!(h=h[d=c<<1|l]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},cx.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},cx.root=function(){return this._root},cx.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},cx.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ix(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new ix(n,l,c,o,a)),(n=u[2])&&s.push(new ix(n,r,c,l,a)),(n=u[1])&&s.push(new ix(n,l,i,o,c)),(n=u[0])&&s.push(new ix(n,r,i,l,c))}return this},cx.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new ix(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,d=(s+l)/2;(o=i[0])&&n.push(new ix(o,a,s,c,d)),(o=i[1])&&n.push(new ix(o,c,s,u,d)),(o=i[2])&&n.push(new ix(o,a,d,c,l)),(o=i[3])&&n.push(new ix(o,c,d,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},cx.x=function(e){return arguments.length?(this._x=e,this):this._x},cx.y=function(e){return arguments.length?(this._y=e,this):this._y};var dx=function(e){return function(){return e}},fx=function(){return 1e-6*(Math.random()-.5)};function hx(e){return e.x+e.vx}function px(e){return e.y+e.vy}function gx(e){return e.index}function mx(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var vx={value:function(){}};function bx(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new yx(r)}function yx(e){this._=e}function _x(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function xx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Sx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=vx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}yx.prototype=bx.prototype={constructor:yx,on:function(e,t){var n,r=this._,i=_x(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=Sx(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Sx(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=xx(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var wx,Cx,kx=bx,Ex=0,Ox=0,Tx=0,Px=0,Ix=0,Dx=0,Ax="object"===typeof performance&&performance.now?performance:Date,Mx="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jx(){return Ix||(Mx(Rx),Ix=Ax.now()+Dx)}function Rx(){Ix=0}function Fx(){this._call=this._time=this._next=null}function Nx(e,t,n){var r=new Fx;return r.restart(e,t,n),r}function Lx(){Ix=(Px=Ax.now())+Dx,Ex=Ox=0;try{!function(){jx(),++Ex;for(var e,t=wx;t;)(e=Ix-t._time)>=0&&t._call.call(null,e),t=t._next;--Ex}()}finally{Ex=0,function(){var e,t,n=wx,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:wx=t);Cx=e,zx(r)}(),Ix=0}}function Bx(){var e=Ax.now(),t=e-Px;t>1e3&&(Dx-=t,Px=e)}function zx(e){Ex||(Ox&&(Ox=clearTimeout(Ox)),e-Ix>24?(e<1/0&&(Ox=setTimeout(Lx,e-Ax.now()-Dx)),Tx&&(Tx=clearInterval(Tx))):(Tx||(Px=Ax.now(),Tx=setInterval(Bx,1e3)),Ex=1,Mx(Lx)))}function Ux(e){return e.x}function Hx(e){return e.y}Fx.prototype=Nx.prototype={constructor:Fx,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?jx():+n)+(null==t?0:+t),this._next||Cx===this||(Cx?Cx._next=this:wx=this,Cx=this),this._call=e,this._time=n,zx()},stop:function(){this._call&&(this._call=null,this._time=1/0,zx())}};var Vx=Math.PI*(3-Math.sqrt(5)),Wx={center:function(e,t){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-e,s=s/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},collide:function(e){var t,n,r=1,i=1;function o(){for(var e,o,s,u,l,c,d,f=t.length,h=0;h<i;++h)for(o=sx(t,hx,px).visitAfter(a),e=0;e<f;++e)s=t[e],c=n[s.index],d=c*c,u=s.x+s.vx,l=s.y+s.vy,o.visit(p);function p(e,t,n,i,o){var a=e.data,f=e.r,h=c+f;if(!a)return t>u+h||i<u-h||n>l+h||o<l-h;if(a.index>s.index){var p=u-a.x-a.vx,g=l-a.y-a.vy,m=p*p+g*g;m<h*h&&(0===p&&(m+=(p=fx())*p),0===g&&(m+=(g=fx())*g),m=(h-(m=Math.sqrt(m)))/m*r,s.vx+=(p*=m)*(h=(f*=f)/(d+f)),s.vy+=(g*=m)*h,a.vx-=p*(h=1-h),a.vy-=g*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=dx(null==e?1:+e)),o.initialize=function(e){t=e,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(r=+e,o):r},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:dx(+t),s(),o):e},o},nbody:function(){var e,t,n,r,i=dx(-30),o=1,a=1/0,s=.81;function u(r){var i,o=e.length,a=sx(e,Ux,Hx).visitAfter(c);for(n=r,i=0;i<o;++i)t=e[i],a.visit(d)}function l(){if(e){var t,n,o=e.length;for(r=new Array(o),t=0;t<o;++t)n=e[t],r[n.index]=+i(n,t,e)}}function c(e){var t,n,i,o,a,s=0,u=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,i+=n*t.x,o+=n*t.y);e.x=i/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function d(e,i,u,l){if(!e.value)return!0;var c=e.x-t.x,d=e.y-t.y,f=l-i,h=c*c+d*d;if(f*f/s<h)return h<a&&(0===c&&(h+=(c=fx())*c),0===d&&(h+=(d=fx())*d),h<o&&(h=Math.sqrt(o*h)),t.vx+=c*e.value*n/h,t.vy+=d*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===c&&(h+=(c=fx())*c),0===d&&(h+=(d=fx())*d),h<o&&(h=Math.sqrt(o*h)));do{e.data!==t&&(f=r[e.data.index]*n/h,t.vx+=c*f,t.vy+=d*f)}while(e=e.next)}}return u.initialize=function(t){e=t,l()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:dx(+e),l(),u):i},u.distanceMin=function(e){return arguments.length?(o=e*e,u):Math.sqrt(o)},u.distanceMax=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.theta=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u},link:function(e){var t,n,r,i,o,a=gx,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=dx(30),l=1;function c(r){for(var i=0,a=e.length;i<l;++i)for(var s,u,c,d,f,h,p,g=0;g<a;++g)u=(s=e[g]).source,d=(c=s.target).x+c.vx-u.x-u.vx||fx(),f=c.y+c.vy-u.y-u.vy||fx(),d*=h=((h=Math.sqrt(d*d+f*f))-n[g])/h*r*t[g],f*=h,c.vx-=d*(p=o[g]),c.vy-=f*p,u.vx+=d*(p=1-p),u.vy+=f*p}function d(){if(r){var s,u,l=r.length,c=e.length,d=new Map(r.map((function(e,t){return[a(e,t,r),e]})));for(s=0,i=new Array(l);s<c;++s)(u=e[s]).index=s,"object"!==typeof u.source&&(u.source=mx(d,u.source)),"object"!==typeof u.target&&(u.target=mx(d,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)u=e[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),f(),n=new Array(c),h()}}function f(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),c.initialize=function(e){r=e,d()},c.links=function(t){return arguments.length?(e=t,d(),c):e},c.id=function(e){return arguments.length?(a=e,c):a},c.iterations=function(e){return arguments.length?(l=+e,c):l},c.strength=function(e){return arguments.length?(s="function"===typeof e?e:dx(+e),f(),c):s},c.distance=function(e){return arguments.length?(u="function"===typeof e?e:dx(+e),h(),c):u},c},x:function(e){var t,n,r,i=dx(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=dx(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:dx(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:dx(+t),a(),o):e},o},y:function(e){var t,n,r,i=dx(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=dx(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:dx(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:dx(+t),a(),o):e},o}},Gx=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Kx=["static","iterations"],qx=["x","y","vx","vy"];function Yx(e){tr.call(this,null,e)}Yx.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:qx}]};var Xx=Object(p.y)(Yx,tr);function Zx(e,t,n,r){var i,o,a,s,u=Object(p.i)(t.forces);for(i=0,o=Gx.length;i<o;++i)"forces"!==(a=Gx[i])&&t.modified(a)&&e[a](t[a]);for(i=0,o=u.length;i<o;++i)s="forces"+i,(a=n||t.modified("forces",i)?$x(u[i]):r&&Qx(u[i],r)?e.force(s):null)&&e.force(s,a);for(o=e.numForces||0;i<o;++i)e.force("forces"+i,null);return e.numForces=u.length,e}function Qx(e,t){var n,r;for(n in e)if(Object(p.D)(r=e[n])&&t.modified(Object(p.g)(r)))return 1;return 0}function $x(e){var t,n;for(n in Object(p.v)(Wx,e.force)||Object(p.n)("Unrecognized force: "+e.force),t=Wx[e.force](),e)Object(p.D)(t[n])&&Jx(t[n],e[n],e);return t}function Jx(e,t,n){e(Object(p.D)(t)?function(e){return t(e,n)}:t)}Xx.transform=function(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),a=e.modified(Gx),s=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&Zx(i,e,0,t)):(this.value=i=function(e,t){var n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=Nx(c),l=kx("tick","end");function c(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(r){var u,l,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),o=n*Vx;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),f(),t={tick:d,restart:function(){return u.restart(c),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}(e),r=!1,i=n.stop,o=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,o()},n.stop=function(){return r=!0,i()},Zx(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(o=!0,i.tick()),t.modifies("index")),a||o||e.modified(Kx)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},Xx.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if("forces"===(n=i[o]).name&&"link"===n.op._argval.force)for(var s,u=n.op._argops,l=0,c=u.length;l<c;++l)if("links"===u[l].name&&(s=u[l].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(qx)};var eS=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e};function tS(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function nS(e,t){var n,r,i,o,a,s=new aS(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=rS);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new aS(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(oS)}function rS(e){return e.children}function iS(e){e.data=e.data.data}function oS(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function aS(e){this.data=e,this.depth=this.height=0,this.parent=null}function sS(e){tr.call(this,null,e)}function uS(e){return e.values}function lS(){var e,t=[];return e={entries:function(e){return function e(n,r){if(++r>t.length)return n;var i,o=[];for(i in n)o.push({key:i,values:e(n[i],r)});return o}(function e(n,r){if(r>=t.length)return n;for(var i,o,a,s=-1,u=n.length,l=t[r++],c={},d={};++s<u;)(a=c[i=l(o=n[s])+""])?a.push(o):c[i]=[o];for(i in c)d[i]=e(c[i],r);return d}(e,0),0)},key:function(n){return t.push(n),e}}}function cS(e){tr.call(this,null,e)}function dS(e,t){return e.parent===t.parent?1:2}aS.prototype=nS.prototype={constructor:aS,count:function(){return this.eachAfter(tS)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return nS(this).eachBefore(iS)}},sS.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(p.y)(sS,tr).transform=function(e,t){t.source||Object(p.n)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each((function(e){e.children&&C(e.data)&&i.rem.push(e.data)})),this.value=o=nS({values:Object(p.i)(e.keys).reduce((function(e,t){return e.key(t),e}),lS()).entries(i.source)},uS),n&&o.each((function(e){e.children&&(e=O(e.data),i.add.push(e),i.source.push(e))})),eS(o,k,k)),i.source.root=o,i},Object(p.y)(cS,tr).transform=function(e,t){t.source&&t.source.root||Object(p.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(D(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,o=t.length;i<o;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?dS:p.O);try{this.value=n(i)}catch(a){Object(p.n)(a)}return i.each((function(e){!function(e,t,n){for(var r=e.data,i=0,o=t.length-1;i<o;++i)r[n[i]]=e[t[i]];r[n[o]]=e.children?e.children.length:0}(e,r,o)})),t.reflow(e.modified()).modifies(o).modifies("leaf")};var fS=Array.prototype.slice;var hS=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(fS.call(e))).length,o=[];r<i;)t=e[r],n&&mS(n,t)?++r:(n=bS(o=pS(o,t)),r=0);return n};function pS(e,t){var n,r;if(vS(t,e))return[t];for(n=0;n<e.length;++n)if(gS(t,e[n])&&vS(yS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(gS(yS(e[n],e[r]),t)&&gS(yS(e[n],t),e[r])&&gS(yS(e[r],t),e[n])&&vS(_S(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function gS(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function mS(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vS(e,t){for(var n=0;n<t.length;++n)if(!mS(e,t[n]))return!1;return!0}function bS(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return yS(e[0],e[1]);case 3:return _S(e[0],e[1],e[2])}var t}function yS(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,u=o-n,l=a-r,c=s-i,d=Math.sqrt(u*u+l*l);return{x:(n+o+u/d*c)/2,y:(r+a+l/d*c)/2,r:(d+i+s)/2}}function _S(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,d=n.r,f=r-a,h=r-l,p=i-s,g=i-c,m=u-o,v=d-o,b=r*r+i*i-o*o,y=b-a*a-s*s+u*u,_=b-l*l-c*c+d*d,x=h*p-f*g,S=(p*_-g*y)/(2*x)-r,w=(g*m-p*v)/x,C=(h*y-f*_)/(2*x)-i,k=(f*v-h*m)/x,E=w*w+k*k-1,O=2*(o+S*w+C*k),T=S*S+C*C-o*o,P=-(E?(O+Math.sqrt(O*O-4*E*T))/(2*E):T/O);return{x:r+S+w*P,y:i+C+k*P,r:P}}function xS(e,t,n){var r,i,o,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-o*u,n.y=e.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-o*u,n.y=t.y+r*u+o*s)):(n.x=t.x+n.r,n.y=t.y)}function SS(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function wS(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function CS(e){this._=e,this.next=null,this.previous=null}function kS(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,u,l,c,d;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;xS(n,t,r=e[2]),t=new CS(t),n=new CS(n),r=new CS(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){xS(t._,n._,r=e[s]),r=new CS(r),u=n.next,l=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(SS(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(SS(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}d+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=wS(t);(r=r.next)!==n;)(a=wS(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=hS(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function ES(e){return null==e?null:OS(e)}function OS(e){if("function"!==typeof e)throw new Error;return e}function TS(){return 0}var PS=function(e){return function(){return e}};function IS(e){return Math.sqrt(e.value)}function DS(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function AS(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=kS(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function MS(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var jS=["x","y","r","depth","children"];function RS(e){cS.call(this,e)}RS.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:jS.length,default:jS}]};var FS=Object(p.y)(RS,cS);FS.layout=function(){var e=null,t=1,n=1,r=TS;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(DS(e)).eachAfter(AS(r,.5)).eachBefore(MS(1)):i.eachBefore(DS(IS)).eachAfter(AS(TS,1)).eachAfter(AS(r,i.r/Math.min(t,n))).eachBefore(MS(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=ES(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:PS(+e),i):r},i},FS.params=["radius","size","padding"],FS.fields=jS;var NS=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},LS=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(r-t)/e.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l},BS=["x0","y0","x1","y1","depth","children"];function zS(e){cS.call(this,e)}zS.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:BS.length,default:BS}]};var US=Object(p.y)(zS,cS);US.layout=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&LS(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(NS),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},US.params=["size","round","padding"],US.fields=BS;var HS={depth:-1},VS={};function WS(e){return e.id}function GS(e){return e.parentId}var KS=function(){var e=WS,t=GS;function n(n){var r,i,o,a,s,u,l,c=n.length,d=new Array(c),f={};for(i=0;i<c;++i)r=n[i],s=d[i]=new aS(r),null!=(u=e(r,i,n))&&(u+="")&&(f[l="$"+(s.id=u)]=l in f?VS:s);for(i=0;i<c;++i)if(s=d[i],null!=(u=t(n[i],i,n))&&(u+="")){if(!(a=f["$"+u]))throw new Error("missing: "+u);if(a===VS)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=HS,o.eachBefore((function(e){e.depth=e.parent.depth+1,--c})).eachBefore(oS),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=OS(t),n):e},n.parentId=function(e){return arguments.length?(t=OS(e),n):t},n};function qS(e){tr.call(this,null,e)}function YS(e,t){return e.parent===t.parent?1:2}function XS(e){var t=e.children;return t?t[0]:e.t}function ZS(e){var t=e.children;return t?t[t.length-1]:e.t}function QS(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $S(e,t,n){return e.a.parent===t.parent?e.a:n}function JS(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}qS.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(p.y)(qS,tr).transform=function(e,t){t.source||Object(p.n)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!this.value||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?eS(KS().id(e.key).parentId(e.parentKey)(i.source),e.key,p.gb):eS(KS()([{}]),e.key,e.key)),i.source.root=this.value=n,i},JS.prototype=Object.create(aS.prototype);function ew(e,t){return e.parent===t.parent?1:2}function tw(e,t){return e+t.x}function nw(e,t){return Math.max(e,t.y)}var rw={tidy:function(){var e=YS,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,o,a=new JS(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new JS(r[i],i)),n.parent=t;return(a.parent=new JS(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var l=i,c=i,d=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var f=l===c?1:e(l,c)/2,h=f-l.x,p=t/(c.x+f+h),g=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*g}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,u=o.parent.children[0],l=o.m,c=a.m,d=s.m,f=u.m;s=ZS(s),o=XS(o),s&&o;)u=XS(u),(a=ZS(a)).a=t,(i=s.z+d-o.z-l+e(s._,o._))>0&&(QS($S(s,t,r),t,i),l+=i,c+=i),d+=s.m,l+=o.m,f+=u.m,c+=a.m;s&&!ZS(a)&&(a.t=s,a.m+=d-c),o&&!XS(u)&&(u.t=o,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=ew,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(tw,0)/e.length}(n),t.y=function(e){return 1+e.reduce(nw,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-l)/(c-l)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},iw=["x","y","depth","children"];function ow(e){cS.call(this,e)}ow.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:iw.length,default:iw}]};var aw=Object(p.y)(ow,cS);function sw(e){tr.call(this,[],e)}aw.layout=function(e){var t=e||"tidy";if(Object(p.v)(rw,t))return rw[t]();Object(p.n)("Unrecognized Tree layout method: "+t)},aw.params=["size","nodeSize"],aw.fields=iw,sw.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(p.y)(sw,tr).transform=function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Object(p.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){o[k(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[k(t)]&&o[k(n)]&&i.add.push(O({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){o[k(e)]=1})),n.forEach((function(e){(o[k(e.source)]||o[k(e.target)])&&i.mod.push(e)}))),i};var uw=function(e,t,n,r,i){for(var o,a=e.children,s=-1,u=a.length,l=e.value&&(i-n)/e.value;++s<u;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l},lw=(1+Math.sqrt(5))/2;function cw(e,t,n,r,i,o){for(var a,s,u,l,c,d,f,h,p,g,m,v=[],b=t.children,y=0,_=0,x=b.length,S=t.value;y<x;){u=i-n,l=o-r;do{c=b[_++].value}while(!c&&_<x);for(d=f=c,m=c*c*(g=Math.max(l/u,u/l)/(S*e)),p=Math.max(f/m,m/d);_<x;++_){if(c+=s=b[_].value,s<d&&(d=s),s>f&&(f=s),m=c*c*g,(h=Math.max(f/m,m/d))>p){c-=s;break}p=h}v.push(a={value:c,dice:u<l,children:b.slice(y,_)}),a.dice?LS(a,n,r,i,S?r+=l*c/S:o):uw(a,n,r,S?n+=u*c/S:i,o),S-=c,y=_}return v}var dw=function e(t){function n(e,n,r,i,o){cw(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(lw),fw=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,d=-1,f=a.length,h=e.value;++d<f;){for(u=(s=a[d]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?LS(s,n,r,i,r+=(o-r)*s.value/h):uw(s,n,r,n+=(i-n)*s.value/h,o),h-=s.value}else e._squarify=a=cw(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(lw),hw={binary:function(e,t,n,r,i){var o,a,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,u){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=u)}var d=l[t],f=r/2+d,h=t+1,p=n-1;for(;h<p;){var g=h+p>>>1;l[g]<f?h=g+1:p=g}f-l[h-1]<l[h]-f&&t+1<h&&--h;var m=l[h]-d,v=r-m;if(a-i>u-o){var b=(i*v+a*m)/r;e(t,h,m,i,o,b,u),e(h,n,v,b,o,a,u)}else{var y=(o*v+u*m)/r;e(t,h,m,i,o,a,y),e(h,n,v,i,y,a,u)}}(0,u,e.value,t,n,r,i)},dice:LS,slice:uw,slicedice:function(e,t,n,r,i){(1&e.depth?uw:LS)(e,t,n,r,i)},squarify:dw,resquarify:fw},pw=["x0","y0","x1","y1","depth","children"];function gw(e){cS.call(this,e)}gw.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:pw.length,default:pw}]};var mw=Object(p.y)(gw,cS);mw.layout=function(){var e=function(){var e=dw,t=!1,n=1,r=1,i=[0],o=TS,a=TS,s=TS,u=TS,l=TS;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(NS),e}function d(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<c&&(c=f=(c+f)/2),t.x0=r,t.y0=c,t.x1=d,t.y1=f,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,c+=a(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(f-=u(t)-n)<c&&(c=f=(c+f)/2),e(t,r,c,d,f))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=OS(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:PS(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:PS(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:PS(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:PS(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l="function"===typeof e?e:PS(+e),c):l},c}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(p.v)(hw,t)?e.tile(hw[t]):Object(p.n)("Unrecognized Treemap layout method: "+t)},e},mw.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],mw.fields=pw;var vw=function(e,t){var n,r,i,o,a,s,u=[],l=function(e){return e(o)};if(null==t)u.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(l)])||(n[a]=s=[],s.dims=a,u.push(s)),s.push(o);return u};function bw(e){tr.call(this,null,e)}bw.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(p.y)(bw,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=vw(r,e.groupby),o=(e.groupby||[]).map(p.h),a=o.length,s=e.as||[Object(p.h)(e.x),Object(p.h)(e.y)],u=[];i.forEach((function(t){gi(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<a;++r)n[o[r]]=t.dims[r];n[s[0]]=e[0],n[s[1]]=e[1],u.push(O(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n};var yw={linear:ai,log:si,exp:li,pow:ci,quad:di,poly:fi};function _w(e){tr.call(this,null,e)}_w.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(yw)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(p.y)(_w,tr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=vw(r,e.groupby),o=(e.groupby||[]).map(p.h),a=e.method||"linear",s=e.order||3,u=function(e,t){return"poly"===e?t:"quad"===e?2:1}(a,s),l=e.as||[Object(p.h)(e.x),Object(p.h)(e.y)],c=yw[a],d=[],f=e.extent;Object(p.v)(yw,a)||Object(p.n)("Invalid regression method: "+a),null!=f&&"log"===a&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach((function(n){if(n.length<=u)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,s);if(e.params)d.push(O({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var i=f||Object(p.p)(n,e.x),h=function(e){for(var t={},r=0;r<o.length;++r)t[o[r]]=n.dims[r];t[l[0]]=e[0],t[l[1]]=e[1],d.push(O(t))};"linear"===a?i.forEach((function(e){return h([e,r.predict(e)])})):yi(r.predict,i,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n};var xw=n(18),Sw=n(19),ww=Math.pow(2,-52),Cw=new Uint32Array(512),kw=function(){function e(t){Object(xw.a)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Object(Sw.a)(e,null,[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mw,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jw,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),Object(Sw.a)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<o;c++){var d=e[2*c],f=e[2*c+1];d<a&&(a=d),f<s&&(s=f),d>u&&(u=d),f>l&&(l=f),this._ids[c]=c}for(var h,p,g,m=(a+u)/2,v=(s+l)/2,b=1/0,y=0;y<o;y++){var _=Ew(m,v,e[2*y],e[2*y+1]);_<b&&(h=y,b=_)}var x=e[2*h],S=e[2*h+1];b=1/0;for(var w=0;w<o;w++)if(w!==h){var C=Ew(x,S,e[2*w],e[2*w+1]);C<b&&C>0&&(p=w,b=C)}for(var k=e[2*p],E=e[2*p+1],O=1/0,T=0;T<o;T++)if(T!==h&&T!==p){var P=Iw(x,S,k,E,e[2*T],e[2*T+1]);P<O&&(g=T,O=P)}var I=e[2*g],D=e[2*g+1];if(O===1/0){for(var A=0;A<o;A++)this._dists[A]=e[2*A]-e[0]||e[2*A+1]-e[1];Dw(this._ids,this._dists,0,o-1);for(var M=new Uint32Array(o),j=0,R=0,F=-1/0;R<o;R++){var N=this._ids[R];this._dists[N]>F&&(M[j++]=N,F=this._dists[N])}return this.hull=M.subarray(0,j),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Tw(x,S,k,E,I,D)){var L=p,B=k,z=E;p=g,k=I,E=D,g=L,I=B,D=z}var U=function(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,d=u*u+l*l,f=.5/(a*l-s*u);return{x:e+(l*c-s*d)*f,y:t+(a*d-u*c)*f}}(x,S,k,E,I,D);this._cx=U.x,this._cy=U.y;for(var H=0;H<o;H++)this._dists[H]=Ew(e[2*H],e[2*H+1],U.x,U.y);Dw(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=t[g]=p,n[p]=t[h]=g,n[g]=t[p]=h,r[h]=0,r[p]=1,r[g]=2,i.fill(-1),i[this._hashKey(x,S)]=h,i[this._hashKey(k,E)]=p,i[this._hashKey(I,D)]=g,this.trianglesLen=0,this._addTriangle(h,p,g,-1,-1,-1);for(var W,G,K=0;K<this._ids.length;K++){var q=this._ids[K],Y=e[2*q],X=e[2*q+1];if(!(K>0&&Math.abs(Y-W)<=ww&&Math.abs(X-G)<=ww)&&(W=Y,G=X,q!==h&&q!==p&&q!==g)){for(var Z=0,Q=0,$=this._hashKey(Y,X);Q<this._hashSize&&(-1===(Z=i[($+Q)%this._hashSize])||Z===n[Z]);Q++);for(var J=Z=t[Z],ee=void 0;ee=n[J],!Tw(Y,X,e[2*J],e[2*J+1],e[2*ee],e[2*ee+1]);)if((J=ee)===Z){J=-1;break}if(-1!==J){var te=this._addTriangle(J,q,n[J],-1,-1,r[J]);r[q]=this._legalize(te+2),r[J]=te,V++;for(var ne=n[J];ee=n[ne],Tw(Y,X,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,q,ee,r[q],-1,r[ne]),r[q]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(J===Z)for(;Tw(Y,X,e[2*(ee=t[J])],e[2*ee+1],e[2*J],e[2*J+1]);)te=this._addTriangle(ee,q,J,-1,r[J],r[ee]),this._legalize(te+2),r[ee]=te,n[J]=J,V--,J=ee;this._hullStart=t[q]=J,n[J]=t[ne]=q,n[q]=ne,i[this._hashKey(Y,X)]=q,i[this._hashKey(e[2*J],e[2*J+1])]=J}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var u=a-a%3,l=s+(e+1)%3,c=u+(a+2)%3,d=t[o],f=t[e],h=t[l],p=t[c];if(Pw(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=d;var g=n[c];if(-1===g){var m=this._hullStart;do{if(this._hullTri[m]===c){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,g),this._link(a,n[o]),this._link(o,c);var v=u+(a+1)%3;i<Cw.length&&(Cw[i++]=v)}else{if(0===i)break;e=Cw[--i]}}else{if(0===i)break;e=Cw[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}]),e}();function Ew(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function Ow(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function Tw(e,t,n,r,i,o){return(Ow(i,o,e,t,n,r)||Ow(e,t,n,r,i,o)||Ow(n,r,i,o,e,t))<0}function Pw(e,t,n,r,i,o,a,s){var u=e-a,l=t-s,c=n-a,d=r-s,f=i-a,h=o-s,p=c*c+d*d,g=f*f+h*h;return u*(d*g-p*h)-l*(c*g-p*f)+(u*u+l*l)*(c*h-d*f)<0}function Iw(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,d=u*u+l*l,f=.5/(a*l-s*u),h=(l*c-s*d)*f,p=(a*d-u*c)*f;return h*h+p*p}function Dw(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var u=n+1,l=r;Aw(e,n+r>>1,u),t[e[n]]>t[e[r]]&&Aw(e,n,r),t[e[u]]>t[e[r]]&&Aw(e,u,r),t[e[n]]>t[e[u]]&&Aw(e,n,u);for(var c=e[u],d=t[c];;){do{u++}while(t[e[u]]<d);do{l--}while(t[e[l]]>d);if(l<u)break;Aw(e,u,l)}e[n+1]=e[l],e[l]=c,r-u+1>=l-n?(Dw(e,t,u,r),Dw(e,t,n,l-1)):(Dw(e,t,n,l-1),Dw(e,t,u,r))}}function Aw(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Mw(e){return e[0]}function jw(e){return e[1]}var Rw=function(){function e(){Object(xw.a)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Object(Sw.a)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),Fw=function(){function e(){Object(xw.a)(this,e),this._=[]}return Object(Sw.a)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),Nw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Object(ui.a)(n,4),i=r[0],o=r[1],a=r[2],s=r[3];if(Object(xw.a)(this,e),!((a=+a)>=(i=+i))||!((s=+s)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=s,this.ymin=o,this._init()}return Object(Sw.a)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,l=0,c=o.length;u<c;u+=3,l+=2){var d=2*o[u],f=2*o[u+1],h=2*o[u+2],p=r[d],g=r[d+1],m=r[f],v=r[f+1],b=r[h],y=r[h+1],_=m-p,x=v-g,S=b-p,w=y-g,C=_*_+x*x,k=S*S+w*w,E=2*(_*w-x*S);if(E)if(Math.abs(E)<1e-8)e=(p+b)/2,t=(g+y)/2;else{var O=1/E;e=p+(w*C-x*k)*O,t=g+(_*k-S*C)*O}else e=(p+b)/2-1e8*w,t=(g+y)/2+1e8*S;s[l]=e,s[l+1]=t}var T,P,I,D=i[i.length-1],A=4*D,M=r[2*D],j=r[2*D+1];a.fill(0);for(var R=0;R<i.length;++R)T=A,P=M,I=j,A=4*(D=i[R]),M=r[2*D],j=r[2*D+1],a[T+2]=a[A]=I-j,a[T+3]=a[A+1]=M-P}},{key:"render",value:function(e){var t=null==e?e=new Rw:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,l=r.length;u<l;++u){var c=r[u];if(!(c<u)){var d=2*Math.floor(u/3),f=2*Math.floor(c/3),h=a[d],p=a[d+1],g=a[f],m=a[f+1];this._renderSegment(h,p,g,m,e)}}for(var v,b=o[o.length-1],y=0;y<o.length;++y){v=b,b=o[y];var _=2*Math.floor(i[b]/3),x=a[_],S=a[_+1],w=4*v,C=this._project(x,S,s[w+2],s[w+3]);C&&this._renderSegment(x,S,C[0],C[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new Rw:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new Rw:void 0,r=this._clip(e);if(null!==r){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:v.a.mark((function e(){var t,n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=10;break}if(!(i=this.cellPolygon(n))){e.next=7;break}return e.next=7,i;case 7:++n,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new Fw;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:v.a.mark((function e(t){var n,r,i,o,a,s,u,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=Object(pr.a)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}s=0,u=n.length;case 10:if(!(s<u)){e.next=23;break}l=0,c=a.length;case 12:if(!(l<c)){e.next=20;break}if(n[s]!=a[l]||n[s+1]!=a[l+1]||n[(s+2)%u]!=a[(l+c-2)%c]||n[(s+3)%u]!=a[(l+c-1)%c]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:l+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],u=a;do{var l=Math.floor(u/3);if(s.push(t[2*l],t[2*l+1]),o[u=u%3===2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,s=t.length,u=null,l=t[s-2],c=t[s-1],d=this._regioncode(l,c),f=0;f<s;f+=2)if(n=l,r=c,l=t[f],c=t[f+1],i=d,d=this._regioncode(l,c),0===i&&0===d)o=a,a=0,u?u.push(l,c):u=[l,c];else{var h=void 0,p=void 0,g=void 0,m=void 0,v=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,l,c,i,d)))continue;var b=h,y=Object(ui.a)(b,4);p=y[0],g=y[1],m=y[2],v=y[3]}else{if(null===(h=this._clipSegment(l,c,n,r,d,i)))continue;var _=h,x=Object(ui.a)(_,4);m=x[0],v=x[1],p=x[2],g=x[3],o=a,a=this._edgecode(p,g),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(p,g):u=[p,g]}o=a,a=this._edgecode(m,v),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(m,v):u=[m,v]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(e,o,a,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var u,l=0,c=s.length,d=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=d,d=this._edgecode(s[l],s[l+1]),u&&d&&(l=this._edge(e,u,d,s,l),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,l=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[l]||r[s+1]===r[u+1]&&r[u+1]===r[l+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),Lw=v.a.mark(Gw),Bw=2*Math.PI;function zw(e){return e[0]}function Uw(e){return e[1]}function Hw(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var Vw=function(){function e(t){Object(xw.a)(this,e),this._delaunator=new kw(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Object(Sw.a)(e,null,[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zw,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uw,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?Ww(t,n,r,i):Float64Array.from(Gw(t,n,r,i)))}}]),Object(Sw.a)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.sqrt(Math.pow(i[3]-i[1],2)+Math.pow(i[2]-i[0],2)),a=0,s=t.length/2;a<s;++a){var u=Hw(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new kw(t)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,d=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,g=l.length;p<g;++p){var m=d[p%3===2?p-2:p+1];-1!==l[p]&&-1!==f[m]||(f[m]=p)}for(var v=0,b=c.length;v<b;++v)h[c[v]]=v;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],f[c[0]]=1,2===c.length&&(f[c[1]]=0))}},{key:"voronoi",value:function(e){return new Nw(this,e)}},{key:"neighbors",value:v.a.mark((function e(t){var n,r,i,o,a,s,u,l,c,d,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((u=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[u-1];case 6:if(!(u<s.length-1)){e.next=9;break}return e.next=9,s[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(l=n[t])){e.next=13;break}return e.abrupt("return");case 13:c=l,d=-1;case 14:return e.next=16,d=a[c];case 16:if(a[c=c%3===2?c-2:c+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(c=o[c])){e.next=26;break}if((f=r[(i[t]+1)%r.length])===d){e.next=25;break}return e.next=25,f;case 25:return e.abrupt("return");case 26:if(c!==l){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var l=e,c=Math.pow(t-u[2*e],2)+Math.pow(n-u[2*e+1],2),d=r[e],f=d;do{var h=s[f],p=Math.pow(t-u[2*h],2)+Math.pow(n-u[2*h+1],2);if(p<c&&(c=p,l=h),s[f=f%3===2?f-2:f+1]!==e)break;if(-1===(f=a[f])){if((f=i[(o[e]+1)%i.length])!==h&&Math.pow(t-u[2*f],2)+Math.pow(n-u[2*f+1],2)<c)return f;break}}while(f!==d);return l}},{key:"render",value:function(e){for(var t=null==e?e=new Rw:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var u=2*i[o],l=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[l],n[l+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new Rw:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,Bw)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new Rw:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new Fw;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new Rw:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new Fw;return this.renderTriangle(e,t),t.value()}}]),e}();function Ww(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}function Gw(e,t,n,r){var i,o,a,s;return v.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:i=0,o=Object(pr.a)(e),u.prev=2,o.s();case 4:if((a=o.n()).done){u.next=13;break}return s=a.value,u.next=8,t.call(r,s,i,e);case 8:return u.next=10,n.call(r,s,i,e);case 10:++i;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),o.e(u.t0);case 18:return u.prev=18,o.f(),u.finish(18);case 21:case"end":return u.stop()}}),Lw,null,[[2,15,18,21]])}function Kw(e){tr.call(this,null,e)}Kw.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var qw=Object(p.y)(Kw,tr),Yw=[-1e5,-1e5,1e5,1e5];function Xw(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}qw.transform=function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:Yw;for(var o=this.value=Vw.from(r,e.x,e.y).voronoi(i),a=0,s=r.length;a<s;++a){var u=o.cellPolygon(a);r[a][n]=u?Xw(u):null}return t.reflow(e.modified()).modifies(n)};var Zw=Math.PI/180,Qw=function(){var e,t,n,r,i,o,a,s=[256,256],u=tC,l=[],c=Math.random,d={};function f(e,t,n){for(var r,i,o,a,l,d=t.x,f=t.y,h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=u(s),g=c()<.5?1:-1,m=-g;(r=p(m+=g))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=h));)if(t.x=d+i,t.y=f+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1])&&(!n||!Jw(t,e,s[0]))&&(!n||(l=n,(a=t).x+a.x1>l[0].x&&a.x+a.x0<l[1].x&&a.y+a.y1>l[0].y&&a.y+a.y0<l[1].y))){for(var v,b=t.sprite,y=t.width>>5,_=s[0]>>5,x=t.x-(y<<4),S=127&x,w=32-S,C=t.y1-t.y0,k=(t.y+t.y0)*_+(x>>5),E=0;E<C;E++){v=0;for(var O=0;O<=y;O++)e[k+O]|=v<<w|(O<y?(v=b[E*y+O])>>>S:0);k+=_}return t.sprite=null,!0}return!1}return d.layout=function(){for(var u=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Ls()),d=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),h=null,p=l.length,g=-1,m=[],v=l.map((function(s){return{text:e(s),font:t(s),style:r(s),weight:i(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}})).sort((function(e,t){return t.size-e.size}));++g<p;){var b=v[g];b.x=s[0]*(c()+.5)>>1,b.y=s[1]*(c()+.5)>>1,$w(u,b,v,g),b.hasText&&f(d,b,h)&&(m.push(b),h?eC(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=s[0]>>1,b.y-=s[1]>>1)}return m},d.words=function(e){return arguments.length?(l=e,d):l},d.size=function(e){return arguments.length?(s=[+e[0],+e[1]],d):s},d.font=function(e){return arguments.length?(t=nC(e),d):t},d.fontStyle=function(e){return arguments.length?(r=nC(e),d):r},d.fontWeight=function(e){return arguments.length?(i=nC(e),d):i},d.rotate=function(e){return arguments.length?(o=nC(e),d):o},d.text=function(t){return arguments.length?(e=nC(t),d):e},d.spiral=function(e){return arguments.length?(u=rC[e]||e,d):u},d.fontSize=function(e){return arguments.length?(n=nC(e),d):n},d.padding=function(e){return arguments.length?(a=nC(e),d):a},d.random=function(e){return arguments.length?(c=e,d):c},d};function $w(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,2048/o);var a,s,u,l,c,d=0,f=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,a=i.measureText(t.text+"m").width*o,u=t.size<<1,t.rotate){var g=Math.sin(t.rotate*Zw),m=Math.cos(t.rotate*Zw),v=a*m,b=a*g,y=u*m,_=u*g;a=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,u=~~Math.max(Math.abs(b+y),Math.abs(b-y))}else a=a+31>>5<<5;if(u>h&&(h=u),d+a>=2048&&(d=0,f+=h,h=0),f+u>=2048)break;i.translate((d+(a>>1))/o,(f+(u>>1))/o),t.rotate&&i.rotate(t.rotate*Zw),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=u,t.xoff=d,t.yoff=f,t.x1=a>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=a}for(var x=i.getImageData(0,0,2048/o,2048/o).data,S=[];--r>=0;)if((t=n[r]).hasText){for(s=(a=t.width)>>5,u=t.y1-t.y0,l=0;l<u*s;l++)S[l]=0;if(null==(d=t.xoff))return;f=t.yoff;var w=0,C=-1;for(c=0;c<u;c++){for(l=0;l<a;l++){var k=s*c+(l>>5),E=x[2048*(f+c)+(d+l)<<2]?1<<31-l%32:0;S[k]|=E,w|=E}w?C=c:(t.y0++,u--,c--,f++)}t.y1=t.y0+C,t.sprite=S.slice(0,(t.y1-t.y0)*s)}}}function Jw(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,u=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),d=0;d<l;d++){r=0;for(var f=0;f<=o;f++)if((r<<u|(f<o?(r=i[d*o+f])>>>s:0))&t[c+f])return!0;c+=n}return!1}function eC(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function tC(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function nC(e){return"function"===typeof e?e:function(){return e}}var rC={archimedean:tC,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},iC=["x","y","font","fontSize","fontStyle","fontWeight","angle"],oC=["text","font","rotate","fontSize","fontStyle","fontWeight"];function aC(e){tr.call(this,Qw(),e)}function sC(e){return new Uint8Array(e)}function uC(e){return new Uint16Array(e)}function lC(e){return new Uint32Array(e)}function cC(e,t,n){var r=(t<257?sC:t<65537?uC:lC)(e);return n&&r.set(n),r}aC.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:iC}]},Object(p.y)(aC,tr).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(p.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||oC.some((function(n){var r=e[n];return Object(p.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,o=this.value,a=e.as||iC,s=e.fontSize||14;if(Object(p.D)(s)?r=e.fontSizeRange:s=Object(p.l)(s),r){var u=s,l=Nh("sqrt")().domain(Object(p.p)(i,u)).range(r);s=function(e){return l(u(e))}}i.forEach((function(e){e[a[0]]=NaN,e[a[1]]=NaN,e[a[3]]=0}));for(var c,d,f=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(Ir).layout(),h=o.size(),g=h[0]>>1,m=h[1]>>1,v=0,b=f.length;v<b;++v)(d=(c=f[v]).datum)[a[0]]=c.x+g,d[a[1]]=c.y+m,d[a[2]]=c.font,d[a[3]]=c.size,d[a[4]]=c.style,d[a[5]]=c.weight,d[a[6]]=c.rotate;return t.reflow(n).modifies(a)}};var dC=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),o=e.index,a=i[0],s=i[1],u=o.length;for(n=0;n<a;++n)t[o[n]]|=r;for(n=s;n<u;++n)t[o[n]]|=r;return this}}};function fC(){var e=lC(0),t=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,s,u,l,c,d,f,h=n,p=i.length,g=Array(p),m=lC(p);for(u=0;u<p;++u)g[u]=r(i[u]),m[u]=u;if(f=m,(d=g).sort.call(f,(function(e,t){var n=d[e],r=d[t];return n<r?-1:n>r?1:0})),l=d,c=f,g=Array.from(c,(function(e){return l[e]})),h)a=t,s=e,t=Array(h+p),e=lC(h+p),function(e,t,n,r,i,o,a,s,u){var l,c=0,d=0;for(l=0;c<r&&d<a;++l)t[c]<i[d]?(s[l]=t[c],u[l]=n[c++]):(s[l]=i[d],u[l]=o[d++]+e);for(;c<r;++c,++l)s[l]=t[c],u[l]=n[c];for(;d<a;++d,++l)s[l]=i[d],u[l]=o[d]+e}(o,a,s,h,g,m,p,t,e);else{if(o>0)for(u=0;u<p;++u)m[u]+=o;t=g,e=m}return n=h+p,{index:m,value:g}},remove:function(r,i){var o,a,s,u=n;for(a=0;!i[e[a]]&&a<u;++a);for(s=a;a<u;++a)i[o=e[a]]||(e[s]=o,t[s]=t[a],++s);n=u-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[pf(r,e[0],0,i),hf(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function hC(e){tr.call(this,function(){var e=8,t=[],n=lC(0),r=cC(0,e),i=cC(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,o=e.length;r<o;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var o,a,s,u=t.length,l=Array(u-e),c=t;for(a=0;!n[a]&&a<u;++a)l[a]=t[a],c[a]=a;for(s=a;a<u;++a)o=t[a],n[a]?c[a]=-1:(c[a]=s,r[s]=r[a],i[s]=i[a],l[s]=o,o._index=s++),r[a]=0;return t=l,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=cC(t,e,r),i=cC(t,e))}}}(),e),this._indices=null,this._dims=null}hC.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var pC=Object(p.y)(hC,tr);function gC(e){tr.call(this,null,e)}pC.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},pC.init=function(e,t){for(var n,r,i=e.fields,o=e.query,a=this._indices={},s=this._dims=[],u=o.length,l=0;l<u;++l)r=a[n=i[l].fname]||(a[n]=fC()),s.push(dC(r,l,o[l]));return this.eval(e,t)},pC.reinit=function(e,t){var n,r,i,o,a,s,u,l,c,d=t.materialize().fork(),f=e.fields,h=e.query,p=this._indices,g=this._dims,m=this.value,v=m.curr(),b=m.prev(),y=m.all(),_=d.rem=d.add,x=d.mod,S=h.length,w={};if(b.set(v),t.rem.length&&(a=this.remove(e,t,d)),t.add.length&&m.add(t.add),t.mod.length)for(s={},u=0,l=(o=t.mod).length;u<l;++u)s[o[u]._index]=1;for(u=0;u<S;++u)c=f[u],(!g[u]||e.modified("fields",u)||t.modified(c.fields))&&((n=w[i=c.fname])||(p[i]=r=fC(),w[i]=n=r.insert(c,t.source,0)),g[u]=dC(r,u,h[u]).onAdd(n,v));for(u=0,l=m.data().length;u<l;++u)a[u]||(b[u]!==v[u]?_.push(u):s[u]&&v[u]!==y&&x.push(u));return m.mask=(1<<S)-1,d},pC.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},pC.insert=function(e,t,n){var r,i,o,a=t.add,s=this.value,u=this._dims,l=this._indices,c=e.fields,d={},f=n.add,h=s.size(),p=h+a.length,g=u.length;s.resize(p,g),s.add(a);var m=s.curr(),v=s.prev(),b=s.all();for(r=0;r<g;++r)o=d[i=c[r].fname]||(d[i]=l[i].insert(c[r],a,h)),u[r].onAdd(o,m);for(;h<p;++h)v[h]=b,m[h]!==b&&f.push(h)},pC.modify=function(e,t){var n,r,i,o=t.mod,a=this.value,s=a.curr(),u=a.all(),l=e.mod;for(n=0,r=l.length;n<r;++n)s[i=l[n]._index]!==u&&o.push(i)},pC.remove=function(e,t,n){var r,i,o,a,s=this._indices,u=this.value,l=u.curr(),c=u.prev(),d=u.all(),f={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)f[o=p[r]._index]=1,c[o]=a=l[o],l[o]=d,a!==d&&h.push(o);for(o in s)s[o].remove(i,f);return this.reindex(t,i,f),f},pC.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var o in r)r[o].reindex(e)}))},pC.update=function(e,t,n){var r,i,o=this._dims,a=e.query,s=t.stamp,u=o.length,l=0;for(n.filters=0,i=0;i<u;++i)e.modified("query",i)&&(r=i,++l);if(1===l)l=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,l=0;i<u;++i)e.modified("query",i)&&(l|=o[i].one,this.incrementAll(o[i],a[i],s,n.add),n.rem=n.add);return l},pC.incrementAll=function(e,t,n,r){var i,o,a,s=this.value,u=s.seen(),l=s.curr(),c=s.prev(),d=e.index(),f=e.bisect(e.range),h=e.bisect(t),p=h[0],g=h[1],m=f[0],v=f[1],b=e.one;if(p<m)for(i=p,o=Math.min(m,g);i<o;++i)u[a=d[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=b;else if(p>m)for(i=m,o=Math.min(p,v);i<o;++i)u[a=d[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=b;if(g>v)for(i=Math.max(p,v),o=g;i<o;++i)u[a=d[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=b;else if(g<v)for(i=Math.max(m,g),o=v;i<o;++i)u[a=d[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=b;e.range=t.slice()},pC.incrementOne=function(e,t,n,r){var i,o,a,s=this.value.curr(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=l[0],p=l[1],g=e.one;if(d<h)for(i=d,o=Math.min(h,f);i<o;++i)s[a=u[i]]^=g,n.push(a);else if(d>h)for(i=h,o=Math.min(d,p);i<o;++i)s[a=u[i]]^=g,r.push(a);if(f>p)for(i=Math.max(d,p),o=f;i<o;++i)s[a=u[i]]^=g,n.push(a);else if(f<p)for(i=Math.max(h,f),o=p;i<o;++i)s[a=u[i]]^=g,r.push(a);e.range=t.slice()},gC.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(p.y)(gC,tr).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var o=t.fork(t.ALL),a=r.data(),s=r.curr(),u=r.prev(),l=function(e){return s[e]&n?null:a[e]};return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,(function(e){var t=s[e]&n;return!t&&t^u[e]&n?a[e]:null})),o.filter(o.REM,(function(e){var t=s[e]&n;return t&&!(t^t^u[e]&n)?a[e]:null}))):(o.filter(o.ADD,l),o.filter(o.REM,(function(e){return(s[e]&n)===i?a[e]:null}))),o.filter(o.SOURCE,(function(e){return l(e._index)}))};var mC=n(148);function vC(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var bC=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?Object(p.H)(r)?r:r.user:"default",o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),e.add(null,(function(e){var t=e.cursor,n=this.value;return Object(p.H)(t)||(n=t.item,t=t.user),function(e){"undefined"!==typeof document&&document.body&&(document.body.style.cursor=e)}(t&&"default"!==t?t:n||t),n}),{cursor:t})};function yC(e,t){var n=e._runtime.data;return Object(p.v)(n,t)||Object(p.n)("Unrecognized data set: "+t),n[t]}function _C(e,t){A(t)||Object(p.n)("Second argument to changes must be a changeset.");var n=yC(this,e);return n.modified=!0,this.pulse(n.input,t)}function xC(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function SC(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function wC(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function CC(e){var t=wC(e),n=xC(e),r=SC(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(i){e.error(i)}}))}var kC=function(e,t,n){var r,i,o,a=e._renderer,s=a&&a.canvas();return s&&(o=wC(e),i=t.changedTouches?t.changedTouches[0]:t,(r=Ud(i,s))[0]-=o[0],r[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;Object(p.H)(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(p.l)(e),item:Object(p.l)(t||{}),group:i,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,r),t};var EC={trap:!1};function OC(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(p.F)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function TC(e){return e.item}function PC(e){return e.item.mark.source}function IC(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var DC=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},AC=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Object(p.m)(r.debounce,i.update))),function(e,t,n,r){var i=DC("div",{class:"vega-bind"}),o="radio"===n.input?i:i.appendChild(DC("label"));o.appendChild(DC("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var a=MC;switch(n.input){case"checkbox":a=jC;break;case"select":a=RC;break;case"radio":a=FC;break;case"range":a=NC}a(e,o,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0),i}};function MC(e,t,n,r){var i=DC("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function jC(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=DC("input",i);t.appendChild(o),o.addEventListener("change",(function(){return e.update(o.checked)})),e.elements=[o],e.set=function(e){return o.checked=!!e||null}}function RC(e,t,n,r){var i=DC("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(e,t){var n={value:e};LC(e,r)&&(n.selected=!0),i.appendChild(DC("option",n,(o[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(LC(n.options[t],e))return void(i.selectedIndex=t)}}function FC(e,t,n,r){var i=DC("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,a){var s={type:"radio",name:n.signal,value:t};LC(t,r)&&(s.checked=!0);var u=DC("input",s);u.addEventListener("change",(function(){return e.update(t)}));var l=DC("label",{},(o[a]||t)+"");return l.prepend(u),i.appendChild(l),u})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)LC(n[i].value,t)&&(n[i].checked=!0)}}function NC(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||es(o,i,100),s=DC("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;var u=DC("span",{},+r);t.appendChild(s),t.appendChild(u);var l=function(){u.textContent=s.value,e.update(+s.value)};s.addEventListener("input",l),s.addEventListener("change",l),e.elements=[s],e.set=function(e){s.value=e,u.textContent=e}}function LC(e,t){return e===t||e+""===t+""}var BC=function(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,xC(e),SC(e),wC(e),i,o).background(e.background())},zC=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function UC(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var HC=function(e){return+e||0},VC=function(e){return Object(p.F)(e)?{top:HC(e.top),bottom:HC(e.bottom),left:HC(e.left),right:HC(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(HC(e))},WC=function(e,t,n,r){return GC.apply(this,arguments)};function GC(){return(GC=y(v.a.mark((function e(t,n,r,i){var o,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Kg(n),(a=o&&o.headless)||Object(p.n)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",BC(t,null,null,a,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(){return(KC=y(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==Wg.Canvas&&t!==Wg.SVG&&t!==Wg.PNG&&Object(p.n)("Unrecognized image type: "+t),e.next=3,WC(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===Wg.SVG?qC(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function qC(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function YC(){return(YC=y(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WC(this,Wg.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function XC(){return(XC=y(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WC(this,Wg.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var ZC,QC,$C,JC,ek;function tk(e){this.type=e}tk.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(ZC={})[1]="Boolean",ZC[2]="<end>",ZC[3]="Identifier",ZC[4]="Keyword",ZC[5]="Null",ZC[6]="Numeric",ZC[7]="Punctuator",ZC[8]="String",ZC[9]="RegularExpression";var nk="ILLEGAL",rk=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),ik=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function ok(e,t){if(!e)throw new Error("ASSERT: "+t)}function ak(e){return e>=48&&e<=57}function sk(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function uk(e){return"01234567".indexOf(e)>=0}function lk(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function ck(e){return 10===e||13===e||8232===e||8233===e}function dk(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&rk.test(String.fromCharCode(e))}function fk(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&ik.test(String.fromCharCode(e))}var hk={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function pk(){for(var e;$C<JC&&(lk(e=QC.charCodeAt($C))||ck(e));)++$C}function gk(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)$C<JC&&sk(QC[$C])?(r=QC[$C++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):Dk({},"Unexpected token %0",nk);return String.fromCharCode(i)}function mk(){var e,t,n,r;for(t=0,"}"===(e=QC[$C])&&Dk({},"Unexpected token %0",nk);$C<JC&&sk(e=QC[$C++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Dk({},"Unexpected token %0",nk),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function vk(){var e,t;for(e=QC.charCodeAt($C++),t=String.fromCharCode(e),92===e&&(117!==QC.charCodeAt($C)&&Dk({},"Unexpected token %0",nk),++$C,(e=gk("u"))&&"\\"!==e&&dk(e.charCodeAt(0))||Dk({},"Unexpected token %0",nk),t=e);$C<JC&&fk(e=QC.charCodeAt($C));)++$C,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==QC.charCodeAt($C)&&Dk({},"Unexpected token %0",nk),++$C,(e=gk("u"))&&"\\"!==e&&fk(e.charCodeAt(0))||Dk({},"Unexpected token %0",nk),t+=e);return t}function bk(){var e,t;return e=$C,{type:1===(t=92===QC.charCodeAt($C)?vk():function(){var e,t;for(e=$C++;$C<JC;){if(92===(t=QC.charCodeAt($C)))return $C=e,vk();if(!fk(t))break;++$C}return QC.slice(e,$C)}()).length?3:hk.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:$C}}function yk(){var e,t,n,r,i=$C,o=QC.charCodeAt($C),a=QC[$C];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++$C,{type:7,value:String.fromCharCode(o),start:i,end:$C};default:if(61===(e=QC.charCodeAt($C+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return $C+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:$C};case 33:case 61:return $C+=2,61===QC.charCodeAt($C)&&++$C,{type:7,value:QC.slice(i,$C),start:i,end:$C}}}return">>>="===(r=QC.substr($C,4))?{type:7,value:r,start:i,end:$C+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:$C+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:7,value:t,start:i,end:$C+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++$C}:void Dk({},"Unexpected token %0",nk)}function _k(){var e,t,n;if(ok(ak((n=QC[$C]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=$C,e="","."!==n){if(e=QC[$C++],n=QC[$C],"0"===e){if("x"===n||"X"===n)return++$C,function(e){for(var t="";$C<JC&&sk(QC[$C]);)t+=QC[$C++];return 0===t.length&&Dk({},"Unexpected token %0",nk),dk(QC.charCodeAt($C))&&Dk({},"Unexpected token %0",nk),{type:6,value:parseInt("0x"+t,16),start:e,end:$C}}(t);if(uk(n))return function(e){for(var t="0"+QC[$C++];$C<JC&&uk(QC[$C]);)t+=QC[$C++];return(dk(QC.charCodeAt($C))||ak(QC.charCodeAt($C)))&&Dk({},"Unexpected token %0",nk),{type:6,value:parseInt(t,8),octal:!0,start:e,end:$C}}(t);n&&ak(n.charCodeAt(0))&&Dk({},"Unexpected token %0",nk)}for(;ak(QC.charCodeAt($C));)e+=QC[$C++];n=QC[$C]}if("."===n){for(e+=QC[$C++];ak(QC.charCodeAt($C));)e+=QC[$C++];n=QC[$C]}if("e"===n||"E"===n)if(e+=QC[$C++],"+"!==(n=QC[$C])&&"-"!==n||(e+=QC[$C++]),ak(QC.charCodeAt($C)))for(;ak(QC.charCodeAt($C));)e+=QC[$C++];else Dk({},"Unexpected token %0",nk);return dk(QC.charCodeAt($C))&&Dk({},"Unexpected token %0",nk),{type:6,value:parseFloat(e),start:t,end:$C}}function xk(){var e,t,n,r;return ek=null,pk(),e=$C,t=function(){var e,t,n,r;for(ok("/"===(e=QC[$C]),"Regular expression literal must start with a slash"),t=QC[$C++],n=!1,r=!1;$C<JC;)if(t+=e=QC[$C++],"\\"===e)ck((e=QC[$C++]).charCodeAt(0))&&Dk({},"Invalid regular expression: missing /"),t+=e;else if(ck(e.charCodeAt(0)))Dk({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||Dk({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";$C<JC&&fk((e=QC[$C]).charCodeAt(0));)++$C,"\\"===e&&$C<JC?Dk({},"Unexpected token %0",nk):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Dk({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";Dk({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){Dk({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:$C}}function Sk(){var e;return pk(),$C>=JC?{type:2,start:$C,end:$C}:dk(e=QC.charCodeAt($C))?bk():40===e||41===e||59===e?yk():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for(ok("'"===(e=QC[$C])||'"'===e,"String literal must starts with a quote"),t=$C,++$C;$C<JC;){if((n=QC[$C++])===e){e="";break}if("\\"===n)if((n=QC[$C++])&&ck(n.charCodeAt(0)))"\r"===n&&"\n"===QC[$C]&&++$C;else switch(n){case"u":case"x":"{"===QC[$C]?(++$C,i+=mk()):i+=gk(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:uk(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),$C<JC&&uk(QC[$C])&&(o=!0,r=8*r+"01234567".indexOf(QC[$C++]),"0123".indexOf(n)>=0&&$C<JC&&uk(QC[$C])&&(r=8*r+"01234567".indexOf(QC[$C++]))),i+=String.fromCharCode(r)):i+=n}else{if(ck(n.charCodeAt(0)))break;i+=n}}return""!==e&&Dk({},"Unexpected token %0",nk),{type:8,value:i,octal:o,start:t,end:$C}}():46===e?ak(QC.charCodeAt($C+1))?_k():yk():ak(e)?_k():yk()}function wk(){var e;return $C=(e=ek).end,ek=Sk(),$C=e.end,e}function Ck(){var e;e=$C,ek=Sk(),$C=e}function kk(e,t,n){var r=new tk("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function Ek(e,t){var n=new tk("CallExpression");return n.callee=e,n.arguments=t,n}function Ok(e){var t=new tk("Identifier");return t.name=e,t}function Tk(e){var t=new tk("Literal");return t.value=e.value,t.raw=QC.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Pk(e,t,n){var r=new tk("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function Ik(e,t,n){var r=new tk("Property");return r.key=t,r.value=n,r.kind=e,r}function Dk(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return ok(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=$C,n.description=i,n}function Ak(e){2===e.type&&Dk(e,"Unexpected end of input"),6===e.type&&Dk(e,"Unexpected number"),8===e.type&&Dk(e,"Unexpected string"),3===e.type&&Dk(e,"Unexpected identifier"),4===e.type&&Dk(e,"Unexpected reserved word"),Dk(e,"Unexpected token %0",e.value)}function Mk(e){var t=wk();7===t.type&&t.value===e||Ak(t)}function jk(e){return 7===ek.type&&ek.value===e}function Rk(e){return 4===ek.type&&ek.value===e}function Fk(){var e=[];for($C=ek.start,Mk("[");!jk("]");)jk(",")?(wk(),e.push(null)):(e.push(Yk()),jk("]")||Mk(","));return wk(),function(e){var t=new tk("ArrayExpression");return t.elements=e,t}(e)}function Nk(){var e;return $C=ek.start,8===(e=wk()).type||6===e.type?(e.octal&&Dk(e,"Octal literals are not allowed in strict mode."),Tk(e)):Ok(e.value)}function Lk(){var e,t,n;return $C=ek.start,3===(e=ek).type?(n=Nk(),Mk(":"),Ik("init",n,Yk())):2!==e.type&&7!==e.type?(t=Nk(),Mk(":"),Ik("init",t,Yk())):void Ak(e)}function Bk(){var e,t,n=[],r={},i=String;for($C=ek.start,Mk("{");!jk("}");)t="$"+("Identifier"===(e=Lk()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?Dk({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),jk("}")||Mk(",");return Mk("}"),function(e){var t=new tk("ObjectExpression");return t.properties=e,t}(n)}var zk={if:1,this:1};function Uk(){var e,t,n;if(jk("("))return function(){var e;return Mk("("),e=Xk(),Mk(")"),e}();if(jk("["))return Fk();if(jk("{"))return Bk();if(e=ek.type,$C=ek.start,3===e||zk[ek.value])n=Ok(wk().value);else if(8===e||6===e)ek.octal&&Dk(ek,"Octal literals are not allowed in strict mode."),n=Tk(wk());else{if(4===e)throw new Error("Disabled.");1===e?((t=wk()).value="true"===t.value,n=Tk(t)):5===e?((t=wk()).value=null,n=Tk(t)):jk("/")||jk("/=")?(n=Tk(xk()),Ck()):Ak(wk())}return n}function Hk(){var e=[];if(Mk("("),!jk(")"))for(;$C<JC&&(e.push(Yk()),!jk(")"));)Mk(",");return Mk(")"),e}function Vk(){return Mk("."),function(){var e;return $C=ek.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=wk())||Ak(e),Ok(e.value)}()}function Wk(){var e;return Mk("["),e=Xk(),Mk("]"),e}function Gk(){var e=function(){var e;for(e=Uk();;)if(jk("."))e=Pk(".",e,Vk());else if(jk("("))e=Ek(e,Hk());else{if(!jk("["))break;e=Pk("[",e,Wk())}return e}();if(7===ek.type&&(jk("++")||jk("--")))throw new Error("Disabled.");return e}function Kk(){var e,t;if(7!==ek.type&&4!==ek.type)t=Gk();else{if(jk("++")||jk("--"))throw new Error("Disabled.");if(jk("+")||jk("-")||jk("~")||jk("!"))e=wk(),t=Kk(),t=function(e,t){var n=new tk("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(Rk("delete")||Rk("void")||Rk("typeof"))throw new Error("Disabled.");t=Gk()}}return t}function qk(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Yk(){var e,t;return e=function(){var e,t,n,r,i,o,a,s,u,l;if(e=ek,u=Kk(),0===(i=qk(r=ek)))return u;for(r.prec=i,wk(),t=[e,ek],o=[u,r,a=Kk()];(i=qk(ek))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=kk(s,u,a),o.push(n);(r=wk()).prec=i,o.push(r),t.push(ek),n=Kk(),o.push(n)}for(n=o[l=o.length-1],t.pop();l>1;)t.pop(),n=kk(o[l-1].value,o[l-2],n),l-=2;return n}(),jk("?")&&(wk(),t=Yk(),Mk(":"),e=function(e,t,n){var r=new tk("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,Yk())),e}function Xk(){var e=Yk();if(jk(","))throw new Error("Disabled.");return e}var Zk={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},Qk=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(p.n)("Missing arguments to clamp function."),t.length>3&&Object(p.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(p.n)("Missing arguments to if function."),t.length>3&&Object(p.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};function $k(e,t){for(var n,r,i=t.fields,o=t.values,a=i.length,s=0;s<a;++s)if((r=i[s]).getter=p.t.getter||Object(p.t)(r.field),n=r.getter(e),Object(p.C)(n)&&(n=Object(p.cb)(n)),Object(p.C)(o[s])&&(o[s]=Object(p.cb)(o[s])),Object(p.C)(o[s][0])&&(o[s]=o[s].map(p.cb)),"E"===r.type){if(Object(p.A)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if("R"===r.type){if(!Object(p.z)(n,o[s]))return!1}else if("R-RE"===r.type){if(!Object(p.z)(n,o[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(p.z)(n,o[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(p.z)(n,o[s],!1,!0))return!1;return!0}var Jk={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(p.cb)(t[0]),r=Object(p.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(p.cb)(t[0]),r=Object(p.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function eE(e,t,n,r){"Literal"!==t[0].type&&Object(p.n)("First argument to selection functions must be a string literal.");var i=t[0].value,o=":"+i;"intersect"!==(t.length>=2&&Object(p.U)(t).value)||Object(p.v)(r,"@unit")||(r["@unit"]=n.getData(i).indataRef(n,"unit")),Object(p.v)(r,o)||(r[o]=n.getData(i).tuplesRef())}function tE(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function nE(e){var t=Object(Tf.g)(e);return.2126*tE(t.r)+.7152*tE(t.g)+.0722*tE(t.b)}function rE(e){var t=this.context.data[e];return t?t.values.value:[]}var iE={};function oE(e,t,n){var r=e+":"+n,i=iE[r];return i&&i[0]===t||(iE[r]=i=[t,t(n)]),i[1]}function aE(e,t){return oE("timeFormat",Ga,t)(e)}var sE=new Date(2e3,0,1);function uE(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(sE.setYear(2e3),sE.setMonth(e),sE.setDate(t),aE(sE,n)):""}function lE(e,t){var n;return Object(p.D)(e)?e:Object(p.H)(e)?(n=t.scales[e])&&n.value:void 0}var cE,dE,fE,hE,pE,gE=Bv(),mE=Bv(),vE={point:lb,lineStart:lb,lineEnd:lb,polygonStart:function(){gE.reset(),vE.lineStart=bE,vE.lineEnd=yE},polygonEnd:function(){var e=+gE;mE.add(e<0?Kv+e:e),this.lineStart=this.lineEnd=this.point=lb},sphere:function(){mE.add(Kv)}};function bE(){vE.point=_E}function yE(){xE(cE,dE)}function _E(e,t){vE.point=xE,cE=e,dE=t,fE=e*=Yv,hE=$v(t=(t*=Yv)/2+Gv),pE=rb(t)}function xE(e,t){var n=(e*=Yv)-fE,r=n>=0?1:-1,i=r*n,o=$v(t=(t*=Yv)/2+Gv),a=rb(t),s=pE*a,u=hE*o+s*$v(i),l=s*r*rb(i);gE.add(Qv(l,u)),fE=e,hE=o,pE=a}var SE,wE,CE,kE,EE,OE,TE,PE,IE,DE,AE=Bv(),ME={point:jE,lineStart:FE,lineEnd:NE,polygonStart:function(){ME.point=LE,ME.lineStart=BE,ME.lineEnd=zE,AE.reset(),vE.polygonStart()},polygonEnd:function(){vE.polygonEnd(),ME.point=jE,ME.lineStart=FE,ME.lineEnd=NE,gE<0?(SE=-(CE=180),wE=-(kE=90)):AE>1e-6?kE=90:AE<-1e-6&&(wE=-90),DE[0]=SE,DE[1]=CE},sphere:function(){SE=-(CE=180),wE=-(kE=90)}};function jE(e,t){IE.push(DE=[SE=e,CE=e]),t<wE&&(wE=t),t>kE&&(kE=t)}function RE(e,t){var n=vy([e*Yv,t*Yv]);if(PE){var r=yy(PE,n),i=yy([r[1],-r[0],0],r);Sy(i),i=my(i);var o,a=e-EE,s=a>0?1:-1,u=i[0]*qv*s,l=Xv(a)>180;l^(s*EE<u&&u<s*e)?(o=i[1]*qv)>kE&&(kE=o):l^(s*EE<(u=(u+360)%360-180)&&u<s*e)?(o=-i[1]*qv)<wE&&(wE=o):(t<wE&&(wE=t),t>kE&&(kE=t)),l?e<EE?UE(SE,e)>UE(SE,CE)&&(CE=e):UE(e,CE)>UE(SE,CE)&&(SE=e):CE>=SE?(e<SE&&(SE=e),e>CE&&(CE=e)):e>EE?UE(SE,e)>UE(SE,CE)&&(CE=e):UE(e,CE)>UE(SE,CE)&&(SE=e)}else IE.push(DE=[SE=e,CE=e]);t<wE&&(wE=t),t>kE&&(kE=t),PE=n,EE=e}function FE(){ME.point=RE}function NE(){DE[0]=SE,DE[1]=CE,ME.point=jE,PE=null}function LE(e,t){if(PE){var n=e-EE;AE.add(Xv(n)>180?n+(n>0?360:-360):n)}else OE=e,TE=t;vE.point(e,t),RE(e,t)}function BE(){vE.lineStart()}function zE(){LE(OE,TE),vE.lineEnd(),Xv(AE)>1e-6&&(SE=-(CE=180)),DE[0]=SE,DE[1]=CE,PE=null}function UE(e,t){return(t-=e)<0?t+360:t}function HE(e,t){return e[0]-t[0]}function VE(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var WE,GE,KE,qE,YE,XE,ZE,QE,$E,JE,eO,tO,nO,rO,iO,oO,aO={sphere:lb,point:sO,lineStart:lO,lineEnd:fO,polygonStart:function(){aO.lineStart=hO,aO.lineEnd=pO},polygonEnd:function(){aO.lineStart=lO,aO.lineEnd=fO}};function sO(e,t){e*=Yv;var n=$v(t*=Yv);uO(n*$v(e),n*rb(e),rb(t))}function uO(e,t,n){++WE,KE+=(e-KE)/WE,qE+=(t-qE)/WE,YE+=(n-YE)/WE}function lO(){aO.point=cO}function cO(e,t){e*=Yv;var n=$v(t*=Yv);rO=n*$v(e),iO=n*rb(e),oO=rb(t),aO.point=dO,uO(rO,iO,oO)}function dO(e,t){e*=Yv;var n=$v(t*=Yv),r=n*$v(e),i=n*rb(e),o=rb(t),a=Qv(ob((a=iO*o-oO*i)*a+(a=oO*r-rO*o)*a+(a=rO*i-iO*r)*a),rO*r+iO*i+oO*o);GE+=a,XE+=a*(rO+(rO=r)),ZE+=a*(iO+(iO=i)),QE+=a*(oO+(oO=o)),uO(rO,iO,oO)}function fO(){aO.point=sO}function hO(){aO.point=gO}function pO(){mO(tO,nO),aO.point=sO}function gO(e,t){tO=e,nO=t,e*=Yv,t*=Yv,aO.point=mO;var n=$v(t);rO=n*$v(e),iO=n*rb(e),oO=rb(t),uO(rO,iO,oO)}function mO(e,t){e*=Yv;var n=$v(t*=Yv),r=n*$v(e),i=n*rb(e),o=rb(t),a=iO*o-oO*i,s=oO*r-rO*o,u=rO*i-iO*r,l=ob(a*a+s*s+u*u),c=ub(l),d=l&&-c/l;$E+=d*a,JE+=d*s,eO+=d*u,GE+=c,XE+=c*(rO+(rO=r)),ZE+=c*(iO+(iO=i)),QE+=c*(oO+(oO=o)),uO(rO,iO,oO)}function vO(e,t){return function(n,r,i){if(n){var o=lE(n,(i||this).context);return o&&o.path[e](r)}return t(r)}}var bO=vO("area",(function(e){return mE.reset(),Lv(e,vE),2*mE})),yO=vO("bounds",(function(e){var t,n,r,i,o,a,s;if(kE=CE=-(SE=wE=1/0),IE=[],Lv(e,ME),n=IE.length){for(IE.sort(HE),t=1,o=[r=IE[0]];t<n;++t)VE(r,(i=IE[t])[0])||VE(r,i[1])?(UE(r[0],i[1])>UE(r[0],r[1])&&(r[1]=i[1]),UE(i[0],r[1])>UE(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=UE(r[1],i[0]))>a&&(a=s,SE=i[0],CE=r[1])}return IE=DE=null,SE===1/0||wE===1/0?[[NaN,NaN],[NaN,NaN]]:[[SE,wE],[CE,kE]]})),_O=vO("centroid",(function(e){WE=GE=KE=qE=YE=XE=ZE=QE=$E=JE=eO=0,Lv(e,aO);var t=$E,n=JE,r=eO,i=t*t+n*n+r*r;return i<1e-12&&(t=XE,n=ZE,r=QE,GE<1e-6&&(t=KE,n=qE,r=YE),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[Qv(n,t)*qv,ub(r/ob(i))*qv]}));function xO(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function SO(e,t){return e===t||e!==e&&t!==t||(Object(p.A)(e)?!(!Object(p.A)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!SO(e[n],t[n]))return!1;return!0}(e,t):!(!Object(p.F)(e)||!Object(p.F)(t))&&wO(e,t))}function wO(e,t){for(var n in e)if(!SO(e[n],t[n]))return!1;return!0}function CO(e){return function(t){return wO(e,t)}}var kO={};function EO(e){return e.data}function OO(e,t){var n=rE.call(t,e);return n.root&&n.root.lookup||kO}var TO="undefined"!==typeof window&&window||null;function PO(e,t,n,r){"Literal"!==t[0].type&&Object(p.n)("First argument to data functions must be a string literal.");var i=t[0].value,o=":"+i;if(!Object(p.v)(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function IO(e,t,n,r){if("Literal"===t[0].type)DO(n,r,t[0].value);else if("Identifier"===t[0].type)for(e in n.scales)DO(n,r,e)}function DO(e,t,n){var r="%"+n;if(!Object(p.v)(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}var AO={random:function(){return Ir()},cumulativeNormal:Ur,cumulativeLogNormal:qr,cumulativeUniform:Jr,densityNormal:zr,densityLogNormal:Kr,densityUniform:$r,quantileNormal:Hr,quantileLogNormal:Yr,quantileUniform:ei,sampleNormal:Br,sampleLogNormal:Gr,sampleUniform:Qr,isArray:p.A,isBoolean:p.B,isDate:p.C,isDefined:function(e){return void 0!==e},isNumber:p.E,isObject:p.F,isRegExp:p.G,isString:p.H,isTuple:C,isValid:function(e){return null!=e&&e===e},toBoolean:p.ab,toDate:p.bb,toNumber:p.cb,toString:p.eb,flush:p.u,lerp:p.J,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),p.o.apply(null,e)},pad:p.P,peek:p.U,span:p.X,inrange:p.z,truncate:p.fb,rgb:Tf.g,lab:pp,hcl:xp,hsl:Tf.f,luminance:nE,contrast:function(e,t){var n=nE(e),r=nE(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:wo,format:function(e,t){return oE("format",wf.b,t)(e)},utcFormat:function(e,t){return oE("utcFormat",Ka,t)(e)},utcParse:function(e,t){return oE("utcParse",gt,t)(e)},utcOffset:Ba,utcSequence:Ha,timeFormat:aE,timeParse:function(e,t){return oE("timeParse",ht,t)(e)},timeOffset:La,timeSequence:Ua,timeUnitSpecifier:Wa,monthFormat:function(e){return uE(e,1,"%B")},monthAbbrevFormat:function(e){return uE(e,1,"%b")},dayFormat:function(e){return uE(0,2+e,"%A")},dayAbbrevFormat:function(e){return uE(0,2+e,"%a")},quarter:p.V,utcquarter:p.hb,week:Wo,utcweek:Zo,dayofyear:Vo,utcdayofyear:Xo,warn:function(){return xO(this.context.dataflow,"warn",arguments)},info:function(){return xO(this.context.dataflow,"info",arguments)},debug:function(){return xO(this.context.dataflow,"debug",arguments)},extent:p.p,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Object(ui.a)(e,2),i=r[0],o=r[1],a=(new Ps).set(i[0],i[1],o[0],o[1]);return qg(n||this.context.dataflow.scenegraph().root,a,function(e){var t=null;if(e){var n=Object(p.i)(e.marktype),r=Object(p.i)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:p.j,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){return TO?TO.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){return TO?[TO.innerWidth,TO.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return sf(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(p.gb).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Qu(n,t=t||zu(e)):e}},panLinear:p.Q,panLog:p.R,panPow:p.S,panSymlog:p.T,zoomLinear:p.lb,zoomLog:p.mb,zoomPow:p.nb,zoomSymlog:p.ob,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,o){var a,s,u=this.context.dataflow,l=this.context.data[e],c=l.input,d=l.changes,f=u.stamp();if(!1===u._trigger||!(c.value.length||t||r))return 0;if((!d||d.stamp<f)&&(l.changes=d=u.changeset(),d.stamp=f,u.runAfter((function(){l.modified=!0,u.pulse(c,d).run()}),!0,1)),n&&(a=!0===n?p.gb:Object(p.A)(n)||C(n)?n:CO(n),d.remove(a)),t&&d.insert(t),r&&(a=CO(r),c.value.some(a)?d.remove(a):d.insert(r)),i)for(s in o)d.modify(i,s,o[s]);return 1}},MO=["view","item","group","xy","x","y"],jO={};function RO(e,t,n){return 1===arguments.length?AO[e]:(AO[e]=t,n&&(jO[e]=n),NO&&(NO.functions[e]="this."+e),this)}RO("bandwidth",(function(e,t){var n=lE(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),IO),RO("copy",(function(e,t){var n=lE(e,(t||this).context);return n?n.copy():void 0}),IO),RO("domain",(function(e,t){var n=lE(e,(t||this).context);return n?n.domain():[]}),IO),RO("range",(function(e,t){var n=lE(e,(t||this).context);return n&&n.range?n.range():[]}),IO),RO("invert",(function(e,t,n){var r=lE(e,(n||this).context);return r?Object(p.A)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),IO),RO("scale",(function(e,t,n){var r=lE(e,(n||this).context);return r&&void 0!==t?r(t):void 0}),IO),RO("gradient",(function(e,t,n,r,i){e=lE(e,(i||this).context);var o=Rs(t,n),a=e.domain(),s=a[0],u=Object(p.U)(a),l=p.x;return u-s?l=Vp(e,s,u):e=(e.interpolator?Nh("sequential")().interpolator(e.interpolator()):Nh("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,u=1]),e.ticks&&(s!==(a=e.ticks(+r||15))[0]&&a.unshift(s),u!==Object(p.U)(a)&&a.push(u)),a.forEach((function(t){return o.stop(l(t),e(t))})),o}),IO),RO("geoArea",bO,IO),RO("geoBounds",yO,IO),RO("geoCentroid",_O,IO),RO("geoShape",(function(e,t,n){var r=lE(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),IO),RO("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){"Literal"!==t[0].type&&Object(p.n)("First argument to indata must be a string literal."),"Literal"!==t[1].type&&Object(p.n)("Second argument to indata must be a string literal.");var i=t[0].value,o=t[1].value,a="@"+o;Object(p.v)(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),RO("data",rE,PO),RO("treePath",(function(e,t,n){var r=OO(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(EO):void 0}),PO),RO("treeAncestors",(function(e,t){var n=OO(e,this)[t];return n?n.ancestors().map(EO):void 0}),PO),RO("vlSelectionTest",(function(e,t,n){for(var r,i,o,a,s,u=this.context.data[e],l=u?u.values.value:[],c=u?u["index:unit"]&&u["index:unit"].value:void 0,d="intersect"===n,f=l.length,h=0;h<f;++h)if(r=l[h],c&&d){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(s=$k(t,r),i[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(d^(s=$k(t,r)))return s;return f&&d}),eE),RO("vlSelectionResolve",(function(e,t,n){for(var r,i,o,a,s,u,l,c,d,f,h,g=this.context.data[e],m=g?g.values.value:[],v={},b={},y={},_=m.length,x=0;x<_;++x){for(a=(r=m[x]).unit,i=r.fields,o=r.values,f=0,h=i.length;f<h;++f)s=i[f],l=(u=v[s.field]||(v[s.field]={}))[a]||(u[a]=[]),y[s.field]=c=s.type.charAt(0),d=Jk[c+"_union"],u[a]=d(l,Object(p.i)(o[f]));n&&(l=b[a]||(b[a]=[])).push(Object(p.i)(o).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}return t=t||"union",Object.keys(v).forEach((function(e){v[e]=Object.keys(v[e]).map((function(t){return v[e][t]})).reduce((function(n,r){return void 0===n?r:Jk[y[e]+"_"+t](n,r)}))})),m=Object.keys(b),n&&m.length&&(v.vlMulti="union"===t?Object(oa.a)({},"or",m.reduce((function(e,t){return e.push.apply(e,b[t]),e}),[])):Object(oa.a)({},"and",m.map((function(e){return Object(oa.a)({},"or",b[e])})))),v}),eE);var FO={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(p.Z)("$"+e)+"]"},functions:function(e){var t=Qk(e);for(var n in MO.forEach((function(e){return t[e]="event.vega."+e})),AO)t[n]="this."+n;return t},constants:Zk,visitors:jO},NO=function(e){var t=(e=e||{}).whitelist?Object(p.db)(e.whitelist):{},n=e.blacklist?Object(p.db)(e.blacklist):{},r=e.constants||Zk,i=(e.functions||Qk)(d),o=e.globalvar,a=e.fieldvar,s={},u={},l=0,c=Object(p.D)(o)?o:function(e){return o+'["'+e+'"]'};function d(e){if(Object(p.H)(e))return e;var t=f[e.type];return null==t&&Object(p.n)("Unsupported type: "+e.type),t(e)}var f={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return l>0?i:Object(p.v)(n,i)?Object(p.n)("Illegal identifier: "+i):Object(p.v)(r,i)?r[i]:Object(p.v)(t,i)?i:(s[i]=1,c(i))},MemberExpression:function(e){var t=!e.computed,n=d(e.object);t&&(l+=1);var r=d(e.property);return n===a&&(u[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(l-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(p.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(p.v)(i,t)&&i[t];return r||Object(p.n)("Unrecognized function: "+t),Object(p.D)(r)?r(n):r+"("+n.map(d).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(d).join(",")+"]"},BinaryExpression:function(e){return"("+d(e.left)+e.operator+d(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+d(e.argument)+")"},ConditionalExpression:function(e){return"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")"},LogicalExpression:function(e){return"("+d(e.left)+e.operator+d(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(d).join(",")+"}"},Property:function(e){l+=1;var t=d(e.key);return l-=1,t+":"+d(e.value)}};function h(e){var t={code:d(e),globals:Object.keys(s),fields:Object.keys(u)};return s={},u={},t}return h.functions=i,h.constants=r,h}(FO);function LO(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function BO(e,t){return LO(["event"],e,t)}function zO(e,t){return LO(["item","_"],e,t)}function UO(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(p.A)(i)?i.map((function(e){return HO(e,t,n)})):HO(i,t,n);return n}function HO(e,t,n){if(!e||!Object(p.F)(e))return e;for(var r,i=0,o=VO.length;i<o;++i)if(r=VO[i],Object(p.v)(e,r.key))return r.parse(e,t,n);return e}var VO=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(p.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(p.I)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&UO(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(p.f)(function(e,t){return LO(["datum","_"],e,t)}(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(p.t)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,i=e.$encode,o={};for(n in i)r=i[n],o[n]=Object(p.f)(zO(r.$expr,t),r.$fields),o[n].output=r.$output;return o}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(p.i)(e.$compare).map((function(e){return e&&e.$tupleid?k:e}));return t.fn[n]||(t.fn[n]=Object(p.k)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var o=qO(n,t.fork()),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a}}},{key:"$tupleid",parse:function(){return k}}];function WO(e){return(e+"").toLowerCase()}var GO=function(e,t){"operator"!==WO(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?function(e,t){return LO(["_"],e,t)}(e.update,t):null)};var KO=function(e,t){var n=Object(p.F)(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,a=void 0;r||Object(p.n)("Source not defined: "+e.source),i=e.target&&e.target.$expr?BO(e.target.$expr,t):t.get(e.target),o&&o.$expr&&(o.$params&&(a=UO(o.$params,t)),o=function(e,t){return LO(["_","event"],e,t)}(o.$expr,t)),t.update(e,r,i,o,a)},qO=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach((function(e){GO(e,t)})),n.forEach((function(e){!function(e,t){if(e.params){var n=t.get(e.id);n||Object(p.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(UO(e.params,t),e.react,e.initonly))}}(e,t)})),(e.streams||[]).forEach((function(e){!function(e,t){var n,r=null!=e.filter?BO(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(i=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Object(p.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}(e,t)})),(e.updates||[]).forEach((function(e){KO(e,t)})),t.resolve()},YO={skip:!0};var XO=function(e,t,n){return new ZO(e,t,n)};function ZO(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function QO(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}ZO.prototype=QO.prototype={fork:function(){var e=new QO(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),"collect"===WO(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.preload(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var o=r.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(r.unresolved=r.unresolved||[]).push((function(){o=r.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var a in e.data)n=r.data[a]||(r.data[a]={}),e.data[a].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[WO(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],YO)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(p.gb).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var $O={skip:!0};function JO(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function eT(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function tT(e,t){return t.modified&&Object(p.A)(t.input.value)&&e.indexOf("_:vega:_")}function nT(e,t){return!("parent"===e||t instanceof rr.proxy)}var rT=function(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":Object(p.A)(e)?iT(e):Object(p.F)(e)&&!Object(p.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(p.A)(n)?iT(n):oT(n))})).join("\n")):e+"";var t}(r))};function iT(e){return"["+e.map(oT).join(", ")+"]"}function oT(e){return Object(p.A)(e)?"[\u2026]":Object(p.F)(e)&&!Object(p.C)(e)?"{\u2026}":e}function aT(e,t){t=t||{},$n.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||Wg.Canvas,this._scenegraph=new Md;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||rT,this._redraw=!0,this._handler=(new qd).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=function(e){var t=Object(p.o)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(p.A)(e[t])&&(e[t]=Object(p.db)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig);var r=function(e,t,n){return qO(t,XO(e,rr,n||AO))}(this,e,t.functions);this._runtime=r,this._signals=r.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(p.o)({},e)}})),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=JO(this,this._width),this._viewHeight=eT(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=JO(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=eT(e,t.size),o()}),{size:r});var a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(this),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(this),bC(this),this.description(e.description),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var sT=Object(p.y)(aT,$n);function uT(e,t){return Object(p.v)(e._signals,t)?e._signals[t]:Object(p.n)("Unrecognized signal name: "+Object(p.Z)(t))}function lT(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function cT(e,t,n,r){var i=lT(n,r);return i||((i=zC(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function dT(e,t,n){var r=lT(t,n);return r&&t._targets.remove(r),e}sT.evaluate=function(){var e=y(v.a.mark((function e(t,n,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n.prototype.evaluate.call(this,t,n);case 2:if(!this._redraw&&!this._resize){e.next=14;break}if(e.prev=3,!this._renderer){e.next=8;break}return this._resize&&(this._resize=0,CC(this)),e.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.error(e.t0);case 14:return r&&_(this,r),e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),sT.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},sT.description=function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&vC(this._el,this._desc=t),this}return this._desc},sT.container=function(){return this._el},sT.scenegraph=function(){return this._scenegraph},sT.origin=function(){return this._origin.slice()},sT.signal=function(e,t,n){var r=uT(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},sT.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},sT.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},sT.padding=function(e){return arguments.length?this.signal("padding",VC(e)):VC(this.signal("padding"))},sT.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},sT.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},sT.renderer=function(e){return arguments.length?(Kg(e)||Object(p.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},sT.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},sT.loader=function(e){return arguments.length?(e!==this._loader&&($n.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},sT.resize=function(){return this._autosize=1,this.touch(uT(this,"autosize"))},sT._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},sT._resizeView=function(e,t,n,r,i,o){this.runAfter((function(a){var s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal("width",n,$O),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal("height",r,$O),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter((function(e){return e.resize()}))}),!1,1)},sT.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=zC(this,t)).raw=t),this._handler.on(e,r),this},sT.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},sT.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},sT.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},sT.addSignalListener=function(e,t){return cT(this,e,uT(this,e),t)},sT.removeSignalListener=function(e,t){return dT(this,uT(this,e),t)},sT.addDataListener=function(e,t){return cT(this,e,yC(this,e).values,t)},sT.removeDataListener=function(e,t){return dT(this,yC(this,e).values,t)},sT.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},sT.timer=function(e,t){this._timers.push(function(e,t,n){var r=new Fx,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?jx():+n,r.restart((function o(a){a+=i,r.restart(o,i+=t,n),e(a)}),t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},sT.events=function(e,t,n){var r,i=this,o=new V(n),a=function(n,r){i.runAsync(null,(function(){"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),o.receive(kC(i,n,r))}))};if("timer"===e)OC(i,"timer",t)&&i.timer(a,t);else if("view"===e)OC(i,"view",t)&&i.addEventListener(t,a,EC);else if("window"===e?OC(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&OC(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var s=0,u=r.length;s<u;++s)r[s].addEventListener(t,a);i._eventListeners.push({type:t,sources:r,handler:a})}else i.warn("Can not resolve event source: "+e);return o},sT.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},sT.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",TC),PC,IC(e)),this.on(this.events("view","mouseout",TC),PC,IC(t)),this},sT.data=function(e,t){return arguments.length<2?yC(this,e).values.value:_C.call(this,e,M().remove(p.gb).insert(t))},sT.change=_C,sT.insert=function(e,t){return _C.call(this,e,M().insert(t))},sT.remove=function(e,t){return _C.call(this,e,M().remove(t))},sT.scale=function(e){var t=this._runtime.scales;return Object(p.v)(t,e)||Object(p.n)("Unrecognized scale or projection: "+e),t[e].value},sT.initialize=function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,o=Kg(r);e=n._el=e?UC(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),vC(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+r);var a=o.handler||qd,s=e?o.renderer:o.headless;return n._renderer=s?BC(n,n._renderer,e,s):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),zC(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,wC(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,a),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=UC(n,t):e.appendChild(DC("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=UC(n,e.param.element))})),n._bind.forEach((function(e){AC(n,e.element||t,e)}))),n},sT.toImageURL=function(e,t){return KC.apply(this,arguments)},sT.toCanvas=function(e,t){return YC.apply(this,arguments)},sT.toSVG=function(e){return XC.apply(this,arguments)},sT.getState=function(e){return this._runtime.getState(e||{data:tT,signals:nT,recurse:!0})},sT.setState=function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this};var fT=function(e){return Object(p.F)(e)?e:{type:e||"pad"}},hT=function(e){return+e||0},pT=function(e){return Object(p.F)(e)?e.signal?e:{top:hT(e.top),bottom:hT(e.bottom),left:hT(e.left),right:hT(e.right)}:{top:t=hT(e),bottom:t,left:t,right:t};var t},gT=["value","update","init","react","bind"];function mT(e,t){Object(p.n)(e+' for "outer" push: '+Object(p.Z)(t))}var vT=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||mT("No prior signal definition",n),gT.forEach((function(t){void 0!==e[t]&&mT("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}},bT=function(e,t,n){var r,i,o={};try{r=function(e){$C=0,JC=(QC=e).length,ek=null,Ck();var t=Xk();if(2!==ek.type)throw new Error("Unexpect token after expression.");return t}(e=Object(p.H)(e)?e:Object(p.Z)(e)+"")}catch(a){Object(p.n)("Expression parse error: "+e)}return r.visit((function(e){if("CallExpression"===e.type){var n=e.callee.name,r=FO.visitors[n];r&&r(n,e.arguments,t,o)}})),(i=NO(r)).globals.forEach((function(e){var n="$"+e;!Object(p.v)(o,n)&&t.getSignal(e)&&(o[n]=t.signalRef(e))})),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:o}};function yT(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function _T(e,t,n,r){return new yT(e,t,n,r)}function xT(e,t){return _T("operator",e,t)}function ST(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function wT(e,t){return t?{$field:e,$name:t}:{$field:e}}var CT=wT("key");function kT(e,t){return{$compare:e,$order:t}}function ET(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function OT(e){return e&&e.signal}function TT(e){if(OT(e))return!0;if(Object(p.F)(e))for(var t in e)if(TT(e[t]))return!0;return!1}function PT(e,t){return null!=e?e:t}function IT(e){return e&&e.signal||e}function DT(e,t){return(e.merge?AT:e.stream?MT:e.type?jT:Object(p.n)("Invalid stream specification: "+Object(p.Z)(e)))(e,t)}function AT(e,t){var n=RT({merge:e.merge.map((function(e){return DT(e,t)}))},e,t);return t.addStream(n).id}function MT(e,t){var n=RT({stream:DT(e.stream,t)},e,t);return t.addStream(n).id}function jT(e,t){var n,r,i;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(i=e.source)?"view":i||"view",e.type),r=RT({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function RT(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(p.n)('Stream "between" parameter must have 2 entries: '+Object(p.Z)(t)),e.between=[DT(r[0],n),DT(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&r.push("inScope(event.item)"),r.length&&(e.filter=bT("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var FT,NT,LT="view",BT=/[[\]{}]/,zT={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function UT(e,t,n,r,i){for(var o,a=0,s=e.length;t<s;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function HT(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=UT(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function VT(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=UT(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=HT(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(VT),(n=VT(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,r={source:FT},i=[],o=[0,0],a=0,s=0,u=e.length,l=0;if("}"===e[u-1]){if(!((l=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(l+1,u-1))}catch(d){throw"Invalid throttle specification: "+e}e=e.slice(0,l).trim(),u=e.length,l=0}if(!u)throw e;"@"===e[0]&&(a=++l);(t=UT(e,l,":"))<u&&(i.push(e.substring(s,t).trim()),s=l=++t);if((l=UT(e,l,"["))===u)i.push(e.substring(s,u).trim());else if(i.push(e.substring(s,l).trim()),n=[],(s=++l)===u)throw"Unmatched left bracket: "+e;for(;l<u;){if((l=UT(e,l,"]"))===u)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,l).trim()),l<u-1&&"["!==e[++l])throw"Expected left bracket: "+e;s=++l}if(!(u=i.length)||BT.test(i[u-1]))throw"Invalid event selector: "+e;u>1?(r.type=i[1],a?r.markname=i[0].slice(1):(c=i[0],NT[c]?r.marktype=i[0]:r.source=i[0])):r.type=i[0];var c;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);o[0]&&(r.throttle=o[0]);o[1]&&(r.debounce=o[1]);return r}(e)}var WT=function(e,t,n){var r,i,o,a=e.events,s=e.update,u=e.encode,l=[],c={target:n};a||Object(p.n)("Signal update missing events specification."),Object(p.H)(a)&&(r=a,i=t.isSubscope()?"scope":"view",FT=i||LT,NT=o||zT,a=HT(r.trim()).map(VT)),a=Object(p.i)(a).filter((function(e){return e.signal||e.scale?(l.push(e),0):1})),l.length>1&&(l=[GT(l)]),a.length&&l.push(a.length>1?{merge:a}:a[0]),null!=u&&(s&&Object(p.n)("Signal encode and update are mutually exclusive."),s="encode(item(),"+Object(p.Z)(u)+")"),c.update=Object(p.H)(s)?bT(s,t,"var datum=event.item&&event.item.datum;"):null!=s.expr?bT(s.expr,t,"var datum=event.item&&event.item.datum;"):null!=s.value?s.value:null!=s.signal?{$expr:"_.value",$params:{value:t.signalRef(s.signal)}}:Object(p.n)("Invalid signal update specification."),e.force&&(c.options={force:!0}),l.forEach((function(e){t.addUpdate(Object(p.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):DT(e,t)}}(e,t),c))}))};function GT(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}function KT(e){return function(t,n,r){return _T(e,n,t||void 0,r)}}var qT=KT("aggregate"),YT=KT("axisticks"),XT=KT("bound"),ZT=KT("collect"),QT=KT("compare"),$T=KT("datajoin"),JT=KT("encode"),eP=KT("expression"),tP=(KT("extent"),KT("facet")),nP=KT("field"),rP=KT("key"),iP=KT("legendentries"),oP=KT("load"),aP=KT("mark"),sP=KT("multiextent"),uP=KT("multivalues"),lP=KT("overlap"),cP=KT("params"),dP=KT("prefacet"),fP=KT("projection"),hP=KT("proxy"),pP=KT("relay"),gP=KT("render"),mP=KT("scale"),vP=KT("sieve"),bP=KT("sortitems"),yP=KT("viewlayout"),_P=KT("values"),xP=0,SP={min:"min",max:"max",count:"sum"};function wP(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=OP(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,o=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(p.H)(i)){if(o&&Object(p.v)(o,i))return t=Object(p.o)({},t,{range:o[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Uh(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(p.n)("Unrecognized scale range value: "+Object(p.Z)(i))}else{if(i.scheme)return r.scheme=Object(p.A)(i.scheme)?kP(i.scheme,n):CP(i.scheme,n),i.extent&&(r.schemeExtent=kP(i.extent,n)),void(i.count&&(r.schemeCount=CP(i.count,n)));if(i.step)return void(r.rangeStep=CP(i.step,n));if(Uh(t.type)&&!Object(p.A)(i))return OP(i,t,n);Object(p.A)(i)||Object(p.n)("Unsupported range type: "+Object(p.Z)(i))}return i.map((function(e){return(Object(p.A)(e)?kP:CP)(e,n)}))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=CP(e.type||e),null!=e.gamma&&(t.interpolateGamma=CP(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(p.F)(r)?{interval:CP(r.interval),step:CP(r.step)}:CP(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(p.A)(e)?kP(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(p.v)(i,n)||"name"===n||(i[n]=CP(e[n],t))}function CP(e,t){return Object(p.F)(e)?e.signal?t.signalRef(e.signal):Object(p.n)("Unsupported object: "+Object(p.Z)(e)):e}function kP(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return CP(e,t)}))}function EP(e){Object(p.n)("Can not find data set: "+Object(p.Z)(e))}function OP(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(p.A)(e)?TP:e.fields?IP:PP)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(p.n)("No scale domain defined for domainMin/domainMax to override.")}function TP(e,t,n){return e.map((function(e){return CP(e,n)}))}function PP(e,t,n){var r=n.getData(e.data);return r||EP(e.data),Uh(t.type)?r.valuesRef(n,e.field,AP(e.sort,!1)):Gh(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function IP(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=Object(p.H)(t)?{data:r,field:t}:Object(p.A)(t)||t.signal?function(e,t){var n="_:vega:_"+xP++,r=ZT({});if(Object(p.A)(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+Object(p.Z)(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,vP({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Uh(t.type)?DP:Gh(t.type)?MP:jP)(e,n,i)}function DP(e,t,n){var r,i,o,a,s,u=AP(e.sort,!0);return r=n.map((function(e){var n=t.getData(e.data);return n||EP(e.data),n.countsRef(t,e.field,u)})),i={groupby:CT,pulse:r},u&&(o=u.op||"count",s=u.field?ET(o,u.field):"count",i.ops=[SP[o]],i.fields=[t.fieldRef(s)],i.as=[s]),o=t.add(qT(i)),a=t.add(ZT({pulse:ST(o)})),s=t.add(_P({field:CT,sort:t.sortRef(u),pulse:ST(a)})),ST(s)}function AP(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!SP[e.op]&&Object(p.n)("Multiple domain scales can not be sorted using "+e.op):Object(p.n)("No field provided for sort aggregate op: "+e.op):Object(p.F)(e)?e.field="key":e={field:"key"}),e}function MP(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||EP(e.data),n.domainRef(t,e.field)}));return ST(t.add(uP({values:r})))}function jP(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||EP(e.data),n.extentRef(t,e.field)}));return ST(t.add(sP({extents:r})))}function RP(e,t,n){return Object(p.A)(e)?e.map((function(e){return RP(e,t,n)})):Object(p.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(p.n)("Unsupported parameter object: "+Object(p.Z)(e)):e}var FP="value",NP=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],LP={name:1,style:1,interactive:1},BP={value:0},zP={value:1},UP=Object(p.db)(["rule"]),HP=Object(p.db)(["group","image","rect"]),VP=function(e,t,n,r){var i=bT(e,t);return i.$fields.forEach((function(e){r[e]=1})),Object(p.o)(n,i.$params),i.$expr},WP=function(e,t,n,r){return function e(t,n,r,i){var o,a,s;if(t.signal)o="datum",s=VP(t.signal,n,r,i);else if(t.group||t.parent){for(a=Math.max(1,t.level||1),o="item";a-- >0;)o+=".mark.group";t.parent?(s=t.parent,o+=".datum"):s=t.group}else t.datum?(o="datum",s=t.datum):Object(p.n)("Invalid field reference: "+Object(p.Z)(t));t.signal||(Object(p.H)(s)?(i[s]=1,s=Object(p.Y)(s).map(p.Z).join("][")):s=e(s,n,r,i));return o+"["+s+"]"}(Object(p.F)(e)?e:{datum:e},t,n,r)};var GP=function(e,t,n,r){return Object(p.F)(e)?"("+YP(null,e,t,n,r)+")":e},KP=function(e,t,n,r,i){var o,a,s,u=qP(e.scale,n,r,i);return null!=e.range?(a=u+".range()",t=0===(o=+e.range)?a+"[0]":"($="+a+","+(1===o?"$[$.length-1]":"$[0]+"+o+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=u+"("+t+")"),e.band&&(s=function(e,t){if(!Object(p.H)(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(a=u+".bandwidth",o=e.band.signal?a+"()*"+GP(e.band,n,r,i):a+"()"+(1===(o=+e.band)?"":"*"+o),s<0&&(o="("+a+"?"+o+":0)"),t=(t?t+"+":"")+o,e.extra&&(t="(datum.extra?"+u+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t};function qP(e,t,n,r){var i;if(Object(p.H)(e))i="%"+e,Object(p.v)(n,i)||(n[i]=t.scaleRef(e)),i=Object(p.Z)(i);else{for(i in t.scales)n["%"+i]=t.scaleRef(i);i=Object(p.Z)("%")+"+"+(e.signal?"("+VP(e.signal,t,n,r)+")":WP(e,t,n,r))}return"_["+i+"]"}var YP=function(e,t,n,r,i){if(null!=t.gradient)return function(e,t,n,r){return"this.gradient("+qP(e.gradient,t,n,r)+","+Object(p.Z)(e.start)+","+Object(p.Z)(e.stop)+","+Object(p.Z)(e.count)+")"}(t,n,r,i);var o=t.signal?VP(t.signal,n,r,i):t.color?function(e,t,n,r){function i(e,i,o,a){return"this."+e+"("+[YP(null,i,t,n,r),YP(null,o,t,n,r),YP(null,a,t,n,r)].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null}(t.color,n,r,i):null!=t.field?WP(t.field,n,r,i):void 0!==t.value?Object(p.Z)(t.value):void 0;return null!=t.scale&&(o=KP(t,o,n,r,i)),void 0===o&&(o=null),null!=t.exponent&&(o="Math.pow("+o+","+GP(t.exponent,n,r,i)+")"),null!=t.mult&&(o+="*"+GP(t.mult,n,r,i)),null!=t.offset&&(o+="+"+GP(t.offset,n,r,i)),t.round&&(o="Math.round("+o+")"),o},XP=function(e,t,n){var r=e+"["+Object(p.Z)(t)+"]";return"$=".concat(n,";if(").concat(r,"!==$)").concat(r,"=$,m=1;")},ZP=function(e,t,n,r,i){var o="";return t.forEach((function(t){var a=YP(e,t,n,r,i);o+=t.test?VP(t.test,n,r,i)+"?"+a+":":a})),":"===Object(p.U)(o)&&(o+="null"),XP("o",e,o)};function QP(e,t,n,r){var i,o,a,s={},u="var o=item,datum=o.datum,m=0,$;";for(i in e)o=e[i],Object(p.A)(o)?u+=ZP(i,o,r,n,s):(a=YP(i,o,r,n,s),u+=XP("o",i,a));return u+=function(e,t){var n="";return UP[t]||(e.x2&&(e.x?(HP[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(HP[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(e,t),{$expr:u+="return m;",$fields:Object.keys(s),$output:Object.keys(e)}}function $P(e){return Object(p.F)(e)&&!Object(p.A)(e)?Object(p.o)({},e):{value:e}}function JP(e,t,n,r){return null!=n?(Object(p.F)(n)&&!Object(p.A)(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function eI(e,t,n){for(var r in t)JP(e,r,t[r]);for(var i in n)JP(e,i,n[i],"update")}function tI(e,t,n){for(var r in t)n&&Object(p.v)(n,r)||(e[r]=Object(p.o)(e[r]||{},t[r]));return e}function nI(e,t,n,r,i,o){var a,s;for(s in(o=o||{}).encoders={$encode:a={}},e=function(e,t,n,r,i){var o,a,s,u={},l={};a="lineBreak","text"!==t||null==i[a]||iI(a,e)||rI(u,a,i[a]);("legend"==n||String(n).startsWith("axis"))&&(n=null);for(a in s="frame"===n?i.group:"mark"===n?Object(p.o)({},i.mark,i[t]):null)iI(a,e)||("fill"===a||"stroke"===a)&&(iI("fill",e)||iI("stroke",e))||rI(u,a,s[a]);for(a in Object(p.i)(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)iI(r,e)||rI(u,r,n[r])})),e=Object(p.o)({},e),u)(s=u[a]).signal?(o=o||{})[a]=s:l[a]=s;e.enter=Object(p.o)(l,e.enter),o&&(e.update=Object(p.o)(o,e.update));return e}(e,t,n,r,i.config))a[s]=QP(e[s],t,o,i);return o}function rI(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function iI(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var oI=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=tI(e.encode,t,LP)):e.interactive=!1,e};function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(n),!0).forEach((function(t){Object(oa.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uI(e,t){var n=function(n,r){return PT(e[n],PT(t[n],r))};return n.isVertical=function(n){return"vertical"===PT(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return PT(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return PT(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return PT(e.columns,PT(t.columns,+n.isVertical(!0)))},n}function lI(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function cI(e,t,n){return'item.anchor === "'.concat("start",'" ? ').concat(e,' : item.anchor === "').concat("end",'" ? ').concat(t," : ").concat(n)}var dI=cI(Object(p.Z)("left"),Object(p.Z)("right"),Object(p.Z)("center"));function fI(e,t){return t?e?Object(p.F)(e)?sI(sI({},e),{},{offset:fI(e.offset,t)}):{value:e,offset:t}:t:e}var hI=function(e,t,n,r){var i,o,a,s,u,l,c=uI(e,n),d=c.isVertical(),f=c.gradientThickness(),h=c.gradientLength();return d?(a=[0,1],s=[0,0],u=f,l=h):(a=[0,0],s=[1,0],u=h,l=f),eI(i={enter:o={opacity:BP,x:BP,y:BP,width:$P(u),height:$P(l)},update:Object(p.o)({},o,{opacity:zP,fill:{gradient:t,start:a,stop:s}}),exit:{opacity:BP}},{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),oI({type:"rect",role:"legend-gradient",encode:i},r)},pI=function(e,t,n,r,i){var o,a,s,u,l,c,d=uI(e,n),f=d.isVertical(),h=d.gradientThickness(),g=d.gradientLength(),m="";return f?(s="y",l="y2",u="x",c="width",m="1-"):(s="x",l="x2",u="y",c="height"),(a={opacity:BP,fill:{scale:t,field:FP}})[s]={signal:m+"datum.perc",mult:g},a[u]=BP,a[l]={signal:m+"datum.perc2",mult:g},a[c]=$P(h),eI(o={enter:a,update:Object(p.o)({},a,{opacity:zP}),exit:{opacity:BP}},{stroke:d("gradientStrokeColor"),strokeWidth:d("gradientStrokeWidth")},{opacity:d("gradientOpacity")}),oI({type:"rect",role:"legend-band",key:FP,from:i,encode:o},r)},gI="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),mI="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"'),vI=function(e,t,n,r){var i,o,a,s,u,l=uI(e,t),c=l.isVertical(),d=$P(l.gradientThickness()),f=l.gradientLength(),h=l("labelOverlap"),p="";return eI(i={enter:o={opacity:BP},update:a={opacity:zP,text:{field:"label"}},exit:{opacity:BP}},{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:PT(e.labelLimit,t.gradientLabelLimit)}),c?(o.align={value:"left"},o.baseline=a.baseline={signal:mI},s="y",u="x",p="1-"):(o.align=a.align={signal:gI},o.baseline={value:"top"},s="x",u="y"),o[s]=a[s]={signal:p+"datum.perc",mult:f},o[u]=a[u]=d,d.offset=PT(e.labelOffset,t.gradientLabelOffset)||0,h=h?{separation:l("labelSeparation"),method:h,order:"datum.index"}:void 0,oI({type:"text",role:"legend-label",style:"guide-label",key:FP,from:r,encode:i,overlap:h},n)},bI=function(e){return e.type="group",e.interactive=e.interactive||!1,e},yI=function(e,t,n,r,i){var o,a,s,u,l,c,d,f=uI(e,t),h=n.entries,p=!(!h||!h.interactive),g=h?h.name:void 0,m=f("clipHeight"),v=f("symbolOffset"),b={data:"value"},y={},_="(".concat(i,") ? datum.").concat("offset"," : datum.").concat("size"),x=m?$P(m):{field:"size"},S="datum.".concat("index"),w="max(1, ".concat(i,")");x.mult=.5,y={enter:o={opacity:BP,x:{signal:_,mult:.5,offset:v},y:x},update:a={opacity:zP,x:o.x,y:o.y},exit:{opacity:BP}};var C=null,k=null;return e.fill||(C=t.symbolBaseFillColor,k=t.symbolBaseStrokeColor),eI(y,{fill:f("symbolFillColor",C),shape:f("symbolType"),size:f("symbolSize"),stroke:f("symbolStrokeColor",k),strokeDash:f("symbolDash"),strokeDashOffset:f("symbolDashOffset"),strokeWidth:f("symbolStrokeWidth")},{opacity:f("symbolOpacity")}),NP.forEach((function(t){e[t]&&(a[t]=o[t]={scale:e[t],field:FP})})),u=oI({type:"symbol",role:"legend-symbol",key:FP,from:b,clip:!!m||void 0,encode:y},n.symbols),(s=$P(v)).offset=f("labelOffset"),eI(y={enter:o={opacity:BP,x:{signal:_,offset:s},y:x},update:a={opacity:zP,text:{field:"label"},x:o.x,y:o.y},exit:{opacity:BP}},{align:f("labelAlign"),baseline:f("labelBaseline"),fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:f("labelLimit")}),l=oI({type:"text",role:"legend-label",style:"guide-label",key:FP,from:b,encode:y},n.labels),y={enter:{noBound:{value:!m},width:BP,height:m?$P(m):BP,opacity:BP},exit:{opacity:BP},update:a={opacity:zP,row:{signal:null},column:{signal:null}}},f.isVertical(!0)?(c="ceil(item.mark.items.length / ".concat(w,")"),a.row.signal="".concat(S,"%").concat(c),a.column.signal="floor(".concat(S," / ").concat(c,")"),d={field:["row",S]}):(a.row.signal="floor(".concat(S," / ").concat(w,")"),a.column.signal="".concat(S," % ").concat(w),d={field:S}),a.column.signal="(".concat(i,")?").concat(a.column.signal,":").concat(S),bI({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:tI(y,h,LP),marks:[u,l],name:g,interactive:p,sort:d})};var _I='item.orient === "left"',xI='item.orient === "right"',SI="(".concat(_I," || ").concat(xI,")"),wI="datum.vgrad && ".concat(SI),CI=cI('"top"','"bottom"','"middle"'),kI=cI('"right"','"left"','"center"'),EI="datum.vgrad && ".concat(xI," ? (").concat(kI,") : (").concat(SI," && !(datum.vgrad && ").concat(_I,')) ? "left" : ').concat(dI),OI="item._anchor || (".concat(SI,' ? "middle" : "start")'),TI="".concat(wI," ? (").concat(_I," ? -90 : 90) : 0"),PI="".concat(SI," ? (datum.vgrad ? (").concat(xI,' ? "bottom" : "top") : ').concat(CI,') : "top"'),II=function(e,t){var n;return Object(p.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+DI(e.path)+")":e.sphere&&(n="geoShape("+DI(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function DI(e){return Object(p.F)(e)&&e.signal?e.signal:Object(p.Z)(e)}var AI=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t},MI=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||AI(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}},jI=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},RI=function(e,t){var n=ir(e.type);n||Object(p.n)("Unrecognized transform type: "+Object(p.Z)(e.type));var r=_T(n.type.toLowerCase(),null,FI(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r};function FI(e,t,n){var r,i,o,a={};for(i=0,o=e.params.length;i<o;++i)a[(r=e.params[i]).name]=NI(r,t,n);return a}function NI(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){Object(p.H)(t.from)||Object(p.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(p.A)(r)||Object(p.n)("Expected an array of sub-parameters. Instead: "+Object(p.Z)(r)),r.map((function(t){return BI(e,t,n)}))):BI(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!OT(i)?i.map((function(t){return LI(e,t,n)})):LI(e,i,n):void(e.required&&Object(p.n)("Missing required "+Object(p.Z)(t.type)+" parameter: "+Object(p.Z)(e.name)))}function LI(e,t,n){var r=e.type;if(OT(t))return zI(r)?Object(p.n)("Expression references can not be signals."):UI(r)?n.fieldRef(t):HI(r)?n.compareRef(t):n.signalRef(t.signal);var i,o=e.expr||UI(r);return o&&((i=t)&&i.expr)?n.exprRef(t.expr,t.as):o&&function(e){return e&&e.field}(t)?wT(t.field,t.as):zI(r)?bT(t,n):function(e){return"data"===e}(r)?ST(n.getData(t).values):UI(r)?wT(t):HI(r)?n.compareRef(t):t}function BI(e,t,n){var r,i,o,a,s;for(a=0,s=e.params.length;a<s;++a){for(o in(i=e.params[a]).key)if(i.key[o]!==t[o]){i=null;break}if(i)break}return i||Object(p.n)("Unsupported parameter: "+Object(p.Z)(t)),r=Object(p.o)(FI(i,t,n),i.key),ST(n.add(cP(r)))}function zI(e){return"expr"===e}function UI(e){return"field"===e}function HI(e){return"compare"===e}function VI(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:ST(t.getData(e.data).output)}function WI(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}WI.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],o=t[n-1],a=t[n-2],s=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=ST(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(s=t[r]);return new WI(e,i,a,o,s)};var GI=WI.prototype;function KI(e){return Object(p.H)(e)?e:null}function qI(e,t,n){var r,i=ET(n.op,n.field);if(t.ops){for(var o=0,a=t.as.length;o<a;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function YI(e,t,n,r,i,o,a){var s,u,l=t[n]||(t[n]={}),c=function(e){return Object(p.F)(e)?("descending"===e.order?"-":"+")+ET(e.op,e.field):""}(o),d=KI(i);if(null!=d&&(e=t.scope,s=l[d+=c?"|"+c:""]),!s){var f=o?{field:CT,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:ST(t.output)};c&&(f.sort=e.sortRef(o)),u=e.add(_T(r,void 0,f)),a&&(t.index[i]=u),s=ST(u),null!=d&&(l[d]=s)}return s}GI.countsRef=function(e,t,n){var r,i,o,a=this.counts||(this.counts={}),s=KI(t);return null!=s&&(e=this.scope,r=a[s]),r?n&&n.field&&qI(e,r.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:ST(this.output)},n&&n.field&&qI(e,o,n),i=e.add(qT(o)),r=e.add(ZT({pulse:ST(i)})),r={agg:i,ref:ST(r)},null!=s&&(a[s]=r)),r.ref},GI.tuplesRef=function(){return ST(this.values)},GI.extentRef=function(e,t){return YI(e,this,"extent","extent",t,!1)},GI.domainRef=function(e,t){return YI(e,this,"domain","values",t,!1)},GI.valuesRef=function(e,t,n){return YI(e,this,"vals","values",t,n||!0)},GI.lookupRef=function(e,t){return YI(e,this,"lookup","tupleindex",t,!1)},GI.indataRef=function(e,t){return YI(e,this,"indata","tupleindex",t,!0,!0)};var XI=function(e,t,n){var r,i,o=e.remove,a=e.insert,s=e.toggle,u=e.modify,l=e.values,c=t.add(xT());r="if("+e.trigger+',modify("'+n+'",'+[a,o,s,u,l].map((function(e){return null==e?"null":e})).join(",")+"),0)",i=bT(r,t),c.update=i.$expr,c.params=i.$params},ZI=function(e,t){var n,r,i,o,a,s,u,l,c,d,f,h,g,m,v=AI(e),b="group"===e.type,y=e.from&&e.from.facet,_=e.layout||"scope"===v||"frame"===v,x="mark"===v||_||y,S=e.overlap;i=function(e,t,n){var r,i,o,a,s;return e?(r=e.facet)&&(t||Object(p.n)("Only group marks can be faceted."),null!=r.field?a=s=VI(r,n):(e.data?s=ST(n.getData(e.data).aggregate):((o=RI(Object(p.o)({type:"aggregate",groupby:Object(p.i)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=VI(r,n),a=s=ST(n.add(o))),i=n.keyRef(r.groupby,!0))):a=ST(n.add(ZT(null,[{}]))),a||(a=VI(e,n)),{key:i,pulse:a,parent:s}}(e.from,b,t),d=ST(r=t.add($T({key:i.key||(e.key?wT(e.key):void 0),pulse:i.pulse,clean:!b}))),r=o=t.add(ZT({pulse:d})),r=t.add(aP({markdef:MI(e),interactive:jI(e.interactive,t),clip:II(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:ST(r)})),f=ST(r),(r=a=t.add(JT(nI(e.encode,e.type,v,e.style,t,{mod:!1,pulse:f})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=RI(e,t),i=n.metadata;(i.generates||i.changes)&&Object(p.n)("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),n.params.pulse=ST(r),t.add(r=n)})),e.sort&&(r=t.add(bP({sort:t.compareRef(e.sort),pulse:ST(r)}))),h=ST(r),(y||_)&&(g=ST(_=t.add(yP({layout:t.objectProperty(e.layout),legends:t.legends,mark:f,pulse:h})))),m=ST(s=t.add(XT({mark:f,pulse:g||h}))),b&&(x&&((n=t.operators).pop(),_&&n.pop()),t.pushState(h,g||m,d),y?function(e,t,n){var r,i,o,a,s=e.from.facet,u=s.name,l=VI(s,t);s.name||Object(p.n)("Facet must have a name: "+Object(p.Z)(s)),s.data||Object(p.n)("Facet must reference a data set: "+Object(p.Z)(s)),s.field?a=t.add(dP({field:t.fieldRef(s.field),pulse:l})):s.groupby?a=t.add(tP({key:t.keyRef(s.groupby),group:ST(t.proxy(n.parent)),pulse:l})):Object(p.n)("Facet must specify groupby or field: "+Object(p.Z)(s)),i=(r=t.fork()).add(ZT()),o=r.add(vP({pulse:ST(i)})),r.addData(u,new WI(r,i,i,o)),r.addSignal("parent",null),a.params.subflow={$subflow:lD(e,r).toRuntime()}}(e,t,i):x?function(e,t,n){var r=t.add(dP({pulse:n.pulse})),i=t.fork();i.add(vP()),i.addSignal("parent",null),r.params.subflow={$subflow:lD(e,i).toRuntime()}}(e,t,i):lD(e,t),t.popState(),x&&(_&&n.push(_),n.push(s))),S&&(m=function(e,t,n){var r,i=e.method,o=e.bound,a=e.separation,s={separation:OT(a)?n.signalRef(a.signal):a,method:OT(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(s.sort=n.compareRef({field:e.order}));o&&(r=o.tolerance,s.boundTolerance=OT(r)?n.signalRef(r.signal):+r,s.boundScale=n.scaleRef(o.scale),s.boundOrient=o.orient);return ST(n.add(lP(s)))}(S,m,t)),u=t.add(gP({pulse:m})),l=t.add(vP({pulse:ST(u)},void 0,t.parent())),null!=e.name&&(c=e.name,t.addData(c,new WI(t,o,u,l)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(p.n)("Marks only support modify triggers."),XI(e,t,c)})))};var QI=function(e,t){var n,r,i,o,a,s,u,l,c=t.config.legend,d=e.encode||{},f=d.legend||{},h=f.name||void 0,g=f.interactive,m=f.style,v=uI(e,c),b={},y=0;return NP.forEach((function(t){return e[t]?(b[t]=e[t],y=y||e[t]):0})),y||Object(p.n)("Missing valid scale for legend."),a=function(e,t){var n=e.type||"symbol";e.type||1!==function(e){return NP.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=zh(t)?"gradient":Hh(t)?"discrete":"symbol");return"gradient"!==n?n:Hh(t)?"discrete":"gradient"}(e,t.scaleType(y)),s={title:null!=e.title,scales:b,type:a,vgrad:"symbol"!==a&&v.isVertical()},u=ST(t.add(ZT(null,[s]))),f=tI(function(e,t,n){var r={enter:{},update:{}};return eI(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}(v,e,c),f,LP),n={enter:{x:{value:0},y:{value:0}}},l=ST(t.add(iP(i={type:a,scale:t.scaleRef(y),count:t.objectProperty(v("tickCount")),limit:t.property(v("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),"gradient"===a?(o=[hI(e,y,c,d.gradient),vI(e,c,d.labels,l)],i.count=i.count||t.signalRef("max(2,2*floor((".concat(IT(v.gradientLength()),")/100))"))):"discrete"===a?o=[pI(e,y,c,d.gradient,l),vI(e,c,d.labels,l)]:(r=function(e,t){var n=uI(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,c),o=[yI(e,c,d,l,IT(r.columns))],i.size=function(e,t,n){var r=IT($I("size",e,n)),i=IT($I("strokeWidth",e,n)),o=IT(function(e,t,n){return lI("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,"guide-label"));return bT("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),t)}(e,t,o[0].marks)),o=[bI({role:"legend-entry",from:u,encode:n,marks:o,layout:r,interactive:g})],s.title&&o.push(function(e,t,n,r){var i,o=uI(e,t);return eI(i={enter:{opacity:BP},update:{opacity:zP,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:BP}},{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:OI},angle:{signal:TI},align:{signal:EI},baseline:{signal:PI},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),oI({type:"text",role:"legend-title",style:"guide-title",from:r,encode:i},n)}(e,c,d.title,u)),ZI(bI({role:"legend",from:u,encode:f,marks:o,aria:v("aria"),description:v("description"),zindex:v("zindex"),name:h,interactive:g,style:m}),t)};function $I(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):lI(e,n[0].encode)}var JI='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0'),eD=function(e,t){var n,r,i=uI(e=Object(p.H)(e)?{text:e}:e,t.config.title),o=e.encode||{},a=o.group||{},s=a.name||void 0,u=a.interactive,l=a.style,c=[];return n={},r=ST(t.add(ZT(null,[n]))),c.push(function(e,t,n,r){var i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return eI(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),oI({type:"text",role:"title-text",style:"group-title",from:r,encode:a},n)}(e,i,function(e){var t=e.encode;return t&&t.title||Object(p.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),r)),e.subtitle&&c.push(function(e,t,n,r){var i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return eI(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),oI({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:a},n)}(e,i,o.subtitle,r)),ZI(bI({role:"title",from:r,encode:tD(i,a),marks:c,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:u,style:l}),t)};function tD(e,t){var n={enter:{},update:{}};return eI(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:dI},angle:{signal:JI},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),tI(n,t,LP)}function nD(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(RI(e,t))})),e.on&&e.on.forEach((function(n){XI(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,o,a,s,u=[],l=null,c=!1,d=!1;e.values?TT(e.values)||TT(e.format)?(u.push(iD(t,e)),u.push(l=rD())):u.push(l=rD({$ingest:e.values,$format:e.format})):e.url?TT(e.url)||TT(e.format)?(u.push(iD(t,e)),u.push(l=rD())):u.push(l=rD({$request:e.url,$format:e.format})):e.source&&(l=r=Object(p.i)(e.source).map((function(e){return ST(t.getData(e).output)})),u.push(null));for(i=0,o=n.length;i<o;++i)a=n[i],s=a.metadata,l||s.source||u.push(l=rD()),u.push(a),s.generates&&(d=!0),s.modifies&&!d&&(c=!0),s.source?l=a:s.changes&&(l=null);r&&(o=r.length-1,u[0]=pP({derive:c,pulse:o?r:r[0]}),(c||o)&&u.splice(1,0,rD()));l||u.push(rD());return u.push(vP({})),u}(e,t,n))}function rD(e){var t=ZT({},e);return t.metadata={source:!0},t}function iD(e,t){return oP({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}function oD(e,t){return{scale:e.scale,range:t}}var aD=function(e,t,n,r,i){var o,a,s,u,l,c,d,f,h,g=uI(e,t),m=e.orient,v=e.gridScale,b="left"===m||"top"===m?1:-1,y=function(e,t){if(1===t);else if(Object(p.F)(e)){for(var n=e=Object(p.o)({},e);null!=n.mult;){if(!Object(p.F)(n.mult))return n.mult*=t,e;n=n.mult=Object(p.o)({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,b);return eI(o={enter:a={opacity:BP},update:u={opacity:zP},exit:s={opacity:BP}},{stroke:g("gridColor"),strokeCap:g("gridCap"),strokeDash:g("gridDash"),strokeDashOffset:g("gridDashOffset"),strokeOpacity:g("gridOpacity"),strokeWidth:g("gridWidth")}),l={scale:e.scale,field:FP,band:i.band,extra:i.extra,offset:i.offset,round:g("tickRound")},"top"===m||"bottom"===m?(c="x",d="y",h="height"):(c="y",d="x",h="width"),f=d+"2",u[c]=a[c]=s[c]=l,v?(u[d]=a[d]={scale:v,range:0,mult:b,offset:y},u[f]=a[f]={scale:v,range:1,mult:b,offset:y}):(u[d]=a[d]={value:0,offset:y},u[f]=a[f]={signal:h,mult:b,offset:y}),oI({type:"rule",role:"axis-grid",key:FP,from:r,encode:o},n)};function sD(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}var uD=function(e,t){var n,r,i,o,a,s=function(e,t){var n=t.config,r=e.orient,i="top"===r||"bottom"===r?n.axisX:n.axisY,o=n["axis"+r[0].toUpperCase()+r.slice(1)],a="band"===t.scaleType(e.scale)&&n.axisBand;return i||o||a?Object(p.o)({},n.axis,i,o,a):n.axis}(e,t),u=e.encode||{},l=u.axis||{},c=l.name||void 0,d=l.interactive,f=l.style,h=uI(e,s),g=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,")==='extent'?1:0.5")},n={signal:"(".concat(r.signal,")==='extent'?true:false")},Object(p.F)(i)||(i={signal:"(".concat(r.signal,")==='extent'?0:").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(h);return n={orient:e.orient,scale:e.scale,ticks:!!h("ticks"),labels:!!h("labels"),grid:!!h("grid"),domain:!!h("domain"),title:null!=e.title,translate:h("translate")},r=ST(t.add(ZT({},[n]))),l=tI(function(e,t){var n={enter:{},update:{}};return eI(n,{offset:e("offset")||0,position:PT(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},format:t.format,formatType:t.formatType}),n}(h,e),l,LP),i=ST(t.add(YT({scale:t.scaleRef(e.scale),extra:t.property(g.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),a=[],n.grid&&a.push(aD(e,s,u.grid,i,g)),n.ticks&&(o=h("tickSize"),a.push(function(e,t,n,r,i,o){var a,s,u,l,c,d,f=uI(e,t),h=e.orient,p="left"===h||"top"===h?-1:1;return eI(a={enter:s={opacity:BP},update:l={opacity:zP},exit:u={opacity:BP}},{stroke:f("tickColor"),strokeCap:f("tickCap"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),(c=$P(i)).mult=p,d={scale:e.scale,field:FP,band:o.band,extra:o.extra,offset:o.offset,round:f("tickRound")},"top"===h||"bottom"===h?(l.y=s.y=BP,l.y2=s.y2=c,l.x=s.x=u.x=d):(l.x=s.x=BP,l.x2=s.x2=c,l.y=s.y=u.y=d),oI({type:"rule",role:"axis-tick",key:FP,from:r,encode:a},n)}(e,s,u.ticks,i,o,g))),n.labels&&(o=n.ticks?o:0,a.push(function(e,t,n,r,i,o){var a,s,u,l,c,d,f,h,p,g,m=uI(e,t),v=e.orient,b="left"===v||"top"===v?-1:1,y="top"===v||"bottom"===v,_=e.scale,x=IT(m("labelFlush")),S=IT(m("labelFlushOffset")),w=0===x||!!x,C=m("labelAlign"),k=m("labelBaseline");return(l=$P(i)).mult=b,l.offset=$P(m("labelPadding")||0),l.offset.mult=b,c={scale:_,field:FP,band:.5,offset:fI(o.offset,m("labelOffset"))},y?(d=C||(w?sD(_,x,'"left"','"right"','"center"'):"center"),f=k||("top"===v?"bottom":"top"),h=!C):(d=C||("right"===v?"left":"right"),f=k||(w?sD(_,x,'"top"','"bottom"','"middle"'):"middle"),h=!k),h=h&&w&&S?sD(_,x,"-("+S+")",S,0):null,eI(s={enter:u={opacity:BP,x:y?c:l,y:y?l:c},update:{opacity:zP,text:{field:"label"},x:u.x,y:u.y},exit:{opacity:BP,x:u.x,y:u.y}},(a={},Object(oa.a)(a,y?"dx":"dy",h),Object(oa.a)(a,"align",d),Object(oa.a)(a,"baseline",f),Object(oa.a)(a,"angle",m("labelAngle")),Object(oa.a)(a,"fill",m("labelColor")),Object(oa.a)(a,"fillOpacity",m("labelOpacity")),Object(oa.a)(a,"font",m("labelFont")),Object(oa.a)(a,"fontSize",m("labelFontSize")),Object(oa.a)(a,"fontWeight",m("labelFontWeight")),Object(oa.a)(a,"fontStyle",m("labelFontStyle")),Object(oa.a)(a,"limit",m("labelLimit")),Object(oa.a)(a,"lineHeight",m("labelLineHeight")),a)),p=m("labelBound"),g=(g=m("labelOverlap"))||p?{separation:m("labelSeparation"),method:g,order:"datum.index",bound:p?{scale:_,orient:v,tolerance:p}:null}:void 0,oI({type:"text",role:"axis-label",style:"guide-label",key:FP,from:r,encode:s,overlap:g},n)}(e,s,u.labels,i,o,g))),n.domain&&a.push(function(e,t,n,r){var i,o,a,s,u,l,c=uI(e,t),d=e.orient;return eI(i={enter:o={opacity:BP},update:a={opacity:zP},exit:{opacity:BP}},{stroke:c("domainColor"),strokeCap:c("domainCap"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),"top"===d||"bottom"===d?(s="x",l="y"):(s="y",l="x"),u=s+"2",o[l]=BP,a[s]=o[s]=oD(e,0),a[u]=o[u]=oD(e,1),oI({type:"rule",role:"axis-domain",from:r,encode:i},n)}(e,s,u.domain,r)),n.title&&a.push(function(e,t,n,r){var i,o,a,s,u=uI(e,t),l=e.orient,c="left"===l||"top"===l?-1:1,d="top"===l||"bottom"===l;return i={enter:o={opacity:BP,anchor:$P(u("titleAnchor")),align:{signal:dI}},update:a=Object(p.o)({},o,{opacity:zP,text:$P(e.title)}),exit:{opacity:BP}},s={signal:'lerp(range("'.concat(e.scale,'"), ').concat(cI(0,1,.5),")")},d?(a.x=s,o.angle={value:0},o.baseline={value:"top"===l?"bottom":"top"}):(a.y=s,o.angle={value:90*c},o.baseline={value:"bottom"}),eI(i,{angle:u("titleAngle"),baseline:u("titleBaseline"),fill:u("titleColor"),fillOpacity:u("titleOpacity"),font:u("titleFont"),fontSize:u("titleFontSize"),fontStyle:u("titleFontStyle"),fontWeight:u("titleFontWeight"),limit:u("titleLimit"),lineHeight:u("titleLineHeight")},{align:u("titleAlign")}),!JP(i,"x",u("titleX"),"update")&&!d&&!iI("x",n)&&(i.enter.auto={value:!0}),!JP(i,"y",u("titleY"),"update")&&d&&!iI("y",n)&&(i.enter.auto={value:!0}),oI({type:"text",role:"axis-title",style:"guide-title",from:r,encode:i},n)}(e,s,u.title,r)),ZI(bI({role:"axis",from:r,encode:l,marks:a,aria:h("aria"),description:h("description"),zindex:h("zindex"),name:c,interactive:d,style:f}),t)};var lD=function(e,t,n){var r=Object(p.i)(e.signals),i=Object(p.i)(e.scales);return n||r.forEach((function(e){return vT(e,t)})),Object(p.i)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=RP(e[i],i,t));for(i in n)null==r[i]&&(r[i]=RP(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";Lh(n)||Object(p.n)("Unrecognized scale type: "+Object(p.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(p.i)(e.data).forEach((function(e){return nD(e,t)})),i.forEach((function(e){return wP(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(p.n)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=bT(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){WT(e,t,n.id)}))}(e,t)})),Object(p.i)(e.axes).forEach((function(e){return uD(e,t)})),Object(p.i)(e.marks).forEach((function(e){return ZI(e,t)})),Object(p.i)(e.legends).forEach((function(e){return QI(e,t)})),e.title&&eD(e.title,t),t.parseLambdas(),t};function cD(e,t){var n,r,i,o,a,s,u=t.config;return a=ST(t.root=t.add(xT())),(s=function(e,t){var n=function(n){return PT(e[n],t[n])},r=[dD("background",n("background")),dD("autosize",fT(n("autosize"))),dD("padding",pT(n("padding"))),dD("width",n("width")||0),dD("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),o={};return Object(p.i)(e.signals).forEach((function(e){Object(p.v)(i,e.name)?e=Object(p.o)(i[e.name],e):r.push(e),o[e.name]=e})),Object(p.i)(t.signals).forEach((function(e){Object(p.v)(o,e.name)||Object(p.v)(i,e.name)||r.push(e)})),r}(e,u)).forEach((function(e){return vT(e,t)})),t.description=e.description||u.description,t.eventConfig=u.events,t.legends=t.objectProperty(u.legend&&u.legend.layout),r=t.add(ZT()),i=tI({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(JT(nI(i,"group","frame",e.style,t,{pulse:ST(r)}))),o=t.add(yP({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:ST(i)})),t.operators.pop(),t.pushState(ST(i),ST(o),null),lD(e,t,s),t.operators.push(o),n=t.add(XT({mark:a,pulse:ST(o)})),n=t.add(gP({pulse:ST(n)})),n=t.add(vP({pulse:ST(n)})),t.addData("root",new WI(t,r,r,n)),t}function dD(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function fD(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function hD(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var pD=fD.prototype=hD.prototype;function gD(e){return(Object(p.A)(e)?mD:vD)(e)}function mD(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(p.F)(t)?t.signal||gD(t):Object(p.Z)(t));return n+"]"}function vD(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(p.Z)(t)+":"+(Object(p.F)(n)?n.signal||gD(n):Object(p.Z)(n));return r+"}"}pD.fork=function(){return new hD(this)},pD.isSubscope=function(){return this._subid>0},pD.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},pD.id=function(){return(this._subid?this._subid+":":0)+this._id++},pD.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},pD.proxy=function(e){var t=e instanceof yT?ST(e):e;return this.add(hP({value:t}))},pD.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},pD.addUpdate=function(e){return this.updates.push(e),e},pD.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},pD.pushState=function(e,t,n){this._encode.push(ST(this.add(vP({pulse:e})))),this._parent.push(t),this._lookup.push(n?ST(this.proxy(n)):null),this._markpath.push(-1)},pD.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},pD.parent=function(){return Object(p.U)(this._parent)},pD.encode=function(){return Object(p.U)(this._encode)},pD.lookup=function(){return Object(p.U)(this._lookup)},pD.markpath=function(){var e=this._markpath;return++e[e.length-1]},pD.fieldRef=function(e,t){if(Object(p.H)(e))return wT(e,t);e.signal||Object(p.n)("Unsupported field reference: "+Object(p.Z)(e));var n,r=e.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=i=ST(this.add(nP(n)))),i},pD.compareRef=function(e){function t(e){return OT(e)?(r=!0,n.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,i=Object(p.i)(e.field).map(t),o=Object(p.i)(e.order).map(t);return r?ST(this.add(QT({fields:i,orders:o}))):kT(i,o)},pD.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(p.i)(e).map((function(e){return OT(e)?(r=!0,ST(n[e.signal])):e})),r?ST(this.add(rP({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},pD.sortRef=function(e){if(!e)return e;var t=ET(e.op,e.field),n=e.order||"ascending";return n.signal?ST(this.add(QT({fields:t,orders:this.signalRef(n.signal)}))):kT(t,n)},pD.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},pD.hasOwnSignal=function(e){return Object(p.v)(this.signals,e)},pD.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(p.n)("Duplicate signal name: "+Object(p.Z)(e));var n=t instanceof yT?t:this.add(xT(t));return this.signals[e]=n},pD.getSignal=function(e){return this.signals[e]||Object(p.n)("Unrecognized signal name: "+Object(p.Z)(e)),this.signals[e]},pD.signalRef=function(e){return this.signals[e]?ST(this.signals[e]):(Object(p.v)(this.lambdas,e)||(this.lambdas[e]=this.add(xT(null))),ST(this.lambdas[e]))},pD.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=bT(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},pD.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},pD.objectProperty=function(e){return e&&Object(p.F)(e)?this.signalRef(e.signal||gD(e)):e},pD.exprRef=function(e,t){var n={expr:bT(e,this)};return t&&(n.expr.$name=t),ST(this.add(eP(n)))},pD.addBinding=function(e,t){this.bindings||Object(p.n)("Nested signals do not support binding: "+Object(p.Z)(e)),this.bindings.push(Object(p.o)({signal:e},t))},pD.addScaleProj=function(e,t){Object(p.v)(this.scales,e)&&Object(p.n)("Duplicate scale or projection name: "+Object(p.Z)(e)),this.scales[e]=this.add(t)},pD.addScale=function(e,t){this.addScaleProj(e,mP(t))},pD.addProjection=function(e,t){this.addScaleProj(e,fP(t))},pD.getScale=function(e){return this.scales[e]||Object(p.n)("Unrecognized scale name: "+Object(p.Z)(e)),this.scales[e]},pD.projectionRef=pD.scaleRef=function(e){return ST(this.getScale(e))},pD.projectionType=pD.scaleType=function(e){return this.getScale(e).params.type},pD.addData=function(e,t){return Object(p.v)(this.data,e)&&Object(p.n)("Duplicate data set name: "+Object(p.Z)(e)),this.data[e]=t},pD.getData=function(e){return this.data[e]||Object(p.n)("Undefined data set name: "+Object(p.Z)(e)),this.data[e]},pD.addDataPipeline=function(e,t){return Object(p.v)(this.data,e)&&Object(p.n)("Duplicate data set name: "+Object(p.Z)(e)),this.addData(e,WI.fromEntries(this,t))};var bD=function(e,t){return Object(p.F)(e)||Object(p.n)("Input Vega specification must be an object."),cD(e,new fD(t=Object(p.N)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,e.config))).toRuntime()};Object(p.o)(rr,r,o,a,s,u,l,c,d,f,h)},function(e,t,n){"use strict";n.r(t),n.d(t,"ActivityItem",(function(){return pe})),n.d(t,"Autofill",(function(){return me})),n.d(t,"BaseAutoFill",(function(){return ve})),n.d(t,"Announced",(function(){return xe})),n.d(t,"AnnouncedBase",(function(){return _e})),n.d(t,"Breadcrumb",(function(){return zr})),n.d(t,"BreadcrumbBase",(function(){return Fr})),n.d(t,"BaseButton",(function(){return ar})),n.d(t,"ElementType",(function(){return kr})),n.d(t,"ButtonType",(function(){return Er})),n.d(t,"Button",(function(){return ti})),n.d(t,"ActionButton",(function(){return Qr})),n.d(t,"CommandBarButton",(function(){return ri})),n.d(t,"CommandButton",(function(){return ii})),n.d(t,"CompoundButton",(function(){return Jr})),n.d(t,"DefaultButton",(function(){return Xr})),n.d(t,"MessageBarButton",(function(){return ai})),n.d(t,"PrimaryButton",(function(){return ei})),n.d(t,"IconButton",(function(){return fr})),n.d(t,"Calendar",(function(){return ka})),n.d(t,"DayOfWeek",(function(){return Wr})),n.d(t,"DateRangeType",(function(){return qr})),n.d(t,"FirstWeekOfYear",(function(){return Kr})),n.d(t,"Callout",(function(){return Tn})),n.d(t,"FocusTrapCallout",(function(){return Oa})),n.d(t,"DirectionalHint",(function(){return $e})),n.d(t,"Check",(function(){return Aa})),n.d(t,"getCheck",(function(){return Ma})),n.d(t,"CheckBase",(function(){return Pa})),n.d(t,"Checkbox",(function(){return Fa})),n.d(t,"CheckboxBase",(function(){return Ra})),n.d(t,"ChoiceGroup",(function(){return Xa})),n.d(t,"ChoiceGroupBase",(function(){return qa})),n.d(t,"ChoiceGroupOption",(function(){return Ga})),n.d(t,"Coachmark",(function(){return ls})),n.d(t,"COACHMARK_ATTRIBUTE_NAME",(function(){return ss})),n.d(t,"CoachmarkBase",(function(){return us})),n.d(t,"MAX_COLOR_SATURATION",(function(){return cs})),n.d(t,"MAX_COLOR_HUE",(function(){return ds})),n.d(t,"MAX_COLOR_VALUE",(function(){return fs})),n.d(t,"MAX_COLOR_RGB",(function(){return hs})),n.d(t,"MAX_COLOR_RGBA",(function(){return ps})),n.d(t,"MAX_COLOR_ALPHA",(function(){return gs})),n.d(t,"MIN_HEX_LENGTH",(function(){return ms})),n.d(t,"MAX_HEX_LENGTH",(function(){return vs})),n.d(t,"MIN_RGBA_LENGTH",(function(){return bs})),n.d(t,"MAX_RGBA_LENGTH",(function(){return ys})),n.d(t,"HEX_REGEX",(function(){return _s})),n.d(t,"RGBA_REGEX",(function(){return xs})),n.d(t,"cssColor",(function(){return ks})),n.d(t,"rgb2hex",(function(){return Ts})),n.d(t,"clamp",(function(){return Os})),n.d(t,"hsl2rgb",(function(){return Cs})),n.d(t,"hsl2hsv",(function(){return Ss})),n.d(t,"hsv2rgb",(function(){return ws})),n.d(t,"hsv2hex",(function(){return Is})),n.d(t,"rgb2hsv",(function(){return Ds})),n.d(t,"hsv2hsl",(function(){return As})),n.d(t,"getColorFromString",(function(){return Rs})),n.d(t,"getColorFromRGBA",(function(){return js})),n.d(t,"getColorFromHSV",(function(){return Fs})),n.d(t,"getFullColorString",(function(){return Ns})),n.d(t,"updateSV",(function(){return Ls})),n.d(t,"updateH",(function(){return Bs})),n.d(t,"updateRGB",(function(){return zs})),n.d(t,"updateA",(function(){return Us})),n.d(t,"correctRGB",(function(){return Hs})),n.d(t,"correctHSV",(function(){return Vs})),n.d(t,"correctHex",(function(){return Ws})),n.d(t,"Shade",(function(){return Gs})),n.d(t,"isValidShade",(function(){return eu})),n.d(t,"isDark",(function(){return iu})),n.d(t,"getShade",(function(){return ou})),n.d(t,"getBackgroundShade",(function(){return au})),n.d(t,"getContrastRatio",(function(){return su})),n.d(t,"ColorPicker",(function(){return Eu})),n.d(t,"ColorPickerBase",(function(){return wu})),n.d(t,"SelectableOptionMenuItemType",(function(){return ku})),n.d(t,"ComboBox",(function(){return Bu})),n.d(t,"VirtualizedComboBox",(function(){return Xu})),n.d(t,"CommandBar",(function(){return nl})),n.d(t,"CommandBarBase",(function(){return tl})),n.d(t,"ContextualMenu",(function(){return nr})),n.d(t,"getSubmenuItems",(function(){return Xn})),n.d(t,"canAnyMenuItemsCheck",(function(){return Zn})),n.d(t,"ContextualMenuBase",(function(){return $n})),n.d(t,"ContextualMenuItemType",(function(){return Ke})),n.d(t,"ContextualMenuItem",(function(){return zn})),n.d(t,"ContextualMenuItemBase",(function(){return Pn})),n.d(t,"DatePicker",(function(){return sl})),n.d(t,"DatePickerBase",(function(){return ol})),n.d(t,"SELECTION_CHANGE",(function(){return ul})),n.d(t,"SelectionDirection",(function(){return Yu})),n.d(t,"SelectionMode",(function(){return qu})),n.d(t,"Selection",(function(){return ll})),n.d(t,"SelectionZone",(function(){return vl})),n.d(t,"CollapseAllVisibility",(function(){return dl})),n.d(t,"DetailsHeader",(function(){return Wl})),n.d(t,"DetailsHeaderBase",(function(){return Bl})),n.d(t,"SelectAllVisibility",(function(){return Il})),n.d(t,"DetailsList",(function(){return jc})),n.d(t,"DetailsListBase",(function(){return Tc})),n.d(t,"buildColumns",(function(){return Pc})),n.d(t,"ColumnActionsMode",(function(){return fl})),n.d(t,"ConstrainMode",(function(){return hl})),n.d(t,"ColumnDragEndLocation",(function(){return pl})),n.d(t,"DetailsListLayoutMode",(function(){return gl})),n.d(t,"CheckboxVisibility",(function(){return ml})),n.d(t,"DetailsRow",(function(){return Xl})),n.d(t,"DetailsRowBase",(function(){return Yl})),n.d(t,"DetailsRowCheck",(function(){return Dl})),n.d(t,"DetailsColumnBase",(function(){return jl})),n.d(t,"Dialog",(function(){return cd})),n.d(t,"DialogBase",(function(){return ud})),n.d(t,"DialogContent",(function(){return id})),n.d(t,"DialogContentBase",(function(){return nd})),n.d(t,"DialogFooter",(function(){return Jc})),n.d(t,"DialogFooterBase",(function(){return Qc})),n.d(t,"ResponsiveMode",(function(){return it})),n.d(t,"DialogType",(function(){return Ac})),n.d(t,"VerticalDivider",(function(){return Gn})),n.d(t,"DocumentCard",(function(){return yd})),n.d(t,"DocumentCardType",(function(){return Rc})),n.d(t,"DocumentCardActions",(function(){return wd})),n.d(t,"DocumentCardActivity",(function(){return Ed})),n.d(t,"DocumentCardDetails",(function(){return Id})),n.d(t,"DocumentCardLocation",(function(){return Md})),n.d(t,"DocumentCardPreview",(function(){return Fd})),n.d(t,"DocumentCardImage",(function(){return Bd})),n.d(t,"DocumentCardTitle",(function(){return Hd})),n.d(t,"DocumentCardLogo",(function(){return Kd})),n.d(t,"DocumentCardStatus",(function(){return Zd})),n.d(t,"Dropdown",(function(){return Bf})),n.d(t,"DropdownBase",(function(){return Mf})),n.d(t,"DropdownMenuItemType",(function(){return ku})),n.d(t,"BaseExtendedPicker",(function(){return Gf})),n.d(t,"BaseExtendedPeoplePicker",(function(){return Kf})),n.d(t,"ExtendedPeoplePicker",(function(){return qf})),n.d(t,"people",(function(){return Zf})),n.d(t,"mru",(function(){return Qf})),n.d(t,"groupOne",(function(){return $f})),n.d(t,"groupTwo",(function(){return Jf})),n.d(t,"Fabric",(function(){return vn})),n.d(t,"FabricBase",(function(){return mn})),n.d(t,"OverflowButtonType",(function(){return zf})),n.d(t,"FacepileBase",(function(){return sh})),n.d(t,"Facepile",(function(){return lh})),n.d(t,"BaseFloatingPicker",(function(){return Hh})),n.d(t,"BaseFloatingPeoplePicker",(function(){return Vh})),n.d(t,"FloatingPeoplePicker",(function(){return Wh})),n.d(t,"createItem",(function(){return Gh})),n.d(t,"SuggestionsStore",(function(){return Kh})),n.d(t,"SuggestionItemType",(function(){return Ih})),n.d(t,"SuggestionsHeaderFooterItem",(function(){return Bh})),n.d(t,"SuggestionsControl",(function(){return zh})),n.d(t,"SuggestionsCore",(function(){return Ph})),n.d(t,"FocusTrapZone",(function(){return Ea})),n.d(t,"FocusZone",(function(){return Le})),n.d(t,"FocusZoneTabbableElements",(function(){return Se})),n.d(t,"FocusZoneDirection",(function(){return le})),n.d(t,"createComponent",(function(){return rp})),n.d(t,"withSlots",(function(){return Zh})),n.d(t,"createFactory",(function(){return Qh})),n.d(t,"getSlots",(function(){return Jh})),n.d(t,"ThemeProvider",(function(){return op})),n.d(t,"Grid",(function(){return dp})),n.d(t,"GridCell",(function(){return fp})),n.d(t,"GroupedList",(function(){return wc})),n.d(t,"GroupedListBase",(function(){return Sc})),n.d(t,"GroupHeader",(function(){return lc})),n.d(t,"GroupFooter",(function(){return vc})),n.d(t,"GroupShowAll",(function(){return hc})),n.d(t,"GroupSpacer",(function(){return bl})),n.d(t,"HoverCard",(function(){return Tp})),n.d(t,"HoverCardBase",(function(){return Op})),n.d(t,"OpenCardMode",(function(){return sp})),n.d(t,"HoverCardType",(function(){return up})),n.d(t,"ExpandingCard",(function(){return yp})),n.d(t,"ExpandingCardBase",(function(){return bp})),n.d(t,"ExpandingCardMode",(function(){return pp})),n.d(t,"PlainCard",(function(){return kp})),n.d(t,"PlainCardBase",(function(){return Cp})),n.d(t,"Icon",(function(){return K})),n.d(t,"IconBase",(function(){return G})),n.d(t,"IconType",(function(){return f})),n.d(t,"getIconContent",(function(){return U})),n.d(t,"FontIcon",(function(){return H})),n.d(t,"getFontIcon",(function(){return V})),n.d(t,"ImageIcon",(function(){return Pp})),n.d(t,"initializeIcons",(function(){return Ip.a})),n.d(t,"Image",(function(){return L})),n.d(t,"ImageBase",(function(){return R})),n.d(t,"ImageFit",(function(){return h})),n.d(t,"ImageCoverStyle",(function(){return p})),n.d(t,"ImageLoadState",(function(){return g})),n.d(t,"Keytip",(function(){return Rp})),n.d(t,"KeytipData",(function(){return qe})),n.d(t,"KeytipLayer",(function(){return Wp})),n.d(t,"KeytipLayerBase",(function(){return Vp})),n.d(t,"LabelBase",(function(){return La})),n.d(t,"Label",(function(){return Ba})),n.d(t,"Layer",(function(){return On})),n.d(t,"LayerBase",(function(){return kn})),n.d(t,"LayerHost",(function(){return Kp})),n.d(t,"Link",(function(){return Qe})),n.d(t,"LinkBase",(function(){return Xe})),n.d(t,"List",(function(){return Gu})),n.d(t,"ScrollToMode",(function(){return zu})),n.d(t,"MarqueeSelection",(function(){return Qp})),n.d(t,"MessageBar",(function(){return ig})),n.d(t,"MessageBarBase",(function(){return eg})),n.d(t,"MessageBarType",(function(){return Gp})),n.d(t,"Modal",(function(){return Xc})),n.d(t,"ModalBase",(function(){return Yc})),n.d(t,"Nav",(function(){return dg})),n.d(t,"isRelativeUrl",(function(){return sg})),n.d(t,"NavBase",(function(){return cg})),n.d(t,"OverflowSet",(function(){return Ju})),n.d(t,"OverflowSetBase",(function(){return Qu})),n.d(t,"Overlay",(function(){return Uc})),n.d(t,"OverlayBase",(function(){return Bc})),n.d(t,"Panel",(function(){return Df})),n.d(t,"PanelType",(function(){return dd})),n.d(t,"Persona",(function(){return oh})),n.d(t,"PersonaBase",(function(){return rh})),n.d(t,"PersonaSize",(function(){return T})),n.d(t,"PersonaPresence",(function(){return P})),n.d(t,"PersonaInitialsColor",(function(){return I})),n.d(t,"PersonaCoin",(function(){return he})),n.d(t,"PersonaCoinBase",(function(){return de})),n.d(t,"personaSize",(function(){return D})),n.d(t,"personaPresenceSize",(function(){return M})),n.d(t,"sizeBoolean",(function(){return Y})),n.d(t,"sizeToPixels",(function(){return X})),n.d(t,"presenceBoolean",(function(){return Z})),n.d(t,"getPersonaInitialsColor",(function(){return ue})),n.d(t,"Suggestions",(function(){return vg})),n.d(t,"SuggestionActionType",(function(){return ug})),n.d(t,"SuggestionsItem",(function(){return Eh})),n.d(t,"SuggestionsController",(function(){return bg})),n.d(t,"BasePicker",(function(){return Tg})),n.d(t,"BasePickerListBelow",(function(){return Pg})),n.d(t,"ValidationState",(function(){return hg})),n.d(t,"BasePeoplePicker",(function(){return zg})),n.d(t,"MemberListPeoplePicker",(function(){return Ug})),n.d(t,"NormalPeoplePickerBase",(function(){return Hg})),n.d(t,"CompactPeoplePickerBase",(function(){return Vg})),n.d(t,"ListPeoplePickerBase",(function(){return Wg})),n.d(t,"createGenericItem",(function(){return Gg})),n.d(t,"NormalPeoplePicker",(function(){return Kg})),n.d(t,"CompactPeoplePicker",(function(){return qg})),n.d(t,"ListPeoplePicker",(function(){return Yg})),n.d(t,"PeoplePickerItemBase",(function(){return Ag})),n.d(t,"PeoplePickerItem",(function(){return Mg})),n.d(t,"PeoplePickerItemSuggestionBase",(function(){return Fg})),n.d(t,"PeoplePickerItemSuggestion",(function(){return Ng})),n.d(t,"TagPickerBase",(function(){return om})),n.d(t,"TagPicker",(function(){return am})),n.d(t,"TagItemBase",(function(){return Qg})),n.d(t,"TagItem",(function(){return $g})),n.d(t,"TagItemSuggestionBase",(function(){return rm})),n.d(t,"TagItemSuggestion",(function(){return im})),n.d(t,"Pivot",(function(){return pm})),n.d(t,"PivotBase",(function(){return dm})),n.d(t,"PivotItem",(function(){return sm})),n.d(t,"PivotLinkFormat",(function(){return em})),n.d(t,"PivotLinkSize",(function(){return tm})),n.d(t,"Popup",(function(){return Qt})),n.d(t,"PositioningContainer",(function(){return rs})),n.d(t,"ProgressIndicator",(function(){return _m})),n.d(t,"ProgressIndicatorBase",(function(){return mm})),n.d(t,"Rating",(function(){return Em})),n.d(t,"RatingBase",(function(){return km})),n.d(t,"RatingSize",(function(){return um})),n.d(t,"ResizeGroup",(function(){return wr})),n.d(t,"getMeasurementCache",(function(){return vr})),n.d(t,"getNextResizeGroupStateProvider",(function(){return br})),n.d(t,"ResizeGroupBase",(function(){return Sr})),n.d(t,"ResizeGroupDirection",(function(){return tr})),n.d(t,"ScrollablePane",(function(){return Im})),n.d(t,"ScrollablePaneBase",(function(){return Tm})),n.d(t,"ScrollbarVisibility",(function(){return Dm})),n.d(t,"SearchBox",(function(){return jm})),n.d(t,"SearchBoxBase",(function(){return Mm})),n.d(t,"getAllSelectedOptions",(function(){return Nu})),n.d(t,"BaseSelectedItemsList",(function(){return Rm})),n.d(t,"BasePeopleSelectedItemsList",(function(){return nv})),n.d(t,"SelectedPeopleList",(function(){return rv})),n.d(t,"ExtendedSelectedItem",(function(){return Ym})),n.d(t,"SeparatorBase",(function(){return ov})),n.d(t,"Separator",(function(){return av})),n.d(t,"Shimmer",(function(){return Pv})),n.d(t,"ShimmerBase",(function(){return Tv})),n.d(t,"ShimmerElementType",(function(){return Zm})),n.d(t,"ShimmerElementsDefaultHeights",(function(){return Qm})),n.d(t,"ShimmerLine",(function(){return hv})),n.d(t,"ShimmerLineBase",(function(){return dv})),n.d(t,"ShimmerCircle",(function(){return xv})),n.d(t,"ShimmerCircleBase",(function(){return _v})),n.d(t,"ShimmerGap",(function(){return vv})),n.d(t,"ShimmerGapBase",(function(){return gv})),n.d(t,"ShimmerElementsGroup",(function(){return Ev})),n.d(t,"ShimmerElementsGroupBase",(function(){return wv})),n.d(t,"ShimmeredDetailsList",(function(){return Av})),n.d(t,"ShimmeredDetailsListBase",(function(){return Dv})),n.d(t,"Slider",(function(){return Lv})),n.d(t,"ValuePosition",(function(){return kv})),n.d(t,"ONKEYDOWN_TIMEOUT_DURATION",(function(){return Rv})),n.d(t,"SliderBase",(function(){return Fv})),n.d(t,"KeyboardSpinDirection",(function(){return Mv})),n.d(t,"SpinButton",(function(){return Kv})),n.d(t,"Spinner",(function(){return ac})),n.d(t,"SpinnerBase",(function(){return rc})),n.d(t,"SpinnerSize",(function(){return Hl})),n.d(t,"SpinnerType",(function(){return Vl})),n.d(t,"StackItem",(function(){return Xv})),n.d(t,"Stack",(function(){return rb})),n.d(t,"Sticky",(function(){return ib})),n.d(t,"StickyPositionType",(function(){return Gv})),n.d(t,"AnimationClassNames",(function(){return b.a})),n.d(t,"FontClassNames",(function(){return b.g})),n.d(t,"ColorClassNames",(function(){return b.d})),n.d(t,"AnimationStyles",(function(){return b.b})),n.d(t,"AnimationVariables",(function(){return b.c})),n.d(t,"DefaultPalette",(function(){return b.f})),n.d(t,"DefaultFontStyles",(function(){return b.e})),n.d(t,"registerDefaultFontFaces",(function(){return b.bb})),n.d(t,"FontSizes",(function(){return b.h})),n.d(t,"FontWeights",(function(){return b.i})),n.d(t,"IconFontSizes",(function(){return b.m})),n.d(t,"createFontStyles",(function(){return b.G})),n.d(t,"getFocusStyle",(function(){return b.M})),n.d(t,"focusClear",(function(){return b.I})),n.d(t,"getFocusOutlineStyle",(function(){return b.L})),n.d(t,"hiddenContentStyle",(function(){return b.U})),n.d(t,"PulsingBeaconAnimationStyles",(function(){return b.o})),n.d(t,"getGlobalClassNames",(function(){return b.N})),n.d(t,"getThemedContext",(function(){return b.T})),n.d(t,"ThemeSettingName",(function(){return b.C})),n.d(t,"getTheme",(function(){return b.S})),n.d(t,"loadTheme",(function(){return b.W})),n.d(t,"createTheme",(function(){return b.H})),n.d(t,"registerOnThemeChangeCallback",(function(){return b.eb})),n.d(t,"removeOnThemeChangeCallback",(function(){return b.fb})),n.d(t,"HighContrastSelector",(function(){return b.j})),n.d(t,"HighContrastSelectorWhite",(function(){return b.l})),n.d(t,"HighContrastSelectorBlack",(function(){return b.k})),n.d(t,"ScreenWidthMinSmall",(function(){return b.w})),n.d(t,"ScreenWidthMinMedium",(function(){return b.v})),n.d(t,"ScreenWidthMinLarge",(function(){return b.u})),n.d(t,"ScreenWidthMinXLarge",(function(){return b.y})),n.d(t,"ScreenWidthMinXXLarge",(function(){return b.z})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return b.A})),n.d(t,"ScreenWidthMaxSmall",(function(){return b.r})),n.d(t,"ScreenWidthMaxMedium",(function(){return b.q})),n.d(t,"ScreenWidthMaxLarge",(function(){return b.p})),n.d(t,"ScreenWidthMaxXLarge",(function(){return b.s})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return b.t})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return b.x})),n.d(t,"getScreenSelector",(function(){return b.R})),n.d(t,"normalize",(function(){return b.ab})),n.d(t,"noWrap",(function(){return b.Z})),n.d(t,"getFadedOverflowStyle",(function(){return b.K})),n.d(t,"getPlaceholderStyles",(function(){return b.Q})),n.d(t,"ZIndexes",(function(){return b.D})),n.d(t,"buildClassMap",(function(){return b.E})),n.d(t,"getIcon",(function(){return b.O})),n.d(t,"registerIcons",(function(){return b.db})),n.d(t,"registerIconAlias",(function(){return b.cb})),n.d(t,"unregisterIcons",(function(){return b.hb})),n.d(t,"setIconOptions",(function(){return b.gb})),n.d(t,"getIconClassName",(function(){return b.P})),n.d(t,"InjectionMode",(function(){return b.n})),n.d(t,"Stylesheet",(function(){return b.B})),n.d(t,"concatStyleSets",(function(){return b.F})),n.d(t,"fontFace",(function(){return b.J})),n.d(t,"keyframes",(function(){return b.V})),n.d(t,"mergeStyleSets",(function(){return b.X})),n.d(t,"mergeStyles",(function(){return b.Y})),n.d(t,"SwatchColorPicker",(function(){return hb})),n.d(t,"SwatchColorPickerBase",(function(){return db})),n.d(t,"ColorPickerGridCell",(function(){return lb})),n.d(t,"ColorPickerGridCellBase",(function(){return ub})),n.d(t,"TeachingBubble",(function(){return Cb})),n.d(t,"TeachingBubbleBase",(function(){return wb})),n.d(t,"TeachingBubbleContent",(function(){return xb})),n.d(t,"TeachingBubbleContentBase",(function(){return gb})),n.d(t,"Text",(function(){return Ob})),n.d(t,"TextView",(function(){return kb})),n.d(t,"TextStyles",(function(){return Eb})),n.d(t,"TextField",(function(){return pu})),n.d(t,"TextFieldBase",(function(){return cu})),n.d(t,"DEFAULT_MASK_CHAR",(function(){return Nb})),n.d(t,"MaskedTextField",(function(){return Lb})),n.d(t,"ThemeGenerator",(function(){return Bb})),n.d(t,"BaseSlots",(function(){return jb})),n.d(t,"FabricSlots",(function(){return Rb})),n.d(t,"SemanticColorSlots",(function(){return Fb})),n.d(t,"themeRulesStandardCreator",(function(){return zb})),n.d(t,"Toggle",(function(){return Vb})),n.d(t,"ToggleBase",(function(){return Hb})),n.d(t,"Tooltip",(function(){return Pr})),n.d(t,"TooltipBase",(function(){return Tr})),n.d(t,"TooltipDelay",(function(){return mr})),n.d(t,"TooltipHost",(function(){return Mr})),n.d(t,"TooltipHostBase",(function(){return Dr})),n.d(t,"TooltipOverflowMode",(function(){return gr})),n.d(t,"Async",(function(){return Wb.a})),n.d(t,"AutoScroll",(function(){return Wb.b})),n.d(t,"BaseComponent",(function(){return Wb.c})),n.d(t,"nullRender",(function(){return Wb.ec})),n.d(t,"provideContext",(function(){return Wb.kc})),n.d(t,"DelayedRender",(function(){return Wb.i})),n.d(t,"EventGroup",(function(){return Wb.j})),n.d(t,"FabricPerformance",(function(){return Wb.k})),n.d(t,"GlobalSettings",(function(){return Wb.l})),n.d(t,"KeyCodes",(function(){return Wb.n})),n.d(t,"Rectangle",(function(){return Wb.o})),n.d(t,"appendFunction",(function(){return Wb.t})),n.d(t,"mergeAriaAttributeValues",(function(){return Wb.ac})),n.d(t,"findIndex",(function(){return Wb.V})),n.d(t,"find",(function(){return Wb.T})),n.d(t,"createArray",(function(){return Wb.H})),n.d(t,"toMatrix",(function(){return Wb.Jc})),n.d(t,"removeIndex",(function(){return Wb.mc})),n.d(t,"replaceElement",(function(){return Wb.nc})),n.d(t,"addElementAtIndex",(function(){return Wb.q})),n.d(t,"flatten",(function(){return Wb.Y})),n.d(t,"arraysEqual",(function(){return Wb.u})),n.d(t,"asAsync",(function(){return Wb.v})),n.d(t,"assertNever",(function(){return Wb.w})),n.d(t,"autobind",(function(){return Wb.z})),n.d(t,"classNamesFunction",(function(){return Wb.E})),n.d(t,"createRef",(function(){return Wb.I})),n.d(t,"css",(function(){return Wb.J})),n.d(t,"Customizations",(function(){return Wb.d})),n.d(t,"Customizer",(function(){return Wb.e})),n.d(t,"CustomizerContext",(function(){return Wb.f})),n.d(t,"customizable",(function(){return Wb.K})),n.d(t,"mergeCustomizations",(function(){return Wb.bc})),n.d(t,"mergeSettings",(function(){return Wb.dc})),n.d(t,"mergeScopedSettings",(function(){return Wb.cc})),n.d(t,"elementContains",(function(){return Wb.O})),n.d(t,"elementContainsAttribute",(function(){return Wb.P})),n.d(t,"findElementRecursive",(function(){return Wb.U})),n.d(t,"getChildren",(function(){return Wb.db})),n.d(t,"getDocument",(function(){return Wb.fb})),n.d(t,"getParent",(function(){return Wb.rb})),n.d(t,"getRect",(function(){return Wb.vb})),n.d(t,"getVirtualParent",(function(){return Wb.yb})),n.d(t,"getWindow",(function(){return Wb.zb})),n.d(t,"isVirtualElement",(function(){return Wb.Tb})),n.d(t,"on",(function(){return Wb.gc})),n.d(t,"portalContainsElement",(function(){return Wb.ic})),n.d(t,"raiseClick",(function(){return Wb.lc})),n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return Wb.h})),n.d(t,"setPortalAttribute",(function(){return Wb.xc})),n.d(t,"setVirtualParent",(function(){return Wb.Ac})),n.d(t,"extendComponent",(function(){return Wb.R})),n.d(t,"getFirstFocusable",(function(){return Wb.hb})),n.d(t,"getLastFocusable",(function(){return Wb.nb})),n.d(t,"getFirstTabbable",(function(){return Wb.ib})),n.d(t,"getLastTabbable",(function(){return Wb.ob})),n.d(t,"focusFirstChild",(function(){return Wb.ab})),n.d(t,"getPreviousElement",(function(){return Wb.sb})),n.d(t,"getNextElement",(function(){return Wb.qb})),n.d(t,"isElementVisible",(function(){return Wb.Qb})),n.d(t,"isElementTabbable",(function(){return Wb.Pb})),n.d(t,"isElementFocusZone",(function(){return Wb.Ob})),n.d(t,"isElementFocusSubZone",(function(){return Wb.Nb})),n.d(t,"doesElementContainFocus",(function(){return Wb.N})),n.d(t,"shouldWrapFocus",(function(){return Wb.Dc})),n.d(t,"focusAsync",(function(){return Wb.Z})),n.d(t,"getFocusableByIndexPath",(function(){return Wb.jb})),n.d(t,"getElementIndexPath",(function(){return Wb.gb})),n.d(t,"hoistMethods",(function(){return Wb.Db})),n.d(t,"unhoistMethods",(function(){return Wb.Lc})),n.d(t,"hoistStatics",(function(){return Wb.Eb})),n.d(t,"initializeComponentRef",(function(){return Wb.Jb})),n.d(t,"IsFocusVisibleClassName",(function(){return Wb.m})),n.d(t,"initializeFocusRects",(function(){return Wb.Kb})),n.d(t,"getInitials",(function(){return Wb.lb})),n.d(t,"isDirectionalKeyCode",(function(){return Wb.Mb})),n.d(t,"addDirectionalKeyCode",(function(){return Wb.p})),n.d(t,"getLanguage",(function(){return Wb.mb})),n.d(t,"setLanguage",(function(){return Wb.vc})),n.d(t,"getDistanceBetweenPoints",(function(){return Wb.eb})),n.d(t,"fitContentToBounds",(function(){return Wb.X})),n.d(t,"calculatePrecision",(function(){return Wb.D})),n.d(t,"precisionRound",(function(){return Wb.jc})),n.d(t,"setMemoizeWeakMap",(function(){return Wb.wc})),n.d(t,"resetMemoizations",(function(){return Wb.pc})),n.d(t,"memoize",(function(){return Wb.Xb})),n.d(t,"memoizeFunction",(function(){return Wb.Yb})),n.d(t,"merge",(function(){return Wb.Zb})),n.d(t,"isIOS",(function(){return Wb.Rb})),n.d(t,"shallowCompare",(function(){return Wb.Cc})),n.d(t,"assign",(function(){return Wb.x})),n.d(t,"filteredAssign",(function(){return Wb.S})),n.d(t,"getId",(function(){return Wb.kb})),n.d(t,"resetIds",(function(){return Wb.oc})),n.d(t,"mapEnumByName",(function(){return Wb.Wb})),n.d(t,"values",(function(){return Wb.Mc})),n.d(t,"isMac",(function(){return Wb.Sb})),n.d(t,"hasHorizontalOverflow",(function(){return Wb.Ab})),n.d(t,"hasVerticalOverflow",(function(){return Wb.Cb})),n.d(t,"hasOverflow",(function(){return Wb.Bb})),n.d(t,"baseElementEvents",(function(){return Wb.A})),n.d(t,"baseElementProperties",(function(){return Wb.B})),n.d(t,"htmlElementProperties",(function(){return Wb.Fb})),n.d(t,"labelProperties",(function(){return Wb.Ub})),n.d(t,"audioProperties",(function(){return Wb.y})),n.d(t,"videoProperties",(function(){return Wb.Nc})),n.d(t,"olProperties",(function(){return Wb.fc})),n.d(t,"liProperties",(function(){return Wb.Vb})),n.d(t,"anchorProperties",(function(){return Wb.s})),n.d(t,"buttonProperties",(function(){return Wb.C})),n.d(t,"inputProperties",(function(){return Wb.Lb})),n.d(t,"textAreaProperties",(function(){return Wb.Hc})),n.d(t,"selectProperties",(function(){return Wb.sc})),n.d(t,"optionProperties",(function(){return Wb.hc})),n.d(t,"tableProperties",(function(){return Wb.Fc})),n.d(t,"trProperties",(function(){return Wb.Kc})),n.d(t,"thProperties",(function(){return Wb.Ic})),n.d(t,"tdProperties",(function(){return Wb.Gc})),n.d(t,"colGroupProperties",(function(){return Wb.F})),n.d(t,"colProperties",(function(){return Wb.G})),n.d(t,"formProperties",(function(){return Wb.bb})),n.d(t,"iframeProperties",(function(){return Wb.Gb})),n.d(t,"imgProperties",(function(){return Wb.Ib})),n.d(t,"imageProperties",(function(){return Wb.Hb})),n.d(t,"divProperties",(function(){return Wb.M})),n.d(t,"getNativeProps",(function(){return Wb.pb})),n.d(t,"getResourceUrl",(function(){return Wb.wb})),n.d(t,"setBaseUrl",(function(){return Wb.tc})),n.d(t,"getRTL",(function(){return Wb.tb})),n.d(t,"setRTL",(function(){return Wb.yc})),n.d(t,"getRTLSafeKeyCode",(function(){return Wb.ub})),n.d(t,"safeRequestAnimationFrame",(function(){return Wb.qc})),n.d(t,"safeSetTimeout",(function(){return Wb.rc})),n.d(t,"DATA_IS_SCROLLABLE_ATTRIBUTE",(function(){return Wb.g})),n.d(t,"allowScrollOnElement",(function(){return Wb.r})),n.d(t,"disableBodyScroll",(function(){return Wb.L})),n.d(t,"enableBodyScroll",(function(){return Wb.Q})),n.d(t,"getScrollbarWidth",(function(){return Wb.xb})),n.d(t,"findScrollableParent",(function(){return Wb.W})),n.d(t,"format",(function(){return Wb.cb})),n.d(t,"styled",(function(){return Wb.Ec})),n.d(t,"warn",(function(){return Wb.Oc})),n.d(t,"setWarningCallback",(function(){return Wb.Bc})),n.d(t,"warnConditionallyRequiredProps",(function(){return Wb.Pc})),n.d(t,"warnDeprecations",(function(){return Wb.Qc})),n.d(t,"warnMutuallyExclusive",(function(){return Wb.Rc})),n.d(t,"setFocusVisibility",(function(){return Wb.uc})),n.d(t,"setSSR",(function(){return Wb.zc}));var r={};n.r(r),n.d(r,"root",(function(){return Pi})),n.d(r,"picker",(function(){return Ii})),n.d(r,"holder",(function(){return Di})),n.d(r,"pickerIsOpened",(function(){return Ai})),n.d(r,"frame",(function(){return Mi})),n.d(r,"wrap",(function(){return ji})),n.d(r,"goTodaySpacing",(function(){return Ri})),n.d(r,"dayPicker",(function(){return Fi})),n.d(r,"header",(function(){return Ni})),n.d(r,"divider",(function(){return Li})),n.d(r,"monthAndYear",(function(){return Bi})),n.d(r,"year",(function(){return zi})),n.d(r,"decade",(function(){return Ui})),n.d(r,"currentYear",(function(){return Hi})),n.d(r,"currentDecade",(function(){return Vi})),n.d(r,"table",(function(){return Wi})),n.d(r,"dayWrapper",(function(){return Gi})),n.d(r,"weekday",(function(){return Ki})),n.d(r,"day",(function(){return qi})),n.d(r,"daySelection",(function(){return Yi})),n.d(r,"dayIsToday",(function(){return Xi})),n.d(r,"dayIsDisabled",(function(){return Zi})),n.d(r,"dayIsUnfocused",(function(){return Qi})),n.d(r,"dayIsFocused",(function(){return $i})),n.d(r,"dayIsHighlighted",(function(){return Ji})),n.d(r,"pickerIsFocused",(function(){return eo})),n.d(r,"dayDisabled",(function(){return to})),n.d(r,"dayBackground",(function(){return no})),n.d(r,"dayHover",(function(){return ro})),n.d(r,"dayPress",(function(){return io})),n.d(r,"weekBackground",(function(){return oo})),n.d(r,"showWeekNumbers",(function(){return ao})),n.d(r,"weekNumbers",(function(){return so})),n.d(r,"weekIsHighlighted",(function(){return uo})),n.d(r,"showWeekNumbersRTL",(function(){return lo})),n.d(r,"monthComponents",(function(){return co})),n.d(r,"yearComponents",(function(){return fo})),n.d(r,"decadeComponents",(function(){return ho})),n.d(r,"closeButton",(function(){return po})),n.d(r,"prevMonth",(function(){return go})),n.d(r,"nextMonth",(function(){return mo})),n.d(r,"prevYear",(function(){return vo})),n.d(r,"nextYear",(function(){return bo})),n.d(r,"prevDecade",(function(){return yo})),n.d(r,"nextDecade",(function(){return _o})),n.d(r,"prevMonthIsDisabled",(function(){return xo})),n.d(r,"nextMonthIsDisabled",(function(){return So})),n.d(r,"prevYearIsDisabled",(function(){return wo})),n.d(r,"nextYearIsDisabled",(function(){return Co})),n.d(r,"prevDecadeIsDisabled",(function(){return ko})),n.d(r,"nextDecadeIsDisabled",(function(){return Eo})),n.d(r,"headerToggleView",(function(){return Oo})),n.d(r,"optionGrid",(function(){return To})),n.d(r,"monthOption",(function(){return Po})),n.d(r,"yearOption",(function(){return Io})),n.d(r,"isHighlighted",(function(){return Do})),n.d(r,"monthOptionIsDisabled",(function(){return Ao})),n.d(r,"yearOptionIsDisabled",(function(){return Mo})),n.d(r,"goToday",(function(){return jo})),n.d(r,"goToTodayIsDisabled",(function(){return Ro})),n.d(r,"goTodayInlineMonth",(function(){return Fo})),n.d(r,"isPickingYears",(function(){return No})),n.d(r,"monthPicker",(function(){return Lo})),n.d(r,"yearPicker",(function(){return Bo})),n.d(r,"monthPickerVisible",(function(){return zo})),n.d(r,"toggleMonthView",(function(){return Uo})),n.d(r,"calendarsInline",(function(){return Ho})),n.d(r,"monthPickerOnly",(function(){return Vo})),n.d(r,"monthPickerAsOverlay",(function(){return Wo})),n.d(r,"holderWithButton",(function(){return Go})),n.d(r,"monthIsHighlighted",(function(){return Ko})),n.d(r,"monthIsCurrentMonth",(function(){return qo})),n.d(r,"yearIsHighlighted",(function(){return Yo})),n.d(r,"yearIsCurrentYear",(function(){return Xo})),n.d(r,"topLeftCornerDate",(function(){return Zo})),n.d(r,"topRightCornerDate",(function(){return Qo})),n.d(r,"bottomLeftCornerDate",(function(){return $o})),n.d(r,"bottomRightCornerDate",(function(){return Jo})),n.d(r,"weekSelection",(function(){return ea})),n.d(r,"monthSelection",(function(){return ta})),n.d(r,"topDate",(function(){return na})),n.d(r,"rightDate",(function(){return ra})),n.d(r,"bottomDate",(function(){return ia})),n.d(r,"leftdate",(function(){return oa}));var i={};n.r(i),n.d(i,"pickerText",(function(){return Hf})),n.d(i,"pickerInput",(function(){return Vf}));var o={};n.r(o),n.d(o,"callout",(function(){return ch}));var a={};n.r(a),n.d(a,"root",(function(){return fh})),n.d(a,"suggestionsItem",(function(){return hh})),n.d(a,"closeButton",(function(){return ph})),n.d(a,"suggestionsItemIsSuggested",(function(){return gh})),n.d(a,"itemButton",(function(){return mh})),n.d(a,"actionButton",(function(){return vh})),n.d(a,"buttonSelected",(function(){return bh})),n.d(a,"suggestionsTitle",(function(){return yh})),n.d(a,"suggestionsContainer",(function(){return _h})),n.d(a,"suggestionsNone",(function(){return xh})),n.d(a,"suggestionsSpinner",(function(){return Sh})),n.d(a,"suggestionsAvailable",(function(){return wh}));var s={};n.r(s),n.d(s,"suggestionsContainer",(function(){return Oh}));var u={};n.r(u),n.d(u,"root",(function(){return Dh})),n.d(u,"actionButton",(function(){return Ah})),n.d(u,"buttonSelected",(function(){return Mh})),n.d(u,"suggestionsTitle",(function(){return jh})),n.d(u,"suggestionsSpinner",(function(){return Rh})),n.d(u,"itemButton",(function(){return Fh})),n.d(u,"screenReaderOnly",(function(){return Nh}));var l={};n.r(l),n.d(l,"pickerText",(function(){return xg})),n.d(l,"inputFocused",(function(){return Sg})),n.d(l,"pickerInput",(function(){return wg})),n.d(l,"pickerItems",(function(){return Cg})),n.d(l,"screenReaderOnly",(function(){return kg}));var c={};n.r(c),n.d(c,"personaContainer",(function(){return Fm})),n.d(c,"hover",(function(){return Nm})),n.d(c,"actionButton",(function(){return Lm})),n.d(c,"personaContainerIsSelected",(function(){return Bm})),n.d(c,"validationError",(function(){return zm})),n.d(c,"itemContent",(function(){return Um})),n.d(c,"removeButton",(function(){return Hm})),n.d(c,"expandButton",(function(){return Vm})),n.d(c,"personaWrapper",(function(){return Wm})),n.d(c,"personaDetails",(function(){return Gm})),n.d(c,"itemContainer",(function(){return Km}));var d={};n.r(d),n.d(d,"editingInput",(function(){return $m})),n.d(d,"editingContainer",(function(){return Jm}));var f,h,p,g,m=n(2),v=n(0),b=n(21),y=n(154),_=Object(y.b)((function(e,t,n,r){return{root:Object(b.Y)("ms-ActivityItem",t,e.root,r&&e.isCompactRoot),pulsingBeacon:Object(b.Y)("ms-ActivityItem-pulsingBeacon",e.pulsingBeacon),personaContainer:Object(b.Y)("ms-ActivityItem-personaContainer",e.personaContainer,r&&e.isCompactPersonaContainer),activityPersona:Object(b.Y)("ms-ActivityItem-activityPersona",e.activityPersona,r&&e.isCompactPersona,!r&&n&&2===n.length&&e.doublePersona),activityTypeIcon:Object(b.Y)("ms-ActivityItem-activityTypeIcon",e.activityTypeIcon,r&&e.isCompactIcon),activityContent:Object(b.Y)("ms-ActivityItem-activityContent",e.activityContent,r&&e.isCompactContent),activityText:Object(b.Y)("ms-ActivityItem-activityText",e.activityText),commentText:Object(b.Y)("ms-ActivityItem-commentText",e.commentText),timeStamp:Object(b.Y)("ms-ActivityItem-timeStamp",e.timeStamp,r&&e.isCompactTimeStamp)}})),x=Object(y.b)((function(e,t,n,r,i,o){void 0===e&&(e=Object(b.S)());var a,s=b.o.continuousPulseAnimationSingle(r||e.palette.themePrimary,i||e.palette.themeTertiary,"4px","28px","4px"),u=Object(b.V)({from:{opacity:0},to:{opacity:1}}),l={animationName:s,animationIterationCount:"1",animationDuration:".8s",zIndex:1},c={animationName:Object(b.V)({from:{transform:"translateX(-10px)"},to:{transform:"translateX(0)"}}),animationIterationCount:"1",animationDuration:".5s"},d={animationName:u,animationIterationCount:"1",animationDuration:".5s"},f={root:[e.fonts.small,{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",boxSizing:"border-box",color:e.palette.neutralSecondary},o&&n&&d],pulsingBeacon:[{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"0px",height:"0px",borderRadius:"225px",borderStyle:"solid",opacity:0},o&&n&&l],isCompactRoot:{alignItems:"center"},personaContainer:{display:"flex",flexWrap:"wrap",minWidth:"32px",width:"32px",height:"32px"},isCompactPersonaContainer:{display:"inline-flex",flexWrap:"nowrap",flexBasis:"auto",height:"16px",width:"auto",minWidth:"0",paddingRight:"6px"},activityTypeIcon:{height:"32px",fontSize:"16px",lineHeight:"16px",marginTop:"3px"},isCompactIcon:{height:"16px",minWidth:"16px",fontSize:"13px",lineHeight:"13px",color:e.palette.themePrimary,marginTop:"1px",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",selectors:{".ms-Persona-imageArea":{margin:"-2px 0 0 -2px",border:"2px solid"+e.palette.white,borderRadius:"50%",selectors:(a={},a[b.j]={border:"none",margin:"0"},a)}}},activityPersona:{display:"block"},doublePersona:{selectors:{":first-child":{alignSelf:"flex-end"}}},isCompactPersona:{display:"inline-block",width:"8px",minWidth:"8px",overflow:"visible"},activityContent:[{padding:"0 8px"},o&&n&&c],activityText:{display:"inline"},isCompactContent:{flex:"1",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflowX:"hidden"},commentText:{color:e.palette.neutralPrimary},timeStamp:[e.fonts.tiny,{fontWeight:400,color:e.palette.neutralSecondary}],isCompactTimeStamp:{display:"inline-block",paddingLeft:"0.3em",fontSize:"1em"}};return Object(b.F)(f,t)})),S=n(156),w=n(157),C=n(186),k=n(160),E=n(158),O=n(187);!function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"}(f||(f={})),function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover",e[e.centerContain=5]="centerContain"}(h||(h={})),function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"}(p||(p={})),function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"}(g||(g={}));var T,P,I,D,A,M,j=Object(w.a)(),R=function(e){function t(t){var n=e.call(this,t)||this;return n._coverStyle=p.portrait,n._imageElement=v.createRef(),n._frameElement=v.createRef(),n._onImageLoaded=function(e){var t=n.props,r=t.src,i=t.onLoad;i&&i(e),n._computeCoverStyle(n.props),r&&n.setState({loadState:g.loaded})},n._onImageError=function(e){n.props.onError&&n.props.onError(e),n.setState({loadState:g.error})},n.state={loadState:g.notLoaded},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.src!==this.props.src?this.setState({loadState:g.notLoaded}):this.state.loadState===g.loaded&&this._computeCoverStyle(e)},t.prototype.componentDidUpdate=function(e,t){this._checkImageLoaded(),this.props.onLoadingStateChange&&t.loadState!==this.state.loadState&&this.props.onLoadingStateChange(this.state.loadState)},t.prototype.render=function(){var e=Object(E.j)(this.props,E.m,["width","height"]),t=this.props,n=t.src,r=t.alt,i=t.width,o=t.height,a=t.shouldFadeIn,s=t.shouldStartVisible,u=t.className,l=t.imageFit,c=t.role,d=t.maximizeFrame,f=t.styles,b=t.theme,y=this.state.loadState,_=void 0!==this.props.coverStyle?this.props.coverStyle:this._coverStyle,x=j(f,{theme:b,className:u,width:i,height:o,maximizeFrame:d,shouldFadeIn:a,shouldStartVisible:s,isLoaded:y===g.loaded||y===g.notLoaded&&this.props.shouldStartVisible,isLandscape:_===p.landscape,isCenter:l===h.center,isCenterContain:l===h.centerContain,isCenterCover:l===h.centerCover,isContain:l===h.contain,isCover:l===h.cover,isNone:l===h.none,isError:y===g.error,isNotImageFit:void 0===l});return v.createElement("div",{className:x.root,style:{width:i,height:o},ref:this._frameElement},v.createElement("img",m.a({},e,{onLoad:this._onImageLoaded,onError:this._onImageError,key:"fabricImage"+this.props.src||"",className:x.image,ref:this._imageElement,src:n,alt:r,role:c})))},t.prototype._checkImageLoaded=function(){var e=this.props.src;this.state.loadState===g.notLoaded&&(!!this._imageElement.current&&(e&&this._imageElement.current.naturalWidth>0&&this._imageElement.current.naturalHeight>0||this._imageElement.current.complete&&t._svgRegex.test(e))&&(this._computeCoverStyle(this.props),this.setState({loadState:g.loaded})))},t.prototype._computeCoverStyle=function(e){var t=e.imageFit,n=e.width,r=e.height;if((t===h.cover||t===h.contain||t===h.centerContain||t===h.centerCover)&&void 0===this.props.coverStyle&&this._imageElement.current&&this._frameElement.current){var i=void 0;i=n&&r&&t!==h.centerContain&&t!==h.centerCover?n/r:this._frameElement.current.clientWidth/this._frameElement.current.clientHeight;var o=this._imageElement.current.naturalWidth/this._imageElement.current.naturalHeight;this._coverStyle=o>i?p.landscape:p.portrait}},t.defaultProps={shouldFadeIn:!0},t._svgRegex=/\.svg$/i,t}(v.Component),F=n(30),N={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},L=Object(S.a)(R,(function(e){var t=e.className,n=e.width,r=e.height,i=e.maximizeFrame,o=e.isLoaded,a=e.shouldFadeIn,s=e.shouldStartVisible,u=e.isLandscape,l=e.isCenter,c=e.isContain,d=e.isCover,f=e.isCenterContain,h=e.isCenterCover,p=e.isNone,g=e.isError,m=e.isNotImageFit,v=e.theme,y=Object(b.N)(N,v),_={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},x=Object(F.a)(),S=void 0!==x&&void 0===x.navigator.msMaxTouchPoints,w=c&&u||d&&!u?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[y.root,v.fonts.medium,{overflow:"hidden"},i&&[y.rootMaximizeFrame,{height:"100%",width:"100%"}],o&&a&&!s&&b.a.fadeIn400,(l||c||d||f||h)&&{position:"relative"},t],image:[y.image,{display:"block",opacity:0},o&&["is-loaded",{opacity:1}],l&&[y.imageCenter,_],c&&[y.imageContain,S&&{width:"100%",height:"100%",objectFit:"contain"},!S&&w,_],d&&[y.imageCover,S&&{width:"100%",height:"100%",objectFit:"cover"},!S&&w,_],f&&[y.imageCenterContain,u&&{maxWidth:"100%"},!u&&{maxHeight:"100%"},_],h&&[y.imageCenterCover,u&&{maxHeight:"100%"},!u&&{maxWidth:"100%"},_],p&&[y.imageNone,{width:"auto",height:"auto"}],m&&[!!n&&!r&&{height:"auto",width:"100%"},!n&&!!r&&{height:"100%",width:"auto"},!!n&&!!r&&{height:"100%",width:"100%"}],u&&y.imageLandscape,!u&&y.imagePortrait,!o&&"is-notLoaded",a&&"is-fadeIn",g&&"is-error"]}}),void 0,{scope:"Image"},!0),B=Object(b.X)({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),z=n(159),U=Object(y.b)((function(e){var t=Object(b.O)(e)||{subset:{className:void 0},code:void 0};return{children:t.code,iconClassName:t.subset.className}})),H=function(e){var t=e.iconName,n=e.className,r=U(t),i=r.iconClassName,o=r.children,a=Object(E.j)(e,E.k),s=e["aria-label"]?{}:{role:"presentation","aria-hidden":!0};return v.createElement("i",m.a({"data-icon-name":t},s,a,{className:Object(z.a)("ms-Icon",B.root,i,!t&&B.placeholder,n)}),o)},V=Object(y.b)((function(e,t,n){return H({iconName:e,className:t,"aria-label":n})})),W=Object(w.a)({disableCaching:!0}),G=function(e){function t(t){var n=e.call(this,t)||this;return n.onImageLoadingStateChange=function(e){n.props.imageProps&&n.props.imageProps.onLoadingStateChange&&n.props.imageProps.onLoadingStateChange(e),e===g.error&&n.setState({imageLoadError:!0})},n.state={imageLoadError:!1},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,r=e.iconName,i=e.imageErrorAs,o=e.theme,a="string"===typeof r&&0===r.length,s=this.props.iconType===f.image||this.props.iconType===f.Image||!!this.props.imageProps,u=U(r),l=u.iconClassName,c=u.children,d=W(n,{theme:o,className:t,iconClassName:l,isImage:s,isPlaceholder:a}),h=s?"div":"i",p=Object(E.j)(this.props,E.k,["aria-label"]),g=this.state.imageLoadError,b=m.a({},this.props.imageProps,{onLoadingStateChange:this.onImageLoadingStateChange}),y=g&&i||L,_=this.props.ariaLabel||this.props["aria-label"],x=_?{"aria-label":_}:{role:"presentation","aria-hidden":!b.alt&&!b["aria-labelledby"]};return v.createElement(h,m.a({"data-icon-name":r},x,p,{className:d.root}),s?v.createElement(y,m.a({},b)):c)},t}(v.Component),K=Object(S.a)(G,(function(e){var t=e.className,n=e.iconClassName,r=e.isPlaceholder,i=e.isImage,o=e.styles;return{root:[r&&B.placeholder,B.root,i&&B.image,n,t,o&&o.root,o&&o.imageContainer]}}),void 0,{scope:"Icon"},!0);!function(e){e[e.tiny=0]="tiny",e[e.extraExtraSmall=1]="extraExtraSmall",e[e.extraSmall=2]="extraSmall",e[e.small=3]="small",e[e.regular=4]="regular",e[e.large=5]="large",e[e.extraLarge=6]="extraLarge",e[e.size28=7]="size28",e[e.size16=8]="size16",e[e.size10=9]="size10",e[e.size24=10]="size24",e[e.size32=11]="size32",e[e.size40=12]="size40",e[e.size48=13]="size48",e[e.size72=14]="size72",e[e.size100=15]="size100"}(T||(T={})),function(e){e[e.none=0]="none",e[e.offline=1]="offline",e[e.online=2]="online",e[e.away=3]="away",e[e.dnd=4]="dnd",e[e.blocked=5]="blocked",e[e.busy=6]="busy"}(P||(P={})),function(e){e[e.lightBlue=0]="lightBlue",e[e.blue=1]="blue",e[e.darkBlue=2]="darkBlue",e[e.teal=3]="teal",e[e.lightGreen=4]="lightGreen",e[e.green=5]="green",e[e.darkGreen=6]="darkGreen",e[e.lightPink=7]="lightPink",e[e.pink=8]="pink",e[e.magenta=9]="magenta",e[e.purple=10]="purple",e[e.black=11]="black",e[e.orange=12]="orange",e[e.red=13]="red",e[e.darkRed=14]="darkRed",e[e.transparent=15]="transparent",e[e.violet=16]="violet",e[e.lightRed=17]="lightRed",e[e.gold=18]="gold",e[e.burgundy=19]="burgundy",e[e.warmGray=20]="warmGray",e[e.coolGray=21]="coolGray",e[e.gray=22]="gray",e[e.cyan=23]="cyan",e[e.rust=24]="rust"}(I||(I={})),(A=D||(D={})).size10="20px",A.size16="16px",A.size24="24px",A.size28="28px",A.size32="32px",A.size40="40px",A.size48="48px",A.size72="72px",A.size100="100px",function(e){e.size6="6px",e.size8="8px",e.size12="12px",e.size20="20px",e.size28="28px",e.border="2px"}(M||(M={}));var q,Y=function(e){return{isSize10:e===T.size10||e===T.tiny,isSize16:e===T.size16,isSize24:e===T.size24||e===T.extraExtraSmall,isSize28:e===T.size28||e===T.extraSmall,isSize32:e===T.size32,isSize40:e===T.size40||e===T.small,isSize48:e===T.size48||e===T.regular,isSize72:e===T.size72||e===T.large,isSize100:e===T.size100||e===T.extraLarge}},X=((q={})[T.tiny]=10,q[T.extraExtraSmall]=24,q[T.extraSmall]=28,q[T.small]=40,q[T.regular]=48,q[T.large]=72,q[T.extraLarge]=100,q[T.size10]=10,q[T.size16]=16,q[T.size24]=24,q[T.size28]=28,q[T.size32]=32,q[T.size40]=40,q[T.size48]=48,q[T.size72]=72,q[T.size100]=100,q),Z=function(e){return{isAvailable:e===P.online,isAway:e===P.away,isBlocked:e===P.blocked,isBusy:e===P.busy,isDoNotDisturb:e===P.dnd,isOffline:e===P.offline}},Q=Object(w.a)(),$=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderIcon=function(e,t){return v.createElement(K,{className:e,iconName:J(n.props.presence,n.props.isOutOfOffice),style:t})},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.coinSize,n=e.isOutOfOffice,r=e.styles,i=e.presence,o=e.theme,a=e.presenceTitle,s=Y(this.props.size),u=!(s.isSize10||s.isSize16||s.isSize24||s.isSize28||s.isSize32)&&(!t||t>32),l=t?t/3<40?t/3+"px":"40px":"",c=t?{fontSize:t?t/6<20?t/6+"px":"20px":"",lineHeight:l}:void 0,d=t?{width:l,height:l}:void 0,f=Q(r,{theme:o,presence:i,size:this.props.size,isOutOfOffice:n});return i===P.none?null:v.createElement("div",{className:f.presence,style:d,title:a},u&&this._onRenderIcon(f.presenceIcon,c))},t}(O.a);function J(e,t){if(e){switch(P[e]){case"online":return"SkypeCheck";case"away":return t?"SkypeArrow":"SkypeClock";case"dnd":return"SkypeMinus";case"offline":return t?"SkypeArrow":""}return""}}var ee={presence:"ms-Persona-presence",presenceIcon:"ms-Persona-presenceIcon"};function te(e){return{color:e,borderColor:e}}function ne(e,t){return{selectors:{":before":{border:e+" solid "+t}}}}function re(e){return{height:e,width:e}}function ie(e){return{backgroundColor:e}}var oe=Object(S.a)($,(function(e){var t,n,r,i,o,a,s=e.theme,u=s.semanticColors,l=Object(b.N)(ee,s),c=Y(e.size),d=Z(e.presence),f=d.isOffline||e.isOutOfOffice&&(d.isAvailable||d.isBusy||d.isAway||d.isDoNotDisturb),h=c.isSize72||c.isSize100?"2px":"1px";return{presence:[l.presence,{position:"absolute",height:M.size12,width:M.size12,borderRadius:"50%",top:"auto",right:"-2px",bottom:"-2px",border:"2px solid "+u.bodyBackground,textAlign:"center",boxSizing:"content-box",backgroundClip:"content-box",MsHighContrastAdjust:"none",selectors:(t={},t[b.j]={borderColor:"Window",backgroundColor:"WindowText"},t)},c.isSize10&&{right:"auto",top:"7px",left:0,border:0,selectors:(n={},n[b.j]={top:"9px",border:"1px solid WindowText"},n)},(c.isSize10||c.isSize24||c.isSize28||c.isSize32)&&re(M.size8),(c.isSize40||c.isSize48)&&re(M.size12),c.isSize16&&{height:M.size6,width:M.size6,borderWidth:"1.5px"},c.isSize72&&re(M.size20),c.isSize100&&re(M.size28),d.isAvailable&&{backgroundColor:"#7FBA00",selectors:(r={},r[b.j]=ie("Highlight"),r)},d.isAway&&ie("#FCD116"),d.isBlocked&&[{selectors:(i={":after":c.isSize40||c.isSize48||c.isSize72||c.isSize100?{content:'""',width:"100%",height:h,backgroundColor:"#D93B3B",transform:"translateY(-50%) rotate(-45deg)",position:"absolute",top:"50%",left:0}:void 0},i[b.j]={selectors:{":after":{width:"calc(100% - 4px)",left:"2px",backgroundColor:"Window"}}},i)}],d.isBusy&&ie("#D93B3B"),d.isDoNotDisturb&&ie("#E81123"),d.isOffline&&ie("#93ABBD"),(f||d.isBlocked)&&[{backgroundColor:u.bodyBackground,selectors:(o={":before":{content:'""',width:"100%",height:"100%",position:"absolute",top:0,left:0,border:h+" solid #D93B3B",borderRadius:"50%",boxSizing:"border-box"}},o[b.j]={backgroundColor:"WindowText",selectors:{":before":{width:"calc(100% - 2px)",height:"calc(100% - 2px)",top:"1px",left:"1px",borderColor:"Window"}}},o)}],f&&d.isAvailable&&ne(h,"#7FBA00"),f&&d.isBusy&&ne(h,"#D93B3B"),f&&d.isAway&&ne(h,"#B4009E"),f&&d.isDoNotDisturb&&ne(h,"#E81123"),f&&d.isOffline&&ne(h,"#93ABBD"),f&&d.isOffline&&e.isOutOfOffice&&ne(h,"#B4009E")],presenceIcon:[l.presenceIcon,{color:u.bodyBackground,fontSize:"6px",lineHeight:M.size12,verticalAlign:"top",selectors:(a={},a[b.j]={color:"Window"},a)},c.isSize72&&{fontSize:b.h.small,lineHeight:M.size20},c.isSize100&&{fontSize:b.h.medium,lineHeight:M.size28},d.isAway&&{position:"relative",left:f?void 0:"1px"},f&&d.isAvailable&&te("#7FBA00"),f&&d.isBusy&&te("#D93B3B"),f&&d.isAway&&te("#B4009E"),f&&d.isDoNotDisturb&&te("#E81123"),f&&d.isOffline&&te("#93ABBD"),f&&d.isOffline&&e.isOutOfOffice&&te("#B4009E")]}}),void 0,{scope:"PersonaPresence"}),ae=[I.lightBlue,I.blue,I.darkBlue,I.teal,I.green,I.darkGreen,I.lightPink,I.pink,I.magenta,I.purple,I.orange,I.lightRed,I.darkRed,I.violet,I.gold,I.burgundy,I.warmGray,I.cyan,I.rust,I.coolGray],se=ae.length;function ue(e){var t=e.primaryText,n=e.text,r=e.initialsColor;return"string"===typeof r?r:function(e){switch(e){case I.lightBlue:return"#4F6BED";case I.blue:return"#0078D4";case I.darkBlue:return"#004E8C";case I.teal:return"#038387";case I.lightGreen:case I.green:return"#498205";case I.darkGreen:return"#0B6A0B";case I.lightPink:return"#C239B3";case I.pink:return"#E3008C";case I.magenta:return"#881798";case I.purple:return"#5C2E91";case I.orange:return"#CA5010";case I.red:return"#EE1111";case I.lightRed:return"#D13438";case I.darkRed:return"#A4262C";case I.transparent:return"transparent";case I.violet:return"#8764B8";case I.gold:return"#986F0B";case I.burgundy:return"#750B1C";case I.warmGray:return"#7A7574";case I.cyan:return"#005B70";case I.rust:return"#8E562E";case I.coolGray:return"#69797E";case I.black:return"#1D1D1D";case I.gray:return"#393939"}}(r=void 0!==r?r:function(e){var t=I.blue;if(!e)return t;for(var n=0,r=e.length-1;r>=0;r--){var i=e.charCodeAt(r),o=r%8;n^=(i<<o)+(i>>8-o)}return t=ae[n%se]}(n||t))}var le,ce=Object(w.a)(),de=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderCoin=function(e){var t=n.props,r=t.coinSize,i=t.styles,o=t.imageUrl,a=t.imageAlt,s=t.imageShouldFadeIn,u=t.imageShouldStartVisible,l=t.theme,c=t.showUnknownPersonaCoin;if(!o)return null;var d=n.props.size,f=ce(i,{theme:l,size:d,showUnknownPersonaCoin:c}),p=r||X[d];return v.createElement(L,{className:f.image,imageFit:h.cover,src:o,width:p,height:p,alt:a,shouldFadeIn:s,shouldStartVisible:u,onLoadingStateChange:n._onPhotoLoadingStateChange})},n._onRenderInitials=function(e){var t=e.imageInitials,r=e.allowPhoneInitials;if(e.showUnknownPersonaCoin)return v.createElement(K,{iconName:"Help"});var i=Object(C.a)();return""!==(t=t||Object(k.a)(n._getText(),i,r))?v.createElement("span",null,t):v.createElement(K,{iconName:"Contact"})},n._onPhotoLoadingStateChange=function(e){n.setState({isImageLoaded:e===g.loaded,isImageError:e===g.error}),n.props.onPhotoLoadingStateChange&&n.props.onPhotoLoadingStateChange(e)},n._warnDeprecations({primaryText:"text"}),n.state={isImageLoaded:!1,isImageError:!1},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.imageUrl!==this.props.imageUrl&&this.setState({isImageLoaded:!1,isImageError:!1})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.coinProps,r=e.showUnknownPersonaCoin,i=e.coinSize,o=e.styles,a=e.imageUrl,s=e.isOutOfOffice,u=e.onRenderCoin,l=void 0===u?this._onRenderCoin:u,c=e.onRenderInitials,d=void 0===c?this._onRenderInitials:c,f=e.presence,h=e.presenceTitle,p=e.showInitialsUntilImageLoads,g=e.theme,y=this.props.size,_=Object(E.j)(this.props,E.h),x=Object(E.j)(n||{},E.h),S=i?{width:i,height:i}:void 0,w=r,C={coinSize:i,isOutOfOffice:s,presence:f,presenceTitle:h,size:y,theme:g},k=ce(o,{theme:g,className:n&&n.className?n.className:t,size:y,coinSize:i,showUnknownPersonaCoin:r}),O=Boolean(!this.state.isImageLoaded&&(p&&a||!a||this.state.isImageError||w));return v.createElement("div",m.a({},_,{className:k.coin}),y!==T.size10&&y!==T.tiny?v.createElement("div",m.a({},x,{className:k.imageArea,style:S}),O&&v.createElement("div",{className:Object(b.Y)(k.initials,!r&&{backgroundColor:ue(this.props)}),style:S,"aria-hidden":"true"},d(this.props,this._onRenderInitials)),!w&&l(this.props,this._onRenderCoin),v.createElement(oe,m.a({},C))):this.props.presence?v.createElement(oe,m.a({},C)):v.createElement(K,{iconName:"Contact",className:k.size10WithoutPresenceIcon}),this.props.children)},t.prototype._getText=function(){return this.props.text||this.props.primaryText||""},t.defaultProps={size:T.size48,presence:P.none,imageAlt:""},t}(O.a),fe={coin:"ms-Persona-coin",imageArea:"ms-Persona-imageArea",image:"ms-Persona-image",initials:"ms-Persona-initials",size10:"ms-Persona--size10",size16:"ms-Persona--size16",size24:"ms-Persona--size24",size28:"ms-Persona--size28",size32:"ms-Persona--size32",size40:"ms-Persona--size40",size48:"ms-Persona--size48",size72:"ms-Persona--size72",size100:"ms-Persona--size100"},he=Object(S.a)(de,(function(e){var t,n=e.className,r=e.theme,i=e.coinSize,o=r.palette,a=Y(e.size),s=Object(b.N)(fe,r),u=i||e.size&&X[e.size]||48;return{coin:[s.coin,r.fonts.medium,a.isSize10&&s.size10,a.isSize16&&s.size16,a.isSize24&&s.size24,a.isSize28&&s.size28,a.isSize32&&s.size32,a.isSize40&&s.size40,a.isSize48&&s.size48,a.isSize72&&s.size72,a.isSize100&&s.size100,n],size10WithoutPresenceIcon:{fontSize:"10px",position:"absolute",top:"5px",right:"auto",left:0},imageArea:[s.imageArea,{position:"relative",textAlign:"center",flex:"0 0 auto",height:u,width:u},u<=10&&{overflow:"visible",background:"transparent",height:0,width:0}],image:[s.image,{marginRight:"10px",position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0,borderRadius:"50%",perspective:"1px"},u<=10&&{overflow:"visible",background:"transparent",height:0,width:0},u>10&&{height:u,width:u}],initials:[s.initials,{borderRadius:"50%",color:e.showUnknownPersonaCoin?"rgb(168, 0, 0)":o.white,fontSize:b.h.large,fontWeight:b.i.regular,lineHeight:48===u?46:u,height:u,selectors:(t={},t[b.j]={border:"1px solid WindowText",MsHighContrastAdjust:"none",color:"WindowText",boxSizing:"border-box",backgroundColor:"Window !important"},t)},e.showUnknownPersonaCoin&&{backgroundColor:"rgb(234, 234, 234)"},u<32&&{fontSize:b.h.xSmall},u>=32&&u<48&&{fontSize:b.h.medium},u>=72&&u<100&&{fontSize:b.h.xxLarge},u>=100&&{fontSize:b.h.superLarge}]}}),void 0,{scope:"PersonaCoin"}),pe=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderIcon=function(e){return e.activityPersonas?n._onRenderPersonaArray(e):n.props.activityIcon},n._onRenderActivityDescription=function(e){var t=n._getClassNames(e),r=e.activityDescription||e.activityDescriptionText;return r?v.createElement("span",{className:t.activityText},r):null},n._onRenderComments=function(e){var t=n._getClassNames(e),r=e.comments||e.commentText;return!e.isCompact&&r?v.createElement("div",{className:t.commentText},r):null},n._onRenderTimeStamp=function(e){var t=n._getClassNames(e);return!e.isCompact&&e.timeStamp?v.createElement("div",{className:t.timeStamp},e.timeStamp):null},n._onRenderPersonaArray=function(e){var t=n._getClassNames(e),r=null,i=e.activityPersonas;if(i[0].imageUrl||i[0].imageInitials){var o=[],a=i.length>1||e.isCompact,s=e.isCompact?3:4,u=void 0;e.isCompact&&(u={display:"inline-block",width:"10px",minWidth:"10px",overflow:"visible"}),i.filter((function(e,t){return t<s})).forEach((function(e,n){o.push(v.createElement(he,m.a({},e,{key:e.key?e.key:n,className:t.activityPersona,size:a?T.size16:T.size32,style:u})))})),r=v.createElement("div",{className:t.personaContainer},o)}return r},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.onRenderIcon,n=void 0===t?this._onRenderIcon:t,r=e.onRenderActivityDescription,i=void 0===r?this._onRenderActivityDescription:r,o=e.onRenderComments,a=void 0===o?this._onRenderComments:o,s=e.onRenderTimeStamp,u=void 0===s?this._onRenderTimeStamp:s,l=e.animateBeaconSignal,c=e.isCompact,d=this._getClassNames(this.props);return v.createElement("div",{className:d.root,style:this.props.style},(this.props.activityPersonas||this.props.activityIcon||this.props.onRenderIcon)&&v.createElement("div",{className:d.activityTypeIcon},l&&c&&v.createElement("div",{className:d.pulsingBeacon}),n(this.props)),v.createElement("div",{className:d.activityContent},i(this.props,this._onRenderActivityDescription),a(this.props,this._onRenderComments),u(this.props,this._onRenderTimeStamp)))},t.prototype._getClassNames=function(e){return _(x(void 0,e.styles,e.animateBeaconSignal,e.beaconColorOne,e.beaconColorTwo,e.isCompact),e.className,e.activityPersonas,e.isCompact)},t}(v.Component),ge=n(43),me=function(e){function t(t){var n=e.call(this,t)||this;return n._inputElement=v.createRef(),n._autoFillEnabled=!0,n._onCompositionStart=function(e){n._autoFillEnabled=!1},n._onCompositionEnd=function(e){var t=n._getCurrentInputValue();n._tryEnableAutofill(t,n.value,!1,!0);var r="ko"===e.nativeEvent.locale;n._async.setTimeout((function(){var e=r?n.value:n._getCurrentInputValue();n._updateValue(e)}),0)},n._onClick=function(){n._value&&""!==n._value&&n._autoFillEnabled&&(n._autoFillEnabled=!1)},n._onKeyDown=function(e){if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.nativeEvent.isComposing)switch(e.which){case ge.a.backspace:n._autoFillEnabled=!1;break;case ge.a.left:case ge.a.right:n._autoFillEnabled&&(n._value=n.state.displayValue,n._autoFillEnabled=!1);break;default:n._autoFillEnabled||-1!==n.props.enableAutofillOnKeyPress.indexOf(e.which)&&(n._autoFillEnabled=!0)}},n._onInputChanged=function(e){var t=n._getCurrentInputValue(e);n._tryEnableAutofill(t,n._value,e.nativeEvent.isComposing),n._updateValue(t)},n._onChanged=function(){},n._updateValue=function(e){(e||e!==n._value)&&(n._value=n.props.onInputChange?n.props.onInputChange(e):e,n.setState({displayValue:n._getDisplayValue(n._value,n.props.suggestedDisplayValue)},(function(){return n._notifyInputChange(n._value)})))},n._value=t.defaultVisibleValue||"",n.state={displayValue:t.defaultVisibleValue||""},n}return m.c(t,e),Object.defineProperty(t.prototype,"cursorLocation",{get:function(){if(this._inputElement.current){var e=this._inputElement.current;return"forward"!==e.selectionDirection?e.selectionEnd:e.selectionStart}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValueSelected",{get:function(){return Boolean(this.inputElement&&this.inputElement.selectionStart!==this.inputElement.selectionEnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._inputElement.current?this._inputElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._inputElement.current?this._inputElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._inputElement.current},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){var t;this.props.updateValueInWillReceiveProps&&(t=this.props.updateValueInWillReceiveProps()),"string"===typeof(t=this._getDisplayValue(t||this._value,e.suggestedDisplayValue))&&this.setState({displayValue:t})},t.prototype.componentDidUpdate=function(){var e=this._value,t=this.props,n=t.suggestedDisplayValue,r=t.shouldSelectFullInputValueInComponentDidUpdate,i=0;if(!t.preventValueSelection&&this._autoFillEnabled&&e&&n&&this._doesTextStartWith(n,e)){var o=!1;if(r&&(o=r()),o&&this._inputElement.current)this._inputElement.current.setSelectionRange(0,n.length,"backward");else{for(;i<e.length&&e[i].toLocaleLowerCase()===n[i].toLocaleLowerCase();)i++;i>0&&this._inputElement.current&&this._inputElement.current.setSelectionRange(i,n.length,"backward")}}},t.prototype.render=function(){var e=this.state.displayValue,t=Object(E.j)(this.props,E.o);return v.createElement("input",m.a({},t,{ref:this._inputElement,value:e,autoCapitalize:"off",autoComplete:"off",onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onChange:this._onChanged,onInput:this._onInputChanged,onKeyDown:this._onKeyDown,onClick:this.props.onClick?this.props.onClick:this._onClick,"data-lpignore":!0}))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.clear=function(){this._autoFillEnabled=!0,this._updateValue(""),this._inputElement.current&&this._inputElement.current.setSelectionRange(0,0)},t.prototype._getCurrentInputValue=function(e){return e&&e.target&&e.target.value?e.target.value:this.inputElement&&this.inputElement.value?this.inputElement.value:""},t.prototype._tryEnableAutofill=function(e,t,n,r){!n&&e&&this._inputElement.current&&this._inputElement.current.selectionStart===e.length&&!this._autoFillEnabled&&(e.length>t.length||r)&&(this._autoFillEnabled=!0)},t.prototype._notifyInputChange=function(e){this.props.onInputValueChange&&this.props.onInputValueChange(e)},t.prototype._getDisplayValue=function(e,t){var n=e;return t&&e&&this._doesTextStartWith(t,n)&&this._autoFillEnabled&&(n=t),n},t.prototype._doesTextStartWith=function(e,t){return!(!e||!t)&&0===e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())},t.defaultProps={enableAutofillOnKeyPress:[ge.a.down,ge.a.up]},t}(O.a),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(me),be=n(161),ye=Object(w.a)(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.styles;return this._classNames=ye(n),v.createElement("div",m.a({role:"status"},Object(E.j)(this.props,E.h)),v.createElement(be.a,null,v.createElement("div",{className:this._classNames.screenReaderText},t)))},t.defaultProps={"aria-live":"assertive"},t}(v.Component),xe=Object(S.a)(_e,(function(){return{screenReaderText:b.U}})),Se={none:0,all:1,inputOnly:2};!function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal",e[e.bidirectional=2]="bidirectional"}(le||(le={}));var we,Ce=n(164),ke=n(72),Ee=n(171),Oe=n(84),Te=n(166),Pe=n(54),Ie=n(118),De=n(172),Ae=n(173),Me=n(243);var je,Re={},Fe=new Set,Ne=["text","number","password","email","tel","url","search"],Le=function(e){function t(t){var n=e.call(this,t)||this;return n._disposables=[],n._root=v.createRef(),n._onFocus=function(e){if(!n._portalContainsElement(e.target)){var t,r=n.props,i=r.onActiveElementChanged,o=r.doNotAllowFocusEventToPropagate,a=r.onFocusNotification,s=n._isImmediateDescendantOfZone(e.target);if(a&&a(),s)t=e.target;else for(var u=e.target;u&&u!==n._root.current;){if(Object(Ce.n)(u)&&n._isImmediateDescendantOfZone(u)){t=u;break}u=Object(ke.a)(u,!1)}var l=!n._activeElement;t&&t!==n._activeElement&&((s||l)&&n._setFocusAlignment(t,l),n._activeElement=t,l&&n._updateTabIndexes()),i&&i(n._activeElement,e),o&&e.stopPropagation()}},n._onBlur=function(){n._setParkedFocus(!1)},n._onKeyDownCapture=function(e){e.which===ge.a.tab&&Fe.forEach((function(e){return e._updateTabIndexes()}))},n._onMouseDown=function(e){if(!n._portalContainsElement(e.target)&&!n.props.disabled){for(var t=e.target,r=[];t&&t!==n._root.current;)r.push(t),t=Object(ke.a)(t,!1);for(;r.length&&((t=r.pop())&&Object(Ce.n)(t)&&n._setActiveElement(t,!0),!Object(Ce.m)(t)););}},n._onKeyDown=function(e){if(!n._portalContainsElement(e.target)){var t=n.props,r=t.direction,i=t.disabled,o=t.isInnerZoneKeystroke;if(!i&&(n.props.onKeyDown&&n.props.onKeyDown(e),!e.isDefaultPrevented()&&(document.activeElement!==n._root.current||!n._isInnerZone))){if(o&&o(e)&&n._isImmediateDescendantOfZone(e.target)){var a=n._getFirstInnerZone();if(a){if(!a.focus(!0))return}else{if(!Object(Ce.l)(e.target))return;if(!n.focusElement(Object(Ce.j)(e.target,e.target.firstChild,!0)))return}}else{if(e.altKey)return;switch(e.which){case ge.a.space:if(n._tryInvokeClickForFocusable(e.target))break;return;case ge.a.left:if(r!==le.vertical&&n._moveFocusLeft())break;return;case ge.a.right:if(r!==le.vertical&&n._moveFocusRight())break;return;case ge.a.up:if(r!==le.horizontal&&n._moveFocusUp())break;return;case ge.a.down:if(r!==le.horizontal&&n._moveFocusDown())break;return;case ge.a.tab:if(n.props.allowTabKey||n.props.handleTabKey===Se.all||n.props.handleTabKey===Se.inputOnly&&n._isElementInput(e.target)){var s=!1;if(n._processingTabKey=!0,r!==le.vertical&&n._shouldWrapFocus(n._activeElement,"data-no-horizontal-wrap")){if(r===le.horizontal||r===le.bidirectional){s=(Object(C.a)()?!e.shiftKey:e.shiftKey)?n._moveFocusLeft():n._moveFocusRight()}}else s=e.shiftKey?n._moveFocusUp():n._moveFocusDown();if(n._processingTabKey=!1,s)break}return;case ge.a.home:if(n._isElementInput(e.target)&&!n._shouldInputLoseFocus(e.target,!1))return!1;var u=n._root.current&&n._root.current.firstChild;if(n._root.current&&u&&n.focusElement(Object(Ce.j)(n._root.current,u,!0)))break;return;case ge.a.end:if(n._isElementInput(e.target)&&!n._shouldInputLoseFocus(e.target,!0))return!1;var l=n._root.current&&n._root.current.lastChild;if(n._root.current&&n.focusElement(Object(Ce.k)(n._root.current,l,!0,!0,!0)))break;return;case ge.a.enter:if(n._tryInvokeClickForFocusable(e.target))break;return;default:return}}e.preventDefault(),e.stopPropagation()}}},Object(Ee.a)(n),n._id=Object(Oe.c)("FocusZone"),n._focusAlignment={x:0,y:0},n._processingTabKey=!1,n}return m.c(t,e),t.getOuterZones=function(){return Fe.size},t.prototype.componentDidMount=function(){var e=this._root.current;if(Re[this._id]=this,e){for(var t=e.ownerDocument.defaultView,n=Object(ke.a)(e,!1);n&&n!==document.body&&1===n.nodeType;){if(Object(Ce.m)(n)){this._isInnerZone=!0;break}n=Object(ke.a)(n,!1)}this._isInnerZone||Fe.add(this),t&&1===Fe.size&&this._disposables.push(Object(Te.a)(t,"keydown",this._onKeyDownCapture,!0)),this._disposables.push(Object(Te.a)(e,"blur",this._onBlur,!0)),this._updateTabIndexes(),this.props.defaultActiveElement&&(this._activeElement=Object(Pe.a)().querySelector(this.props.defaultActiveElement),this.focus())}},t.prototype.componentDidUpdate=function(){var e=this._root.current,t=Object(Pe.a)(e);if(t&&this._lastIndexPath&&(t.activeElement===t.body||t.activeElement===e)){var n=Object(Ce.g)(e,this._lastIndexPath);n?(this._setActiveElement(n,!0),n.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},t.prototype.componentWillUnmount=function(){delete Re[this._id],this._isInnerZone||Fe.delete(this),this._disposables.forEach((function(e){return e()}))},t.prototype.render=function(){var e=this.props,t=e.rootProps,n=e.ariaDescribedBy,r=e.ariaLabelledBy,i=e.className,o=Object(E.j)(this.props,E.k),a=this.props.as||this.props.elementType||"div";return this._evaluateFocusBeforeRender(),v.createElement(a,m.a({role:"presentation","aria-labelledby":r,"aria-describedby":n},o,t,{className:Object(z.a)((we||(we=Object(Me.a)({selectors:{":focus":{outline:"none"}}},"ms-FocusZone")),we),i),ref:this._root,"data-focuszone-id":this._id,onKeyDown:this._onKeyDown,onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},t.prototype.focus=function(e){if(void 0===e&&(e=!1),this._root.current){if(!e&&"true"===this._root.current.getAttribute("data-is-focusable")&&this._isInnerZone){var t=this._getOwnerZone(this._root.current);if(t!==this._root.current){var n=Re[t.getAttribute("data-focuszone-id")];return!!n&&n.focusElement(this._root.current)}return!1}if(!e&&this._activeElement&&Object(Ie.a)(this._root.current,this._activeElement)&&Object(Ce.n)(this._activeElement))return this._activeElement.focus(),!0;var r=this._root.current.firstChild;return this.focusElement(Object(Ce.j)(this._root.current,r,!0))}return!1},t.prototype.focusElement=function(e){var t=this.props.onBeforeFocus;return!(t&&!t(e))&&(!!e&&(this._setActiveElement(e),this._activeElement&&this._activeElement.focus(),!0))},t.prototype.setFocusAlignment=function(e){this._focusAlignment=e},t.prototype._evaluateFocusBeforeRender=function(){var e=this._root.current,t=Object(Pe.a)(e);if(t){var n=t.activeElement;if(n!==e){var r=Object(Ie.a)(e,n,!1);this._lastIndexPath=r?Object(Ce.d)(e,t.activeElement):void 0}}},t.prototype._setParkedFocus=function(e){var t=this._root.current;t&&this._isParked!==e&&(this._isParked=e,e?(this.props.allowFocusRoot||(this._parkedTabIndex=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")),t.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(t.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):t.removeAttribute("tabindex")))},t.prototype._setActiveElement=function(e,t){var n=this._activeElement;this._activeElement=e,n&&(Object(Ce.m)(n)&&this._updateTabIndexes(n),n.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!t||this._setFocusAlignment(e,!0,!0),this._activeElement.tabIndex=0)},t.prototype._tryInvokeClickForFocusable=function(e){if(e===this._root.current)return!1;do{if("BUTTON"===e.tagName||"A"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName)return!1;if(this._isImmediateDescendantOfZone(e)&&"true"===e.getAttribute("data-is-focusable")&&"true"!==e.getAttribute("data-disable-click-on-enter"))return Object(De.a)(e),!0;e=Object(ke.a)(e,!1)}while(e!==this._root.current);return!1},t.prototype._getFirstInnerZone=function(e){if(!(e=e||this._activeElement||this._root.current))return null;if(Object(Ce.m)(e))return Re[e.getAttribute("data-focuszone-id")];for(var t=e.firstElementChild;t;){if(Object(Ce.m)(t))return Re[t.getAttribute("data-focuszone-id")];var n=this._getFirstInnerZone(t);if(n)return n;t=t.nextElementSibling}return null},t.prototype._moveFocus=function(e,t,n,r){void 0===r&&(r=!0);var i=this._activeElement,o=-1,a=void 0,s=!1,u=this.props.direction===le.bidirectional;if(!i||!this._root.current)return!1;if(this._isElementInput(i)&&!this._shouldInputLoseFocus(i,e))return!1;var l=u?i.getBoundingClientRect():null;do{if(i=e?Object(Ce.j)(this._root.current,i):Object(Ce.k)(this._root.current,i),!u){a=i;break}if(i){var c=t(l,i.getBoundingClientRect());if(-1===c&&-1===o){a=i;break}if(c>-1&&(-1===o||c<o)&&(o=c,a=i),o>=0&&c<0)break}}while(i);if(a&&a!==this._activeElement)s=!0,this.focusElement(a);else if(this.props.isCircularNavigation&&r)return e?this.focusElement(Object(Ce.j)(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(Object(Ce.k)(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return s},t.prototype._moveFocusDown=function(){var e=this,t=-1,n=this._focusAlignment.x;return!!this._moveFocus(!0,(function(r,i){var o=-1,a=Math.floor(i.top),s=Math.floor(r.bottom);return a<s?e._shouldWrapFocus(e._activeElement,"data-no-vertical-wrap")?999999999:-999999999:((-1===t&&a>=s||a===t)&&(t=a,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusUp=function(){var e=this,t=-1,n=this._focusAlignment.x;return!!this._moveFocus(!1,(function(r,i){var o=-1,a=Math.floor(i.bottom),s=Math.floor(i.top),u=Math.floor(r.top);return a>u?e._shouldWrapFocus(e._activeElement,"data-no-vertical-wrap")?999999999:-999999999:((-1===t&&a<=u||s===t)&&(t=s,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusLeft=function(){var e=this,t=this._shouldWrapFocus(this._activeElement,"data-no-horizontal-wrap");return!!this._moveFocus(Object(C.a)(),(function(n,r){var i=-1;return(Object(C.a)()?r.top.toFixed(3)<n.bottom.toFixed(3):r.bottom.toFixed(3)>n.top.toFixed(3))&&r.right<=n.right&&e.props.direction!==le.vertical?i=n.right-r.right:t||(i=-999999999),i}),void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusRight=function(){var e=this,t=this._shouldWrapFocus(this._activeElement,"data-no-horizontal-wrap");return!!this._moveFocus(!Object(C.a)(),(function(n,r){var i=-1;return(Object(C.a)()?r.bottom.toFixed(3)>n.top.toFixed(3):r.top.toFixed(3)<n.bottom.toFixed(3))&&r.left>=n.left&&e.props.direction!==le.vertical?i=r.left-n.left:t||(i=-999999999),i}),void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._setFocusAlignment=function(e,t,n){if(this.props.direction===le.bidirectional&&(!this._focusAlignment||t||n)){var r=e.getBoundingClientRect(),i=r.left+r.width/2,o=r.top+r.height/2;this._focusAlignment||(this._focusAlignment={x:i,y:o}),t&&(this._focusAlignment.x=i),n&&(this._focusAlignment.y=o)}},t.prototype._isImmediateDescendantOfZone=function(e){return this._getOwnerZone(e)===this._root.current},t.prototype._getOwnerZone=function(e){for(var t=Object(ke.a)(e,!1);t&&t!==this._root.current&&t!==document.body;){if(Object(Ce.m)(t))return t;t=Object(ke.a)(t,!1)}return t},t.prototype._updateTabIndexes=function(e){!e&&this._root.current&&(this._defaultFocusElement=null,e=this._root.current,this._activeElement&&!Object(Ie.a)(e,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Object(Ce.n)(this._activeElement)&&(this._activeElement=null);for(var t=e&&e.children,n=0;t&&n<t.length;n++){var r=t[n];Object(Ce.m)(r)?"true"===r.getAttribute("data-is-focusable")&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","0"))):(r.getAttribute&&"false"===r.getAttribute("data-is-focusable")&&r.setAttribute("tabindex","-1"),Object(Ce.n)(r)?this.props.disabled?r.setAttribute("tabindex","-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute("tabindex")&&r.setAttribute("tabindex","0")):"svg"===r.tagName&&"false"!==r.getAttribute("focusable")&&r.setAttribute("focusable","false")),this._updateTabIndexes(r)}},t.prototype._isElementInput=function(e){return!(!e||!e.tagName||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase())},t.prototype._shouldInputLoseFocus=function(e,t){if(!this._processingTabKey&&e&&e.type&&Ne.indexOf(e.type.toLowerCase())>-1){var n=e.selectionStart,r=n!==e.selectionEnd,i=e.value;if(r||n>0&&!t||n!==i.length&&t||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(e)))return!1}return!0},t.prototype._shouldWrapFocus=function(e,t){return!this.props.checkForNoWrap||Object(Ce.p)(e,t)},t.prototype._portalContainsElement=function(e){return e&&!!this._root.current&&Object(Ae.a)(e,this._root.current)},t.defaultProps={isCircularNavigation:!1,direction:le.bidirectional},t}(v.Component),Be=n(175),ze=n(71),Ue=n(174);!function(e){e.KEYTIP_ADDED="keytipAdded",e.KEYTIP_REMOVED="keytipRemoved",e.KEYTIP_UPDATED="keytipUpdated",e.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",e.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",e.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",e.ENTER_KEYTIP_MODE="enterKeytipMode",e.EXIT_KEYTIP_MODE="exitKeytipMode"}(je||(je={}));var He=function(){function e(){this.keytips=[],this.persistedKeytips=[],this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0}return e.getInstance=function(){return this._instance},e.prototype.register=function(e,t){void 0===t&&(t=!1);var n=e;t||(n=this.addParentOverflow(e));var r=this._getUniqueKtp(n);t?this.persistedKeytips.push(r):this.keytips.push(r);var i=t?je.PERSISTED_KEYTIP_ADDED:je.KEYTIP_ADDED;return ze.a.raise(this,i,{keytip:n,uniqueID:r.uniqueID}),r.uniqueID},e.prototype.update=function(e,t){var n=this.addParentOverflow(e),r=this._getUniqueKtp(n,t),i=Object(Ue.e)(this.keytips,(function(e){return e.uniqueID===t}));i>=0&&(r.keytip.visible=this.keytips[i].keytip.visible,this.keytips=Object(Ue.h)(this.keytips,r,i),ze.a.raise(this,je.KEYTIP_UPDATED,{keytip:r.keytip,uniqueID:r.uniqueID}))},e.prototype.unregister=function(e,t,n){void 0===n&&(n=!1),n?this.persistedKeytips=this.persistedKeytips.filter((function(e){return e.uniqueID!==t})):this.keytips=this.keytips.filter((function(e){return e.uniqueID!==t}));var r=n?je.PERSISTED_KEYTIP_REMOVED:je.KEYTIP_REMOVED;ze.a.raise(this,r,{keytip:e,uniqueID:t})},e.prototype.enterKeytipMode=function(){ze.a.raise(this,je.ENTER_KEYTIP_MODE)},e.prototype.exitKeytipMode=function(){ze.a.raise(this,je.EXIT_KEYTIP_MODE)},e.prototype.getKeytips=function(){return this.keytips.map((function(e){return e.keytip}))},e.prototype.addParentOverflow=function(e){var t=e.keySequences.slice();if(t.pop(),0!==t.length){var n=Object(Ue.d)(this.getKeytips(),(function(e){return Object(Ue.b)(t,e.keySequences)}));if(n&&n.overflowSetSequence)return m.a({},e,{overflowSetSequence:n.overflowSetSequence})}return e},e.prototype.menuExecute=function(e,t){ze.a.raise(this,je.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},e.prototype._getUniqueKtp=function(e,t){return void 0===t&&(t=Object(Oe.c)()),{keytip:m.a({},e),uniqueID:t}},e._instance=new e,e}();function Ve(e){return e.reduce((function(e,t){return e+"-"+t.split("").join("-")}),"ktp")}function We(e,t){var n=t.length,r=t.slice().pop(),i=e.slice();return Object(Ue.a)(i,n-1,r)}function Ge(e){return'[data-ktp-target="'+Ve(e)+'"]'}var Ke,qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keytipManager=He.getInstance(),t}return m.c(t,e),t.prototype.componentDidMount=function(){this.props.keytipProps&&(this._uniqueId=this._keytipManager.register(this._getKtpProps()))},t.prototype.componentWillUnmount=function(){this.props.keytipProps&&this._keytipManager.unregister(this._getKtpProps(),this._uniqueId)},t.prototype.componentDidUpdate=function(){this.props.keytipProps&&this._keytipManager.update(this._getKtpProps(),this._uniqueId)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.keytipProps,r=e.ariaDescribedBy,i={};return n&&(i=this._getKtpAttrs(n,r)),t(i)},t.prototype._getKtpProps=function(){return m.a({disabled:this.props.disabled},this.props.keytipProps)},t.prototype._getKtpAttrs=function(e,t){if(e){var n=this._keytipManager.addParentOverflow(e),r=function(e){return e.length?" ktp-layer-id "+Ve(e):" ktp-layer-id"}(n.keySequences),i=n.keySequences.slice();n.overflowSetSequence&&(i=We(i,n.overflowSetSequence));var o=Ve(i);return{"aria-describedby":Object(Be.a)(t,r),"data-ktp-target":o,"data-ktp-execute-target":o}}},t}(v.Component),Ye=Object(w.a)(),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._link=v.createRef(),t._onClick=function(e){var n=t.props,r=n.onClick;n.disabled?e.preventDefault():r&&r(e)},t}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,r=t.children,i=t.className,o=t.href,a=t.theme,s=t.styles,u=t.keytipProps,l=Ye(s,{className:i,isButton:!o,isDisabled:n,theme:a}),c=this._getRootType(this.props);return v.createElement(qe,{keytipProps:u,ariaDescribedBy:this.props["aria-describedby"],disabled:n},(function(t){return v.createElement(c,m.a({},t,e._adjustPropsForRootType(c,e.props),{className:l.root,onClick:e._onClick,ref:e._link,"aria-disabled":n}),r)}))},t.prototype.focus=function(){var e=this._link.current;e&&e.focus&&e.focus()},t.prototype._adjustPropsForRootType=function(e,t){t.children,t.as;var n=t.disabled,r=t.target,i=t.href,o=(t.theme,t.getStyles,t.styles,t.componentRef,m.d(t,["children","as","disabled","target","href","theme","getStyles","styles","componentRef"]));return"string"===typeof e?"a"===e?m.a({target:r,href:n?void 0:i},o):"button"===e?m.a({type:"button",disabled:n},o):m.a({},o,{disabled:n}):m.a({target:r,href:i,disabled:n},o)},t.prototype._getRootType=function(e){return e.as?e.as:e.href?"a":"button"},t}(O.a),Ze={root:"ms-Link"},Qe=Object(S.a)(Xe,(function(e){var t,n,r,i,o=e.className,a=e.isButton,s=e.isDisabled,u=e.theme,l=u.semanticColors,c=Object(b.N)(Ze,u);return{root:[c.root,u.fonts.medium,{color:l.link,outline:"none",fontSize:"inherit",fontWeight:"inherit",selectors:(t={".ms-Fabric--isFocusVisible &:focus":{boxShadow:"0 0 0 1px "+u.palette.neutralSecondary+" inset",selectors:(n={},n[b.j]={outline:"1px solid WindowText"},n)}},t[b.j]={borderBottom:"none"},t)},a&&{background:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"inline",margin:0,overflow:"inherit",padding:0,textAlign:"left",textOverflow:"inherit",userSelect:"text",borderBottom:"1px solid transparent",selectors:(r={},r[b.k]={color:"#FFFF00"},r[b.l]={color:"#00009F"},r)},!a&&{textDecoration:"none"},s&&["is-disabled",{color:l.disabledText,cursor:"default"},{selectors:{"&:link, &:visited":{pointerEvents:"none"}}}],!s&&{selectors:{"&:active, &:hover, &:active:hover":{color:l.linkHovered,selectors:(i={},i[b.j]={textDecoration:"underline"},i)},"&:focus":{color:l.link}}},c.root,o]}}),void 0,{scope:"Link"}),$e={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13};!function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.Section=3]="Section"}(Ke||(Ke={}));var Je=n(162),et=n(163);function tt(e){return e.canCheck?!(!e.isChecked&&!e.checked):"boolean"===typeof e.isChecked?e.isChecked:"boolean"===typeof e.checked?e.checked:null}function nt(e){return!(!e.subMenuProps&&!e.items)}function rt(e){return!(!e.isDisabled&&!e.disabled)}var it,ot=n(165),at=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n}return m.c(t,e),t.prototype._updateComposedComponentRef=function(e){this._composedComponentInstance=e,e?this._hoisted=Object(ot.a)(this,e):this._hoisted&&Object(ot.b)(this,this._hoisted)},t}(O.a),st=n(121);!function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.xLarge=3]="xLarge",e[e.xxLarge=4]="xxLarge",e[e.xxxLarge=5]="xxxLarge"}(it||(it={}));var ut,lt=[479,639,1023,1365,1919,99999999];function ct(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n.state={responsiveMode:n._getResponsiveMode()},n}return m.c(n,t),n.prototype.componentDidMount=function(){var e=this;this._events.on(window,"resize",(function(){var t=e._getResponsiveMode();t!==e.state.responsiveMode&&e.setState({responsiveMode:t})}))},n.prototype.componentWillUnmount=function(){this._events.dispose()},n.prototype.render=function(){var t=this.state.responsiveMode;return v.createElement(e,m.a({ref:this._updateComposedComponentRef,responsiveMode:t},this.props))},n.prototype._getResponsiveMode=function(){var e=it.small,t=Object(F.a)();if("undefined"!==typeof t)try{for(;t.innerWidth>lt[e];)e++}catch(n){e=it.large}else{if(void 0===ut)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");e=ut}return e},n}(at);return Object(st.a)(e,t)}var dt,ft,ht=n(114);!function(e){e[e.top=1]="top",e[e.bottom=-1]="bottom",e[e.left=2]="left",e[e.right=-2]="right"}(dt||(dt={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.start=2]="start",e[e.end=3]="end"}(ft||(ft={}));var pt=n(167),gt=n(122),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(pt.a);function vt(e,t,n){return{targetEdge:e,alignmentEdge:t,isAuto:n}}var bt=((Kt={})[$e.topLeftEdge]=vt(dt.top,dt.left),Kt[$e.topCenter]=vt(dt.top),Kt[$e.topRightEdge]=vt(dt.top,dt.right),Kt[$e.topAutoEdge]=vt(dt.top,void 0,!0),Kt[$e.bottomLeftEdge]=vt(dt.bottom,dt.left),Kt[$e.bottomCenter]=vt(dt.bottom),Kt[$e.bottomRightEdge]=vt(dt.bottom,dt.right),Kt[$e.bottomAutoEdge]=vt(dt.bottom,void 0,!0),Kt[$e.leftTopEdge]=vt(dt.left,dt.top),Kt[$e.leftCenter]=vt(dt.left),Kt[$e.leftBottomEdge]=vt(dt.left,dt.bottom),Kt[$e.rightTopEdge]=vt(dt.right,dt.top),Kt[$e.rightCenter]=vt(dt.right),Kt[$e.rightBottomEdge]=vt(dt.right,dt.bottom),Kt);function yt(e,t){return!(e.top<t.top)&&(!(e.bottom>t.bottom)&&(!(e.left<t.left)&&!(e.right>t.right)))}function _t(e,t){var n=new Array;return e.top<t.top&&n.push(dt.top),e.bottom>t.bottom&&n.push(dt.bottom),e.left<t.left&&n.push(dt.left),e.right>t.right&&n.push(dt.right),n}function xt(e,t){return e[dt[t]]}function St(e,t,n){return e[dt[t]]=n,e}function wt(e,t){var n=Mt(t);return(xt(e,n.positiveEdge)+xt(e,n.negativeEdge))/2}function Ct(e,t){return e>0?t:-1*t}function kt(e,t){return Ct(e,xt(t,e))}function Et(e,t,n){return Ct(n,xt(e,n)-xt(t,n))}function Ot(e,t,n){var r=xt(e,t)-n;return e=St(e,t,n),e=St(e,-1*t,xt(e,-1*t)-r)}function Tt(e,t,n,r){return void 0===r&&(r=0),Ot(e,n,xt(t,n)+Ct(n,r))}function Pt(e,t,n){return kt(n,e)>kt(n,t)}function It(e,t,n,r,i,o,a){void 0===i&&(i=0);var s=r.alignmentEdge,u=r.alignTargetEdge,l={elementRectangle:e,targetEdge:r.targetEdge,alignmentEdge:s};o||a||(l=function(e,t,n,r,i){void 0===i&&(i=0);for(var o=[dt.left,dt.right,dt.bottom,dt.top],a=e,s=r.targetEdge,u=r.alignmentEdge,l=0;l<4;l++){if(Pt(a,n,s))return{elementRectangle:a,targetEdge:s,alignmentEdge:u};o.splice(o.indexOf(s),1),o.indexOf(-1*s)>-1?s*=-1:(u=s,s=o.slice(-1)[0]),a=At(e,t,{targetEdge:s,alignmentEdge:u},i)}return{elementRectangle:e,targetEdge:r.targetEdge,alignmentEdge:u}}(e,t,n,r,i));var c=_t(e,n);if(u){if(l.alignmentEdge&&c.indexOf(-1*l.alignmentEdge)>-1){var d=function(e,t,n,r){var i=e.alignmentEdge,o=e.targetEdge,a=-1*i;return{elementRectangle:At(e.elementRectangle,t,{targetEdge:o,alignmentEdge:a},n,r),targetEdge:o,alignmentEdge:a}}(l,t,i,a);if(yt(d.elementRectangle,n))return d}}else for(var f=0,h=c;f<h.length;f++){var p=h[f];l.elementRectangle=Tt(l.elementRectangle,n,p)}return l}function Dt(e,t,n){var r=Mt(t).positiveEdge;return Ot(e,r,n-(wt(e,t)-xt(e,r)))}function At(e,t,n,r,i){var o;void 0===r&&(r=0);var a=n.alignmentEdge,s=n.targetEdge,u=i?s:-1*s;(o=i?Tt(e,t,s,r):function(e,t,n,r){void 0===r&&(r=0);var i=Ct(-1*n,r);return Ot(e,-1*n,xt(t,n)+i)}(e,t,s,r),a)?o=Tt(o,t,a):o=Dt(o,u,wt(t,s));return o}function Mt(e){return e===dt.top||e===dt.bottom?{positiveEdge:dt.left,negativeEdge:dt.right}:{positiveEdge:dt.top,negativeEdge:dt.bottom}}function jt(e,t,n,r){return!r&&n&&Math.abs(Et(e,n,t))>Math.abs(Et(e,n,-1*t))?-1*t:t}function Rt(e){return Math.sqrt(e*e*2)}function Ft(e,t,n){if(void 0===e&&(e=$e.bottomAutoEdge),n)return{alignmentEdge:n.alignmentEdge,isAuto:n.isAuto,targetEdge:n.targetEdge};var r=m.a({},bt[e]);return Object(C.a)()?(r.alignmentEdge&&r.alignmentEdge%2===0&&(r.alignmentEdge=-1*r.alignmentEdge),void 0!==t?bt[t]:r):r}function Nt(e,t,n){var r=wt(t,e),i=wt(n,e),o=Mt(e),a=o.positiveEdge,s=o.negativeEdge;return r<=i?a:s}function Lt(e,t,n,r,i,o,a){var s=At(e,t,r,i,a);return yt(s,n)?{elementRectangle:s,targetEdge:r.targetEdge,alignmentEdge:r.alignmentEdge}:It(e,t,n,r,i,o,a)}function Bt(e,t,n){var r=-1*e.targetEdge,i=new mt(0,e.elementRectangle.width,0,e.elementRectangle.height),o={},a=jt(e.elementRectangle,e.alignmentEdge?e.alignmentEdge:Mt(r).positiveEdge,n);return o[dt[r]]=xt(t,r),o[dt[a]]=Et(t,i,a),{elementPosition:m.a({},o),closestEdge:Nt(e.targetEdge,t,i),targetEdge:r}}function zt(e,t){var n=t.targetRectangle,r=Mt(t.targetEdge),i=r.positiveEdge,o=r.negativeEdge,a=wt(n,t.targetEdge),s=new mt(e/2,t.elementRectangle.width-e/2,e/2,t.elementRectangle.height-e/2),u=new mt(0,e,0,e);return Pt(u=Dt(u=Ot(u,-1*t.targetEdge,-e/2),-1*t.targetEdge,a-kt(i,t.elementRectangle)),s,i)?Pt(u,s,o)||(u=Tt(u,s,o)):u=Tt(u,s,i),u}function Ut(e){var t=e.getBoundingClientRect();return new mt(t.left,t.right,t.top,t.bottom)}function Ht(e){return new mt(e.left,e.right,e.top,e.bottom)}function Vt(e,t,n,r,i){var o=0,a=bt[t],s=i?-1*a.targetEdge:a.targetEdge;return(o=s===dt.top?xt(e,a.targetEdge)-r.top-n:s===dt.bottom?r.bottom-xt(e,a.targetEdge)-n:r.bottom-e.top-n)>0?o:r.height}function Wt(e,t,n,r){var i=e.gapSpace?e.gapSpace:0,o=function(e,t){var n;if(t){if(t.preventDefault){var r=t;n=new mt(r.clientX,r.clientX,r.clientY,r.clientY)}else if(t.getBoundingClientRect)n=Ut(t);else{var i=t;n=new mt(i.x,i.x,i.y,i.y)}if(!yt(n,e))for(var o=0,a=_t(n,e);o<a.length;o++){var s=a[o];n[dt[s]]=e[dt[s]]}}else n=new mt(0,0,0,0);return n}(n,e.target),a=function(e,t,n,r,i){return e.isAuto&&(e.alignmentEdge=Nt(e.targetEdge,t,n)),e.alignTargetEdge=i,e}(Ft(e.directionalHint,e.directionalHintForRTL,r),o,n,e.coverTarget,e.alignTargetEdge),s=Lt(Ut(t),o,n,a,i,e.directionalHintFixed,e.coverTarget);return m.a({},s,{targetRectangle:o})}function Gt(e,t,n,r,i){return{elementPosition:function(e,t,n,r,i,o,a){var s={},u=Ut(t),l=o?n:-1*n,c=dt[l],d=jt(e,i||Mt(n).positiveEdge,r,a);return s[c]=Et(e,u,l),s[dt[d]]=Et(e,u,d),s}(e.elementRectangle,t,e.targetEdge,n,e.alignmentEdge,r,i),targetEdge:e.targetEdge,alignmentEdge:e.alignmentEdge}}var Kt;function qt(e,t,n,r){return function(e,t,n,r){var i=e.bounds?Ht(e.bounds):new mt(0,window.innerWidth-Object(gt.f)(),0,window.innerHeight);return Gt(Wt(e,n,i,r),t,i,e.coverTarget,!!r)}(e,t,n,r)}function Yt(e,t,n,r){return function(e,t,n,r){var i=e.isBeakVisible&&e.beakWidth||0,o=Rt(i)/2+(e.gapSpace?e.gapSpace:0),a=e;a.gapSpace=o;var s=e.bounds?Ht(e.bounds):new mt(0,window.innerWidth-Object(gt.f)(),0,window.innerHeight),u=Wt(a,n,s,r),l=Bt(u,zt(i,u),s);return m.a({},Gt(u,t,s,e.coverTarget,!!r),{beakPosition:l})}(e,t,n,r)}function Xt(e,t,n,r,i){void 0===n&&(n=0);var o=e,a=e,s=e,u=r?Ht(r):new mt(0,window.innerWidth-Object(gt.f)(),0,window.innerHeight);return Vt(o.stopPropagation?new mt(o.clientX,o.clientX,o.clientY,o.clientY):void 0!==s.x&&void 0!==s.y?new mt(s.x,s.x,s.y,s.y):Ut(a),t,n,u,i)}var Zt,Qt=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._disposables=[],n._onKeyDown=function(e){switch(e.which){case ge.a.escape:n.props.onDismiss&&(n.props.onDismiss(e),e.preventDefault(),e.stopPropagation())}},n._onFocus=function(){n._containsFocus=!0},n._onBlur=function(e){n._root.current&&n._root.current.contains(e.relatedTarget)&&(n._containsFocus=!1)},n._async=new ht.a(n),n.state={needsVerticalScrollBar:!1},n}return m.c(t,e),t.prototype.componentWillMount=function(){this._originalFocusedElement=Object(Pe.a)().activeElement},t.prototype.componentDidMount=function(){this._root.current&&(this._disposables.push(Object(Te.a)(this._root.current,"focus",this._onFocus,!0),Object(Te.a)(this._root.current,"blur",this._onBlur,!0)),Object(Ce.a)(this._root.current)&&(this._containsFocus=!0)),this._updateScrollBarAsync()},t.prototype.componentDidUpdate=function(){this._updateScrollBarAsync(),this._async.dispose()},t.prototype.componentWillUnmount=function(){this._disposables.forEach((function(e){return e()})),this.props.shouldRestoreFocus&&this._originalFocusedElement&&this._containsFocus&&this._originalFocusedElement!==window&&this._originalFocusedElement&&this._originalFocusedElement.focus()},t.prototype.render=function(){var e=this.props,t=e.role,n=e.className,r=e.ariaLabel,i=e.ariaLabelledBy,o=e.ariaDescribedBy,a=e.style;return v.createElement("div",m.a({ref:this._root},Object(E.j)(this.props,E.h),{className:n,role:t,"aria-label":r,"aria-labelledby":i,"aria-describedby":o,onKeyDown:this._onKeyDown,style:m.a({overflowY:this.state.needsVerticalScrollBar?"scroll":void 0,outline:"none"},a)}),this.props.children)},t.prototype._updateScrollBarAsync=function(){var e=this;this._async.requestAnimationFrame((function(){e._getScrollBar()}))},t.prototype._getScrollBar=function(){if(!this.props.style||!this.props.style.overflowY){var e=!1;if(this._root&&this._root.current&&this._root.current.firstElementChild){var t=this._root.current.clientHeight,n=this._root.current.firstElementChild.clientHeight;t>0&&n>t&&(e=n-t>1)}this.state.needsVerticalScrollBar!==e&&this.setState({needsVerticalScrollBar:e})}},t.defaultProps={shouldRestoreFocus:!0},t}(v.Component),$t=((Zt={})[dt.top]=b.a.slideUpIn10,Zt[dt.bottom]=b.a.slideDownIn10,Zt[dt.left]=b.a.slideLeftIn10,Zt[dt.right]=b.a.slideRightIn10,Zt),Jt=Object(w.a)({disableCaching:!0}),en=0,tn=0,nn={opacity:0,filter:"opacity(0)"},rn=["role","aria-roledescription"],on=function(e){function t(t){var n=e.call(this,t)||this;return n._hostElement=v.createRef(),n._calloutElement=v.createRef(),n._hasListeners=!1,n._disposables=[],n.dismiss=function(e){var t=n.props.onDismiss;t&&t(e)},n._dismissOnScroll=function(e){var t=n.props.preventDismissOnScroll;n.state.positions&&!t&&n._dismissOnClickOrScroll(e)},n._dismissOnResize=function(e){n.props.preventDismissOnResize||n.dismiss(e)},n._dismissOnLostFocus=function(e){n.props.preventDismissOnLostFocus||n._dismissOnClickOrScroll(e)},n._setInitialFocus=function(){n.props.setInitialFocus&&!n._didSetInitialFocus&&n.state.positions&&n._calloutElement.current&&(n._didSetInitialFocus=!0,n._async.requestAnimationFrame((function(){return Object(Ce.c)(n._calloutElement.current)})))},n._onComponentDidMount=function(){n._addListeners(),n.props.onLayerMounted&&n.props.onLayerMounted(),n._updateAsyncPosition(),n._setHeightOffsetEveryFrame()},n._async=new ht.a(n),n._didSetInitialFocus=!1,n.state={positions:void 0,slideDirectionalClassName:void 0,calloutElementRect:void 0,heightOffset:0},n._positionAttempts=0,n}return m.c(t,e),t.prototype.componentDidUpdate=function(){this.props.hidden?this._hasListeners&&this._removeListeners():(this._setInitialFocus(),this._hasListeners||this._addListeners(),this._updateAsyncPosition())},t.prototype.shouldComponentUpdate=function(e,t){return(!this.props.hidden||!e.hidden)&&(!Object(Oe.f)(this.props,e)||!Object(Oe.f)(this.state,t))},t.prototype.componentWillMount=function(){this._setTargetWindowAndElement(this._getTarget())},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._disposables.forEach((function(e){return e()}))},t.prototype.componentWillUpdate=function(e){var t=this._getTarget(e);(t!==this._getTarget()||"string"===typeof t||t instanceof String)&&!this._blockResetHeight&&(this._maxHeight=void 0,this._setTargetWindowAndElement(t)),e.gapSpace===this.props.gapSpace&&this.props.beakWidth===e.beakWidth||(this._maxHeight=void 0),e.finalHeight!==this.props.finalHeight&&this._setHeightOffsetEveryFrame(),e.hidden||e.hidden===this.props.hidden||(this._maxHeight=void 0,this._setTargetWindowAndElement(t),this.setState({positions:void 0}),this._didSetInitialFocus=!1,this._bounds=void 0),this._blockResetHeight=!1},t.prototype.componentDidMount=function(){this.props.hidden||this._onComponentDidMount()},t.prototype.render=function(){if(!this._targetWindow)return null;var e=this.props.target,t=this.props,n=t.styles,r=t.style,i=t.ariaLabel,o=t.ariaDescribedBy,a=t.ariaLabelledBy,s=t.className,u=t.isBeakVisible,l=t.children,c=t.beakWidth,d=t.calloutWidth,f=t.calloutMaxWidth,h=t.finalHeight,p=t.hideOverflow,g=void 0===p?!!h:p,b=t.backgroundColor,y=t.calloutMaxHeight,_=t.onScroll,x=t.shouldRestoreFocus,S=void 0===x||x;e=this._getTarget();var w=this.state.positions,C=this._getMaxHeight()?this._getMaxHeight()+this.state.heightOffset:void 0,k=y&&C&&y<C?y:C,O=g,T=u&&!!e;this._classNames=Jt(n,{theme:this.props.theme,className:s,overflowYHidden:O,calloutWidth:d,positions:w,beakWidth:c,backgroundColor:b,calloutMaxWidth:f});var P=m.a({},r,{maxHeight:k},O&&{overflowY:"hidden"}),I=this.props.hidden?{visibility:"hidden"}:void 0;return v.createElement("div",{ref:this._hostElement,className:this._classNames.container,style:I},v.createElement("div",m.a({},Object(E.j)(this.props,E.h,rn),{className:Object(z.a)(this._classNames.root,w&&w.targetEdge&&$t[w.targetEdge]),style:w?w.elementPosition:nn,tabIndex:-1,ref:this._calloutElement}),T&&v.createElement("div",{className:this._classNames.beak,style:this._getBeakPosition()}),T&&v.createElement("div",{className:this._classNames.beakCurtain}),v.createElement(Qt,m.a({},Object(E.j)(this.props,rn),{ariaLabel:i,ariaDescribedBy:o,ariaLabelledBy:a,className:this._classNames.calloutMain,onDismiss:this.dismiss,onScroll:_,shouldRestoreFocus:S,style:P}),l)))},t.prototype._dismissOnClickOrScroll=function(e){var t=e.target,n=this._hostElement.current&&!Object(Ie.a)(this._hostElement.current,t);(!this._target&&n||e.target!==this._targetWindow&&n&&(this._target.stopPropagation||!this._target||t!==this._target&&!Object(Ie.a)(this._target,t)))&&this.dismiss(e)},t.prototype._addListeners=function(){var e=this;this._async.setTimeout((function(){e._disposables.push(Object(Te.a)(e._targetWindow,"scroll",e._dismissOnScroll,!0),Object(Te.a)(e._targetWindow,"resize",e._dismissOnResize,!0),Object(Te.a)(e._targetWindow.document.documentElement,"focus",e._dismissOnLostFocus,!0),Object(Te.a)(e._targetWindow.document.documentElement,"click",e._dismissOnLostFocus,!0)),e._hasListeners=!0}),0)},t.prototype._removeListeners=function(){this._disposables.forEach((function(e){return e()})),this._disposables=[],this._hasListeners=!1},t.prototype._updateAsyncPosition=function(){var e=this;this._async.requestAnimationFrame((function(){return e._updatePosition()}))},t.prototype._getBeakPosition=function(){var e=this.state.positions,t=m.a({},e&&e.beakPosition?e.beakPosition.elementPosition:null);return t.top||t.bottom||t.left||t.right||(t.left=tn,t.top=en),t},t.prototype._updatePosition=function(){this._setTargetWindowAndElement(this._getTarget());var e=this.state.positions,t=this._hostElement.current,n=this._calloutElement.current,r=!!this.props.target;if(t&&n&&(!r||this._target)){var i=void 0;(i=Object(Oe.a)(i,this.props)).bounds=this._getBounds(),i.target=this._target;var o=Yt(i,t,n,e);!e&&o||e&&o&&!this._arePositionsEqual(e,o)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:o})):this._positionAttempts>0&&(this._positionAttempts=0,this.props.onPositioned&&this.props.onPositioned(this.state.positions))}},t.prototype._getBounds=function(){if(!this._bounds){var e=this.props.bounds;e||(e={top:0+this.props.minPagePadding,left:0+this.props.minPagePadding,right:this._targetWindow.innerWidth-this.props.minPagePadding,bottom:this._targetWindow.innerHeight-this.props.minPagePadding,width:this._targetWindow.innerWidth-2*this.props.minPagePadding,height:this._targetWindow.innerHeight-2*this.props.minPagePadding}),this._bounds=e}return this._bounds},t.prototype._getMaxHeight=function(){var e=this;if(!this._maxHeight)if(this.props.directionalHintFixed&&this._target){var t=this.props.isBeakVisible?this.props.beakWidth:0,n=(this.props.gapSpace?this.props.gapSpace:0)+t+2;this._async.requestAnimationFrame((function(){e._target&&(e._maxHeight=Xt(e._target,e.props.directionalHint,n,e._getBounds(),e.props.coverTarget),e._blockResetHeight=!0,e.forceUpdate())}))}else this._maxHeight=this._getBounds().height-2;return this._maxHeight},t.prototype._arePositionsEqual=function(e,t){return this._comparePositions(e.elementPosition,t.elementPosition)&&this._comparePositions(e.beakPosition.elementPosition,t.beakPosition.elementPosition)},t.prototype._comparePositions=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],i=t[n];if(void 0===r||void 0===i)return!1;if(r.toFixed(2)!==i.toFixed(2))return!1}return!0},t.prototype._setTargetWindowAndElement=function(e){if(e)if("string"===typeof e){var t=Object(Pe.a)();this._target=t?t.querySelector(e):null,this._targetWindow=Object(F.a)()}else if(e.stopPropagation)this._targetWindow=Object(F.a)(e.toElement),this._target=e;else if(e.getBoundingClientRect){var n=e;this._targetWindow=Object(F.a)(n),this._target=e}else this._targetWindow=Object(F.a)(),this._target=e;else this._targetWindow=Object(F.a)()},t.prototype._setHeightOffsetEveryFrame=function(){var e=this;this._calloutElement.current&&this.props.finalHeight&&(this._setHeightOffsetTimer=this._async.requestAnimationFrame((function(){var t=e._calloutElement.current&&e._calloutElement.current.lastChild;if(t){var n=t.scrollHeight-t.offsetHeight;e.setState({heightOffset:e.state.heightOffset+n}),t.offsetHeight<e.props.finalHeight?e._setHeightOffsetEveryFrame():e._async.cancelAnimationFrame(e._setHeightOffsetTimer)}})))},t.prototype._getTarget=function(e){return void 0===e&&(e=this.props),e.target},t.defaultProps={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:$e.bottomAutoEdge},t}(v.Component);function an(e){return{height:e,width:e}}var sn,un={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},ln=Object(S.a)(on,(function(e){var t,n=e.theme,r=e.className,i=e.overflowYHidden,o=e.calloutWidth,a=e.beakWidth,s=e.backgroundColor,u=e.calloutMaxWidth,l=Object(b.N)(un,n),c=n.palette;return{container:[l.container,{position:"relative"}],root:[l.root,n.fonts.medium,{position:"absolute",boxSizing:"border-box",borderWidth:1,borderStyle:"solid",borderColor:c.neutralLight,boxShadow:"0 0 5px 0px rgba(0,0,0,0.4)",selectors:(t={},t[b.j]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},t)},Object(b.I)(),r,!!o&&{width:o},!!u&&{maxWidth:u}],beak:[l.beak,{position:"absolute",backgroundColor:c.white,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},an(a),s&&{backgroundColor:s}],beakCurtain:[l.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:c.white}],calloutMain:[l.calloutMain,{backgroundColor:c.white,overflowX:"hidden",overflowY:"auto",position:"relative"},i&&{overflowY:"hidden"},s&&{backgroundColor:s}]}}),void 0,{scope:"CalloutContent"}),cn=n(48),dn=n(113),fn={fontFamily:"inherit"},hn={root:"ms-Fabric"},pn=function(e){var t=e.theme,n=e.className,r=e.isFocusVisible;return{root:[Object(b.N)(hn,t).root,r&&"is-focusVisible",t.fonts.medium,{color:t.palette.neutralPrimary,selectors:{"& button":fn,"& input":fn,"& textarea":fn}},n]}},gn=Object(w.a)(),mn=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=v.createRef(),n._disposables=[],n._onMouseDown=function(e){n.setState({isFocusVisible:!1})},n._onKeyDown=function(e){Object(dn.b)(e.which)&&n.setState({isFocusVisible:!0})},n.state={isFocusVisible:!1},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=m.d(e,["className"]),r=gn(pn,{theme:this.props.theme,className:t,isFocusVisible:this.state.isFocusVisible}),i=Object(E.j)(n,E.h);return v.createElement("div",m.a({},i,{className:r.root,ref:this._rootElement}))},t.prototype.componentDidMount=function(){var e=Object(F.a)(this._rootElement.current);e&&this._disposables.push(Object(Te.a)(e,"mousedown",this._onMouseDown,!0),Object(Te.a)(e,"keydown",this._onKeyDown,!0))},t.prototype.componentWillUnmount=function(){this._disposables.forEach((function(e){return e()}))},t}(v.Component),vn=Object(S.a)(mn,pn,void 0,{scope:"Fabric"}),bn=n(168),yn=n(169),_n=n(97),xn=n(170),Sn={};function wn(e){Sn[e]&&Sn[e].forEach((function(e){return e.forceUpdate()}))}var Cn=Object(w.a)(),kn=function(e){function t(t){var n,r,i=e.call(this,t)||this;return i._rootElement=Object(bn.a)(),i._handleRootElementRef=function(e){i._rootElement(e),e&&i._setVirtualParent()},i._filterEvent=function(e){e.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==e.type&&"mouseleave"!==e.type&&e.stopPropagation()},i.state={hasMounted:!1},i.props.hostId&&(n=i.props.hostId,r=i,Sn[n]||(Sn[n]=[]),Sn[n].push(r)),i}return m.c(t,e),t.prototype.componentWillMount=function(){this._layerElement=this._getLayerElement()},t.prototype.componentWillUpdate=function(){this._layerElement||(this._layerElement=this._getLayerElement())},t.prototype.componentDidMount=function(){this.setState({hasMounted:!0}),this._setVirtualParent();var e=this.props,t=e.onLayerDidMount,n=e.onLayerMounted;n&&n(),t&&t()},t.prototype.componentWillUnmount=function(){this._removeLayerElement();var e=this.props,t=e.onLayerWillUnmount,n=e.hostId;t&&t(),n&&function(e,t){if(Sn[e]){var n=Sn[e].indexOf(t);n>=0&&(Sn[e].splice(n,1),0===Sn[e].length&&delete Sn[e])}}(n,this)},t.prototype.componentDidUpdate=function(){this._setVirtualParent()},t.prototype.render=function(){var e=this._getClassNames(),t=this.props.eventBubblingEnabled,n=this.state.hasMounted;return v.createElement("span",{className:"ms-layer",ref:this._handleRootElementRef},this._layerElement&&n&&cn.createPortal(t?v.createElement(vn,{className:e.content},this.props.children):v.createElement(vn,{className:e.content,onClick:this._filterEvent,onContextMenu:this._filterEvent,onDoubleClick:this._filterEvent,onDrag:this._filterEvent,onDragEnd:this._filterEvent,onDragEnter:this._filterEvent,onDragExit:this._filterEvent,onDragLeave:this._filterEvent,onDragOver:this._filterEvent,onDragStart:this._filterEvent,onDrop:this._filterEvent,onMouseDown:this._filterEvent,onMouseEnter:this._filterEvent,onMouseLeave:this._filterEvent,onMouseMove:this._filterEvent,onMouseOver:this._filterEvent,onMouseOut:this._filterEvent,onMouseUp:this._filterEvent,onKeyDown:this._filterEvent,onKeyPress:this._filterEvent,onKeyUp:this._filterEvent,onFocus:this._filterEvent,onBlur:this._filterEvent,onChange:this._filterEvent,onInput:this._filterEvent,onInvalid:this._filterEvent,onSubmit:this._filterEvent},this.props.children),this._layerElement))},t.prototype._getClassNames=function(){var e=this.props,t=e.className,n=e.styles,r=e.theme;return Cn(n,{theme:r,className:t,isNotHost:!this.props.hostId})},t.prototype._setVirtualParent=function(){this._rootElement&&this._rootElement.current&&this._layerElement&&Object(yn.a)(this._layerElement,this._rootElement.current)},t.prototype._getLayerElement=function(){var e=this._getHost(),t=this._getClassNames();if(e!==this._host&&this._removeLayerElement(),e&&(this._host=e,!this._layerElement)){var n=Object(Pe.a)();if(!n)return;this._layerElement=n.createElement("div"),this._layerElement.className=t.root,Object(_n.b)(this._layerElement),this.props.insertFirst?e.insertBefore(this._layerElement,e.firstChild):e.appendChild(this._layerElement)}return this._layerElement},t.prototype._removeLayerElement=function(){if(this._layerElement){this.props.onLayerWillUnmount();var e=this._layerElement.parentNode;e&&e.removeChild(this._layerElement),this._layerElement=void 0}},t.prototype._getHost=function(){var e=this.props.hostId,t=Object(Pe.a)();if(t){if(e)return t.getElementById(e);var n=sn;return n?t.querySelector(n):t.body}},t.defaultProps={onLayerDidMount:function(){},onLayerWillUnmount:function(){}},t=m.b([Object(xn.a)("Layer",["theme","hostId"])],t)}(v.Component),En={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},On=Object(S.a)(kn,(function(e){var t=e.className,n=e.isNotHost,r=e.theme,i=Object(b.N)(En,r);return{root:[i.root,r.fonts.medium,n&&[i.rootNoHost,{position:"fixed",zIndex:b.D.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],t],content:[i.content,{visibility:"visible"}]}}),void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),Tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.layerProps,n=m.d(e,["layerProps"]),r=v.createElement(ln,m.a({},n));return this.props.doNotLayer?r:v.createElement(On,m.a({},t),r)},t}(v.Component),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openSubMenu=function(){var e=t.props,n=e.item,r=e.openSubMenu,i=e.getSubmenuTarget;if(i){var o=i();nt(n)&&r&&o&&r(n,o)}},t.dismissSubMenu=function(){var e=t.props,n=e.item,r=e.dismissSubMenu;nt(n)&&r&&r()},t.dismissMenu=function(e){var n=t.props.dismissMenu;n&&n(void 0,e)},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.classNames;return v.createElement("div",{className:t.split?n.linkContentMenu:n.linkContent},function(e){var t=e.onCheckmarkClick,n=e.item,r=e.classNames,i=tt(n);if(t){return v.createElement(K,{iconName:i?"CheckMark":"",className:r.checkmarkIcon,onClick:function(e){return t(n,e)}})}return null}(this.props),function(e){var t=e.item,n=e.hasIcons,r=e.classNames,i=t.iconProps;return n?t.onRenderIcon?t.onRenderIcon(e):v.createElement(K,m.a({},i,{className:r.icon})):null}(this.props),function(e){var t=e.item,n=e.classNames;return t.text||t.name?v.createElement("span",{className:n.label},t.text||t.name):null}(this.props),function(e){var t=e.item,n=e.classNames;return t.secondaryText?v.createElement("span",{className:n.secondaryText},t.secondaryText):null}(this.props),function(e){var t=e.item,n=e.classNames;return nt(t)?v.createElement(K,m.a({iconName:Object(C.a)()?"ChevronLeft":"ChevronRight"},t.submenuIconProps,{className:n.subMenuIcon})):null}(this.props))},t}(O.a),In=Object(y.b)((function(e){return Object(b.X)({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}})})),Dn=Object(b.R)(0,b.q),An=Object(y.b)((function(){return{selectors:(e={},e[b.j]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},e)};var e})),Mn=Object(y.b)((function(e){var t,n,r,i,o,a,s=e.semanticColors,u=e.fonts,l=s.menuItemBackgroundHovered,c=s.menuItemBackgroundChecked,d=s.bodyDivider,f={item:[u.medium,{color:s.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:d,position:"relative"},root:[Object(b.M)(e),u.medium,{color:s.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:"32px",lineHeight:"32px",display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:s.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(t={},t[b.j]={color:"GrayText",opacity:1},t)},rootHovered:m.a({backgroundColor:l},An()),rootFocused:m.a({backgroundColor:l},An()),rootChecked:m.a({},An()),rootPressed:m.a({backgroundColor:c},An()),rootExpanded:m.a({backgroundColor:c,color:s.bodyTextChecked},An()),linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},secondaryText:{color:e.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:"32px",width:"14px",margin:"0 4px",verticalAlign:"middle",flexShrink:"0"},iconColor:{color:s.menuIcon,selectors:(n={},n[b.j]={color:"inherit"},n["$root:hover &"]={selectors:(r={},r[b.j]={color:"HighlightText"},r)},n["$root:focus &"]={selectors:(i={},i[b.j]={color:"HighlightText"},i)},n)},iconDisabled:{color:s.disabledBodyText},checkmarkIcon:{color:s.bodySubtext,selectors:(o={},o[b.j]={color:"HighlightText"},o)},subMenuIcon:{height:"32px",lineHeight:"32px",textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:b.h.small,selectors:(a={},a[Dn]={fontSize:b.h.icon},a)},splitButtonFlexContainer:[Object(b.M)(e),{display:"flex",height:"32px",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"}]};return Object(b.F)(f)})),jn=n(112),Rn=Object(b.R)(0,b.q),Fn=Object(y.b)((function(e){return Object(b.X)(In(e),{wrapper:{position:"absolute",right:28,selectors:(t={},t[Rn]={right:32},t)},divider:{height:16,width:1}});var t})),Nn={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText"},Ln=Object(y.b)((function(e,t,n,r,i,o,a,s,u,l,c,d){var f,h,p,g,m=Mn(e),v=Object(b.N)(Nn,e);return Object(b.X)({item:[v.item,m.item,a],divider:[v.divider,m.divider,s],root:[v.root,m.root,r&&[v.isChecked,m.rootChecked],i&&m.anchorLink,n&&[v.isExpanded,m.rootExpanded],t&&[v.isDisabled,m.rootDisabled],!t&&!n&&[{selectors:(f={":hover":m.rootHovered,":active":m.rootPressed},f["."+jn.a+" &:focus, ."+jn.a+" &:focus:hover"]=m.rootFocused,f["."+jn.a+" &:hover"]={background:"inherit;"},f)}],d],splitPrimary:[m.root,r&&["is-checked",m.rootChecked],(t||c)&&["is-disabled",m.rootDisabled],!(t||c)&&!r&&[{selectors:(h={":hover":m.rootHovered,":hover ~ $splitMenu":m.rootHovered,":active":m.rootPressed},h["."+jn.a+" &:focus, ."+jn.a+" &:focus:hover"]=m.rootFocused,h["."+jn.a+" &:hover"]={background:"inherit;"},h)}]],splitMenu:[m.root,{flexBasis:"0",padding:"0 8px",minWidth:28},n&&["is-expanded",m.rootExpanded],t&&["is-disabled",m.rootDisabled],!t&&!n&&[{selectors:(p={":hover":m.rootHovered,":active":m.rootPressed},p["."+jn.a+" &:focus, ."+jn.a+" &:focus:hover"]=m.rootFocused,p["."+jn.a+" &:hover"]={background:"inherit;"},p)}]],anchorLink:m.anchorLink,linkContent:[v.linkContent,m.linkContent],linkContentMenu:[v.linkContentMenu,m.linkContent,{justifyContent:"center"}],icon:[v.icon,o&&m.iconColor,m.icon,u,t&&[v.isDisabled,m.iconDisabled]],iconColor:m.iconColor,checkmarkIcon:[v.checkmarkIcon,o&&m.checkmarkIcon,m.icon,u],subMenuIcon:[v.subMenuIcon,m.subMenuIcon,l],label:[v.label,m.label],secondaryText:[v.secondaryText,m.secondaryText],splitContainer:[m.splitButtonFlexContainer,{alignItems:"flex-start"},!t&&!r&&[{selectors:(g={},g["."+jn.a+" &:focus, ."+jn.a+" &:focus:hover"]=m.rootFocused,g)}]]})})),Bn=function(e){var t=e.theme,n=e.disabled,r=e.expanded,i=e.checked,o=e.isAnchorLink,a=e.knownIcon,s=e.itemClassName,u=e.dividerClassName,l=e.iconClassName,c=e.subMenuClassName,d=e.primaryDisabled,f=e.className;return Ln(t,n,r,i,o,a,s,u,l,c,d,f)},zn=Object(S.a)(Pn,Bn,void 0,{scope:"ContextualMenuItem"}),Un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onItemMouseEnter=function(e){var n=t.props,r=n.item,i=n.onItemMouseEnter;i&&i(r,e,e.currentTarget)},t._onItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClickBase;i&&i(r,e,e.currentTarget)},t._onItemMouseLeave=function(e){var n=t.props,r=n.item,i=n.onItemMouseLeave;i&&i(r,e)},t._onItemKeyDown=function(e){var n=t.props,r=n.item,i=n.onItemKeyDown;i&&i(r,e)},t._onItemMouseMove=function(e){var n=t.props,r=n.item,i=n.onItemMouseMove;i&&i(r,e,e.currentTarget)},t._getSubMenuId=function(e){var n=t.props.getSubMenuId;if(n)return n(e)},t._getSubmenuTarget=function(){},t}return m.c(t,e),t.prototype.shouldComponentUpdate=function(e){return!Object(Oe.f)(e,this.props)},t}(O.a),Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._anchor=v.createRef(),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClick;i&&i(r,e)},t}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,i=t.index,o=t.focusableElementIndex,a=t.totalItemCount,s=t.hasCheckmarks,u=t.hasIcons,l=t.contextualMenuItemAs,c=void 0===l?zn:l,d=t.expandedMenuItemKey,f=t.onItemClick,h=t.openSubMenu,p=t.dismissSubMenu,g=t.dismissMenu,b=n.rel;n.target&&"_blank"===n.target.toLowerCase()&&(b=b||"nofollow noopener noreferrer");var y=this._getSubMenuId(n),_=nt(n),x=Object(E.j)(n,E.a),S=rt(n),w=n.itemProps,C=n.keytipProps;return C&&_&&(C=m.a({},C,{hasMenu:!0})),v.createElement("div",null,v.createElement(qe,{keytipProps:n.keytipProps,ariaDescribedBy:x["aria-describedby"],disabled:S},(function(t){return v.createElement("a",m.a({},x,t,{ref:e._anchor,href:n.href,target:n.target,rel:b,className:r.root,role:"menuitem","aria-owns":n.key===d?y:void 0,"aria-haspopup":_||void 0,"aria-expanded":_?n.key===d:void 0,"aria-posinset":o+1,"aria-setsize":a,"aria-disabled":rt(n),style:n.style,onClick:e._onItemClick,onMouseEnter:e._onItemMouseEnter,onMouseLeave:e._onItemMouseLeave,onMouseMove:e._onItemMouseMove,onKeyDown:_?e._onItemKeyDown:void 0}),v.createElement(c,m.a({componentRef:n.componentRef,item:n,classNames:r,index:i,onCheckmarkClick:s&&f?f:void 0,hasIcons:u,openSubMenu:h,dismissSubMenu:p,dismissMenu:g,getSubmenuTarget:e._getSubmenuTarget},w)))})))},t}(Un),Vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._btn=v.createRef(),t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,i=t.index,o=t.focusableElementIndex,a=t.totalItemCount,s=t.hasCheckmarks,u=t.hasIcons,l=t.contextualMenuItemAs,c=void 0===l?zn:l,d=t.expandedMenuItemKey,f=t.onItemMouseDown,h=t.onItemClick,p=t.openSubMenu,g=t.dismissSubMenu,b=t.dismissMenu,y=this._getSubMenuId(n),_=tt(n),x=null!==_,S=x?"menuitemcheckbox":"menuitem",w=nt(n),C=n.itemProps,k=n.ariaLabel,O=Object(E.j)(n,E.e);delete O.disabled;var T={className:r.root,onClick:this._onItemClick,onKeyDown:w?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(e){return f?f(n,e):void 0},onMouseMove:this._onItemMouseMove,href:n.href,title:n.title,"aria-label":k,"aria-haspopup":w||void 0,"aria-owns":n.key===d?y:void 0,"aria-expanded":w?n.key===d:void 0,"aria-checked":x?!!_:void 0,"aria-posinset":o+1,"aria-setsize":a,"aria-disabled":rt(n),role:n.role||S,style:n.style},P=n.keytipProps;return P&&w&&(P=m.a({},P,{hasMenu:!0})),v.createElement(qe,{keytipProps:P,ariaDescribedBy:O["aria-describedby"],disabled:rt(n)},(function(t){return v.createElement("button",m.a({ref:e._btn},O,T,t),v.createElement(c,m.a({componentRef:n.componentRef,item:n,classNames:r,index:i,onCheckmarkClick:s&&h?h:void 0,hasIcons:u,openSubMenu:p,dismissSubMenu:g,dismissMenu:b,getSubmenuTarget:e._getSubmenuTarget},C)))}))},t}(Un),Wn=Object(w.a)(),Gn=Object(S.a)((function(e){var t=e.styles,n=e.theme,r=e.getClassNames,i=e.className,o=Wn(t,{theme:n,getClassNames:r,className:i});return v.createElement("span",{className:o.wrapper},v.createElement("span",{className:o.divider}))}),(function(e){var t=e.theme,n=e.getClassNames,r=e.className;if(!t)throw new Error("Theme is undefined or null.");if(n){var i=n(t);return{wrapper:[i.wrapper],divider:[i.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},r],divider:[{width:1,height:"100%",backgroundColor:t.palette.neutralTertiaryAlt}]}}),void 0,{scope:"VerticalDivider"}),Kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onItemKeyDown=function(e){var n=t.props,r=n.item,i=n.onItemKeyDown;e.which===ge.a.enter?(t._executeItemClick(e),e.preventDefault(),e.stopPropagation()):i&&i(r,e)},t._getSubmenuTarget=function(){return t._splitButton},t._onItemMouseEnterPrimary=function(e){var n=t.props,r=n.item,i=n.onItemMouseEnter;i&&i(m.a({},r,{subMenuProps:void 0,items:void 0}),e,t._splitButton)},t._onItemMouseEnterIcon=function(e){var n=t.props,r=n.item,i=n.onItemMouseEnter;i&&i(r,e,t._splitButton)},t._onItemMouseMovePrimary=function(e){var n=t.props,r=n.item,i=n.onItemMouseMove;i&&i(m.a({},r,{subMenuProps:void 0,items:void 0}),e,t._splitButton)},t._onItemMouseMoveIcon=function(e){var n=t.props,r=n.item,i=n.onItemMouseMove;i&&i(r,e,t._splitButton)},t._onIconItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClickBase;i&&i(r,e,t._splitButton?t._splitButton:e.currentTarget)},t._executeItemClick=function(e){var n=t.props,r=n.item,i=n.executeItemClick,o=n.onItemClick;if(!r.disabled&&!r.isDisabled)return t._processingTouch&&o?o(r,e):void(i&&i(r,e))},t._onTouchStart=function(e){t._splitButton&&!("onpointerdown"in t._splitButton)&&t._handleTouchAndPointerEvent(e)},t._onPointerDown=function(e){"touch"===e.pointerType&&(t._handleTouchAndPointerEvent(e),e.preventDefault(),e.stopImmediatePropagation())},t}return m.c(t,e),t.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,i=t.index,o=t.focusableElementIndex,a=t.totalItemCount,s=t.hasCheckmarks,u=t.hasIcons,l=t.onItemMouseLeave,c=t.expandedMenuItemKey,d=nt(n),f=n.keytipProps;return f&&(f=m.a({},f,{hasMenu:!0})),v.createElement(qe,{keytipProps:f,disabled:rt(n)},(function(t){return v.createElement("div",{"data-ktp-target":t["data-ktp-target"],ref:function(t){return e._splitButton=t},role:"menuitem","aria-label":n.ariaLabel,className:r.splitContainer,"aria-disabled":rt(n),"aria-expanded":d?n.key===c:void 0,"aria-haspopup":!0,"aria-describedby":Object(Be.a)(n.ariaDescription,t["aria-describedby"]),"aria-checked":n.isChecked||n.checked,"aria-posinset":o+1,"aria-setsize":a,onMouseEnter:e._onItemMouseEnterPrimary,onMouseLeave:l?l.bind(e,m.a({},n,{subMenuProps:null,items:null})):void 0,onMouseMove:e._onItemMouseMovePrimary,onKeyDown:e._onItemKeyDown,onClick:e._executeItemClick,onTouchStart:e._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":n["aria-roledescription"]},e._renderSplitPrimaryButton(n,r,i,s,u),e._renderSplitDivider(n),e._renderSplitIconButton(n,r,i,t))}))},t.prototype._renderSplitPrimaryButton=function(e,t,n,r,i){var o=this.props,a=o.contextualMenuItemAs,s=void 0===a?zn:a,u=o.onItemClick,l={key:e.key,disabled:rt(e)||e.primaryDisabled,name:e.name,text:e.text||e.name,className:t.splitPrimary,canCheck:e.canCheck,isChecked:e.isChecked,checked:e.checked,iconProps:e.iconProps,"data-is-focusable":!1,"aria-hidden":!0},c=e.itemProps;return v.createElement("button",m.a({},Object(E.j)(l,E.e)),v.createElement(s,m.a({"data-is-focusable":!1,item:l,classNames:t,index:n,onCheckmarkClick:r&&u?u:void 0,hasIcons:i},c)))},t.prototype._renderSplitDivider=function(e){var t=e.getSplitButtonVerticalDividerClassNames||Fn;return v.createElement(Gn,{getClassNames:t})},t.prototype._renderSplitIconButton=function(e,t,n,r){var i=this.props,o=i.contextualMenuItemAs,a=void 0===o?zn:o,s=i.onItemMouseLeave,u=i.onItemMouseDown,l=i.openSubMenu,c=i.dismissSubMenu,d=i.dismissMenu,f={onClick:this._onIconItemClick,disabled:rt(e),className:t.splitMenu,subMenuProps:e.subMenuProps,submenuIconProps:e.submenuIconProps,split:!0,key:e.key},h=m.a({},Object(E.j)(f,E.e),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:s?s.bind(this,e):void 0,onMouseDown:function(t){return u?u(e,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":r["data-ktp-execute-target"],"aria-hidden":!0}),p=e.itemProps;return v.createElement("button",m.a({},h),v.createElement(a,m.a({componentRef:e.componentRef,item:f,classNames:t,index:n,hasIcons:!1,openSubMenu:l,dismissSubMenu:c,dismissMenu:d,getSubmenuTarget:this._getSubmenuTarget},p)))},t.prototype._handleTouchAndPointerEvent=function(e){var t=this,n=this.props.onTap;n&&n(e),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0}),500)},t}(Un),qn=Object(w.a)({disableCaching:!0}),Yn=Object(w.a)({disableCaching:!0});function Xn(e){return e.subMenuProps?e.subMenuProps.items:e.items}function Zn(e){return e.some((function(e){return!!e.canCheck||!(!e.sectionProps||!e.sectionProps.items.some((function(e){return!0===e.canCheck})))}))}var Qn,$n=function(e){function t(t){var n=e.call(this,t)||this;return n._mounted=!1,n.dismiss=function(e,t){var r=n.props.onDismiss;r&&r(e,t)},n._onRenderMenuList=function(e,t){var r=0;return v.createElement("ul",{className:n._classNames.list,onKeyDown:n._onKeyDown,onKeyUp:n._onKeyUp,role:"menu"},e.items.map((function(t,i){var o=n._renderMenuItem(t,i,r,e.totalItemCount,e.hasCheckmarks,e.hasIcons);if(t.itemType!==Ke.Divider&&t.itemType!==Ke.Header){var a=t.customOnRenderListLength?t.customOnRenderListLength:1;r+=a}return o})))},n._onKeyDown=function(e){n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e);var t=e.which===ge.a.escape&&(Object(Je.a)()||Object(et.a)());return n._keyHandler(e,n._shouldHandleKeyDown,t)},n._shouldHandleKeyDown=function(e){return e.which===ge.a.escape||n._shouldCloseSubMenu(e)||e.which===ge.a.up&&(e.altKey||e.metaKey)},n._onMenuFocusCapture=function(e){n.props.delayUpdateFocusOnHover&&(n._shouldUpdateFocusOnMouseEvent=!0)},n._onKeyUp=function(e){return n._keyHandler(e,n._shouldHandleKeyUp,!0)},n._shouldHandleKeyUp=function(e){var t=n._lastKeyDownWasAltOrMeta&&n._isAltOrMeta(e);return n._lastKeyDownWasAltOrMeta=!1,!!t&&!(Object(et.a)()||Object(Je.a)())},n._keyHandler=function(e,t,r){var i=!1;return t(e)&&(n._isFocusingPreviousElement=!0,e.preventDefault(),e.stopPropagation(),n.dismiss(e,r),i=!0),i},n._shouldCloseSubMenu=function(e){var t=Object(C.a)()?ge.a.right:ge.a.left;return!(e.which!==t||!n.props.isSubMenu)&&(n._adjustedFocusZoneProps.direction===le.vertical||!!n._adjustedFocusZoneProps.checkForNoWrap&&!Object(Ce.p)(e.target,"data-no-horizontal-wrap"))},n._onMenuKeyDown=function(e){if(!n._onKeyDown(e)&&n._host){var t=!(!e.altKey&&!e.metaKey),r=e.which===ge.a.up,i=e.which===ge.a.down;if(!t&&(r||i)){var o=r?Object(Ce.h)(n._host,n._host.lastChild,!0):Object(Ce.e)(n._host,n._host.firstChild,!0);o&&(o.focus(),e.preventDefault(),e.stopPropagation())}}},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=n._async.setTimeout((function(){n._isScrollIdle=!0}),250)},n._onItemMouseEnterBase=function(e,t,r){n._shouldIgnoreMouseEvent()||n._updateFocusOnMouseEvent(e,t,r)},n._onItemMouseMoveBase=function(e,t,r){var i=t.currentTarget;n._shouldUpdateFocusOnMouseEvent&&(n._gotMouseMove=!0,n._isScrollIdle&&void 0===n._enterTimerId&&i!==n._targetWindow.document.activeElement&&n._updateFocusOnMouseEvent(e,t,r))},n._onMouseItemLeave=function(e,t){if(!n._shouldIgnoreMouseEvent()&&(void 0!==n._enterTimerId&&(n._async.clearTimeout(n._enterTimerId),n._enterTimerId=void 0),void 0===n.state.expandedMenuItemKey))if(n._host.setActive)try{n._host.setActive()}catch(r){}else n._host.focus()},n._onItemMouseDown=function(e,t){e.onMouseDown&&e.onMouseDown(e,t)},n._onItemClick=function(e,t){n._onItemClickBase(e,t,t.currentTarget)},n._onItemClickBase=function(e,t,r){var i=Xn(e);n._cancelSubMenuTimer(),nt(e)||i&&i.length?e.key!==n.state.expandedMenuItemKey&&(n.setState({expandedByMouseClick:0!==t.nativeEvent.detail||"mouse"===t.nativeEvent.pointerType}),n._onItemSubMenuExpand(e,r)):n._executeItemClick(e,t),t.stopPropagation(),t.preventDefault()},n._onAnchorClick=function(e,t){n._executeItemClick(e,t),t.stopPropagation()},n._executeItemClick=function(e,t){if(!e.disabled&&!e.isDisabled){var r=!1;e.onClick?r=!!e.onClick(t,e):n.props.onItemClick&&(r=!!n.props.onItemClick(t,e)),(r||!t.defaultPrevented)&&n.dismiss(t,!0)}},n._onItemKeyDown=function(e,t){var r=Object(C.a)()?ge.a.left:ge.a.right;e.disabled||t.which!==r&&t.which!==ge.a.enter&&(t.which!==ge.a.down||!t.altKey&&!t.metaKey)||(n.setState({expandedByMouseClick:!1}),n._onItemSubMenuExpand(e,t.currentTarget),t.preventDefault())},n._cancelSubMenuTimer=function(){void 0!==n._enterTimerId&&(n._async.clearTimeout(n._enterTimerId),n._enterTimerId=void 0)},n._onItemSubMenuExpand=function(e,t){n.state.expandedMenuItemKey!==e.key&&(n.state.expandedMenuItemKey&&n._onSubMenuDismiss(),t.focus(),n.setState({expandedMenuItemKey:e.key,submenuTarget:t}))},n._onSubMenuDismiss=function(e,t){t?n.dismiss(e,t):n._mounted&&n.setState({dismissedMenuItemKey:n.state.expandedMenuItemKey,expandedMenuItemKey:void 0,submenuTarget:void 0})},n._getSubMenuId=function(e){var t=n.state.subMenuId;return e.subMenuProps&&e.subMenuProps.id&&(t=e.subMenuProps.id),t},n._onPointerAndTouchEvent=function(e){n._cancelSubMenuTimer()},n.state={contextualMenuItems:void 0,subMenuId:Object(Oe.c)("ContextualMenu")},n._warnDeprecations({getMenuClassNames:"styles"}),n._isFocusingPreviousElement=!1,n._isScrollIdle=!0,n._shouldUpdateFocusOnMouseEvent=!n.props.delayUpdateFocusOnHover,n._gotMouseMove=!1,n}return m.c(t,e),t.prototype.shouldComponentUpdate=function(e,t){return(!this.props.hidden||!e.hidden)&&(!Object(Oe.f)(this.props,e)||!Object(Oe.f)(this.state,t))},t.prototype.componentWillUpdate=function(e){if(e.target!==this.props.target){var t=e.target;this._setTargetWindowAndElement(t)}e.hidden!==this.props.hidden&&(e.hidden?this._onMenuClosed():(this._onMenuOpened(),this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:null)),e.delayUpdateFocusOnHover!==this.props.delayUpdateFocusOnHover&&(this._shouldUpdateFocusOnMouseEvent=!e.delayUpdateFocusOnHover,this._gotMouseMove=this._shouldUpdateFocusOnMouseEvent&&this._gotMouseMove)},t.prototype.componentWillMount=function(){var e=this.props.target;this._setTargetWindowAndElement(e),this.props.hidden||(this._previousActiveElement=this._targetWindow?this._targetWindow.document.activeElement:null)},t.prototype.componentDidMount=function(){this.props.hidden||this._onMenuOpened(),this._mounted=!0},t.prototype.componentWillUnmount=function(){this._tryFocusPreviousActiveElement(),this.props.onMenuDismissed&&this.props.onMenuDismissed(this.props),this._events.dispose(),this._async.dispose(),this._mounted=!1},t.prototype.render=function(){var e=this,t=this.props.isBeakVisible,n=this.props,r=n.items,i=n.labelElementId,o=n.id,a=n.className,s=n.beakWidth,u=n.directionalHint,l=n.directionalHintForRTL,c=n.alignTargetEdge,d=n.gapSpace,f=n.coverTarget,h=n.ariaLabel,p=n.doNotLayer,g=n.target,b=n.bounds,y=n.useTargetWidth,_=n.useTargetAsMinWidth,x=n.directionalHintFixed,S=n.shouldFocusOnMount,w=n.shouldFocusOnContainer,C=n.title,k=n.styles,E=n.theme,O=n.calloutProps,T=n.onRenderSubMenu,P=void 0===T?this._onRenderSubMenu:T,I=n.onRenderMenuList,D=void 0===I?this._onRenderMenuList:I,A=n.focusZoneProps,M=n.getMenuClassNames;this._classNames=M?M(E,a):qn(k,{theme:E,className:a});var j=function e(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.iconProps)return!0;if(i.itemType===Ke.Section&&i.sectionProps&&e(i.sectionProps.items))return!0}return!1}(r);this._adjustedFocusZoneProps=m.a({},A,{direction:this._getFocusZoneDirection()});var R,F=Zn(r),N=this.state.expandedMenuItemKey&&!0!==this.props.hidden?this._getSubmenuProps():null;t=void 0===t?this.props.responsiveMode<=it.medium:t;var L=this._target;if((y||_)&&L&&L.offsetWidth){var B=L.getBoundingClientRect().width-2;y?R={width:B}:_&&(R={minWidth:B})}if(r&&r.length>0){for(var U=0,H=0,V=r;H<V.length;H++){var W=V[H];if(W.itemType!==Ke.Divider&&W.itemType!==Ke.Header)U+=W.customOnRenderListLength?W.customOnRenderListLength:1}var G=!M&&this._classNames.subComponentStyles?this._classNames.subComponentStyles.callout:void 0;return v.createElement(Tn,m.a({styles:G},O,{target:g,isBeakVisible:t,beakWidth:s,directionalHint:u,directionalHintForRTL:l,gapSpace:d,coverTarget:f,doNotLayer:p,className:Object(z.a)("ms-ContextualMenu-Callout",O&&O.className),setInitialFocus:S,onDismiss:this.props.onDismiss,onScroll:this._onScroll,bounds:b,directionalHintFixed:x,alignTargetEdge:c,hidden:this.props.hidden}),v.createElement("div",{"aria-label":h,"aria-labelledby":i,style:R,ref:function(t){return e._host=t},id:o,className:this._classNames.container,tabIndex:w?0:-1,onKeyDown:this._onMenuKeyDown,onKeyUp:this._onKeyUp,onFocusCapture:this._onMenuFocusCapture},C&&v.createElement("div",{className:this._classNames.title}," ",C," "),r&&r.length?v.createElement(Le,m.a({},this._adjustedFocusZoneProps,{className:this._classNames.root,isCircularNavigation:!0,handleTabKey:Se.all}),D({items:r,totalItemCount:U,hasCheckmarks:F,hasIcons:j},this._onRenderMenuList)):null,N&&P(N,this._onRenderSubMenu)))}return null},t.prototype._onMenuOpened=function(){this._events.on(this._targetWindow,"resize",this.dismiss),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover,this._gotMouseMove=!1,this.props.onMenuOpened&&this.props.onMenuOpened(this.props)},t.prototype._onMenuClosed=function(){this._events.off(this._targetWindow,"resize",this.dismiss),this._tryFocusPreviousActiveElement(),this.props.onMenuDismissed&&this.props.onMenuDismissed(this.props),this._shouldUpdateFocusOnMouseEvent=!this.props.delayUpdateFocusOnHover,this.setState({expandedByMouseClick:void 0,dismissedMenuItemKey:void 0,expandedMenuItemKey:void 0,submenuTarget:void 0})},t.prototype._tryFocusPreviousActiveElement=function(){var e=this;this._isFocusingPreviousElement&&this._previousActiveElement&&setTimeout((function(){e._previousActiveElement&&e._previousActiveElement.focus()}),0)},t.prototype._getFocusZoneDirection=function(){var e=this.props.focusZoneProps;return e&&void 0!==e.direction?e.direction:le.vertical},t.prototype._onRenderSubMenu=function(e,t){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")},t.prototype._renderMenuItem=function(e,t,n,r,i,o){var a,s=[],u=e.iconProps||{iconName:"None"},l=e.getItemClassNames,c=e.itemProps,d=c?c.styles:void 0,f=e.itemType===Ke.Divider?e.className:void 0,h=e.submenuIconProps?e.submenuIconProps.className:"";if(l)a=l(this.props.theme,rt(e),this.state.expandedMenuItemKey===e.key,!!tt(e),!!e.href,"None"!==u.iconName,e.className,f,u.className,h,e.primaryDisabled);else{var p={theme:this.props.theme,disabled:rt(e),expanded:this.state.expandedMenuItemKey===e.key,checked:!!tt(e),isAnchorLink:!!e.href,knownIcon:"None"!==u.iconName,itemClassName:e.className,dividerClassName:f,iconClassName:u.className,subMenuClassName:h,primaryDisabled:e.primaryDisabled},g=this._classNames.subComponentStyles?this._classNames.subComponentStyles.menuItem:void 0;a=Object(b.X)(Yn(Bn,p),Yn(g,p),Yn(d,p))}switch("-"!==e.text&&"-"!==e.name||(e.itemType=Ke.Divider),e.itemType){case Ke.Divider:s.push(this._renderSeparator(t,a));break;case Ke.Header:s.push(this._renderSeparator(t,a));var m=this._renderHeaderMenuItem(e,a,t,i,o);s.push(this._renderListItem(m,e.key||t,a,e.title));break;case Ke.Section:s.push(this._renderSectionItem(e,a,t,i,o));break;default:var v=this._renderNormalItem(e,a,t,n,r,i,o);s.push(this._renderListItem(v,e.key||t,a,e.title))}return s},t.prototype._renderSectionItem=function(e,t,n,r,i){var o=this,a=e.sectionProps;if(a){var s;if(a.title){var u={key:"section-"+a.title+"-title",itemType:Ke.Header,text:a.title};s=this._renderHeaderMenuItem(u,t,n,r,i)}return a.items&&a.items.length>0?v.createElement("li",{role:"presentation",key:a.key||e.key||"section-"+n},v.createElement("div",{role:"group"},v.createElement("ul",{className:this._classNames.list},a.topDivider&&this._renderSeparator(n,t,!0,!0),s&&this._renderListItem(s,e.key||n,t,e.title),a.items.map((function(e,t){return o._renderMenuItem(e,t,t,a.items.length,r,i)})),a.bottomDivider&&this._renderSeparator(n,t,!1,!0)))):void 0}},t.prototype._renderListItem=function(e,t,n,r){return v.createElement("li",{role:"presentation",title:r,key:t,className:n.item},e)},t.prototype._renderSeparator=function(e,t,n,r){return r||e>0?v.createElement("li",{role:"separator",key:"separator-"+e+(void 0===n?"":n?"-top":"-bottom"),className:t.divider,"aria-hidden":"true"}):null},t.prototype._renderNormalItem=function(e,t,n,r,i,o,a){return e.onRender?e.onRender(m.a({"aria-posinset":r+1,"aria-setsize":i},e),this.dismiss):e.href?this._renderAnchorMenuItem(e,t,n,r,i,o,a):e.split&&nt(e)?this._renderSplitButton(e,t,n,r,i,o,a):this._renderButtonItem(e,t,n,r,i,o,a)},t.prototype._renderHeaderMenuItem=function(e,t,n,r,i){var o=this.props.contextualMenuItemAs,a=void 0===o?zn:o,s=e.itemProps,u=s&&Object(E.j)(s,E.h);return v.createElement("div",m.a({className:this._classNames.header},u,{style:e.style}),v.createElement(a,m.a({item:e,classNames:t,index:n,onCheckmarkClick:r?this._onItemClick:void 0,hasIcons:i},s)))},t.prototype._renderAnchorMenuItem=function(e,t,n,r,i,o,a){var s=this.props.contextualMenuItemAs,u=this.state.expandedMenuItemKey;return v.createElement(Hn,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:i,hasCheckmarks:o,hasIcons:a,contextualMenuItemAs:s,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onAnchorClick,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:u,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},t.prototype._renderButtonItem=function(e,t,n,r,i,o,a){var s=this.props.contextualMenuItemAs,u=this.state.expandedMenuItemKey;return v.createElement(Vn,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:i,hasCheckmarks:o,hasIcons:a,contextualMenuItemAs:s,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,getSubMenuId:this._getSubMenuId,expandedMenuItemKey:u,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss})},t.prototype._renderSplitButton=function(e,t,n,r,i,o,a){var s=this.props.contextualMenuItemAs,u=this.state.expandedMenuItemKey;return v.createElement(Kn,{item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:i,hasCheckmarks:o,hasIcons:a,contextualMenuItemAs:s,onItemMouseEnter:this._onItemMouseEnterBase,onItemMouseLeave:this._onMouseItemLeave,onItemMouseMove:this._onItemMouseMoveBase,onItemMouseDown:this._onItemMouseDown,executeItemClick:this._executeItemClick,onItemClick:this._onItemClick,onItemClickBase:this._onItemClickBase,onItemKeyDown:this._onItemKeyDown,openSubMenu:this._onItemSubMenuExpand,dismissSubMenu:this._onSubMenuDismiss,dismissMenu:this.dismiss,expandedMenuItemKey:u,onTap:this._onPointerAndTouchEvent})},t.prototype._isAltOrMeta=function(e){return e.which===ge.a.alt||"Meta"===e.key},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._updateFocusOnMouseEvent=function(e,t,n){var r=this,i=n||t.currentTarget,o=this.props.subMenuHoverDelay,a=void 0===o?250:o;e.key!==this.state.expandedMenuItemKey&&(void 0!==this._enterTimerId&&(this._async.clearTimeout(this._enterTimerId),this._enterTimerId=void 0),void 0===this.state.expandedMenuItemKey&&i.focus(),nt(e)?(t.stopPropagation(),this._enterTimerId=this._async.setTimeout((function(){i.focus(),r.setState({expandedByMouseClick:!0}),r._onItemSubMenuExpand(e,i),r._enterTimerId=void 0}),a)):this._enterTimerId=this._async.setTimeout((function(){r._onSubMenuDismiss(t),i.focus(),r._enterTimerId=void 0}),a))},t.prototype._getSubmenuProps=function(){var e=this.state,t=e.submenuTarget,n=e.expandedMenuItemKey,r=this._findItemByKey(n),i=null;return r&&(i={items:Xn(r),target:t,onDismiss:this._onSubMenuDismiss,isSubMenu:!0,id:this.state.subMenuId,shouldFocusOnMount:!0,shouldFocusOnContainer:this.state.expandedByMouseClick,directionalHint:Object(C.a)()?$e.leftTopEdge:$e.rightTopEdge,className:this.props.className,gapSpace:0,isBeakVisible:!1},r.subMenuProps&&Object(Oe.a)(i,r.subMenuProps)),i},t.prototype._findItemByKey=function(e){var t=this.props.items;return this._findItemByKeyFromItems(e,t)},t.prototype._findItemByKeyFromItems=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.itemType===Ke.Section&&i.sectionProps){var o=this._findItemByKeyFromItems(e,i.sectionProps.items);if(o)return o}else if(i.key&&i.key===e)return i}},t.prototype._setTargetWindowAndElement=function(e){if(e)if("string"===typeof e){var t=Object(Pe.a)();this._target=t?t.querySelector(e):null,this._targetWindow=Object(F.a)()}else if(e.stopPropagation)this._targetWindow=Object(F.a)(e.toElement),this._target=e;else if(void 0!==e.x&&void 0!==e.y)this._targetWindow=Object(F.a)(),this._target=e;else{var n=e;this._targetWindow=Object(F.a)(n),this._target=e}else this._targetWindow=Object(F.a)()},t.defaultProps={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:$e.bottomAutoEdge,beakWidth:16},t=m.b([ct],t)}(O.a),Jn={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};function er(e){return v.createElement(Qn,m.a({},e))}var tr,nr=Qn=Object(S.a)($n,(function(e){var t=e.className,n=e.theme,r=Object(b.N)(Jn,n),i=n.palette,o=n.fonts,a=n.semanticColors;return{root:[n.fonts.medium,r.root,r.isopen,{backgroundColor:a.bodyBackground,minWidth:"180px"},t],container:[r.container,{selectors:{":focus":{outline:0}}}],list:[r.list,r.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[r.header,o.small,{fontWeight:b.i.semibold,color:a.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:"32px",lineHeight:"32px",cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[r.title,{fontSize:"16px",paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:i.neutralLight}],subComponentStyles:{callout:{},menuItem:{}}}}),(function(){return{onRenderSubMenu:er}}),{scope:"ContextualMenu"}),rr={msButton:"ms-Button",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},ir=Object(y.b)((function(e,t,n,r,i,o,a,s,u,l){var c,d,f=Object(b.N)(rr,e||{}),h=u&&!l;return Object(b.X)({root:[f.msButton,t.root,r,s&&["is-checked",t.rootChecked],h&&["is-expanded",t.rootExpanded,{selectors:(c={},c[":hover ."+f.msButtonIcon]=t.iconExpandedHovered,c[":hover ."+f.msButtonMenuIcon]=t.menuIconExpandedHovered||t.rootExpandedHovered,c[":hover"]=t.rootExpandedHovered,c)}],a&&["is-disabled",t.rootDisabled],!a&&!h&&!s&&{selectors:(d={":hover":t.rootHovered},d[":hover ."+f.msButtonLabel]=t.labelHovered,d[":hover ."+f.msButtonIcon]=t.iconHovered,d[":hover ."+f.msButtonDescription]=t.descriptionHovered,d[":hover ."+f.msButtonMenuIcon]=t.menuIconHovered,d[":focus"]=t.rootFocused,d[":active"]=t.rootPressed,d[":active ."+f.msButtonIcon]=t.iconPressed,d[":active ."+f.msButtonDescription]=t.descriptionPressed,d[":active ."+f.msButtonMenuIcon]=t.menuIconPressed,d)},a&&s&&[t.rootCheckedDisabled],!a&&s&&{selectors:{":hover":t.rootCheckedHovered,":active":t.rootCheckedPressed}},n],flexContainer:[f.msButtonFlexContainer,t.flexContainer],textContainer:[f.msButtonTextContainer,t.textContainer],icon:[f.msButtonIcon,i,t.icon,h&&t.iconExpanded,s&&t.iconChecked,a&&t.iconDisabled],label:[f.msButtonLabel,t.label,s&&t.labelChecked,a&&t.labelDisabled],menuIcon:[f.msButtonMenuIcon,o,t.menuIcon,s&&t.menuIconChecked,a&&!l&&t.menuIconDisabled,!a&&!h&&!s&&{selectors:{":hover":t.menuIconHovered,":active":t.menuIconPressed}},h&&["is-expanded",t.menuIconExpanded]],description:[f.msButtonDescription,t.description,s&&t.descriptionChecked,a&&t.descriptionDisabled],screenReaderText:[f.msButtonScreenReaderText,t.screenReaderText]})})),or=Object(y.b)((function(e,t,n,r,i){return{root:Object(b.Y)(e.splitButtonMenuButton,n&&[e.splitButtonMenuButtonExpanded],t&&[e.splitButtonMenuButtonDisabled],r&&!t&&[e.splitButtonMenuButtonChecked]),splitButtonContainer:Object(b.Y)(e.splitButtonContainer,r&&!t&&[e.splitButtonContainerChecked,{selectors:{":hover":e.splitButtonContainerCheckedHovered}}],!t&&!r&&[{selectors:{":hover":e.splitButtonContainerHovered,":focus":e.splitButtonContainerFocused}}],t&&e.splitButtonContainerDisabled),icon:Object(b.Y)(e.splitButtonMenuIcon,t&&e.splitButtonMenuIconDisabled,!t&&i&&e.splitButtonMenuIcon),flexContainer:Object(b.Y)(e.splitButtonFlexContainer),divider:Object(b.Y)(e.splitButtonDivider,(i||t)&&e.splitButtonDividerDisabled)}})),ar=function(e){function t(t,n){var r=e.call(this,t)||this;return r._buttonElement=v.createRef(),r._splitButtonContainer=v.createRef(),r._renderedPersistentMenu=!1,r._onRenderIcon=function(e,t){var n=r.props.iconProps;if(n&&(void 0!==n.iconName||n.imageProps)){var i=n.className,o=m.d(n,["className"]);return v.createElement(K,m.a({className:Object(z.a)(r._classNames.icon,i)},o))}return null},r._onRenderTextContents=function(){var e=r.props,t=e.text,n=e.children,i=e.secondaryText,o=void 0===i?r.props.description:i,a=e.onRenderText,s=void 0===a?r._onRenderText:a,u=e.onRenderDescription,l=void 0===u?r._onRenderDescription:u;return t||"string"===typeof n||o?v.createElement("div",{className:r._classNames.textContainer},s(r.props,r._onRenderText),l(r.props,r._onRenderDescription)):[s(r.props,r._onRenderText),l(r.props,r._onRenderDescription)]},r._onRenderText=function(){var e=r.props.text,t=r.props.children;return void 0===e&&"string"===typeof t&&(e=t),r._hasText()?v.createElement("div",{key:r._labelId,className:r._classNames.label,id:r._labelId},e):null},r._onRenderChildren=function(){var e=r.props.children;return"string"===typeof e?null:e},r._onRenderDescription=function(e){var t=e.secondaryText,n=void 0===t?r.props.description:t;return n?v.createElement("div",{key:r._descriptionId,className:r._classNames.description,id:r._descriptionId},n):null},r._onRenderAriaDescription=function(){var e=r.props.ariaDescription;return e?v.createElement("span",{className:r._classNames.screenReaderText,id:r._ariaDescriptionId},e):null},r._onRenderMenuIcon=function(e){var t=r.props.menuIconProps;return v.createElement(K,m.a({iconName:"ChevronDown"},t,{className:r._classNames.menuIcon}))},r._onRenderMenu=function(e){var t=e.onDismiss,n=void 0===t?r._dismissMenu:t,i=r.props.menuAs||nr;return e.ariaLabel||e.labelElementId||!r._hasText()||(e=m.a({},e,{labelElementId:r._labelId})),v.createElement(i,m.a({id:r._labelId+"-menu",directionalHint:$e.bottomLeftEdge},e,{shouldFocusOnContainer:r.state.menuProps?r.state.menuProps.shouldFocusOnContainer:void 0,shouldFocusOnMount:r.state.menuProps?r.state.menuProps.shouldFocusOnMount:void 0,hidden:r.state.menuProps?r.state.menuProps.hidden:void 0,className:Object(z.a)("ms-BaseButton-menuhost",e.className),target:r._isSplitButton?r._splitButtonContainer.current:r._buttonElement.current,onDismiss:n}))},r._dismissMenu=function(){var e=null;r.props.persistMenu&&r.state.menuProps&&(e=m.a({},r.state.menuProps,{hidden:!0})),r.setState({menuProps:e})},r._openMenu=function(e,t){if(void 0===t&&(t=!0),r.props.menuProps){var n=m.a({},r.props.menuProps,{shouldFocusOnContainer:e,shouldFocusOnMount:t});r.props.persistMenu&&(r._renderedPersistentMenu=!0,n.hidden=!1),r.setState({menuProps:n})}},r._onToggleMenu=function(e){var t=r.state.menuProps,n=!0;r.props.menuProps&&!1===r.props.menuProps.shouldFocusOnMount&&(n=!1),r.props.persistMenu?!r._renderedPersistentMenu||t&&t.hidden?r._openMenu(e,n):r._dismissMenu():t?r._dismissMenu():r._openMenu(e,n)},r._onSplitContainerFocusCapture=function(e){var t=r._splitButtonContainer.current;!t||e.target&&Object(Ae.a)(e.target,t)||t.focus()},r._onSplitButtonPrimaryClick=function(e){r._isExpanded&&r._dismissMenu(),!r._processingTouch&&r.props.onClick?r.props.onClick(e):r._processingTouch&&r._onMenuClick(e)},r._onKeyDown=function(e){!r.props.disabled||e.which!==ge.a.enter&&e.which!==ge.a.space?r.props.disabled||(r.props.menuProps?r._onMenuKeyDown(e):void 0!==r.props.onKeyDown&&r.props.onKeyDown(e)):(e.preventDefault(),e.stopPropagation())},r._onKeyUp=function(e){r.props.disabled||void 0===r.props.onKeyUp||r.props.onKeyUp(e)},r._onKeyPress=function(e){r.props.disabled||void 0===r.props.onKeyPress||r.props.onKeyPress(e)},r._onMouseUp=function(e){r.props.disabled||void 0===r.props.onMouseUp||r.props.onMouseUp(e)},r._onMouseDown=function(e){r.props.disabled||void 0===r.props.onMouseDown||r.props.onMouseDown(e)},r._onClick=function(e){r.props.disabled||(r.props.menuProps?r._onMenuClick(e):void 0!==r.props.onClick&&r.props.onClick(e))},r._onSplitButtonContainerKeyDown=function(e){e.which===ge.a.enter?r._buttonElement.current&&(r._buttonElement.current.click(),e.preventDefault(),e.stopPropagation()):r._onMenuKeyDown(e)},r._onMenuKeyDown=function(e){if(!r.props.disabled){r.props.onKeyDown&&r.props.onKeyDown(e);var t=e.which===ge.a.up,n=e.which===ge.a.down;if(!e.defaultPrevented&&r._isValidMenuOpenKey(e)){var i=r.props.onMenuClick;i&&i(e,r),r._onToggleMenu(!1),e.preventDefault(),e.stopPropagation()}e.altKey||e.metaKey||!t&&!n||(r.setState((function(e){return e.menuProps&&!e.menuProps.shouldFocusOnMount?{menuProps:m.a({},e.menuProps,{shouldFocusOnMount:!0})}:e})),r.state.menuProps&&!r.state.menuProps.shouldFocusOnMount&&(e.preventDefault(),e.stopPropagation()))}},r._onTouchStart=function(){r._isSplitButton&&r._splitButtonContainer.current&&!("onpointerdown"in r._splitButtonContainer.current)&&r._handleTouchAndPointerEvent()},r._onMenuClick=function(e){var t=r.props.onMenuClick;if(t&&t(e,r),!e.defaultPrevented){var n=0!==e.nativeEvent.detail||"mouse"===e.nativeEvent.pointerType;r._onToggleMenu(n),e.preventDefault(),e.stopPropagation()}},r._warnConditionallyRequiredProps(["menuProps","onClick"],"split",r.props.split),r._warnDeprecations({rootProps:void 0,description:"secondaryText",toggled:"checked"}),r._labelId=Object(Oe.c)(),r._descriptionId=Object(Oe.c)(),r._ariaDescriptionId=Object(Oe.c)(),r.state={menuProps:null},r}return m.c(t,e),Object.defineProperty(t.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&!0===this.props.split},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isExpanded",{get:function(){var e=this.state.menuProps;return this.props.persistMenu?!!e&&!e.hidden:!!e},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.ariaDescription,n=e.ariaLabel,r=e.ariaHidden,i=e.className,o=e.disabled,a=e.allowDisabledFocus,s=e.primaryDisabled,u=e.secondaryText,l=void 0===u?this.props.description:u,c=e.href,d=e.iconProps,f=e.menuIconProps,h=e.styles,p=e.checked,g=e.variantClassName,m=e.theme,v=e.toggle,b=e.getClassNames,y=o||s;this._classNames=b?b(m,i,g,d&&d.className,f&&f.className,y,p,this._isExpanded,this.props.split,!!a):ir(m,h,i,g,d&&d.className,f&&f.className,y,p,this._isExpanded,this.props.split);var _=this._ariaDescriptionId,x=this._labelId,S=this._descriptionId,w=!y&&!!c,C=w?"a":"button",k=Object(E.j)(Object(Oe.a)(w?{}:{type:"button"},this.props.rootProps,this.props),w?E.a:E.e,["disabled"]),O=n||k["aria-label"],T=void 0;t?T=_:l?T=S:k["aria-describedby"]&&(T=k["aria-describedby"]);var P=void 0;O||(k["aria-labelledby"]?P=k["aria-labelledby"]:T&&(P=this._hasText()?x:void 0));var I=!(!1===this.props["data-is-focusable"]||o&&!a||this._isSplitButton),D=Object(Oe.a)(k,{className:this._classNames.root,ref:this._buttonElement,disabled:y&&!a,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":O,"aria-labelledby":P,"aria-describedby":T,"aria-disabled":y,"data-is-focusable":I,"aria-pressed":v?!!p:void 0});return r&&(D["aria-hidden"]=!0),this._isSplitButton?this._onRenderSplitButtonContent(C,D):(this.props.menuProps&&Object(Oe.a)(D,{"aria-expanded":this._isExpanded,"aria-owns":this.state.menuProps?this._labelId+"-menu":null,"aria-haspopup":!0}),this._onRenderContent(C,D))},t.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&"onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0)},t.prototype.componentDidUpdate=function(e,t){this.props.onAfterMenuDismiss&&t.menuProps&&(!this.state.menuProps||this.props.persistMenu&&!t.menuProps.hidden&&this.state.menuProps.hidden)&&this.props.onAfterMenuDismiss()},t.prototype.focus=function(){this._isSplitButton&&this._splitButtonContainer.current?this._splitButtonContainer.current.focus():this._buttonElement.current&&this._buttonElement.current.focus()},t.prototype.dismissMenu=function(){this._dismissMenu()},t.prototype.openMenu=function(e,t){this._openMenu(e,t)},t.prototype._onRenderContent=function(e,t){var n=this,r=this.props,i=e,o=r.menuIconProps,a=r.menuProps,s=r.onRenderIcon,u=void 0===s?this._onRenderIcon:s,l=r.onRenderAriaDescription,c=void 0===l?this._onRenderAriaDescription:l,d=r.onRenderChildren,f=void 0===d?this._onRenderChildren:d,h=r.onRenderMenu,p=void 0===h?this._onRenderMenu:h,g=r.onRenderMenuIcon,b=void 0===g?this._onRenderMenuIcon:g,y=r.disabled,_=r.keytipProps;_&&a&&(_=m.a({},_,{hasMenu:!0}));var x=v.createElement(qe,{keytipProps:this._isSplitButton?void 0:_,ariaDescribedBy:t["aria-describedby"],disabled:y},(function(e){return v.createElement(i,m.a({},t,e),v.createElement("div",{className:n._classNames.flexContainer},u(r,n._onRenderIcon),n._onRenderTextContents(),c(r,n._onRenderAriaDescription),f(r,n._onRenderChildren),!n._isSplitButton&&(a||o||n.props.onRenderMenuIcon)&&b(n.props,n._onRenderMenuIcon),n.state.menuProps&&!n.state.menuProps.doNotLayer&&p(a,n._onRenderMenu)))}));return a&&a.doNotLayer?v.createElement("div",{style:{display:"inline-block"}},x,this.state.menuProps&&p(a,this._onRenderMenu)):x},t.prototype._hasText=function(){return null!==this.props.text&&(void 0!==this.props.text||"string"===typeof this.props.children)},t.prototype._onRenderSplitButtonContent=function(e,t){var n=this,r=this.props,i=r.styles,o=void 0===i?{}:i,a=r.disabled,s=r.allowDisabledFocus,u=r.checked,l=r.getSplitButtonClassNames,c=r.primaryDisabled,d=r.menuProps,f=r.toggle,h=this.props.keytipProps,p=l?l(!!a,this._isExpanded,!!u,!!s):o&&or(o,!!a,this._isExpanded,!!u,!!c);Object(Oe.a)(t,{onClick:void 0,tabIndex:-1,"data-is-focusable":!1});var g=t.ariaDescription;h&&d&&(h=m.a({},h,{hasMenu:!0}));var b=Object(E.j)(t,[],["disabled"]);return v.createElement(qe,{keytipProps:h,disabled:a},(function(r){return v.createElement("div",m.a({},b,{"data-ktp-target":r["data-ktp-target"],role:"button","aria-disabled":a,"aria-haspopup":!0,"aria-expanded":n._isExpanded,"aria-pressed":f?!!u:void 0,"aria-describedby":Object(Be.a)(g,r["aria-describedby"]),className:p&&p.splitButtonContainer,onKeyDown:n._onSplitButtonContainerKeyDown,onTouchStart:n._onTouchStart,ref:n._splitButtonContainer,"data-is-focusable":!0,onClick:a||c?void 0:n._onSplitButtonPrimaryClick,tabIndex:!a||s?0:void 0,"aria-roledescription":t["aria-roledescription"],onFocusCapture:n._onSplitContainerFocusCapture}),v.createElement("span",{style:{display:"flex"}},n._onRenderContent(e,t),n._onRenderSplitButtonMenuButton(p,r),n._onRenderSplitButtonDivider(p)))}))},t.prototype._onRenderSplitButtonDivider=function(e){return e&&e.divider?v.createElement("span",{className:e.divider,"aria-hidden":!0}):null},t.prototype._onRenderSplitButtonMenuButton=function(e,n){var r=this.props,i=r.allowDisabledFocus,o=r.checked,a=r.disabled,s=this.props.menuIconProps,u=this.props.splitButtonAriaLabel;void 0===s&&(s={iconName:"ChevronDown"});var l={styles:e,checked:o,disabled:a,allowDisabledFocus:i,onClick:this._onMenuClick,menuProps:void 0,iconProps:m.a({},s,{className:this._classNames.menuIcon}),ariaLabel:u,"aria-haspopup":!0,"aria-expanded":this._isExpanded,"data-is-focusable":!1};return v.createElement(t,m.a({},l,{"data-ktp-execute-target":n["data-ktp-execute-target"],onMouseDown:this._onMouseDown,tabIndex:-1}))},t.prototype._onPointerDown=function(e){"touch"===e.pointerType&&(this._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0}),500)},t.prototype._isValidMenuOpenKey=function(e){return this.props.menuTriggerKeyCode?e.which===this.props.menuTriggerKeyCode:!!this.props.menuProps&&(e.which===ge.a.down&&(e.altKey||e.metaKey))},t.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},t}(O.a),sr={outline:0},ur={fontSize:b.h.icon,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",verticalAlign:"middle",flexShrink:0},lr=Object(y.b)((function(e){var t,n=e.semanticColors,r=n.buttonBorder,i=n.disabledBackground,o=n.disabledText,a={left:-2,top:-2,bottom:-2,right:-2,border:"none",outlineColor:"ButtonText"};return{root:[Object(b.M)(e,{inset:-1,highContrastStyle:a}),e.fonts.medium,{boxSizing:"border-box",border:"1px solid "+r,userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",padding:"0 16px",borderRadius:0,margin:0,selectors:{":active > *":{position:"relative",left:0,top:0}}}],rootDisabled:[Object(b.M)(e,{inset:-1,highContrastStyle:a}),{backgroundColor:i,color:o,cursor:"default",pointerEvents:"none",selectors:(t={":hover":sr,":focus":sr},t[b.j]={color:"grayText",bordercolor:"grayText"},t)}],iconDisabled:{color:o},menuIconDisabled:{color:o},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},textContainer:{flexGrow:1},icon:ur,menuIcon:[ur,{fontSize:b.h.small}],label:{margin:"0 4px",lineHeight:"100%"},screenReaderText:b.U}})),cr=Object(y.b)((function(e,t){var n={position:"absolute",width:1,right:31,top:8,bottom:8},r={splitButtonContainer:[Object(b.M)(e,{highContrastStyle:{left:-2,top:-2,bottom:-2,right:-2,border:"none"}}),{display:"inline-flex"}],splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:{padding:6,height:"auto",boxSizing:"border-box",border:0,borderRadius:0,outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},splitButtonDivider:n,splitButtonDividerDisabled:n,splitButtonMenuButtonDisabled:{pointerEvents:"none",selectors:{":hover":{cursor:"default"}}},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none"}};return Object(b.F)(r,t)})),dr=Object(y.b)((function(e,t){var n,r=lr(e),i=cr(e),o=e.palette,a=e.semanticColors,s={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:a.actionLink},rootHovered:{color:a.actionLinkHovered,selectors:(n={},n[b.j]={borderColor:"Highlight",color:"Highlight"},n)},rootPressed:{color:o.themePrimary},rootExpanded:{color:o.themePrimary},rootChecked:{backgroundColor:a.buttonBackgroundChecked},rootCheckedHovered:{backgroundColor:a.buttonBackgroundHovered},rootDisabled:{color:a.disabledText}};return Object(b.F)(r,s,i,t)})),fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return v.createElement(ar,m.a({},this.props,{variantClassName:"ms-Button--icon",styles:dr(n,t),onRenderText:O.b,onRenderDescription:O.b}))},t=m.b([Object(xn.a)("IconButton",["theme","styles"],!0)],t)}(O.a),hr=n(90),pr=n(177);!function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(tr||(tr={}));var gr,mr,vr=function(){var e={};return{getCachedMeasurement:function(t){if(t&&t.cacheKey&&e.hasOwnProperty(t.cacheKey))return e[t.cacheKey]},addMeasurementToCache:function(t,n){t.cacheKey&&(e[t.cacheKey]=n)}}},br=function(e){void 0===e&&(e=vr());var t,n=e;function r(e,t){var r=n.getCachedMeasurement(e);if(void 0!==r)return r;var i=t();return n.addMeasurementToCache(e,i),i}function i(e,i,o){for(var a=e,s=r(e,o);s>t;){var u=i(a);if(void 0===u)return{renderedData:a,resizeDirection:void 0,dataToMeasure:void 0};if(void 0===(s=n.getCachedMeasurement(u)))return{dataToMeasure:u,resizeDirection:"shrink"};a=u}return{renderedData:a,resizeDirection:void 0,dataToMeasure:void 0}}return{getNextState:function(e,o,a,s){if(void 0!==s||void 0!==o.dataToMeasure){if(s){if(t&&o.renderedData&&!o.dataToMeasure)return m.a({},o,function(e,n,r,i){var o;return o=e>t?i?{resizeDirection:"grow",dataToMeasure:i(r)}:{resizeDirection:"shrink",dataToMeasure:n}:{resizeDirection:"shrink",dataToMeasure:r},t=e,m.a({},o,{measureContainer:!1})}(s,e.data,o.renderedData,e.onGrowData));t=s}var u=m.a({},o,{measureContainer:!1});return o.dataToMeasure&&(u="grow"===o.resizeDirection&&e.onGrowData?m.a({},u,function(e,o,a,s){for(var u=e,l=r(e,a);l<t;){var c=o(u);if(void 0===c)return{renderedData:u,resizeDirection:void 0,dataToMeasure:void 0};if(void 0===(l=n.getCachedMeasurement(c)))return{dataToMeasure:c};u=c}return m.a({resizeDirection:"shrink"},i(u,s,a))}(o.dataToMeasure,e.onGrowData,a,e.onReduceData)):m.a({},u,i(o.dataToMeasure,e.onReduceData,a))),u}},shouldRenderDataForMeasurement:function(e){return!(!e||void 0!==n.getCachedMeasurement(e))},getInitialResizeGroupState:function(e){return{dataToMeasure:m.a({},e),resizeDirection:"grow",measureContainer:!0}}}},yr=Object(pr.a)({isMeasured:hr.bool},(function(){return{isMeasured:!0}})),_r={position:"fixed",visibility:"hidden"},xr={position:"relative"},Sr=function(e){function t(t){var n=e.call(this,t)||this;return n._nextResizeGroupStateProvider=br(),n._root=v.createRef(),n._initialHiddenDiv=v.createRef(),n._updateHiddenDiv=v.createRef(),n._hasRenderedContent=!1,n.state=n._nextResizeGroupStateProvider.getInitialResizeGroupState(n.props.data),n._warnDeprecations({styles:"className"}),n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.onRenderData,r=this.state,i=r.dataToMeasure,o=r.renderedData,a=Object(E.j)(this.props,E.h,["data"]),s=this._nextResizeGroupStateProvider.shouldRenderDataForMeasurement(i),u=!this._hasRenderedContent&&s;return v.createElement("div",m.a({},a,{className:t,ref:this._root}),v.createElement("div",{style:xr},s&&!u&&v.createElement("div",{style:_r,ref:this._updateHiddenDiv},v.createElement(yr,null,n(i))),v.createElement("div",{ref:this._initialHiddenDiv,style:u?_r:void 0,"data-automation-id":"visibleContent"},u?n(i):o&&n(o))))},t.prototype.componentDidMount=function(){this._afterComponentRendered(this.props.direction),this._events.on(window,"resize",this._async.debounce(this._onResize,16,{leading:!0}))},t.prototype.componentWillReceiveProps=function(e){this.setState({dataToMeasure:m.a({},e.data),resizeDirection:"grow",measureContainer:!0})},t.prototype.componentDidUpdate=function(e){this.state.renderedData&&(this._hasRenderedContent=!0,this.props.dataDidRender&&this.props.dataDidRender(this.state.renderedData)),this._afterComponentRendered(this.props.direction)},t.prototype.remeasure=function(){this._root.current&&this.setState({measureContainer:!0})},t.prototype._afterComponentRendered=function(e){var t=this;this._async.requestAnimationFrame((function(){var n=void 0;if(t.state.measureContainer&&t._root.current){var r=t._root.current.getBoundingClientRect();n=e&&e===tr.vertical?r.height:r.width}var i=t._nextResizeGroupStateProvider.getNextState(t.props,t.state,(function(){var n=t._hasRenderedContent?t._updateHiddenDiv:t._initialHiddenDiv;return n.current?e&&e===tr.vertical?n.current.scrollHeight:n.current.scrollWidth:0}),n);i&&t.setState(i)}))},t.prototype._onResize=function(){this._root.current&&this.setState({measureContainer:!0})},t}(O.a),wr=Sr,Cr=n(176);!function(e){e[e.Parent=0]="Parent",e[e.Self=1]="Self"}(gr||(gr={})),function(e){e[e.zero=0]="zero",e[e.medium=1]="medium",e[e.long=2]="long"}(mr||(mr={}));var kr,Er,Or=Object(w.a)(),Tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderContent=function(e){return v.createElement("p",{className:t._classNames.subText},e.content)},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.calloutProps,r=e.delay,i=e.directionalHint,o=e.directionalHintForRTL,a=e.styles,s=e.id,u=e.maxWidth,l=e.onRenderContent,c=void 0===l?this._onRenderContent:l,d=e.targetElement,f=e.theme;return this._classNames=Or(a,{theme:f,className:t||n&&n.className,delay:r,beakWidth:n&&n.beakWidth,gapSpace:n&&n.gapSpace,maxWidth:u}),v.createElement(Tn,m.a({target:d,directionalHint:i,directionalHintForRTL:o},n,Object(E.j)(this.props,E.h,["id"]),{className:this._classNames.root}),v.createElement("div",{className:this._classNames.content,id:s,role:"tooltip",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},c(this.props,this._onRenderContent)))},t.defaultProps={directionalHint:$e.topCenter,delay:mr.medium,maxWidth:"364px",calloutProps:{isBeakVisible:!0,beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1}},t}(v.Component),Pr=Object(S.a)(Tr,(function(e){var t=e.className,n=e.delay,r=e.beakWidth,i=void 0===r?16:r,o=e.gapSpace,a=void 0===o?0:o,s=e.maxWidth,u=e.theme,l=u.palette,c=u.fonts,d=-(Math.sqrt(i*i/2)+a);return{root:["ms-Tooltip",u.fonts.medium,b.a.fadeIn200,{background:l.white,padding:"8px",animationDelay:"300ms",maxWidth:s,selectors:{":after":{content:"''",position:"absolute",bottom:d,left:d,right:d,top:d}}},n===mr.zero&&{animationDelay:"0s"},n===mr.long&&{animationDelay:"500ms"},t],content:["ms-Tooltip-content",c.small,{color:l.neutralPrimary,wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden"}],subText:["ms-Tooltip-subtext",{fontSize:"inherit",fontWeight:"inherit",color:"inherit",margin:0}]}}),void 0,{scope:"Tooltip"}),Ir=Object(w.a)(),Dr=function(e){function t(n){var r=e.call(this,n)||this;return r._tooltipHost=v.createRef(),r._closingTimer=-1,r.show=function(){r._toggleTooltip(!0)},r.dismiss=function(){r._hideTooltip()},r._onTooltipMouseEnter=function(e){var n=r.props.overflowMode;if(t._currentVisibleTooltip&&t._currentVisibleTooltip!==r&&t._currentVisibleTooltip.dismiss(),t._currentVisibleTooltip=r,void 0!==n){var i=r._getTargetElement();if(i&&!Object(Cr.b)(i))return}r._clearDismissTimer(),e.target&&Object(Ae.a)(e.target,r._getTargetElement())||r._toggleTooltip(!0)},r._onTooltipMouseLeave=function(e){r.props.closeDelay?(r._clearDismissTimer(),r._closingTimer=r._async.setTimeout((function(){r._toggleTooltip(!1)}),r.props.closeDelay)):r._toggleTooltip(!1),t._currentVisibleTooltip===r&&(t._currentVisibleTooltip=void 0)},r._clearDismissTimer=function(){r._async.clearTimeout(r._closingTimer)},r._hideTooltip=function(){r._toggleTooltip(!1)},r.state={isTooltipVisible:!1},r}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.calloutProps,n=e.children,r=e.content,i=e.delay,o=e.directionalHint,a=e.directionalHintForRTL,s=e.hostClassName,u=e.id,l=e.setAriaDescribedBy,c=void 0===l||l,d=e.tooltipProps,f=e.styles,h=e.theme;this._classNames=Ir(f,{theme:h,className:s});var p=this.state.isTooltipVisible,g=u||Object(Oe.c)("tooltip"),b=!!(r||d&&d.onRenderContent&&d.onRenderContent()),y=p&&b,_=c&&p&&b?g:void 0;return v.createElement("div",m.a({className:this._classNames.root,ref:this._tooltipHost},{onFocusCapture:this._onTooltipMouseEnter},{onBlurCapture:this._hideTooltip},{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave,"aria-describedby":_}),n,y&&v.createElement(Pr,m.a({id:g,delay:i,content:r,targetElement:this._getTargetElement(),directionalHint:o,directionalHintForRTL:a,calloutProps:Object(Oe.a)({},t,{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave}),onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave},Object(E.j)(this.props,E.h),d)))},t.prototype.componentWillUnmount=function(){t._currentVisibleTooltip&&t._currentVisibleTooltip===this&&(t._currentVisibleTooltip=void 0)},t.prototype._getTargetElement=function(){if(this._tooltipHost.current){var e=this.props.overflowMode;if(void 0!==e)switch(e){case gr.Parent:return this._tooltipHost.current.parentElement;case gr.Self:return this._tooltipHost.current}return this._tooltipHost.current}},t.prototype._toggleTooltip=function(e){var t=this;this.state.isTooltipVisible!==e&&this.setState({isTooltipVisible:e},(function(){return t.props.onTooltipToggle&&t.props.onTooltipToggle(t.state.isTooltipVisible)}))},t.defaultProps={delay:mr.medium},t}(O.a),Ar={root:"ms-TooltipHost"},Mr=Object(S.a)(Dr,(function(e){var t=e.className,n=e.theme;return{root:[Object(b.N)(Ar,n).root,{display:"inline"},t]}}),void 0,{scope:"TooltipHost"}),jr=Object(w.a)(),Rr=function(){return null},Fr=function(e){function t(t){var n=e.call(this,t)||this;return n._focusZone=v.createRef(),n._onReduceData=function(e){var t=e.renderedItems,n=e.renderedOverflowItems,r=e.props.overflowIndex,i=t[r];if((t=t.slice()).splice(r,1),n=n.concat([i]),void 0!==i)return m.a({},e,{renderedItems:t,renderedOverflowItems:n})},n._onRenderBreadcrumb=function(e){var t=e.props,r=t.ariaLabel,i=t.dividerAs,o=void 0===i?K:i,a=t.onRenderItem,s=void 0===a?n._onRenderItem:a,u=t.overflowAriaLabel,l=t.overflowIndex,c=t.onRenderOverflowIcon,d=e.renderedOverflowItems,f=e.renderedItems,h=d.map((function(e,t){return{name:e.text,key:e.key,onClick:e.onClick?n._onBreadcrumbClicked.bind(n,e):null,href:e.href}})),p=f.length-1,g=d&&0!==d.length,b=f.map((function(e,t){return v.createElement("li",{className:n._classNames.listItem,key:e.key||String(t)},s(e,n._onRenderItem),(t!==p||g&&t===l-1)&&v.createElement(o,{className:n._classNames.chevron,iconName:Object(C.a)()?"ChevronLeft":"ChevronRight",item:e}))}));if(g){var y=c?{}:{iconName:"More"},_=c||Rr;b.splice(l,0,v.createElement("li",{className:n._classNames.overflow,key:"overflow"},v.createElement(fr,{className:n._classNames.overflowButton,iconProps:y,role:"button","aria-haspopup":"true",ariaLabel:u,onRenderMenuIcon:_,menuProps:{items:h,directionalHint:$e.bottomLeftEdge}}),l!==p+1&&v.createElement(o,{className:n._classNames.chevron,iconName:Object(C.a)()?"ChevronLeft":"ChevronRight",item:d[d.length-1]})))}var x=Object(E.j)(n.props,E.k,["className"]);return v.createElement("div",m.a({className:n._classNames.root,role:"navigation","aria-label":r},x),v.createElement(Le,m.a({componentRef:n._focusZone,direction:le.horizontal},n.props.focusZoneProps),v.createElement("ol",{className:n._classNames.list},b)))},n._onRenderItem=function(e){return e.onClick||e.href?v.createElement(Qe,{className:n._classNames.itemLink,href:e.href,"aria-current":e.isCurrentItem?"page":void 0,onClick:n._onBreadcrumbClicked.bind(n,e)},v.createElement(Mr,m.a({content:e.text,overflowMode:gr.Parent},n.props.tooltipHostProps),e.text)):v.createElement("span",{className:n._classNames.item},v.createElement(Mr,m.a({content:e.text,overflowMode:gr.Parent},n.props.tooltipHostProps),e.text))},n._onBreadcrumbClicked=function(e,t){e.onClick&&e.onClick(t,e)},n._validateProps(t),n}return m.c(t,e),t.prototype.focus=function(){this._focusZone.current&&this._focusZone.current.focus()},t.prototype.render=function(){var e=this.props,t=e.onReduceData,n=void 0===t?this._onReduceData:t,r=e.overflowIndex,i=e.maxDisplayedItems,o=e.items,a=e.className,s=e.theme,u=e.styles,l=o.slice(),c=l.splice(r,l.length-i),d={props:this.props,renderedItems:l,renderedOverflowItems:c};return this._classNames=jr(u,{className:a,theme:s}),v.createElement(wr,{onRenderData:this._onRenderBreadcrumb,onReduceData:n,data:d})},t.prototype.componentWillReceiveProps=function(e){this._validateProps(e)},t.prototype._validateProps=function(e){var t=e.maxDisplayedItems,n=e.overflowIndex,r=e.items;if(n<0||t>1&&n>t-1||r.length>0&&n>r.length-1)throw new Error("Breadcrumb: overflowIndex out of range")},t.defaultProps={items:[],maxDisplayedItems:999,overflowIndex:0},t}(O.a),Nr={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},Lr=Object(b.R)(0,b.r),Br=Object(b.R)(b.v,b.q),zr=Object(S.a)(Fr,(function(e){var t,n,r,i,o=e.className,a=e.theme;return{root:["ms-Breadcrumb",a.fonts.medium,{margin:"23px 0 1px"},o],list:["ms-Breadcrumb-list",{whiteSpace:"nowrap",padding:0,margin:0,display:"flex",alignItems:"stretch"}],listItem:["ms-Breadcrumb-listItem",{listStyleType:"none",margin:"0",padding:"0",display:"flex",position:"relative",alignItems:"center"}],chevron:["ms-Breadcrumb-chevron",{color:a.palette.neutralSecondary,fontSize:a.fonts.small.fontSize,selectors:(t={},t[b.j]={color:"WindowText",MsHighContrastAdjust:"none"},t[Br]={fontSize:8},t[Lr]={fontSize:8},t)}],overflow:["ms-Breadcrumb-overflow",{position:"relative",display:"flex",alignItems:"center"}],overflowButton:["ms-Breadcrumb-overflowButton",Object(b.M)(a),Nr,{fontSize:16,height:"100%",cursor:"pointer",selectors:(n={":hover":{backgroundColor:a.palette.neutralLighter},":active":{backgroundColor:a.palette.neutralTertiaryAlt,color:a.semanticColors.bodyText},":hover:active":{backgroundColor:a.palette.neutralQuaternary}},n[Lr]={padding:"4px 6px"},n[Br]={fontSize:a.fonts.mediumPlus.fontSize},n)}],itemLink:["ms-Breadcrumb-itemLink",Object(b.M)(a),Nr,a.fonts.xLarge,{textDecoration:"none",color:a.semanticColors.bodyText,padding:"0 8px",selectors:(r={":hover":{backgroundColor:a.semanticColors.menuItemBackgroundHovered,color:"initial",cursor:"pointer",selectors:(i={},i[b.j]={color:"Highlight"},i)},":focus":{color:a.palette.neutralDark},":active":{backgroundColor:a.palette.neutralTertiaryAlt,color:a.palette.neutralPrimary}},r[Br]=a.fonts.large,r[Lr]=[a.fonts.medium],r["."+jn.a+" &:focus"]={outline:"none"},r)}],item:["ms-Breadcrumb-item",a.fonts.xLarge,{color:a.semanticColors.bodyText,padding:"0 8px",selectors:{":hover":{cursor:"default"}}}]}}),void 0,{scope:"Breadcrumb"});!function(e){e[e.button=0]="button",e[e.anchor=1]="anchor"}(kr||(kr={})),function(e){e[e.normal=0]="normal",e[e.primary=1]="primary",e[e.hero=2]="hero",e[e.compound=3]="compound",e[e.command=4]="command",e[e.icon=5]="icon",e[e.default=6]="default"}(Er||(Er={}));var Ur=n(82);function Hr(e){var t,n,r,i=e.semanticColors,o=i.buttonBackground,a=i.buttonBackgroundChecked,s=i.buttonBackgroundHovered,u=i.buttonText,l=i.buttonTextHovered,c=i.buttonTextChecked,d=i.buttonTextCheckedHovered;return{root:{backgroundColor:o,color:u},rootHovered:{backgroundColor:s,color:l,selectors:(t={},t[b.j]={borderColor:"Highlight",color:"Highlight"},t)},rootPressed:{backgroundColor:a,color:c},rootExpanded:{backgroundColor:a,color:c},rootChecked:{backgroundColor:a,color:c},rootCheckedHovered:{backgroundColor:e.palette.neutralLight,color:d},splitButtonContainer:{selectors:(n={},n[b.j]={border:"none"},n)},splitButtonMenuButton:{color:e.palette.white,backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLight,selectors:(r={},r[b.j]={color:"Highlight"},r)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonDivider:{backgroundColor:e.palette.neutralTertiaryAlt},splitButtonDividerDisabled:{backgroundColor:e.palette.neutralTertiaryAlt},splitButtonMenuButtonChecked:{backgroundColor:e.palette.themePrimary},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.neutralLight},splitButtonMenuIcon:{color:e.palette.neutralPrimary},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary}}}function Vr(e){return{root:{backgroundColor:e.palette.themePrimary,color:e.palette.white,selectors:(t={},t[b.j]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},t)},rootHovered:{backgroundColor:e.palette.themeDarkAlt,color:e.palette.white,selectors:(n={},n[b.j]={color:"Window",backgroundColor:"Highlight"},n)},rootPressed:{backgroundColor:e.palette.themeDark,color:e.palette.white,selectors:(r={},r[b.j]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},r)},rootExpanded:{backgroundColor:e.palette.themeDark,color:e.palette.white},rootChecked:{backgroundColor:e.palette.themeDark,color:e.palette.white},rootCheckedHovered:{backgroundColor:e.palette.themePrimary,color:e.palette.white},rootDisabled:{selectors:(i={},i[b.j]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},i)},splitButtonContainer:{selectors:(o={},o[b.j]={border:"none"},o)},splitButtonDivider:{backgroundColor:e.palette.white},splitButtonDividerDisabled:{backgroundColor:e.palette.neutralTertiaryAlt},splitButtonMenuButton:{backgroundColor:e.palette.themePrimary,color:e.palette.white,selectors:{":hover":{backgroundColor:e.palette.themeDark,selectors:(a={},a[b.j]={color:"Highlight"},a)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonMenuButtonChecked:{backgroundColor:e.palette.themeDark},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.themeDark},splitButtonMenuIcon:{color:e.palette.white},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary}};var t,n,r,i,o,a}var Wr,Gr,Kr,qr,Yr=Object(y.b)((function(e,t,n){var r=lr(e),i=cr(e),o={root:{minWidth:"80px",height:"32px"},label:{fontWeight:b.i.semibold}};return Object(b.F)(r,o,n?Vr(e):Hr(e),i,t)})),Xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.primary,n=void 0!==t&&t,r=e.styles,i=e.theme;return v.createElement(ar,m.a({},this.props,{variantClassName:n?"ms-Button--primary":"ms-Button--default",styles:Yr(i,r,n),onRenderDescription:O.b}))},t=m.b([Object(xn.a)("DefaultButton",["theme","styles"],!0)],t)}(O.a),Zr=Object(y.b)((function(e,t){var n,r=lr(e),i={root:{padding:"0 4px",height:"40px",color:e.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent"},rootHovered:{color:e.palette.themePrimary,selectors:(n={},n[b.j]={borderColor:"Highlight",color:"Highlight"},n)},iconHovered:{color:e.palette.themePrimary},rootPressed:{color:e.palette.black},rootExpanded:{color:e.palette.themePrimary},iconPressed:{color:e.palette.themeDarker},rootDisabled:{color:e.palette.neutralTertiary,backgroundColor:"transparent"},rootChecked:{color:e.palette.black},iconChecked:{color:e.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:e.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:e.palette.neutralSecondary},textContainer:{flexGrow:0}};return Object(b.F)(r,i,t)})),Qr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return v.createElement(ar,m.a({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:Zr(n,t),onRenderDescription:O.b}))},t=m.b([Object(xn.a)("ActionButton",["theme","styles"],!0)],t)}(O.a),$r=Object(y.b)((function(e,t,n){var r,i,o,a=lr(e),s=cr(e),u={root:{maxWidth:"280px",minHeight:"72px",height:"auto",padding:"20px"},flexContainer:{flexDirection:"row",alignItems:"flex-start",minWidth:"100%",margin:""},textContainer:{textAlign:"left"},icon:{fontSize:"2em",lineHeight:"1em",height:"1em",margin:"0px 8px 0px 0px",flexBasis:"1em",flexShrink:"0"},label:{margin:"0 0 5px",lineHeight:"100%",fontWeight:b.i.semibold},description:[e.fonts.small,{lineHeight:"100%"}]},l={description:{color:e.palette.neutralSecondary},descriptionHovered:{color:e.palette.neutralDark},descriptionPressed:{color:"inherit"},descriptionChecked:{color:"inherit"},descriptionDisabled:{color:"inherit"}},c={description:{color:e.palette.white,selectors:(r={},r[b.j]={color:"Window",backgroundColor:"WindowText",MsHighContrastAdjust:"none"},r)},descriptionHovered:{color:e.palette.white,selectors:(i={},i[b.j]={color:"Window",backgroundColor:"Highlight",MsHighContrastAdjust:"none"},i)},descriptionPressed:{color:"inherit"},descriptionChecked:{color:"inherit"},descriptionDisabled:{color:"inherit",selectors:(o={},o[b.j]={color:"inherit"},o)}};return Object(b.F)(a,u,n?Vr(e):Hr(e),n?c:l,s,t)})),Jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.primary,n=void 0!==t&&t,r=e.styles,i=e.theme;return v.createElement(ar,m.a({},this.props,{variantClassName:n?"ms-Button--compoundPrimary":"ms-Button--compound",styles:$r(i,r,n)}))},t=m.b([Object(xn.a)("CompoundButton",["theme","styles"],!0)],t)}(O.a),ei=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){return v.createElement(Xr,m.a({},this.props,{primary:!0,onRenderDescription:O.b}))},t=m.b([Object(xn.a)("PrimaryButton",["theme","styles"],!0)],t)}(O.a),ti=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,Object(Ur.b)("The Button component has been deprecated. Use specific variants instead. (PrimaryButton, DefaultButton, IconButton, ActionButton, etc.)"),n}return m.c(t,e),t.prototype.render=function(){var e=this.props;switch(e.buttonType){case Er.command:return v.createElement(Qr,m.a({},e));case Er.compound:return v.createElement(Jr,m.a({},e));case Er.icon:return v.createElement(fr,m.a({},e));case Er.primary:return v.createElement(ei,m.a({},e));default:return v.createElement(Xr,m.a({},e))}},t}(O.a),ni=Object(y.b)((function(e,t,n,r){var i,o,a,s,u=lr(e),l=cr(e),c={root:[Object(b.M)(e,{inset:-1,highContrastStyle:{left:4,top:4,bottom:4,right:4,border:"none"}}),e.fonts.medium,{minWidth:"40px",backgroundColor:e.palette.neutralLighter,color:e.palette.neutralPrimary,padding:"0 4px",selectors:(i={},i[b.j]={border:"none"},i)}],rootHovered:{backgroundColor:e.palette.neutralLight,color:e.palette.neutralDark,selectors:(o={},o[b.j]={color:"Highlight"},o)},rootPressed:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootChecked:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootExpanded:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black},rootCheckedHovered:{backgroundColor:e.palette.neutralQuaternary,color:e.palette.black},splitButtonContainer:{selectors:(a={},a[b.j]={border:"none"},a)},splitButtonDivider:{backgroundColor:e.palette.neutralTertiaryAlt,marginTop:4,marginBottom:4},splitButtonMenuButton:{backgroundColor:e.palette.neutralLighter,color:e.palette.neutralPrimary,selectors:{":hover":{backgroundColor:e.palette.neutralLight,color:e.palette.neutralDark,selectors:(s={},s[b.j]={color:"Highlight"},s)}}},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralLighter,selectors:{":hover":{backgroundColor:e.palette.neutralLighter}}},splitButtonMenuButtonChecked:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black,selectors:{":hover":{backgroundColor:e.palette.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.black,selectors:{":hover":{backgroundColor:e.palette.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:e.palette.neutralPrimary},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary},label:{fontWeight:"normal"},icon:{color:e.palette.themeDarkAlt},menuIcon:{color:e.palette.neutralSecondary}};return Object(b.F)(u,c,l,t)})),ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return v.createElement(ar,m.a({},this.props,{variantClassName:"ms-Button--commandBar",styles:ni(n,t),onRenderDescription:O.b}))},t=m.b([Object(xn.a)("CommandBarButton",["theme","styles"],!0)],t)}(O.a),ii=Qr,oi=Object(y.b)((function(e,t,n,r){var i=lr(e),o={root:[Object(b.M)(e,{inset:1,highContrastStyle:{outlineOffset:"-4px",outlineColor:"ActiveBorder"},borderColor:"transparent"}),{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralPrimary}],rootHovered:{backgroundColor:e.palette.neutralTertiaryAlt,color:e.palette.neutralDark},rootPressed:{backgroundColor:e.palette.neutralTertiary,color:e.palette.neutralDark}};return Object(b.F)(i,o,t)})),ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return v.createElement(Xr,m.a({},this.props,{styles:oi(n,t),onRenderDescription:O.b}))},t=m.b([Object(xn.a)("MessageBarButton",["theme","styles"],!0)],t)}(O.a);!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(Wr||(Wr={})),function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(Gr||(Gr={})),function(e){e[e.FirstDay=0]="FirstDay",e[e.FirstFullWeek=1]="FirstFullWeek",e[e.FirstFourDayWeek=2]="FirstFourDayWeek"}(Kr||(Kr={})),function(e){e[e.Day=0]="Day",e[e.Week=1]="Week",e[e.Month=2]="Month",e[e.WorkWeek=3]="WorkWeek"}(qr||(qr={}));var si=n(179),ui={MillisecondsInOneDay:864e5,MillisecondsIn1Sec:1e3,MillisecondsIn1Min:6e4,MillisecondsIn30Mins:18e5,MillisecondsIn1Hour:36e5,MinutesInOneDay:1440,MinutesInOneHour:60,DaysInOneWeek:7,MonthInOneYear:12},li=n(178);function ci(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n}function di(e,t){return ci(e,t*ui.DaysInOneWeek)}function fi(e,t){var n=new Date(e.getTime()),r=n.getMonth()+t;return n.setMonth(r),n.getMonth()!==(r%ui.MonthInOneYear+ui.MonthInOneYear)%ui.MonthInOneYear&&(n=ci(n,-n.getDate())),n}function hi(e,t){var n=new Date(e.getTime());return n.setFullYear(e.getFullYear()+t),n.getMonth()!==(e.getMonth()%ui.MonthInOneYear+ui.MonthInOneYear)%ui.MonthInOneYear&&(n=ci(n,-n.getDate())),n}function pi(e){return new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0)}function gi(e){return new Date(e.getFullYear(),e.getMonth()+1,0,0,0,0,0)}function mi(e,t){return fi(e,t-e.getMonth())}function vi(e,t){return!e&&!t||!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function bi(e,t){return Ci(e)-Ci(t)}function yi(e,t,n,r){var i,o=new Array,a=null;switch(r||(r=[Wr.Monday,Wr.Tuesday,Wr.Wednesday,Wr.Thursday,Wr.Friday]),t){case qr.Day:a=ci(i=wi(e),1);break;case qr.Week:case qr.WorkWeek:i=function(e,t){var n=t-e.getDay();n>0&&(n-=ui.DaysInOneWeek);return ci(e,n)}(wi(e),n),a=ci(i,ui.DaysInOneWeek);break;case qr.Month:a=fi(i=new Date(e.getFullYear(),e.getMonth(),1),1);break;default:return Object(li.a)(t)}var s=i;do{(t!==qr.WorkWeek||-1!==r.indexOf(s.getDay()))&&o.push(s),s=ci(s,1)}while(!vi(s,a));return o}function _i(e,t){for(var n=0,r=t;n<r.length;n++){if(vi(e,r[n]))return!0}return!1}function xi(e,t,n,r){var i=r.getFullYear(),o=r.getMonth(),a=1,s=new Date(i,o,a),u=a+(t+ui.DaysInOneWeek-1)-function(e,t){return e!==Wr.Sunday&&t<e?t+ui.DaysInOneWeek:t}(t,s.getDay()),l=new Date(i,o,u);a=l.getDate();for(var c=[],d=0;d<e;d++)c.push(Si(l,t,n)),a+=ui.DaysInOneWeek,l=new Date(i,o,a);return c}function Si(e,t,n){switch(n){case Kr.FirstFullWeek:return ki(e,t,ui.DaysInOneWeek);case Kr.FirstFourDayWeek:return ki(e,t,4);default:return function(e,t){var n=Ei(e)-1,r=(e.getDay()-n%ui.DaysInOneWeek-t+2*ui.DaysInOneWeek)%ui.DaysInOneWeek;return Math.floor((n+r)/ui.DaysInOneWeek+1)}(e,t)}}function wi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Ci(e){return e.getDate()+(e.getMonth()<<5)+(e.getFullYear()<<9)}function ki(e,t,n){var r=Ei(e)-1,i=e.getDay()-r%ui.DaysInOneWeek,o=Ei(new Date(e.getFullYear()-1,Gr.December,31))-1,a=(t-i+2*ui.DaysInOneWeek)%ui.DaysInOneWeek;0!==a&&a>=n&&(a-=ui.DaysInOneWeek);var s=r-a;return s<0&&(0!==(a=(t-(i-=o%ui.DaysInOneWeek)+2*ui.DaysInOneWeek)%ui.DaysInOneWeek)&&a+1>=n&&(a-=ui.DaysInOneWeek),s=o-a),Math.floor(s/ui.DaysInOneWeek+1)}function Ei(e){for(var t=e.getMonth(),n=e.getFullYear(),r=0,i=0;i<t;i++)r+=Oi(i+1,n);return r+=e.getDate()}function Oi(e,t){return new Date(t,e,0).getDate()}var Ti=n(37);Object(Ti.a)([{rawString:".root_8e9f232b{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:none;box-shadow:none;margin:0;padding:0}.root_8e9f232b *{overflow:visible}.root_8e9f232b *::-moz-focus-inner{border:0}.root_8e9f232b *{outline:transparent}.root_8e9f232b *{position:relative}.ms-Fabric--isFocusVisible .root_8e9f232b *:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.picker_8e9f232b{color:"},{theme:"black",defaultValue:"#000000"},{rawString:";font-size:14px;position:relative}html[dir='ltr'] .picker_8e9f232b{text-align:left}html[dir='rtl'] .picker_8e9f232b{text-align:right}.holder_8e9f232b{-webkit-overflow-scrolling:touch;-webkit-box-sizing:border-box;box-sizing:border-box;display:none}.picker_8e9f232b.pickerIsOpened_8e9f232b .holder_8e9f232b{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block}.pickerIsOpened_8e9f232b{position:relative}.frame_8e9f232b{position:relative}.wrap_8e9f232b{min-height:212px;padding:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap_8e9f232b.goTodaySpacing_8e9f232b{min-height:228px}.dayPicker_8e9f232b{display:block}.header_8e9f232b{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:28px;line-height:44px;width:100%}.divider_8e9f232b{top:0;margin-top:-12px;margin-bottom:-12px}html[dir='ltr'] .divider_8e9f232b{border-right:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}html[dir='rtl'] .divider_8e9f232b{border-left:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.monthAndYear_8e9f232b,.year_8e9f232b,.decade_8e9f232b{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:14px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";font-weight:600;padding:0 5px}.monthAndYear_8e9f232b:hover,.currentYear_8e9f232b:hover,.currentDecade_8e9f232b:hover{cursor:default}.table_8e9f232b{text-align:center;border-collapse:collapse;border-spacing:0;table-layout:fixed;font-size:inherit;margin-top:4px;width:197px}.table_8e9f232b td{margin:0;padding:0}.dayWrapper_8e9f232b,.weekday_8e9f232b{width:28px;height:28px;padding:0;line-height:28px;font-size:12px;font-size:15px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:default}.dayWrapper_8e9f232b *::-moz-focus-inner,.weekday_8e9f232b *::-moz-focus-inner{border:0}.dayWrapper_8e9f232b *,.weekday_8e9f232b *{outline:transparent}.dayWrapper_8e9f232b *,.weekday_8e9f232b *{position:relative}.ms-Fabric--isFocusVisible .dayWrapper_8e9f232b *:focus:after,.ms-Fabric--isFocusVisible .weekday_8e9f232b *:focus:after{content:'';position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.day_8e9f232b{width:24px;height:24px;border-radius:2px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border:none;padding:0;background-color:transparent;line-height:100%;font-size:inherit;color:inherit;font-weight:inherit}@media screen and (-ms-high-contrast: active){.daySelection_8e9f232b .day_8e9f232b:hover,.daySelection_8e9f232b .day_8e9f232b:active{outline:1px solid highlight}}@media screen and (-ms-high-contrast: active){.daySelection_8e9f232b .day_8e9f232b:active{color:highlight}}.dayIsToday_8e9f232b,.dayIsToday_8e9f232b:hover{position:relative;background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}@media screen and (-ms-high-contrast: active){.dayIsToday_8e9f232b,.dayIsToday_8e9f232b:hover{background-color:highlight;border-radius:2px}}@media screen and (-ms-high-contrast: active){.dayIsToday_8e9f232b span,.dayIsToday_8e9f232b:hover span{-ms-high-contrast-adjust:none;color:window}}.dayIsToday_8e9f232b:hover,.dayIsToday_8e9f232b:hover:hover{border-radius:0px}.dayIsDisabled_8e9f232b:before{border-top-color:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.dayIsUnfocused_8e9f232b{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:";font-weight:400}.dayIsFocused_8e9f232b:hover,.dayIsUnfocused_8e9f232b:hover{cursor:pointer;background:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.daySelection_8e9f232b.dayIsHighlighted_8e9f232b:hover,.pickerIsFocused_8e9f232b .dayIsHighlighted_8e9f232b.daySelection_8e9f232b{cursor:pointer}@media screen and (-ms-high-contrast: active){.daySelection_8e9f232b.dayIsHighlighted_8e9f232b:hover,.pickerIsFocused_8e9f232b .dayIsHighlighted_8e9f232b.daySelection_8e9f232b{border:2px solid Highlight}.daySelection_8e9f232b.dayIsHighlighted_8e9f232b:hover :not(.dayIsToday_8e9f232b) span,.pickerIsFocused_8e9f232b .dayIsHighlighted_8e9f232b.daySelection_8e9f232b :not(.dayIsToday_8e9f232b) span{color:Highlight}}@media screen and (-ms-high-contrast: active){.dayIsHighlighted_8e9f232b button.dayIsToday_8e9f232b{border-radius:0px}}@media screen and (-ms-high-contrast: active){.dayIsHighlighted_8e9f232b button.dayIsToday_8e9f232b span{color:Window}}.dayIsFocused_8e9f232b:active,.dayIsHighlighted_8e9f232b{background:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.dayIsFocused_8e9f232b:active.day_8e9f232b,.dayIsHighlighted_8e9f232b.day_8e9f232b{color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";font-weight:600}.dayIsHighlighted_8e9f232b.dayDisabled_8e9f232b,.dayIsHighlighted_8e9f232b.dayDisabled_8e9f232b:hover{background:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:"}.dayBackground_8e9f232b,.dayBackground_8e9f232b:hover,.dayBackground_8e9f232b:active{border-radius:2px}.dayHover_8e9f232b,.dayHover_8e9f232b:hover{cursor:pointer;background:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.dayPress_8e9f232b,.dayPress_8e9f232b:hover{cursor:pointer;font-weight:600;background:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.dayPress_8e9f232b .dayIsToday_8e9f232b,.dayPress_8e9f232b:hover .dayIsToday_8e9f232b{background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.dayIsUnfocused_8e9f232b:active,.dayIsFocused_8e9f232b:active,.dayIsHighlighted_8e9f232b,.dayIsHighlighted_8e9f232b:hover,.dayIsHighlighted_8e9f232b:active,.weekBackground_8e9f232b,.weekBackground_8e9f232b:hover,.weekBackground_8e9f232b:active{background:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";font-weight:600}.dayIsToday_8e9f232b,.pickerIsFocused_8e9f232b .dayIsToday_8e9f232b,.dayIsToday_8e9f232b.day_8e9f232b:active{position:relative;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";font-weight:600;background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.showWeekNumbers_8e9f232b .weekNumbers_8e9f232b{border-right:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box;width:28px;padding:0}.showWeekNumbers_8e9f232b .weekNumbers_8e9f232b .dayWrapper_8e9f232b{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.showWeekNumbers_8e9f232b .weekNumbers_8e9f232b .dayWrapper_8e9f232b.weekIsHighlighted_8e9f232b{color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.showWeekNumbers_8e9f232b .table_8e9f232b{width:225px}.showWeekNumbers_8e9f232b .table_8e9f232b .dayWrapper_8e9f232b,.showWeekNumbers_8e9f232b .table_8e9f232b .weekday_8e9f232b{width:30px}.showWeekNumbersRTL_8e9f232b .weekNumbers_8e9f232b{border-left:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box}.showWeekNumbersRTL_8e9f232b .weekNumbers_8e9f232b .dayWrapper_8e9f232b{color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.showWeekNumbersRTL_8e9f232b .weekNumbers_8e9f232b .dayWrapper_8e9f232b.weekIsHighlighted_8e9f232b{color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.showWeekNumbersRTL_8e9f232b .table_8e9f232b{width:225px}.showWeekNumbersRTL_8e9f232b .table_8e9f232b .dayWrapper_8e9f232b,.showWeekNumbersRTL_8e9f232b .table_8e9f232b .weekday_8e9f232b{width:30px}.monthComponents_8e9f232b,.yearComponents_8e9f232b,.decadeComponents_8e9f232b{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-item-align:end;align-self:flex-end}.closeButton_8e9f232b,.prevMonth_8e9f232b,.nextMonth_8e9f232b,.prevYear_8e9f232b,.nextYear_8e9f232b,.prevDecade_8e9f232b,.nextDecade_8e9f232b{width:28px;height:28px;display:block;text-align:center;line-height:28px;text-align:center;font-size:12px;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";border-radius:2px;position:relative;background-color:transparent;border:none;padding:0}.closeButton_8e9f232b:hover,.prevMonth_8e9f232b:hover,.nextMonth_8e9f232b:hover,.prevYear_8e9f232b:hover,.nextYear_8e9f232b:hover,.prevDecade_8e9f232b:hover,.nextDecade_8e9f232b:hover{color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:";cursor:pointer;outline:1px solid transparent}.prevMonthIsDisabled_8e9f232b,.nextMonthIsDisabled_8e9f232b,.prevYearIsDisabled_8e9f232b,.nextYearIsDisabled_8e9f232b,.prevDecadeIsDisabled_8e9f232b,.nextDecadeIsDisabled_8e9f232b{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";pointer-events:none}.headerToggleView_8e9f232b{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 8px}.headerToggleView_8e9f232b:hover{color:"},{theme:"black",defaultValue:"#000000"},{rawString:";cursor:pointer}@media screen and (-ms-high-contrast: active){.headerToggleView_8e9f232b:hover{outline:1px solid highlight}}@media screen and (-ms-high-contrast: active){.headerToggleView_8e9f232b:hover:active{color:highlight}}.currentYear_8e9f232b,.currentDecade_8e9f232b{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 5px;font-size:14px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";height:28px;line-height:28px;font-weight:600}html[dir='ltr'] .currentYear_8e9f232b,html[dir='ltr'] .currentDecade_8e9f232b{margin-left:5px}html[dir='rtl'] .currentYear_8e9f232b,html[dir='rtl'] .currentDecade_8e9f232b{margin-right:5px}.optionGrid_8e9f232b{position:relative;height:210px;width:196px;margin:4px 0 0 0}html[dir='rtl'] .optionGrid_8e9f232b{margin:4px 0 0 0}.monthOption_8e9f232b,.yearOption_8e9f232b{width:60px;height:60px;line-height:100%;cursor:pointer;margin:0 10px 10px 0;font-size:13px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";text-align:center;border:none;padding:0;background-color:transparent;border-radius:2px}html[dir='ltr'] .monthOption_8e9f232b,html[dir='ltr'] .yearOption_8e9f232b{float:left}html[dir='rtl'] .monthOption_8e9f232b,html[dir='rtl'] .yearOption_8e9f232b{float:right}html[dir='rtl'] .monthOption_8e9f232b,html[dir='rtl'] .yearOption_8e9f232b{margin:0 0 10px 10px}.monthOption_8e9f232b:hover,.yearOption_8e9f232b:hover{color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:";background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";outline:1px solid transparent}@media screen and (-ms-high-contrast: active){.monthOption_8e9f232b:hover,.yearOption_8e9f232b:hover{outline-color:highlight}}@media screen and (-ms-high-contrast: active){.monthOption_8e9f232b:active,.yearOption_8e9f232b:active{color:highlight}}.monthOption_8e9f232b.isHighlighted_8e9f232b,.yearOption_8e9f232b.isHighlighted_8e9f232b{background-color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.dayIsDisabled_8e9f232b,.monthOptionIsDisabled_8e9f232b,.yearOptionIsDisabled_8e9f232b{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";pointer-events:none}.goToday_8e9f232b{bottom:0;color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";cursor:pointer;font-size:12px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:";height:30px;line-height:30px;padding:0 10px;background-color:transparent;border:none;position:absolute !important;-webkit-box-sizing:content-box;box-sizing:content-box}[dir='ltr'] .goToday_8e9f232b{right:13px}[dir='rtl'] .goToday_8e9f232b{left:13px}.goToday_8e9f232b:hover{color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";outline:1px solid transparent}@media screen and (-ms-high-contrast: active){.goToday_8e9f232b:hover{outline-color:highlight}}.goToday_8e9f232b:active{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.goToday_8e9f232b:active{color:highlight}}.goToTodayIsDisabled_8e9f232b{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";pointer-events:none}.goTodayInlineMonth_8e9f232b{top:212px}.wrap_8e9f232b.goTodaySpacing_8e9f232b{padding-bottom:28px}.root_8e9f232b.isPickingYears_8e9f232b .dayPicker_8e9f232b,.root_8e9f232b.isPickingYears_8e9f232b .monthComponents_8e9f232b{display:none}.root_8e9f232b.isPickingYears_8e9f232b .monthPicker_8e9f232b{display:none}.root_8e9f232b.isPickingYears_8e9f232b .yearPicker_8e9f232b{display:block}@media (min-device-width: 460px){.wrap_8e9f232b{padding:12px}.dayPicker_8e9f232b,.monthPicker_8e9f232b{min-height:200px}.header_8e9f232b{height:28px;line-height:28px;width:100%}.dayWrapper_8e9f232b,.weekday_8e9f232b{width:28px;height:28px;line-height:28px;font-size:12px}.closeButton_8e9f232b,.prevMonth_8e9f232b,.nextMonth_8e9f232b,.prevYear_8e9f232b,.nextYear_8e9f232b,.prevDecade_8e9f232b,.nextDecade_8e9f232b{font-size:12px;width:28px;height:28px;line-height:28px}.holder_8e9f232b{display:inline-block;height:auto;overflow:hidden}.monthAndYear_8e9f232b,.year_8e9f232b,.decade_8e9f232b{font-size:14px;color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.yearComponents_8e9f232b{margin-left:1px}.goToday_8e9f232b{padding:0 3px}[dir='ltr'] .goToday_8e9f232b{right:20px}[dir='rtl'] .goToday_8e9f232b{left:20px}.showWeekNumbers_8e9f232b .table_8e9f232b .dayWrapper_8e9f232b,.showWeekNumbers_8e9f232b .table_8e9f232b .weekday_8e9f232b{width:28px}.showWeekNumbersRTL_8e9f232b .table_8e9f232b .dayWrapper_8e9f232b,.showWeekNumbersRTL_8e9f232b .table_8e9f232b .weekday_8e9f232b{width:28px}.monthPickerVisible_8e9f232b .wrap_8e9f232b{padding:12px}.monthPickerVisible_8e9f232b .dayPicker_8e9f232b{margin:-10px 0;padding:10px 0}.monthPickerVisible_8e9f232b .dayPicker_8e9f232b{-webkit-box-sizing:border-box;box-sizing:border-box;width:212px;min-height:200px}.monthPickerVisible_8e9f232b .monthPicker_8e9f232b{display:block}.monthPickerVisible_8e9f232b .optionGrid_8e9f232b{height:150px;width:196px}.monthPickerVisible_8e9f232b .toggleMonthView_8e9f232b{display:none}.monthPickerVisible_8e9f232b .currentYear_8e9f232b,.monthPickerVisible_8e9f232b .currentDecade_8e9f232b{font-size:14px;margin:0;height:28px;line-height:28px;display:inline-block}.monthPickerVisible_8e9f232b .monthOption_8e9f232b,.monthPickerVisible_8e9f232b .yearOption_8e9f232b{width:40px;height:40px;line-height:100%;font-size:12px;margin:0 12px 16px 0}html[dir='rtl'] .monthPickerVisible_8e9f232b .monthOption_8e9f232b,html[dir='rtl'] .monthPickerVisible_8e9f232b .yearOption_8e9f232b{margin:0 0 16px 12px}.monthPickerVisible_8e9f232b .monthOption_8e9f232b:hover,.monthPickerVisible_8e9f232b .yearOption_8e9f232b:hover{outline:1px solid transparent}.monthPickerVisible_8e9f232b .monthOption_8e9f232b:nth-child(4n+4),.monthPickerVisible_8e9f232b .yearOption_8e9f232b:nth-child(4n+4){margin:0 0px 16px 0}html[dir='rtl'] .monthPickerVisible_8e9f232b .monthOption_8e9f232b:nth-child(4n+4),html[dir='rtl'] .monthPickerVisible_8e9f232b .yearOption_8e9f232b:nth-child(4n+4){margin:0 0 16px 0px}.monthPickerVisible_8e9f232b .goToday_8e9f232b{font-size:12px;height:28px;line-height:28px;padding:0 10px}[dir='ltr'] .monthPickerVisible_8e9f232b .goToday_8e9f232b{right:8px}[dir='rtl'] .monthPickerVisible_8e9f232b .goToday_8e9f232b{left:8px}html[dir='ltr'] .monthPickerVisible_8e9f232b .goToday_8e9f232b{text-align:right}html[dir='rtl'] .monthPickerVisible_8e9f232b .goToday_8e9f232b{text-align:left}.monthPickerVisible_8e9f232b .root_8e9f232b.isPickingYears_8e9f232b .dayPicker_8e9f232b,.monthPickerVisible_8e9f232b .root_8e9f232b.isPickingYears_8e9f232b .monthComponents_8e9f232b{display:block}.monthPickerVisible_8e9f232b .root_8e9f232b.isPickingYears_8e9f232b .monthPicker_8e9f232b{display:none}.monthPickerVisible_8e9f232b .root_8e9f232b.isPickingYears_8e9f232b .yearPicker_8e9f232b{display:block}.calendarsInline_8e9f232b .wrap_8e9f232b{padding:12px}.calendarsInline_8e9f232b .holder_8e9f232b{height:auto}html[dir='ltr'] .calendarsInline_8e9f232b .table_8e9f232b{margin-right:12px}html[dir='rtl'] .calendarsInline_8e9f232b .table_8e9f232b{margin-left:12px}.calendarsInline_8e9f232b .dayPicker_8e9f232b{width:auto}html[dir='ltr'] .calendarsInline_8e9f232b .monthPicker_8e9f232b{margin-left:12px}html[dir='rtl'] .calendarsInline_8e9f232b .monthPicker_8e9f232b{margin-right:12px}html[dir='ltr'] .calendarsInline_8e9f232b .yearPicker_8e9f232b{margin-left:12px}html[dir='rtl'] .calendarsInline_8e9f232b .yearPicker_8e9f232b{margin-right:12px}.calendarsInline_8e9f232b .goToday_8e9f232b{padding:0 10px}[dir='ltr'] .calendarsInline_8e9f232b .goToday_8e9f232b{right:14px}[dir='rtl'] .calendarsInline_8e9f232b .goToday_8e9f232b{left:14px}html[dir='ltr'] .calendarsInline_8e9f232b .monthComponents_8e9f232b{margin-right:12px}html[dir='rtl'] .calendarsInline_8e9f232b .monthComponents_8e9f232b{margin-left:12px}.monthPickerOnly_8e9f232b .wrap_8e9f232b{padding:12px}.monthPickerAsOverlay_8e9f232b .wrap_8e9f232b{padding-bottom:28px;margin-bottom:6px}.monthPickerAsOverlay_8e9f232b .holder_8e9f232b{height:240px;min-height:240px}.monthPickerAsOverlay_8e9f232b .holderWithButton_8e9f232b{padding-top:6px;height:auto}}@media (max-device-width: 459px){.calendarsInline_8e9f232b .monthPicker_8e9f232b,.calendarsInline_8e9f232b .yearPicker_8e9f232b{display:none}.yearComponents_8e9f232b{margin-top:2px}}.goToday_8e9f232b{width:auto}.closeButton_8e9f232b,.nextMonth_8e9f232b,.prevMonth_8e9f232b,.nextYear_8e9f232b,.prevYear_8e9f232b,.nextDecade_8e9f232b,.prevDecade_8e9f232b{display:inline-block}.closeButton_8e9f232b:hover,.nextMonth_8e9f232b:hover,.prevMonth_8e9f232b:hover,.nextYear_8e9f232b:hover,.prevYear_8e9f232b:hover,.nextDecade_8e9f232b:hover,.prevDecade_8e9f232b:hover{background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}@media screen and (-ms-high-contrast: active){.closeButton_8e9f232b:hover,.nextMonth_8e9f232b:hover,.prevMonth_8e9f232b:hover,.nextYear_8e9f232b:hover,.prevYear_8e9f232b:hover,.nextDecade_8e9f232b:hover,.prevDecade_8e9f232b:hover{outline:1px solid highlight}}.closeButton_8e9f232b:active,.nextMonth_8e9f232b:active,.prevMonth_8e9f232b:active,.nextYear_8e9f232b:active,.prevYear_8e9f232b:active,.nextDecade_8e9f232b:active,.prevDecade_8e9f232b:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}@media screen and (-ms-high-contrast: active){.closeButton_8e9f232b:active,.nextMonth_8e9f232b:active,.prevMonth_8e9f232b:active,.nextYear_8e9f232b:active,.prevYear_8e9f232b:active,.nextDecade_8e9f232b:active,.prevDecade_8e9f232b:active{color:highlight}}.monthIsHighlighted_8e9f232b{font-weight:600;background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.monthIsHighlighted_8e9f232b.monthOption_8e9f232b:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}@media screen and (-ms-high-contrast: active){.monthIsHighlighted_8e9f232b{color:highlight;border:2px solid highlight;border-radius:2px}.monthIsHighlighted_8e9f232b:hover{outline:0 !important}}.monthIsCurrentMonth_8e9f232b{font-weight:600;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.monthIsCurrentMonth_8e9f232b.monthOption_8e9f232b:hover{font-weight:600;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.monthOption_8e9f232b:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.yearIsHighlighted_8e9f232b{font-weight:600;background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}.yearIsHighlighted_8e9f232b.yearOption_8e9f232b:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.yearIsCurrentYear_8e9f232b{font-weight:600;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.yearIsCurrentYear_8e9f232b.yearOption_8e9f232b:hover{font-weight:600;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.yearOption_8e9f232b:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.topLeftCornerDate_8e9f232b{border-top-left-radius:2px}.topRightCornerDate_8e9f232b{border-top-right-radius:2px}.bottomLeftCornerDate_8e9f232b{border-bottom-left-radius:2px}.bottomRightCornerDate_8e9f232b{border-bottom-right-radius:2px}@media screen and (-ms-high-contrast: active){.weekBackground_8e9f232b{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekBackground_8e9f232b.bottomRightCornerDate_8e9f232b.topRightCornerDate_8e9f232b{border-right:1px solid highlight;border-left:none;padding-left:1px}.weekBackground_8e9f232b.bottomLeftCornerDate_8e9f232b.topLeftCornerDate_8e9f232b{border-left:1px solid highlight;border-right:none;padding-right:1px}.weekBackground_8e9f232b :not(.dayIsToday_8e9f232b) span{color:highlight}.weekSelection_8e9f232b.dayHover_8e9f232b{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekSelection_8e9f232b.dayHover_8e9f232b.bottomLeftCornerDate_8e9f232b.topLeftCornerDate_8e9f232b{border-left:1px solid highlight;padding-right:1px}.weekSelection_8e9f232b.dayHover_8e9f232b.bottomRightCornerDate_8e9f232b.topRightCornerDate_8e9f232b{border-right:1px solid highlight;padding-left:1px}.weekSelection_8e9f232b.dayHover_8e9f232b.dayPress_8e9f232b :not(.dayIsToday_8e9f232b) span{color:highlight}.monthSelection_8e9f232b.dayHover_8e9f232b.bottomLeftCornerDate_8e9f232b,.monthSelection_8e9f232b.dayHover_8e9f232b.topLeftCornerDate_8e9f232b{border-left:1px solid highlight;padding-right:1px}.monthSelection_8e9f232b.dayHover_8e9f232b.bottomRightCornerDate_8e9f232b,.monthSelection_8e9f232b.dayHover_8e9f232b.topRightCornerDate_8e9f232b{border-right:1px solid highlight;padding-left:1px}.monthSelection_8e9f232b.dayIsFocused_8e9f232b.dayHover_8e9f232b.topDate_8e9f232b,.monthSelection_8e9f232b.dayIsUnfocused_8e9f232b.dayHover_8e9f232b.topDate_8e9f232b{border-top:1px solid highlight;padding-bottom:1px}.monthSelection_8e9f232b.dayIsFocused_8e9f232b.dayHover_8e9f232b.rightDate_8e9f232b,.monthSelection_8e9f232b.dayIsUnfocused_8e9f232b.dayHover_8e9f232b.rightDate_8e9f232b{border-right:1px solid highlight;padding-left:1px}.monthSelection_8e9f232b.dayIsFocused_8e9f232b.dayHover_8e9f232b.bottomDate_8e9f232b,.monthSelection_8e9f232b.dayIsUnfocused_8e9f232b.dayHover_8e9f232b.bottomDate_8e9f232b{border-bottom:1px solid highlight;padding-top:1px}.monthSelection_8e9f232b.dayIsFocused_8e9f232b.dayHover_8e9f232b.leftdate_8e9f232b,.monthSelection_8e9f232b.dayIsUnfocused_8e9f232b.dayHover_8e9f232b.leftdate_8e9f232b{border-left:1px solid highlight;padding-right:1px}.monthSelection_8e9f232b.dayIsFocused_8e9f232b.dayHover_8e9f232b.dayPress_8e9f232b :not(.dayIsToday_8e9f232b) span,.monthSelection_8e9f232b.dayIsUnfocused_8e9f232b.dayHover_8e9f232b.dayPress_8e9f232b :not(.dayIsToday_8e9f232b) span{color:highlight}}\n"}]);var Pi="root_8e9f232b",Ii="picker_8e9f232b",Di="holder_8e9f232b",Ai="pickerIsOpened_8e9f232b",Mi="frame_8e9f232b",ji="wrap_8e9f232b",Ri="goTodaySpacing_8e9f232b",Fi="dayPicker_8e9f232b",Ni="header_8e9f232b",Li="divider_8e9f232b",Bi="monthAndYear_8e9f232b",zi="year_8e9f232b",Ui="decade_8e9f232b",Hi="currentYear_8e9f232b",Vi="currentDecade_8e9f232b",Wi="table_8e9f232b",Gi="dayWrapper_8e9f232b",Ki="weekday_8e9f232b",qi="day_8e9f232b",Yi="daySelection_8e9f232b",Xi="dayIsToday_8e9f232b",Zi="dayIsDisabled_8e9f232b",Qi="dayIsUnfocused_8e9f232b",$i="dayIsFocused_8e9f232b",Ji="dayIsHighlighted_8e9f232b",eo="pickerIsFocused_8e9f232b",to="dayDisabled_8e9f232b",no="dayBackground_8e9f232b",ro="dayHover_8e9f232b",io="dayPress_8e9f232b",oo="weekBackground_8e9f232b",ao="showWeekNumbers_8e9f232b",so="weekNumbers_8e9f232b",uo="weekIsHighlighted_8e9f232b",lo="showWeekNumbersRTL_8e9f232b",co="monthComponents_8e9f232b",fo="yearComponents_8e9f232b",ho="decadeComponents_8e9f232b",po="closeButton_8e9f232b",go="prevMonth_8e9f232b",mo="nextMonth_8e9f232b",vo="prevYear_8e9f232b",bo="nextYear_8e9f232b",yo="prevDecade_8e9f232b",_o="nextDecade_8e9f232b",xo="prevMonthIsDisabled_8e9f232b",So="nextMonthIsDisabled_8e9f232b",wo="prevYearIsDisabled_8e9f232b",Co="nextYearIsDisabled_8e9f232b",ko="prevDecadeIsDisabled_8e9f232b",Eo="nextDecadeIsDisabled_8e9f232b",Oo="headerToggleView_8e9f232b",To="optionGrid_8e9f232b",Po="monthOption_8e9f232b",Io="yearOption_8e9f232b",Do="isHighlighted_8e9f232b",Ao="monthOptionIsDisabled_8e9f232b",Mo="yearOptionIsDisabled_8e9f232b",jo="goToday_8e9f232b",Ro="goToTodayIsDisabled_8e9f232b",Fo="goTodayInlineMonth_8e9f232b",No="isPickingYears_8e9f232b",Lo="monthPicker_8e9f232b",Bo="yearPicker_8e9f232b",zo="monthPickerVisible_8e9f232b",Uo="toggleMonthView_8e9f232b",Ho="calendarsInline_8e9f232b",Vo="monthPickerOnly_8e9f232b",Wo="monthPickerAsOverlay_8e9f232b",Go="holderWithButton_8e9f232b",Ko="monthIsHighlighted_8e9f232b",qo="monthIsCurrentMonth_8e9f232b",Yo="yearIsHighlighted_8e9f232b",Xo="yearIsCurrentYear_8e9f232b",Zo="topLeftCornerDate_8e9f232b",Qo="topRightCornerDate_8e9f232b",$o="bottomLeftCornerDate_8e9f232b",Jo="bottomRightCornerDate_8e9f232b",ea="weekSelection_8e9f232b",ta="monthSelection_8e9f232b",na="topDate_8e9f232b",ra="rightDate_8e9f232b",ia="bottomDate_8e9f232b",oa="leftdate_8e9f232b",aa=r,sa=function(e){function t(t){var n=e.call(this,t)||this;return n.days={},n._onKeyDown=function(e,t){t.which!==ge.a.enter&&t.which!==ge.a.space||e()},n._onDayKeyDown=function(e,t,r){return function(i){i.which===ge.a.enter?n._onSelectDate(e,i):n._navigateMonthEdge(i,e,t,r)}},n._onDayMouseDown=function(e,t,r,i){return function(r){i===qr.Month?n._applyFunctionToDayRefs((function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.add(aa.dayPress)})):n._applyFunctionToDayRefs((function(e,n,r){e&&r===t&&n.isInBounds?(e.classList.add(aa.dayPress),e.classList.add(aa.dayIsHighlighted)):e&&e.classList.remove(aa.dayIsHighlighted)}))}},n._onDayMouseUp=function(e,t,r,i){return function(r){i===qr.Month?n._applyFunctionToDayRefs((function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.remove(aa.dayPress)})):n._applyFunctionToDayRefs((function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.remove(aa.dayPress)}))}},n._onDayMouseOver=function(e,t,r,i){return function(r){i===qr.Month?n._applyFunctionToDayRefs((function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.add(aa.dayHover)})):n._applyFunctionToDayRefs((function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.add(aa.dayHover)}))}},n._onDayMouseLeave=function(e,t,r,i){return function(r){i===qr.Month?n._applyFunctionToDayRefs((function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.remove(aa.dayHover)})):n._applyFunctionToDayRefs((function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.remove(aa.dayHover)}))}},n._onTableMouseLeave=function(e){e.target.contains&&e.relatedTarget&&e.relatedTarget.contains&&e.target.contains(e.relatedTarget)||n._applyFunctionToDayRefs((function(e,t){e&&(e.classList.remove(aa.dayHover),e.classList.remove(aa.dayPress))}))},n._onTableMouseUp=function(e){e.target.contains&&e.relatedTarget&&e.relatedTarget.contains&&e.target.contains(e.relatedTarget)||n._applyFunctionToDayRefs((function(e,t){e&&e.classList.remove(aa.dayPress)}))},n._onSelectDate=function(e,t){var r=n.props,i=r.onSelectDate,o=r.dateRangeType,a=r.firstDayOfWeek,s=r.navigatedDate,u=r.autoNavigateOnSelection,l=r.minDate,c=r.maxDate,d=r.workWeekDays;t&&t.stopPropagation();var f=yi(e,o,a,d);if(o!==qr.Day&&(f=n._getBoundedDateRange(f,l,c)),f=f.filter((function(e){return!n._getIsRestrictedDate(e)})),i&&i(e,f),u&&e.getMonth()!==s.getMonth()){var h=bi(e,s);h<0?n._onSelectPrevMonth():h>0&&n._onSelectNextMonth()}},n._onSelectNextMonth=function(){n.props.onNavigateDate(fi(n.props.navigatedDate,1),!1)},n._onSelectPrevMonth=function(){n.props.onNavigateDate(fi(n.props.navigatedDate,-1),!1)},n._onClose=function(){n.props.onDismiss&&n.props.onDismiss()},n._onHeaderSelect=function(){var e=n.props.onHeaderSelect;e&&e(!0)},n._onHeaderKeyDown=function(e){var t=n.props.onHeaderSelect;!t||e.which!==ge.a.enter&&e.which!==ge.a.space||t(!0)},n._onPrevMonthKeyDown=function(e){e.which===ge.a.enter&&n._onKeyDown(n._onSelectPrevMonth,e)},n._onNextMonthKeyDown=function(e){e.which===ge.a.enter&&n._onKeyDown(n._onSelectNextMonth,e)},n._onCloseButtonKeyDown=function(e){e.which===ge.a.enter&&n._onKeyDown(n._onClose,e)},n.state={activeDescendantId:Object(Oe.c)("DatePickerDay-active"),weeks:n._getWeeks(t)},n._onSelectNextMonth=n._onSelectNextMonth.bind(n),n._onSelectPrevMonth=n._onSelectPrevMonth.bind(n),n._onClose=n._onClose.bind(n),n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({weeks:this._getWeeks(e)})},t.prototype.render=function(){var e,t,n=this,r=this.state,i=r.activeDescendantId,o=r.weeks,a=this.props,s=a.firstDayOfWeek,u=a.strings,l=a.navigatedDate,c=a.selectedDate,d=a.dateRangeType,f=a.navigationIcons,h=a.showWeekNumbers,p=a.firstWeekOfYear,g=a.dateTimeFormatter,m=a.minDate,b=a.maxDate,y=a.showCloseButton,_=a.allFocusable,x=Object(Oe.c)("DatePickerDay-dayPicker"),S=Object(Oe.c)("DatePickerDay-monthAndYear"),w=f.leftNavigation,k=f.rightNavigation,E=f.closeIcon,O=h?xi(o.length,s,p,l):null,T=h?Si(c,s,p):void 0,P=this._getWeekCornerStyles(o,d),I=!m||bi(m,pi(l))<0,D=!b||bi(gi(l),b)<0;return v.createElement("div",{className:Object(z.a)("ms-DatePicker-dayPicker",aa.dayPicker,h&&(Object(C.a)()?aa.showWeekNumbersRTL:aa.showWeekNumbers)),id:x},v.createElement("div",{className:Object(z.a)("ms-DatePicker-header",aa.header)},v.createElement("div",{"aria-live":"polite","aria-relevant":"text","aria-atomic":"true",id:S,className:aa.monthAndYear},this.props.onHeaderSelect?v.createElement("div",{className:Object(z.a)("ms-DatePicker-monthAndYear js-showMonthPicker",aa.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":g.formatMonthYear(l,u),role:"button",tabIndex:0},g.formatMonthYear(l,u)):v.createElement("div",{className:Object(z.a)("ms-DatePicker-monthAndYear",aa.monthAndYear)},g.formatMonthYear(l,u))),v.createElement("div",{className:Object(z.a)("ms-DatePicker-monthComponents",aa.monthComponents)},v.createElement("div",{className:Object(z.a)("ms-DatePicker-navContainer",aa.navContainer)},v.createElement("button",{className:Object(z.a)("ms-DatePicker-prevMonth js-prevMonth",aa.prevMonth,(e={},e["ms-DatePicker-prevMonth--disabled "+aa.prevMonthIsDisabled]=!I,e)),disabled:!_&&!I,"aria-disabled":!I,onClick:I?this._onSelectPrevMonth:void 0,onKeyDown:I?this._onPrevMonthKeyDown:void 0,"aria-controls":x,title:u.prevMonthAriaLabel?u.prevMonthAriaLabel+" "+u.months[fi(l,-1).getMonth()]:void 0,role:"button",type:"button"},v.createElement(K,{iconName:w})),v.createElement("button",{className:Object(z.a)("ms-DatePicker-nextMonth js-nextMonth",aa.nextMonth,(t={},t["ms-DatePicker-nextMonth--disabled "+aa.nextMonthIsDisabled]=!D,t)),disabled:!_&&!D,"aria-disabled":!D,onClick:D?this._onSelectNextMonth:void 0,onKeyDown:D?this._onNextMonthKeyDown:void 0,"aria-controls":x,title:u.nextMonthAriaLabel?u.nextMonthAriaLabel+" "+u.months[fi(l,1).getMonth()]:void 0,role:"button",type:"button"},v.createElement(K,{iconName:k})),y&&v.createElement("button",{className:Object(z.a)("ms-DatePicker-closeButton js-closeButton",aa.closeButton),onClick:this._onClose,onKeyDown:this._onCloseButtonKeyDown,title:u.closeButtonAriaLabel,role:"button",type:"button"},v.createElement(K,{iconName:E}))))),v.createElement(Le,null,v.createElement("table",{className:Object(z.a)("ms-DatePicker-table",aa.table),"aria-readonly":"true","aria-multiselectable":"false","aria-labelledby":S,"aria-activedescendant":i,role:"grid"},v.createElement("thead",null,v.createElement("tr",null,h&&v.createElement("th",{className:Object(z.a)("ms-DatePicker-weekday",aa.weekday)}),u.shortDays.map((function(e,t){return v.createElement("th",{className:Object(z.a)("ms-DatePicker-weekday",aa.weekday),role:"columnheader",scope:"col",key:t,title:u.days[(t+s)%7],"aria-label":u.days[(t+s)%7],"data-is-focusable":!!_||void 0},u.shortDays[(t+s)%7])})))),v.createElement("tbody",{onMouseLeave:d!==qr.Day?this._onTableMouseLeave:void 0,onMouseUp:d!==qr.Day?this._onTableMouseUp:void 0},o.map((function(e,t){return v.createElement("tr",{key:O?O[t]:t},h&&O&&v.createElement("th",{className:Object(z.a)("ms-DatePicker-weekNumbers","ms-DatePicker-weekday",aa.weekday,aa.weekNumbers),key:t,title:O&&u.weekNumberFormatString&&Object(si.a)(u.weekNumberFormatString,O[t]),"aria-label":O&&u.weekNumberFormatString&&Object(si.a)(u.weekNumberFormatString,O[t]),scope:"row"},v.createElement("div",{className:Object(z.a)("ms-DatePicker-day",aa.day,(r={},r["ms-DatePicker-week--highlighted "+aa.weekIsHighlighted]=T===O[t],r))},v.createElement("span",null,O[t]))),e.map((function(e,r){var o,a,s=vi(l,e.originalDate);return v.createElement("td",{key:e.key,onClick:e.isInBounds?e.onSelected:void 0,className:Object(z.a)(aa.dayWrapper,"ms-DatePicker-day",n._getHighlightedCornerStyle(P,r,t),(o={},o["ms-DatePicker-weekBackground "+aa.weekBackground]=e.isSelected&&(d===qr.Week||d===qr.WorkWeek),o["ms-DatePicker-dayBackground "+aa.dayBackground]=d===qr.Day,o["ms-DatePicker-day--highlighted "+aa.dayIsHighlighted]=e.isSelected&&d===qr.Day,o["ms-DatePicker-day--infocus "+aa.dayIsFocused]=e.isInBounds&&e.isInMonth,o["ms-DatePicker-day--outfocus "+aa.dayIsUnfocused]=e.isInBounds&&!e.isInMonth,o[aa.daySelection]=d===qr.Day,o[aa.weekSelection]=d===qr.Week||d===qr.WorkWeek,o[aa.monthSelection]=d===qr.Month,o)),ref:function(t){return n._setDayCellRef(t,e,s)},onMouseOver:d!==qr.Day&&e.isInBounds?n._onDayMouseOver(e.originalDate,t,r,d):void 0,onMouseLeave:d!==qr.Day&&e.isInBounds?n._onDayMouseLeave(e.originalDate,t,r,d):void 0,onMouseDown:d!==qr.Day&&e.isInBounds?n._onDayMouseDown(e.originalDate,t,r,d):void 0,onMouseUp:d!==qr.Day&&e.isInBounds?n._onDayMouseUp(e.originalDate,t,r,d):void 0,role:"gridcell"},v.createElement("button",{key:e.key+"button",onClick:e.isInBounds?e.onSelected:void 0,className:Object(z.a)(aa.day,"ms-DatePicker-day-button",(a={},a["ms-DatePicker-day--disabled "+aa.dayIsDisabled]=!e.isInBounds,a["ms-DatePicker-day--today "+aa.dayIsToday]=e.isToday,a)),role:"gridcell",onKeyDown:n._onDayKeyDown(e.originalDate,t,r),"aria-label":g.formatMonthDayYear(e.originalDate,u),id:s?i:void 0,"aria-readonly":!0,"aria-selected":e.isInBounds?e.isSelected:void 0,"data-is-focusable":_||!!e.isInBounds||void 0,ref:function(t){return n._setDayRef(t,e,s)},disabled:!_&&!e.isInBounds,"aria-disabled":!e.isInBounds,type:"button"},v.createElement("span",{"aria-hidden":"true"},g.formatDay(e.originalDate))))})));var r}))))))},t.prototype.focus=function(){this.navigatedDay&&(this.navigatedDay.tabIndex=0,this.navigatedDay.focus())},t.prototype._setDayRef=function(e,t,n){n&&(this.navigatedDay=e)},t.prototype._setDayCellRef=function(e,t,n){this.days[t.key]=e},t.prototype._getWeekCornerStyles=function(e,t){var n=this,r={};switch(t){case qr.Month:e.forEach((function(t,n){t.forEach((function(t,i){var o=e[n-1]&&e[n-1][i]&&e[n-1][i].originalDate.getMonth()===e[n][i].originalDate.getMonth(),a=e[n+1]&&e[n+1][i]&&e[n+1][i].originalDate.getMonth()===e[n][i].originalDate.getMonth(),s=e[n][i-1]&&e[n][i-1].originalDate.getMonth()===e[n][i].originalDate.getMonth(),u=e[n][i+1]&&e[n][i+1].originalDate.getMonth()===e[n][i].originalDate.getMonth(),l=!o&&!u,c=!a&&!s,d=!a&&!u,f="";!o&&!s&&(f=Object(C.a)()?f.concat(aa.topRightCornerDate+" "):f.concat(aa.topLeftCornerDate+" ")),l&&(f=Object(C.a)()?f.concat(aa.topLeftCornerDate+" "):f.concat(aa.topRightCornerDate+" ")),c&&(f=Object(C.a)()?f.concat(aa.bottomRightCornerDate+" "):f.concat(aa.bottomLeftCornerDate+" ")),d&&(f=Object(C.a)()?f.concat(aa.bottomLeftCornerDate+" "):f.concat(aa.bottomRightCornerDate+" ")),o||(f=f.concat(aa.topDate+" ")),a||(f=f.concat(aa.bottomDate+" ")),u||(f=f.concat(aa.rightDate+" ")),s||(f=f.concat(aa.leftdate+" ")),r[n+"_"+i]=f}))}));break;case qr.Week:case qr.WorkWeek:e.forEach((function(e,t){var i=Object(Ue.e)(e,(function(e){return e.isInBounds})),o=n._findLastIndex(e,(function(e){return e.isInBounds})),a=aa.topLeftCornerDate+" "+aa.bottomLeftCornerDate,s=aa.topRightCornerDate+" "+aa.bottomRightCornerDate;r[t+"_"+i]=Object(C.a)()?s:a,r[t+"_"+o]=Object(C.a)()?a:s}))}return r},t.prototype._getHighlightedCornerStyle=function(e,t,n){return e[n+"_"+t]?e[n+"_"+t]:""},t.prototype._navigateMonthEdge=function(e,t,n,r){var i=this.props,o=i.minDate,a=i.maxDate,s=void 0;0===n&&e.which===ge.a.up?s=di(t,-1):n===this.state.weeks.length-1&&e.which===ge.a.down?s=di(t,1):0===r&&e.which===Object(C.b)(ge.a.left)?s=ci(t,-1):6===r&&e.which===Object(C.b)(ge.a.right)&&(s=ci(t,1)),s&&(!o||bi(o,s)<1)&&(!a||bi(s,a)<1)&&(this.props.onNavigateDate(s,!0),e.preventDefault())},t.prototype._applyFunctionToDayRefs=function(e){var t=this;this.state.weeks&&this.state.weeks.map((function(n,r){n.map((function(n){var i=t.days[n.key];e(i,n,r)}))}))},t.prototype._getWeeks=function(e){for(var t=e.navigatedDate,n=e.selectedDate,r=e.dateRangeType,i=e.firstDayOfWeek,o=e.today,a=e.minDate,s=e.maxDate,u=e.showSixWeeksByDefault,l=e.workWeekDays,c=new Date(t.getFullYear(),t.getMonth(),1),d=o||new Date,f=[];c.getDay()!==i;)c.setDate(c.getDate()-1);var h=!1,p=yi(n,r===qr.WorkWeek?qr.Week:r,i,l);r!==qr.Day&&(p=this._getBoundedDateRange(p,a,s));for(var g=!0,m=0;g;m++){var v=[];h=!0;for(var b=0;b<7;b++){var y=new Date(c.toString()),_={key:c.toString(),date:c.getDate().toString(),originalDate:y,isInMonth:c.getMonth()===t.getMonth(),isToday:vi(d,c),isSelected:_i(c,p),onSelected:this._onSelectDate.bind(this,y),isInBounds:(!a||bi(a,c)<1)&&(!s||bi(c,s)<1)&&!this._getIsRestrictedDate(c)};v.push(_),_.isInMonth&&(h=!1),c.setDate(c.getDate()+1)}(g=u?!h||m<=5:!h)&&f.push(v)}return f},t.prototype._getIsRestrictedDate=function(e){var t=this.props.restrictedDates;return!!t&&!!Object(Ue.d)(t,(function(t){return vi(t,e)}))},t.prototype._getBoundedDateRange=function(e,t,n){var r=e.slice();return t&&(r=r.filter((function(e){return bi(e,t)>=0}))),n&&(r=r.filter((function(e){return bi(e,n)<=0}))),r},t.prototype._findLastIndex=function(e,t){for(var n=e.length-1;n>=0;n--){if(t(e[n]))return n}return-1},t}(O.a),ua=r,la={prevRangeAriaLabel:void 0,nextRangeAriaLabel:void 0},ca={leftNavigation:"Up",rightNavigation:"Down",closeIcon:"CalculatorMultiply"},da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._buttonRef=v.createRef(),t._onRenderYear=function(){var e=t.props,n=e.year,r=e.onRenderYear;return r?r(n):n},t._onClick=function(){t.props.onSelectYear&&t.props.onSelectYear(t.props.year)},t._onKeyDown=function(e){t.props.onSelectYear&&e.which===ge.a.enter&&t.props.onSelectYear(t.props.year)},t}return m.c(t,e),t.prototype.focus=function(){this._buttonRef.current&&this._buttonRef.current.focus()},t.prototype.render=function(){var e,t=this.props,n=t.year,r=t.selected,i=t.disabled,o=t.onSelectYear;return v.createElement("button",{className:Object(z.a)("ms-DatePicker-yearOption",ua.yearOption,(e={},e["ms-DatePicker-day--highlighted "+ua.yearIsHighlighted]=r,e["ms-DatePicker-yearOption--disabled "+ua.yearOptionIsDisabled]=i,e)),type:"button",role:"gridcell",onClick:!i&&o?this._onClick:void 0,onKeyDown:!i&&o?this._onKeyDown:void 0,disabled:i,"aria-label":String(n),"aria-selected":r,ref:this._buttonRef},this._onRenderYear())},t}(v.Component),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedCellRef=v.createRef(),t._currentCellRef=v.createRef(),t._renderCell=function(e){var n=e===t.props.selectedYear,r=t.props,i=r.minYear,o=r.maxYear,a=r.onSelectYear,s=void 0!==i&&e<i||void 0!==o&&e>o,u=e===(new Date).getFullYear();return v.createElement(da,{key:e,year:e,selected:n,current:u,disabled:s,onSelectYear:a,ref:n?t._selectedCellRef:u?t._currentCellRef:void 0})},t}return m.c(t,e),t.prototype.focus=function(){this._selectedCellRef.current?this._selectedCellRef.current.focus():this._currentCellRef.current&&this._currentCellRef.current.focus()},t.prototype.render=function(){for(var e=this.props,t=e.fromYear,n=e.toYear,r=t,i=[];r<=n;)i.push(this._renderCell(r)),r++;return v.createElement(Le,null,v.createElement("div",{className:Object(z.a)("ms-DatePicker-optionGrid",ua.optionGrid),role:"grid"},v.createElement("div",{role:"row"},i)))},t}(v.Component),ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSelectPrev=function(){!t.isDisabled&&t.props.onSelectPrev&&t.props.onSelectPrev()},t._onKeyDown=function(e){e.which===ge.a.enter&&t._onSelectPrev()},t}return m.c(t,e),t.prototype.render=function(){var e,t=this.props.navigationIcons||ca,n=(this.props.strings||la).prevRangeAriaLabel,r={fromYear:this.props.fromYear-12,toYear:this.props.toYear-12},i=n?"string"===typeof n?n:n(r):void 0,o=this.isDisabled,a=this.props.onSelectPrev;return v.createElement("button",{className:Object(z.a)("ms-DatePicker-prevDecade",ua.prevDecade,(e={},e["ms-DatePicker-prevDecade--disabled "+ua.prevDecadeIsDisabled]=o,e)),onClick:!o&&a?this._onSelectPrev:void 0,onKeyDown:!o&&a?this._onKeyDown:void 0,type:"button",tabIndex:0,title:i,disabled:o},v.createElement(K,{iconName:Object(C.a)()?t.rightNavigation:t.leftNavigation}))},Object.defineProperty(t.prototype,"isDisabled",{get:function(){var e=this.props.minYear;return void 0!==e&&this.props.fromYear<e},enumerable:!0,configurable:!0}),t}(v.Component),pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSelectNext=function(){!t.isDisabled&&t.props.onSelectNext&&t.props.onSelectNext()},t._onKeyDown=function(e){e.which===ge.a.enter&&t._onSelectNext()},t}return m.c(t,e),t.prototype.render=function(){var e,t=this.props.navigationIcons||ca,n=(this.props.strings||la).nextRangeAriaLabel,r={fromYear:this.props.fromYear+12,toYear:this.props.toYear+12},i=n?"string"===typeof n?n:n(r):void 0,o=this.props.onSelectNext,a=this.isDisabled;return v.createElement("button",{className:Object(z.a)("ms-DatePicker-nextDecade",ua.nextDecade,(e={},e["ms-DatePicker-nextDecade--disabled "+ua.nextDecadeIsDisabled]=a,e)),onClick:!a&&o?this._onSelectNext:void 0,onKeyDown:!a&&o?this._onKeyDown:void 0,type:"button",tabIndex:0,title:i,disabled:this.isDisabled},v.createElement(K,{iconName:Object(C.a)()?t.leftNavigation:t.rightNavigation}))},Object.defineProperty(t.prototype,"isDisabled",{get:function(){var e=this.props.maxYear;return void 0!==e&&this.props.fromYear+12>e},enumerable:!0,configurable:!0}),t}(v.Component),ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){return v.createElement("div",{className:Object(z.a)("ms-DatePicker-decadeComponents",ua.decadeComponents)},v.createElement("div",{className:Object(z.a)("ms-DatePicker-navContainer",ua.navContainer)},v.createElement(ha,m.a({},this.props)),v.createElement(pa,m.a({},this.props))))},t}(v.Component),ma=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onHeaderSelect=function(){t.props.onHeaderSelect&&t.props.onHeaderSelect(!0)},t._onHeaderKeyDown=function(e){!t.props.onHeaderSelect||e.which!==ge.a.enter&&e.which!==ge.a.space||t.props.onHeaderSelect(!0)},t._onRenderYear=function(e){return t.props.onRenderYear?t.props.onRenderYear(e):e},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.fromYear,n=e.toYear;if(e.onHeaderSelect){var r=(this.props.strings||la).rangeAriaLabel,i=r?"string"===typeof r?r:r(this.props):void 0;return v.createElement("div",{className:Object(z.a)("ms-DatePicker-currentDecade js-showYearPicker",ua.currentDecade,ua.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":i,role:"button","aria-atomic":!0,"aria-live":"polite",tabIndex:0},this._onRenderYear(t)," - ",this._onRenderYear(n))}return v.createElement("div",{className:Object(z.a)("ms-DatePicker-currentDecade js-showYearPicker",ua.currentDecade)},this._onRenderYear(t)," - ",this._onRenderYear(n))},t}(v.Component),va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderTitle=function(){return t.props.onRenderTitle?t.props.onRenderTitle(t.props):v.createElement(ma,m.a({},t.props))},t._onRenderNav=function(){return v.createElement(ga,m.a({},t.props))},t}return m.c(t,e),t.prototype.render=function(){return v.createElement("div",{className:Object(z.a)("ms-DatePicker-header",ua.header)},this._onRenderTitle(),this._onRenderNav())},t}(v.Component),ba=function(e){function t(t){var n=e.call(this,t)||this;return n._gridRef=v.createRef(),n._onNavNext=function(){n.setState({fromYear:n.state.fromYear+12})},n._onNavPrev=function(){n.setState({fromYear:n.state.fromYear-12})},n._renderHeader=function(){return v.createElement(va,m.a({},n.props,{fromYear:n.state.fromYear,toYear:n.state.fromYear+12-1,onSelectPrev:n._onNavPrev,onSelectNext:n._onNavNext}))},n._renderGrid=function(){return v.createElement(fa,m.a({},n.props,{fromYear:n.state.fromYear,toYear:n.state.fromYear+12-1,ref:n._gridRef}))},n.state=n._calculateInitialStateFromProps(t),n}return m.c(t,e),t.prototype.focus=function(){this._gridRef.current&&this._gridRef.current.focus()},t.prototype.render=function(){return v.createElement("div",{className:Object(z.a)("ms-DatePicker-yearPicker",ua.yearPicker)},this._renderHeader(),this._renderGrid())},t.prototype._calculateInitialStateFromProps=function(e){var t=e.selectedYear,n=e.navigatedYear,r=t||n||(new Date).getFullYear();return{fromYear:10*Math.floor(r/10),navigatedYear:n,selectedYear:t}},t}(v.Component),ya=r,_a=function(e){function t(t){var n=e.call(this,t)||this;return n._navigatedMonthRef=v.createRef(),n._onCalendarYearRef=function(e){n._calendarYearRef=e},n._onKeyDown=function(e,t){t.which===ge.a.enter&&e()},n._onSelectYear=function(e){n._focusOnUpdate=!0;var t=n.props,r=t.navigatedDate,i=t.onNavigateDate,o=t.maxDate,a=t.minDate;if(r.getFullYear()!==e){var s=new Date(r.getTime());s.setFullYear(e),o&&s>o?s=mi(s,o.getMonth()):a&&s<a&&(s=mi(s,a.getMonth())),i(s,!0)}n.setState({isYearPickerVisible:!1})},n._yearToString=function(e){var t=n.props,r=t.navigatedDate,i=t.dateTimeFormatter;if(i){var o=new Date(r.getTime());return o.setFullYear(e),i.formatYear(o)}return String(e)},n._yearRangeToString=function(e){return n._yearToString(e.fromYear)+" - "+n._yearToString(e.toYear)},n._yearRangeToNextDecadeLabel=function(e){var t=n.props.strings;return t.nextYearRangeAriaLabel?t.nextYearRangeAriaLabel+" "+n._yearRangeToString(e):""},n._yearRangeToPrevDecadeLabel=function(e){var t=n.props.strings;return t.prevYearRangeAriaLabel?t.prevYearRangeAriaLabel+" "+n._yearRangeToString(e):""},n._onRenderYear=function(e){return n._yearToString(e)},n._onSelectNextYear=function(){var e=n.props,t=e.navigatedDate;(0,e.onNavigateDate)(hi(t,1),!1)},n._onSelectNextYearKeyDown=function(e){e.which===ge.a.enter&&n._onKeyDown(n._onSelectNextYear,e)},n._onSelectPrevYear=function(){var e=n.props,t=e.navigatedDate;(0,e.onNavigateDate)(hi(t,-1),!1)},n._onSelectPrevYearKeyDown=function(e){e.which===ge.a.enter&&n._onKeyDown(n._onSelectPrevYear,e)},n._onSelectMonthKeyDown=function(e){return function(t){return n._onKeyDown((function(){return n._onSelectMonth(e)}),t)}},n._onSelectMonth=function(e){var t=n.props,r=t.navigatedDate,i=t.onNavigateDate,o=t.onHeaderSelect;o&&o(!0),i(mi(r,e),!0)},n._onHeaderSelect=function(){var e=n.props,t=e.onHeaderSelect;e.yearPickerHidden?t&&t(!0):(n._focusOnUpdate=!0,n.setState({isYearPickerVisible:!0}))},n._onYearPickerHeaderSelect=function(e){n._focusOnUpdate=e,n.setState({isYearPickerVisible:!1})},n._onHeaderKeyDown=function(e){!n._onHeaderSelect||e.which!==ge.a.enter&&e.which!==ge.a.space||n._onHeaderSelect()},n._selectMonthCallbacks=[],t.strings.shortMonths.map((function(e,t){n._selectMonthCallbacks[t]=n._onSelectMonth.bind(n,t)})),n._isCurrentMonth=n._isCurrentMonth.bind(n),n._onSelectNextYear=n._onSelectNextYear.bind(n),n._onSelectPrevYear=n._onSelectPrevYear.bind(n),n._onSelectMonth=n._onSelectMonth.bind(n),n.state={isYearPickerVisible:!1},n}return m.c(t,e),t.prototype.componentDidUpdate=function(){this._focusOnUpdate&&(this.focus(),this._focusOnUpdate=!1)},t.prototype.render=function(){var e=this,t=this.props,n=t.navigatedDate,r=t.selectedDate,i=t.strings,o=t.today,a=t.highlightCurrentMonth,s=t.highlightSelectedMonth,u=t.navigationIcons,l=t.dateTimeFormatter,c=t.minDate,d=t.maxDate,f=t.yearPickerHidden;if(this.state.isYearPickerVisible){var h=n?n.getFullYear():void 0;return v.createElement(ba,{key:"calendarYear_"+(h&&h.toString()),minYear:c?c.getFullYear():void 0,maxYear:d?d.getFullYear():void 0,onSelectYear:this._onSelectYear,navigationIcons:u,onHeaderSelect:this._onYearPickerHeaderSelect,selectedYear:h,onRenderYear:this._onRenderYear,strings:{rangeAriaLabel:this._yearRangeToString,prevRangeAriaLabel:this._yearRangeToPrevDecadeLabel,nextRangeAriaLabel:this._yearRangeToNextDecadeLabel},ref:this._onCalendarYearRef})}for(var p=[],g=0;g<i.shortMonths.length/4;g++)p.push(g);var m,b,y=u.leftNavigation,_=u.rightNavigation,x=!c||bi(c,new Date(n.getFullYear(),0,1,0,0,0,0))<0,S=!d||bi(function(e){return new Date(e.getFullYear()+1,0,0,0,0,0,0)}(n),d)<0;return v.createElement("div",{className:Object(z.a)("ms-DatePicker-monthPicker",ya.monthPicker)},v.createElement("div",{className:Object(z.a)("ms-DatePicker-header",ya.header)},this.props.onHeaderSelect||!f?v.createElement("div",{className:Object(z.a)("ms-DatePicker-currentYear js-showYearPicker",ya.currentYear,ya.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":l.formatYear(n),role:"button","aria-atomic":!0,"aria-live":"polite",tabIndex:0},l.formatYear(n)):v.createElement("div",{className:Object(z.a)("ms-DatePicker-currentYear js-showYearPicker",ya.currentYear)},l.formatYear(n)),v.createElement("div",{className:Object(z.a)("ms-DatePicker-yearComponents",ya.yearComponents)},v.createElement("div",{className:Object(z.a)("ms-DatePicker-navContainer",ya.navContainer)},v.createElement("button",{className:Object(z.a)("ms-DatePicker-prevYear js-prevYear",ya.prevYear,(m={},m["ms-DatePicker-prevYear--disabled "+ya.prevYearIsDisabled]=!x,m)),disabled:!x,onClick:x?this._onSelectPrevYear:void 0,onKeyDown:x?this._onSelectPrevYearKeyDown:void 0,title:i.prevYearAriaLabel?i.prevYearAriaLabel+" "+l.formatYear(hi(n,-1)):void 0,role:"button",type:"button"},v.createElement(K,{iconName:Object(C.a)()?_:y})),v.createElement("button",{className:Object(z.a)("ms-DatePicker-nextYear js-nextYear",ya.nextYear,(b={},b["ms-DatePicker-nextYear--disabled "+ya.nextYearIsDisabled]=!S,b)),disabled:!S,onClick:S?this._onSelectNextYear:void 0,onKeyDown:S?this._onSelectNextYearKeyDown:void 0,title:i.nextYearAriaLabel?i.nextYearAriaLabel+" "+l.formatYear(hi(n,1)):void 0,role:"button",type:"button"},v.createElement(K,{iconName:Object(C.a)()?y:_}))))),v.createElement(Le,null,v.createElement("div",{className:Object(z.a)("ms-DatePicker-optionGrid",ya.optionGrid),role:"grid","aria-readonly":"true"},p.map((function(t){var u=i.shortMonths.slice(4*t,4*(t+1));return v.createElement("div",{key:"monthRow_"+t,role:"row"},u.map((function(u,f){var h,p=4*t+f,g=mi(n,p),m=e._isCurrentMonth(p,n.getFullYear(),o),b=n.getMonth()===p,y=r.getMonth()===p,_=r.getFullYear()===n.getFullYear(),x=(!c||bi(c,gi(g))<1)&&(!d||bi(pi(g),d)<1);return v.createElement("button",{role:"gridcell",className:Object(z.a)("ms-DatePicker-monthOption",ya.monthOption,(h={},h["ms-DatePicker-day--today "+ya.monthIsCurrentMonth]=a&&m,h["ms-DatePicker-day--highlighted "+ya.monthIsHighlighted]=(a||s)&&y&&_,h["ms-DatePicker-monthOption--disabled "+ya.monthOptionIsDisabled]=!x,h)),disabled:!x,key:p,onClick:x?e._selectMonthCallbacks[p]:void 0,onKeyDown:x?e._onSelectMonthKeyDown(p):void 0,"aria-label":l.formatMonthYear(g,i),"aria-selected":m||b,"data-is-focusable":!!x||void 0,ref:b?e._navigatedMonthRef:void 0,type:"button"},u)})))})))))},t.prototype.focus=function(){this._calendarYearRef?this._calendarYearRef.focus():this._navigatedMonthRef.current&&(this._navigatedMonthRef.current.tabIndex=0,this._navigatedMonthRef.current.focus())},t.prototype._isCurrentMonth=function(e,t,n){return n.getFullYear()===t&&n.getMonth()===e},t}(O.a),xa=r,Sa={leftNavigation:"Up",rightNavigation:"Down",closeIcon:"CalculatorMultiply"},wa=[Wr.Monday,Wr.Tuesday,Wr.Wednesday,Wr.Thursday,Wr.Friday],Ca={formatMonthDayYear:function(e,t){return t.months[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},formatMonthYear:function(e,t){return t.months[e.getMonth()]+" "+e.getFullYear()},formatDay:function(e){return e.getDate().toString()},formatYear:function(e){return e.getFullYear().toString()}},ka=function(e){function t(t){var n=e.call(this,t)||this;n._dayPicker=v.createRef(),n._monthPicker=v.createRef(),n._navigateDayPickerDay=function(e){n.setState({navigatedDayDate:e,navigatedMonthDate:e})},n._navigateMonthPickerDay=function(e){n.setState({navigatedMonthDate:e})},n._onNavigateDayDate=function(e,t){n._navigateDayPickerDay(e),n._focusOnUpdate=t},n._onNavigateMonthDate=function(e,t){if(!t)return n._navigateMonthPickerDay(e),void(n._focusOnUpdate=t);!n.props.showMonthPickerAsOverlay&&!n.props.isDayPickerVisible&&n._onSelectDate(e),n._navigateDayPickerDay(e)},n._onSelectDate=function(e,t){var r=n.props.onSelectDate;n.setState({selectedDate:e}),r&&r(e,t)},n._onHeaderSelect=function(e){n.setState({isDayPickerVisible:!n.state.isDayPickerVisible,isMonthPickerVisible:!n.state.isMonthPickerVisible}),e&&(n._focusOnUpdate=!0)},n._onGotoToday=function(){var e=n.props,t=e.dateRangeType,r=e.firstDayOfWeek,i=e.today,o=e.workWeekDays;if(e.selectDateOnClick){var a=yi(i,t,r,o);n._onSelectDate(i,a)}n._navigateDayPickerDay(i),n._focusOnUpdate=!0},n._onGotoTodayClick=function(e){n._onGotoToday()},n._onGotoTodayKeyDown=function(e){e.which===ge.a.enter&&(e.preventDefault(),n._onGotoToday())},n._onDatePickerPopupKeyDown=function(e){switch(e.which){case ge.a.enter:case ge.a.backspace:e.preventDefault();break;case ge.a.escape:n._handleEscKey(e)}},n._handleEscKey=function(e){n.props.onDismiss&&n.props.onDismiss()};var r=t.value&&!isNaN(t.value.getTime())?t.value:t.today||new Date;return n.state={selectedDate:r,navigatedDayDate:r,navigatedMonthDate:r,isMonthPickerVisible:!n.props.showMonthPickerAsOverlay&&n.props.isMonthPickerVisible,isDayPickerVisible:!!n.props.showMonthPickerAsOverlay||n.props.isDayPickerVisible},n._focusOnUpdate=!1,n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.autoNavigateOnSelection,n=e.value,r=e.today,i=void 0===r?new Date:r;t&&!vi(n,this.props.value)&&this.setState({navigatedMonthDate:n,navigatedDayDate:n}),this.setState({selectedDate:n||i})},t.prototype.componentDidUpdate=function(){this._focusOnUpdate&&(this.focus(),this._focusOnUpdate=!1)},t.prototype.render=function(){var e,t=this.props,n=t.firstDayOfWeek,r=t.dateRangeType,i=t.strings,o=t.showMonthPickerAsOverlay,a=t.autoNavigateOnSelection,s=t.showGoToToday,u=t.highlightCurrentMonth,l=t.highlightSelectedMonth,c=t.navigationIcons,d=t.minDate,f=t.maxDate,h=t.restrictedDates,p=t.className,g=t.showCloseButton,b=t.allFocusable,y=t.yearPickerHidden,_=t.today,x=Object(E.j)(this.props,E.h,["value"]),S=this.state,w=S.selectedDate,C=S.navigatedDayDate,k=S.navigatedMonthDate,O=S.isMonthPickerVisible,T=S.isDayPickerVisible,P=o?this._onHeaderSelect:void 0,I=!o&&!T,D=o&&s,A=s;return A&&C&&k&&_&&(A=C.getFullYear()!==_.getFullYear()||C.getMonth()!==_.getMonth()||k.getFullYear()!==_.getFullYear()||k.getMonth()!==_.getMonth()),v.createElement("div",{className:Object(z.a)("ms-DatePicker",xa.root,p),role:"application"},v.createElement("div",m.a({},x,{className:Object(z.a)("ms-DatePicker-picker ms-DatePicker-picker--opened ms-DatePicker-picker--focused",xa.picker,xa.pickerIsOpened,xa.pickerIsFocused,O&&"ms-DatePicker-monthPickerVisible "+xa.monthPickerVisible,O&&T&&"ms-DatePicker-calendarsInline "+xa.calendarsInline,I&&"ms-DatePicker-monthPickerOnly "+xa.monthPickerOnly,o&&"ms-DatePicker-monthPickerAsOverlay "+xa.monthPickerAsOverlay)}),v.createElement("div",{className:Object(z.a)("ms-DatePicker-holder ms-slideDownIn10",xa.holder,D&&xa.holderWithButton),onKeyDown:this._onDatePickerPopupKeyDown},v.createElement("div",{className:Object(z.a)("ms-DatePicker-frame",xa.frame)},v.createElement("div",{className:Object(z.a)("ms-DatePicker-wrap",xa.wrap,s&&xa.goTodaySpacing)},T&&v.createElement(sa,{selectedDate:w,navigatedDate:C,today:this.props.today,onSelectDate:this._onSelectDate,onNavigateDate:this._onNavigateDayDate,onDismiss:this.props.onDismiss,firstDayOfWeek:n,dateRangeType:r,autoNavigateOnSelection:a,strings:i,onHeaderSelect:P,navigationIcons:c,showWeekNumbers:this.props.showWeekNumbers,firstWeekOfYear:this.props.firstWeekOfYear,dateTimeFormatter:this.props.dateTimeFormatter,showSixWeeksByDefault:this.props.showSixWeeksByDefault,minDate:d,maxDate:f,restrictedDates:h,workWeekDays:this.props.workWeekDays,componentRef:this._dayPicker,showCloseButton:g,allFocusable:b}),T&&O&&v.createElement("div",{className:xa.divider}),O&&v.createElement(_a,{navigatedDate:k,selectedDate:C,strings:i,onNavigateDate:this._onNavigateMonthDate,today:this.props.today,highlightCurrentMonth:u,highlightSelectedMonth:l,onHeaderSelect:P,navigationIcons:c,dateTimeFormatter:this.props.dateTimeFormatter,minDate:d,maxDate:f,componentRef:this._monthPicker,yearPickerHidden:y||o}),s&&v.createElement("button",{role:"button",className:Object(z.a)("ms-DatePicker-goToday js-goToday",xa.goToday,(e={},e[xa.goTodayInlineMonth]=O,e[xa.goToTodayIsDisabled]=!A,e)),onClick:this._onGotoTodayClick,onKeyDown:this._onGotoTodayKeyDown,tabIndex:0,disabled:!A,type:"button"},i.goToToday))))))},t.prototype.focus=function(){this.state.isDayPickerVisible&&this._dayPicker.current?this._dayPicker.current.focus():this.state.isMonthPickerVisible&&this._monthPicker.current&&this._monthPicker.current.focus()},t.defaultProps={onSelectDate:void 0,onDismiss:void 0,isMonthPickerVisible:!0,isDayPickerVisible:!0,showMonthPickerAsOverlay:!1,value:void 0,today:new Date,firstDayOfWeek:Wr.Sunday,dateRangeType:qr.Day,autoNavigateOnSelection:!1,showGoToToday:!0,strings:null,highlightCurrentMonth:!1,highlightSelectedMonth:!1,navigationIcons:Sa,showWeekNumbers:!1,firstWeekOfYear:Kr.FirstDay,dateTimeFormatter:Ca,showSixWeeksByDefault:!1,workWeekDays:wa,showCloseButton:!1,allFocusable:!1},t}(O.a),Ea=function(e){function t(n){var r=e.call(this,n)||this;return r._root=v.createRef(),r._firstBumper=v.createRef(),r._lastBumper=v.createRef(),r._hasFocus=!1,r._onRootFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r._hasFocus=!0},r._onRootBlur=function(e){r.props.onBlur&&r.props.onBlur(e);var t=e.relatedTarget;null===e.relatedTarget&&(t=document.activeElement),Object(Ie.a)(r._root.current,t)||(r._hasFocus=!1)},r._onFirstBumperFocus=function(){r._onBumperFocus(!0)},r._onLastBumperFocus=function(){r._onBumperFocus(!1)},r._onBumperFocus=function(e){if(!r.props.disabled){var t=e===r._hasFocus?r._lastBumper.current:r._firstBumper.current;if(r._root.current){var n=e===r._hasFocus?Object(Ce.i)(r._root.current,t,!0,!1):Object(Ce.f)(r._root.current,t,!0,!1);n&&(r._isBumper(n)?r.focus():n.focus())}}},r._onFocusCapture=function(e){r.props.onFocusCapture&&r.props.onFocusCapture(e),e.target===e.currentTarget||r._isBumper(e.target)||(r._previouslyFocusedElementInTrapZone=e.target)},r._forceFocusInTrap=function(e){if(!r.props.disabled&&t._focusStack.length&&r===t._focusStack[t._focusStack.length-1]){var n=document.activeElement;Object(Ie.a)(r._root.current,n)||(r.focus(),r._hasFocus=!0,e.preventDefault(),e.stopPropagation())}},r._forceClickInTrap=function(e){if(!r.props.disabled&&t._focusStack.length&&r===t._focusStack[t._focusStack.length-1]){var n=e.target;n&&!Object(Ie.a)(r._root.current,n)&&(r.focus(),r._hasFocus=!0,e.preventDefault(),e.stopPropagation())}},Object(Ee.a)(r),r}return m.c(t,e),t.prototype.componentDidMount=function(){this._bringFocusIntoZone(),this._updateEventHandlers(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=e.elementToFocusOnDismiss;t&&this._previouslyFocusedElementOutsideTrapZone!==t&&(this._previouslyFocusedElementOutsideTrapZone=t),this._updateEventHandlers(e)},t.prototype.componentDidUpdate=function(e){var t=void 0===e.forceFocusInsideTrap||e.forceFocusInsideTrap,n=void 0===this.props.forceFocusInsideTrap||this.props.forceFocusInsideTrap,r=void 0!==e.disabled&&e.disabled,i=void 0!==this.props.disabled&&this.props.disabled;!t&&n||r&&!i?this._bringFocusIntoZone():(t&&!n||!r&&i)&&this._returnFocusToInitiator()},t.prototype.componentWillUnmount=function(){this.props.disabled&&!this.props.forceFocusInsideTrap&&Object(Ie.a)(this._root.current,document.activeElement)||this._returnFocusToInitiator()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,r=void 0!==n&&n,i=e.ariaLabelledBy,o=Object(E.j)(this.props,E.h),a={style:{pointerEvents:"none",position:"fixed"},tabIndex:r?-1:0,"data-is-visible":!0};return v.createElement("div",m.a({},o,{className:t,ref:this._root,"aria-labelledby":i,onFocusCapture:this._onFocusCapture,onFocus:this._onRootFocus,onBlur:this._onRootBlur}),v.createElement("div",m.a({},a,{ref:this._firstBumper,onFocus:this._onFirstBumperFocus})),this.props.children,v.createElement("div",m.a({},a,{ref:this._lastBumper,onFocus:this._onLastBumperFocus})))},t.prototype.focus=function(){var e=this.props,t=e.focusPreviouslyFocusedInnerElement,n=e.firstFocusableSelector;if(t&&this._previouslyFocusedElementInTrapZone&&Object(Ie.a)(this._root.current,this._previouslyFocusedElementInTrapZone))this._focusAsync(this._previouslyFocusedElementInTrapZone);else{var r,i="string"===typeof n?n:n&&n();this._root.current&&(i&&(r=this._root.current.querySelector("."+i)),r||(r=Object(Ce.j)(this._root.current,this._root.current.firstChild,!1,!1,!1,!0))),r&&this._focusAsync(r)}},t.prototype._focusAsync=function(e){this._isBumper(e)||Object(Ce.b)(e)},t.prototype._bringFocusIntoZone=function(){var e=this.props,n=e.elementToFocusOnDismiss,r=e.disabled,i=void 0!==r&&r,o=e.disableFirstFocus,a=void 0!==o&&o;i||(t._focusStack.push(this),this._previouslyFocusedElementOutsideTrapZone=n||document.activeElement,a||Object(Ie.a)(this._root.current,this._previouslyFocusedElementOutsideTrapZone)||this.focus())},t.prototype._returnFocusToInitiator=function(){var e=this,n=this.props.ignoreExternalFocusing;t._focusStack=t._focusStack.filter((function(t){return e!==t}));var r=document.activeElement;n||!this._previouslyFocusedElementOutsideTrapZone||"function"!==typeof this._previouslyFocusedElementOutsideTrapZone.focus||!Object(Ie.a)(this._root.current,r)&&r!==document.body||this._focusAsync(this._previouslyFocusedElementOutsideTrapZone)},t.prototype._updateEventHandlers=function(e){var t=e.isClickableOutsideFocusTrap,n=void 0!==t&&t,r=e.forceFocusInsideTrap,i=void 0===r||r;i&&!this._disposeFocusHandler?this._disposeFocusHandler=Object(Te.a)(window,"focus",this._forceFocusInTrap,!0):!i&&this._disposeFocusHandler&&(this._disposeFocusHandler(),this._disposeFocusHandler=void 0),n||this._disposeClickHandler?n&&this._disposeClickHandler&&(this._disposeClickHandler(),this._disposeClickHandler=void 0):this._disposeClickHandler=Object(Te.a)(window,"click",this._forceClickInTrap,!0)},t.prototype._isBumper=function(e){return e===this._firstBumper.current||e===this._lastBumper.current},t._focusStack=[],t}(v.Component),Oa=function(e){return v.createElement(Tn,m.a({},e),v.createElement(Ea,m.a({disabled:e.hidden},e.focusTrapProps),e.children))},Ta=Object(w.a)(),Pa=function(e){var t=e.checked,n=void 0!==t&&t,r=e.className,i=e.theme,o=e.styles,a=e.useFastIcons,s=Ta(o,{theme:i,className:r,checked:n,useGlobalCheckHostClass:a}),u=a?H:K;return v.createElement("div",{className:s.root},v.createElement(u,{iconName:"CircleRing",className:s.circle}),v.createElement(u,{iconName:"StatusCircleCheckmark",className:s.check}))},Ia={root:"ms-Check",circle:"ms-Check-circle",check:"ms-Check-check",checkHost:"ms-Check-checkHost"},Da=function(e){var t,n,r,i,o,a=e.checkBoxHeight,s=void 0===a?"18px":a,u=e.checked,l=e.useGlobalCheckHostClass,c=e.className,d=e.theme,f=d.palette,h=d.semanticColors,p=Object(C.a)(),g=Object(b.N)(Ia,d),m={fontSize:s,position:"absolute",left:0,top:0,width:s,height:s,textAlign:"center",verticalAlign:"middle"},v=l?Ia.checkHost:"$checkHost";return{root:[g.root,d.fonts.medium,{lineHeight:"1",width:s,height:s,verticalAlign:"top",position:"relative",userSelect:"none",selectors:(t={":before":{content:'""',position:"absolute",top:"1px",right:"1px",bottom:"1px",left:"1px",borderRadius:"50%",opacity:1,background:h.bodyBackground}},t["."+v+":hover &, ."+v+":focus &, &:hover, &:focus"]={opacity:1},t)},u&&["is-checked",{selectors:{":before":{background:f.themePrimary,opacity:1,selectors:(n={},n[b.j]={background:"Window"},n)}}}],c],circle:[g.circle,m,{color:f.neutralTertiaryAlt,selectors:(r={},r[b.j]={color:"WindowText"},r)},u&&{color:f.white}],check:[g.check,m,{opacity:0,color:f.neutralTertiaryAlt,fontSize:"16px",left:p?"-0.5px":".5px",selectors:(i={":hover":{opacity:1}},i[b.j]={MsHighContrastAdjust:"none"},i)},u&&{opacity:1,color:f.white,fontWeight:900,selectors:(o={},o[b.j]={border:"none",color:"WindowText"},o)}],checkHost:[{}]}},Aa=Object(S.a)(Pa,Da,void 0,{scope:"Check"},!0),Ma=Object(y.b)((function(e,t,n){return v.createElement(Aa,{theme:e,checked:t,className:n,useFastIcons:!0})})),ja=Object(w.a)(),Ra=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._checkBox=v.createRef(),r._onFocus=function(e){var t=r.props.inputProps;t&&t.onFocus&&t.onFocus(e)},r._onBlur=function(e){var t=r.props.inputProps;t&&t.onBlur&&t.onBlur(e)},r._onChange=function(e){var t=r.props,n=t.disabled,i=t.onChange,o=r.state.isChecked;n||(i&&i(e,!o),void 0===r.props.checked&&r.setState({isChecked:!o}))},r._onRenderLabel=function(e){var t=e.label;return t?v.createElement("span",{"aria-hidden":"true",className:r._classNames.text},t):null},Object(Ee.a)(r),r._id=r.props.id||Object(Oe.c)("checkbox-"),r.state={isChecked:!!(void 0!==t.checked?t.checked:t.defaultChecked)},Object(jn.b)(),r}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&this.setState({isChecked:!!e.checked})},t.prototype.render=function(){var e=this,t=this.props,n=t.checked,r=t.className,i=t.defaultChecked,o=t.disabled,a=t.inputProps,s=t.name,u=t.boxSide,l=t.theme,c=t.ariaLabel,d=t.ariaLabelledBy,f=t.ariaDescribedBy,h=t.styles,p=t.onRenderLabel,g=void 0===p?this._onRenderLabel:p,b=t.checkmarkIconProps,y=t.ariaPositionInSet,_=t.ariaSetSize,x=t.keytipProps,S=t.title,w=t.label,C=void 0===n?this.state.isChecked:n,k="start"!==u;return this._classNames=ja(h,{theme:l,className:r,disabled:o,checked:C,reversed:k,isUsingCustomLabelRender:g!==this._onRenderLabel}),v.createElement(qe,{keytipProps:x,disabled:o},(function(t){return v.createElement("div",{className:e._classNames.root},v.createElement("input",m.a({type:"checkbox"},a,{"data-ktp-execute-target":t["data-ktp-execute-target"]},void 0!==n&&{checked:n},void 0!==i&&{defaultChecked:i},{disabled:o,className:e._classNames.input,ref:e._checkBox,name:s,id:e._id,title:S,onChange:e._onChange,onFocus:e._onFocus,onBlur:e._onBlur,"aria-disabled":o,"aria-label":c||w,"aria-labelledby":d,"aria-describedby":Object(Be.a)(f,t["aria-describedby"]),"aria-posinset":y,"aria-setsize":_})),v.createElement("label",{className:e._classNames.label,htmlFor:e._id},v.createElement("div",{className:e._classNames.checkbox,"data-ktp-target":t["data-ktp-target"]},v.createElement(K,m.a({iconName:"CheckMark"},b,{className:e._classNames.checkmark}))),g(e.props,e._onRenderLabel)))}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this.state.isChecked},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._checkBox.current&&this._checkBox.current.focus()},t.defaultProps={boxSide:"start"},t}(v.Component),Fa=Object(S.a)(Ra,(function(e){var t,n,r,i,o,a,s,u,l,c=e.className,d=e.theme,f=e.reversed,h=e.checked,p=e.disabled,g=e.isUsingCustomLabelRender,m=d.semanticColors,v=m.inputForegroundChecked,y=m.disabledBackground,_=m.inputBorder,x=m.smallInputBorder,S=m.inputBackgroundChecked,w=m.disabledBodySubtext,C=m.inputBorderHovered,k=m.inputBackgroundChecked,E=m.inputBackgroundCheckedHovered,O=m.inputBackgroundCheckedHovered,T=m.bodyText,P=m.disabledBodySubtext,I=m.bodyText,D=m.disabledText;return{root:["ms-Checkbox",{position:"relative",display:"flex"},f&&"reversed",h&&"is-checked",!p&&"is-enabled",p&&"is-disabled",c],input:[{position:"absolute",background:"none",opacity:0,selectors:(t={},t["."+jn.a+" &:focus + label"]={outline:"1px solid "+d.palette.neutralSecondary,outlineOffset:"2px",selectors:(n={},n[b.j]={outline:"1px solid ActiveBorder"},n)},t)}],label:["ms-Checkbox-label",d.fonts.medium,{display:"flex",alignItems:g?"center":"flex-start",cursor:p?"default":"pointer",position:"relative",userSelect:"none",textAlign:"left"},f&&{flexDirection:"row-reverse",justifyContent:"flex-end"},!p&&[!h&&{selectors:{":hover .ms-Checkbox-checkbox":{borderColor:C,selectors:(r={},r[b.j]={borderColor:"Highlight"},r)},":focus .ms-Checkbox-checkbox":{borderColor:C},":hover .ms-Checkbox-checkmark":{color:_,opacity:"1",selectors:(i={},i[b.j]={color:"Highlight"},i)}}},h&&{selectors:(o={":hover .ms-Checkbox-checkbox":{background:E,borderColor:O},":focus .ms-Checkbox-checkbox":{background:E,borderColor:O}},o[b.j]={selectors:{":hover .ms-Checkbox-checkbox":{background:"Window",borderColor:"Highlight"},":focus .ms-Checkbox-checkbox":{background:"Highlight"},":focus:hover .ms-Checkbox-checkbox":{background:"Highlight"},":focus:hover .ms-Checkbox-checkmark":{color:"Window"},":hover .ms-Checkbox-checkmark":{color:"Highlight"}}},o)},{selectors:{":hover .ms-Checkbox-text":{color:T},":focus .ms-Checkbox-text":{color:T}}}]],checkbox:["ms-Checkbox-checkbox",{display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:"20px",width:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:x,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",overflow:"hidden"},f?{marginLeft:4}:{marginRight:4},!p&&h&&{background:k,borderColor:S,selectors:(a={},a[b.j]={background:"Highlight",borderColor:"Highlight"},a)},p&&{borderColor:w,selectors:(s={},s[b.j]={borderColor:"InactiveBorder"},s)},h&&p&&{background:P,borderColor:w}],checkmark:["ms-Checkbox-checkmark",{opacity:h?"1":"0",color:h&&p?y:v,selectors:(u={},u[b.j]={color:p?"InactiveBorder":"Window",MsHighContrastAdjust:"none"},u)}],text:["ms-Checkbox-text",{color:p?D:I,fontSize:b.h.medium,lineHeight:"20px"},f?{marginRight:4}:{marginLeft:4},p&&{selectors:(l={},l[b.j]={color:"InactiveBorder"},l)}]}}),void 0,{scope:"Checkbox"}),Na=Object(w.a)({disableCaching:!0}),La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.as,n=void 0===t?"label":t,r=e.children,i=e.className,o=e.disabled,a=e.styles,s=e.required,u=e.theme,l=Na(a,{className:i,disabled:o,required:s,theme:u});return v.createElement(n,m.a({},Object(E.j)(this.props,E.h),{className:l.root}),r)},t}(v.Component),Ba=Object(S.a)(La,(function(e){var t,n=e.theme,r=e.className,i=e.disabled,o=e.required;return{root:["ms-Label",n.fonts.medium,{color:n.semanticColors.bodyText,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},i&&{color:n.semanticColors.disabledBodyText,selectors:(t={},t[b.j]={color:"GrayText"},t)},o&&{selectors:{"::after":{content:"' *'",color:n.semanticColors.errorText,paddingRight:12}}},r]}}),void 0,{scope:"Label"}),za=Object(w.a)(),Ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._inputElement=v.createRef(),t._onRenderField=function(e){var n=e.onRenderLabel,r=void 0===n?t._onRenderLabel:n,i=e.id,o=e.imageSrc,a=e.imageAlt,s=e.selectedImageSrc,u=e.iconProps,l=e.imageSize?e.imageSize:{width:32,height:32};return v.createElement("label",{htmlFor:i,className:t._classNames.field},o&&v.createElement("div",{className:t._classNames.innerField,style:{height:l.height,width:l.width}},v.createElement("div",{className:t._classNames.imageWrapper},v.createElement(L,{src:o,alt:a||"",width:l.width,height:l.height})),v.createElement("div",{className:t._classNames.selectedImageWrapper},v.createElement(L,{src:s,alt:a||"",width:l.width,height:l.height}))),u?v.createElement("div",{className:t._classNames.innerField},v.createElement("div",{className:t._classNames.iconWrapper},v.createElement(K,m.a({},u)))):null,o||u?v.createElement("div",{className:t._classNames.labelWrapper,style:{maxWidth:2*l.width}},r(e)):r(e))},t._onRenderLabel=function(e){return v.createElement("span",{id:e.labelId,className:"ms-ChoiceFieldLabel"},e.text)},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.ariaLabel,n=e.focused,r=e.required,i=e.theme,o=e.iconProps,a=e.imageSrc,s=e.imageSize,u=void 0===s?{width:32,height:32}:s,l=e.disabled,c=e.checked,d=e.id,f=e.styles,h=e.name,p=e.onRenderField,g=void 0===p?this._onRenderField:p,b=m.d(e,["ariaLabel","focused","required","theme","iconProps","imageSrc","imageSize","disabled","checked","id","styles","name","onRenderField"]);this._classNames=za(f,{theme:i,hasIcon:!!o,hasImage:!!a,checked:c,disabled:l,imageIsLarge:!!a&&(u.width>71||u.height>71),focused:n});var y=Object(E.j)(b,E.o),_=y.className,x=m.d(y,["className"]);return v.createElement("div",{className:this._classNames.root},v.createElement("div",{className:this._classNames.choiceFieldWrapper},v.createElement("input",m.a({"aria-label":t||void 0,ref:this._inputElement,id:d,className:Object(z.a)(this._classNames.input,_),type:"radio",name:h,disabled:l,checked:c,required:r,onChange:this._onChange.bind(this,this.props),onFocus:this._onFocus.bind(this,this.props),onBlur:this._onBlur.bind(this,this.props)},x)),g(this.props,this._onRenderField)))},t.prototype._onChange=function(e,t){var n=e.onChange;n&&n(t,e)},t.prototype._onBlur=function(e,t){var n=e.onBlur;n&&n(t,e)},t.prototype._onFocus=function(e,t){var n=e.onFocus;n&&n(t,e)},t}(v.Component),Ha={root:"ms-ChoiceField",choiceFieldWrapper:"ms-ChoiceField-wrapper",input:"ms-ChoiceField-input",field:"ms-ChoiceField-field",innerField:"ms-ChoiceField-innerField",imageWrapper:"ms-ChoiceField-imageWrapper",iconWrapper:"ms-ChoiceField-iconWrapper",labelWrapper:"ms-ChoiceField-labelWrapper",checked:"is-checked"};function Va(e,t){return["is-inFocus",{selectors:(n={},n["."+jn.a+" &"]={position:"relative",outline:"transparent",selectors:{"::-moz-focus-inner":{border:0},":after":{content:'""',top:-2,right:-2,bottom:-2,left:-2,pointerEvents:"none",border:"1px solid "+(t?e.neutralSecondary:e.neutralPrimary),position:"absolute",selectors:(r={},r[b.j]={borderColor:"WindowText",borderWidth:t?1:2},r)}}},n)}];var n,r}function Wa(e,t,n){return[t,{paddingBottom:2,transitionProperty:"opacity",transitionDuration:"200ms",transitionTimingFunction:"ease",selectors:{".ms-Image":{display:"inline-block",borderStyle:"none"}}},(n?!e:e)&&["is-hidden",{position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",opacity:0}]]}var Ga=Object(S.a)(Ua,(function(e){var t,n,r,i,o,a=e.theme,s=e.hasIcon,u=e.hasImage,l=e.checked,c=e.disabled,d=e.imageIsLarge,f=e.focused,h=a.palette,p=a.semanticColors,g=Object(b.N)(Ha,a),m={selectors:{".ms-ChoiceFieldLabel":{color:p.bodyTextChecked},":before":{borderColor:l?p.inputBackgroundCheckedHovered:p.inputBorderHovered}}},v={borderColor:l?h.themeDark:h.neutralTertiaryAlt,selectors:{":before":{opacity:1,borderColor:l?h.themeDark:p.inputBorderHovered}}},y=[{content:'""',display:"inline-block",backgroundColor:p.bodyBackground,borderWidth:1,borderStyle:"solid",borderColor:p.smallInputBorder,width:20,height:20,fontWeight:"normal",position:"absolute",top:0,left:0,boxSizing:"border-box",transitionProperty:"border-color",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",borderRadius:"50%"},c&&{backgroundColor:l?p.bodyBackground:p.disabledText,borderColor:p.disabledText,selectors:(t={},t[b.j]={color:"GrayText"},t)},l&&{borderWidth:1,borderStyle:"solid",borderColor:c?p.disabledText:p.inputBackgroundChecked,selectors:(n={},n[b.j]={borderColor:"Highlight"},n)},(s||u)&&{top:3,right:3,left:"auto",opacity:!c&&l?1:0}],_=[{content:'""',width:0,height:0,borderRadius:"50%",position:"absolute",left:10,right:0,transitionProperty:"border-width",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",boxSizing:"border-box"},l&&{borderWidth:5,borderStyle:"solid",borderColor:c?p.disabledText:p.inputBackgroundChecked,left:5,top:5,width:10,height:10,selectors:(r={},r[b.j]={borderColor:"Highlight"},r)},l&&(s||u)&&{top:8,right:8,left:"auto"}];return{root:[g.root,a.fonts.medium,{display:"flex",alignItems:"center",boxSizing:"border-box",color:p.bodyText,fontSize:b.h.medium,fontWeight:b.i.regular,minHeight:26,border:"none",position:"relative",marginTop:8,selectors:{".ms-ChoiceFieldLabel":{fontSize:b.h.medium,display:"inline-block"}}},!s&&!u&&{selectors:{".ms-ChoiceFieldLabel":{paddingLeft:"26px"}}},u&&"ms-ChoiceField--image",s&&"ms-ChoiceField--icon",(s||u)&&{display:"inline-flex",fontSize:0,margin:"0 4px 4px 0",paddingLeft:0,backgroundColor:h.neutralLighter,height:"100%"}],choiceFieldWrapper:[g.choiceFieldWrapper,f&&Va(h,s||u)],input:[g.input,{position:"absolute",opacity:0,top:0,right:0,width:"100%",height:"100%",margin:0}],field:[g.field,l&&g.checked,{display:"inline-block",cursor:"pointer",marginTop:0,position:"relative",verticalAlign:"top",userSelect:"none",minHeight:20,selectors:{":hover":!c&&m,":focus":!c&&m,":before":y,":after":_}},s&&"ms-ChoiceField--icon",u&&"ms-ChoiceField-field--image",(s||u)&&{boxSizing:"content-box",cursor:"pointer",paddingTop:22,margin:0,textAlign:"center",transitionProperty:"all",transitionDuration:"200ms",transitionTimingFunction:"ease",border:"2px solid transparent",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},l&&{borderColor:h.themePrimary},(s||u)&&!c&&{selectors:{":hover":v,":focus":v}},c&&{cursor:"default",selectors:(i={".ms-ChoiceFieldLabel":{color:p.disabledBodyText}},i[b.j]={color:"GrayText"},i)}],innerField:[g.innerField,(s||u)&&{position:"relative",display:"inline-block",paddingLeft:30,paddingRight:30},(s||u)&&d&&{paddingLeft:24,paddingRight:24},(s||u)&&c&&{opacity:.25,selectors:(o={},o[b.j]={color:"GrayText",opacity:1},o)}],imageWrapper:Wa(!1,g.imageWrapper,l),selectedImageWrapper:Wa(!0,g.imageWrapper,l),iconWrapper:[g.iconWrapper,{fontSize:32,lineHeight:32,height:32}],labelWrapper:[g.labelWrapper,(s||u)&&{display:"block",position:"relative",margin:"4px 8px",height:30,lineHeight:15,overflow:"hidden",whiteSpace:"pre-wrap",textOverflow:"ellipsis",fontSize:b.h.medium,fontWeight:b.i.regular}]}}),void 0,{scope:"ChoiceGroupOption"}),Ka=Object(w.a)(),qa=function(e){function t(t){var n=e.call(this,t)||this;n._inputElement=v.createRef(),n.focusedVars={},n.changedVars={},n._onFocus=function(e){return n.focusedVars[e]?n.focusedVars[e]:n.focusedVars[e]=function(t,r){n.setState({keyFocused:e,keyChecked:n.state.keyChecked})}},n._onBlur=function(e,t){n.setState({keyFocused:void 0,keyChecked:n.state.keyChecked})},n._onChange=function(e){return n.changedVars[e]?n.changedVars[e]:n.changedVars[e]=function(t,r){var i=n.props,o=i.onChanged,a=i.onChange,s=i.selectedKey,u=i.options,l=void 0===u?[]:u;void 0===s&&n.setState({keyChecked:e});var c=Object(Ue.d)(l,(function(t){return t.key===e}));a?a(t,c):o&&o(c)}},Object(Ee.a)(n);var r=!!t.options&&t.options.some((function(e){return e.key===t.defaultSelectedKey}));return n.state={keyChecked:void 0!==t.defaultSelectedKey&&r?t.defaultSelectedKey:n._getKeyChecked(t),keyFocused:void 0},n._id=Object(Oe.c)("ChoiceGroup"),n._labelId=Object(Oe.c)("ChoiceGroupLabel"),n}return m.c(t,e),Object.defineProperty(t.prototype,"checkedOption",{get:function(){var e=this.props.options,t=void 0===e?[]:e,n=this.state.keyChecked;return Object(Ue.d)(t,(function(e){return e.key===n}))},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){var t=this._getKeyChecked(e);t!==this._getKeyChecked(this.props)&&this.setState({keyChecked:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.theme,i=t.styles,o=t.options,a=t.label,s=t.required,u=t.disabled,l=t.name,c=t.role,d=this.state,f=d.keyChecked,h=d.keyFocused,p=Object(E.j)(this.props,E.h,["onChange","className","required"]),g=Ka(i,{theme:r,className:n,optionsContainIconOrImage:o.some((function(e){return Boolean(e.iconProps||e.imageSrc)}))}),b=this.props.ariaLabelledBy?this.props.ariaLabelledBy:a?this._id+"-label":this.props["aria-labelledby"];return v.createElement("div",m.a({role:c,className:g.applicationRole},p),v.createElement("div",m.a({className:g.root,role:"radiogroup"},b&&{"aria-labelledby":b}),a&&v.createElement(Ba,{className:g.label,required:s,id:this._id+"-label"},a),v.createElement("div",{className:g.flexContainer},o.map((function(t){var n=m.a({},t,{focused:t.key===h,checked:t.key===f,disabled:t.disabled||u,id:e._id+"-"+t.key,labelId:e._labelId+"-"+t.key,name:l||e._id,required:s});return v.createElement(Ga,m.a({key:t.key,onBlur:e._onBlur,onFocus:e._onFocus(t.key),onChange:e._onChange(t.key)},n))})))))},t.prototype.focus=function(){var e=this.props.options;if(e)for(var t=0,n=e;t<n.length;t++){var r=n[t],i=document.getElementById(this._id+"-"+r.key);if(i&&"true"===i.getAttribute("data-is-focusable"))return void i.focus()}this._inputElement.current&&this._inputElement.current.focus()},t.prototype._getKeyChecked=function(e){if(void 0!==e.selectedKey)return e.selectedKey;var t=e.options,n=(void 0===t?[]:t).filter((function(e){return e.checked}));return 0===n.length?void 0:n[0].key},t.defaultProps={options:[]},t}(v.Component),Ya={root:"ms-ChoiceFieldGroup",flexContainer:"ms-ChoiceFieldGroup-flexContainer"},Xa=Object(S.a)(qa,(function(e){var t=e.className,n=e.optionsContainIconOrImage,r=e.theme,i=Object(b.N)(Ya,r);return{applicationRole:t,root:[i.root,r.fonts.medium,{display:"block"}],flexContainer:[i.flexContainer,n&&{display:"flex",flexDirection:"row",flexWrap:"wrap"}]}}),void 0,{scope:"ChoiceGroup"}),Za=Object(b.V)({"0%":{transform:"translate(0, 0)",animationTimingFunction:"linear"},"78.57%":{transform:"translate(0, 0)",animationTimingFunction:"cubic-bezier(0.62, 0, 0.56, 1)"},"82.14%":{transform:"translate(0, -5px)",animationTimingFunction:"cubic-bezier(0.58, 0, 0, 1)"},"84.88%":{transform:"translate(0, 9px)",animationTimingFunction:"cubic-bezier(1, 0, 0.56, 1)"},"88.1%":{transform:"translate(0, -2px)",animationTimingFunction:"cubic-bezier(0.58, 0, 0.67, 1)"},"90.12%":{transform:"translate(0, 0)",animationTimingFunction:"linear"},"100%":{transform:"translate(0, 0)"}}),Qa=Object(b.V)({"0%":{transform:" scale(0)",animationTimingFunction:"linear"},"14.29%":{transform:"scale(0)",animationTimingFunction:"cubic-bezier(0.84, 0, 0.52, 0.99)"},"16.67%":{transform:"scale(1.15)",animationTimingFunction:"cubic-bezier(0.48, -0.01, 0.52, 1.01)"},"19.05%":{transform:"scale(0.95)",animationTimingFunction:"cubic-bezier(0.48, 0.02, 0.52, 0.98)"},"21.43%":{transform:"scale(1)",animationTimingFunction:"linear"},"42.86%":{transform:"scale(1)",animationTimingFunction:"cubic-bezier(0.48, -0.02, 0.52, 1.02)"},"45.71%":{transform:"scale(0.8)",animationTimingFunction:"cubic-bezier(0.48, 0.01, 0.52, 0.99)"},"50%":{transform:"scale(1)",animationTimingFunction:"linear"},"90.12%":{transform:"scale(1)",animationTimingFunction:"cubic-bezier(0.48, -0.02, 0.52, 1.02)"},"92.98%":{transform:"scale(0.8)",animationTimingFunction:"cubic-bezier(0.48, 0.01, 0.52, 0.99)"},"97.26%":{transform:"scale(1)",animationTimingFunction:"linear"},"100%":{transform:"scale(1)"}}),$a=Object(b.V)({"0%":{transform:"rotate(0deg)",animationTimingFunction:"linear"},"83.33%":{transform:" rotate(0deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"83.93%":{transform:"rotate(15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"84.52%":{transform:"rotate(-15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"85.12%":{transform:"rotate(15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"85.71%":{transform:"rotate(-15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"86.31%":{transform:"rotate(0deg)",animationTimingFunction:"linear"},"100%":{transform:"rotate(0deg)"}});var Ja,es=Object(y.b)((function(){return Object(b.X)({root:[{position:"absolute",boxSizing:"border-box",border:"1px solid ${}",selectors:(e={},e[b.j]={border:"1px solid WindowText"},e)},Object(b.I)()],container:{position:"relative"},main:{backgroundColor:"#ffffff",overflowX:"hidden",overflowY:"hidden",position:"relative"},overFlowYHidden:{overflowY:"hidden"}});var e})),ts={opacity:0},ns=((Ja={})[dt.top]="slideUpIn20",Ja[dt.bottom]="slideDownIn20",Ja[dt.left]="slideLeftIn20",Ja[dt.right]="slideRightIn20",Ja),rs=function(e){function t(t){var n=e.call(this,t)||this;return n._positionedHost=v.createRef(),n._contentHost=v.createRef(),n.dismiss=function(e){n.onResize(e)},n.onResize=function(e){var t=n.props.onDismiss;t?t(e):n._updateAsyncPosition()},n._setInitialFocus=function(){n._contentHost.current&&n.props.setInitialFocus&&!n._didSetInitialFocus&&n.state.positions&&(n._didSetInitialFocus=!0,Object(Ce.c)(n._contentHost.current))},n._onComponentDidMount=function(){n._async.setTimeout((function(){n._events.on(n._targetWindow,"scroll",n._async.throttle(n._dismissOnScroll,10),!0),n._events.on(n._targetWindow,"resize",n._async.throttle(n.onResize,10),!0),n._events.on(n._targetWindow.document.body,"focus",n._dismissOnLostFocus,!0),n._events.on(n._targetWindow.document.body,"click",n._dismissOnLostFocus,!0)}),0),n.props.onLayerMounted&&n.props.onLayerMounted(),n._updateAsyncPosition(),n._setHeightOffsetEveryFrame()},n._didSetInitialFocus=!1,n.state={positions:void 0,heightOffset:0},n._positionAttempts=0,n}return m.c(t,e),t.prototype.componentWillMount=function(){this._setTargetWindowAndElement(this._getTarget())},t.prototype.componentDidMount=function(){this._onComponentDidMount()},t.prototype.componentDidUpdate=function(){this._setInitialFocus(),this._updateAsyncPosition()},t.prototype.componentWillUpdate=function(e){var t=this._getTarget(e);(t!==this._getTarget()||"string"===typeof t||t instanceof String)&&(this._maxHeight=void 0,this._setTargetWindowAndElement(t)),e.offsetFromTarget!==this.props.offsetFromTarget&&(this._maxHeight=void 0),e.finalHeight!==this.props.finalHeight&&this._setHeightOffsetEveryFrame()},t.prototype.render=function(){if(!this._targetWindow)return null;var e=this.props,t=e.className,n=e.positioningContainerWidth,r=e.positioningContainerMaxHeight,i=e.children,o=this.state.positions,a=es(),s=o&&o.targetEdge?b.a[ns[o.targetEdge]]:"",u=this._getMaxHeight()+this.state.heightOffset,l=r&&r>u?u:r,c=v.createElement("div",{ref:this._positionedHost,className:Object(z.a)("ms-PositioningContainer",a.container)},v.createElement("div",{className:Object(b.Y)("ms-PositioningContainer-layerHost",a.root,t,s,!!n&&{width:n}),style:o?o.elementPosition:ts,tabIndex:-1,ref:this._contentHost},i,l));return this.props.doNotLayer?c:v.createElement(On,null,c)},t.prototype._dismissOnScroll=function(e){var t=this.props.preventDismissOnScroll;this.state.positions&&!t&&this._dismissOnLostFocus(e)},t.prototype._dismissOnLostFocus=function(e){var t=e.target,n=this._positionedHost.current&&!Object(Ie.a)(this._positionedHost.current,t);(!this._target&&n||e.target!==this._targetWindow&&n&&(this._target.stopPropagation||!this._target||t!==this._target&&!Object(Ie.a)(this._target,t)))&&this.onResize(e)},t.prototype._updateAsyncPosition=function(){var e=this;this._async.requestAnimationFrame((function(){return e._updatePosition()}))},t.prototype._updatePosition=function(){var e=this.state.positions,t=this.props,n=t.offsetFromTarget,r=t.onPositioned,i=this._positionedHost.current,o=this._contentHost.current;if(i&&o){var a=void 0;if((a=Object(Oe.a)(a,this.props)).bounds=this._getBounds(),a.target=this._target,document.body.contains(a.target)){a.gapSpace=n;var s=qt(a,i,o);!e&&s||e&&s&&!this._arePositionsEqual(e,s)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:s},(function(){r&&r(s)}))):(this._positionAttempts=0,r&&r(s))}else void 0!==e&&this.setState({positions:void 0})}},t.prototype._getBounds=function(){if(!this._positioningBounds){var e=this.props.bounds;e||(e={top:0+this.props.minPagePadding,left:0+this.props.minPagePadding,right:this._targetWindow.innerWidth-this.props.minPagePadding,bottom:this._targetWindow.innerHeight-this.props.minPagePadding,width:this._targetWindow.innerWidth-2*this.props.minPagePadding,height:this._targetWindow.innerHeight-2*this.props.minPagePadding}),this._positioningBounds=e}return this._positioningBounds},t.prototype._getMaxHeight=function(){var e=this.props,t=e.directionalHintFixed,n=e.offsetFromTarget,r=e.directionalHint;if(!this._maxHeight)if(t&&this._target){var i=n||0;this._maxHeight=Xt(this._target,r,i,this._getBounds())}else this._maxHeight=this._getBounds().height-2;return this._maxHeight},t.prototype._arePositionsEqual=function(e,t){return this._comparePositions(e.elementPosition,t.elementPosition)},t.prototype._comparePositions=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],i=t[n];if(r&&i&&r.toFixed(2)!==i.toFixed(2))return!1}return!0},t.prototype._setTargetWindowAndElement=function(e){if(e)if("string"===typeof e){var t=Object(Pe.a)();this._target=t?t.querySelector(e):null,this._targetWindow=Object(F.a)()}else if(e.stopPropagation)this._targetWindow=Object(F.a)(e.toElement),this._target=e;else if(void 0!==e.x&&void 0!==e.y)this._targetWindow=Object(F.a)(),this._target=e;else{var n=e;this._targetWindow=Object(F.a)(n),this._target=e}else this._targetWindow=Object(F.a)()},t.prototype._setHeightOffsetEveryFrame=function(){var e=this;this._contentHost&&this.props.finalHeight&&(this._setHeightOffsetTimer=this._async.requestAnimationFrame((function(){if(e._contentHost.current){var t=e._contentHost.current.lastChild,n=t.scrollHeight-t.offsetHeight;e.setState({heightOffset:e.state.heightOffset+n}),t.offsetHeight<e.props.finalHeight?e._setHeightOffsetEveryFrame():e._async.cancelAnimationFrame(e._setHeightOffsetTimer)}})))},t.prototype._getTarget=function(e){return void 0===e&&(e=this.props),e.target},t.defaultProps={preventDismissOnScroll:!1,offsetFromTarget:0,minPagePadding:8,directionalHint:$e.bottomAutoEdge},t}(O.a);function is(e){return{root:[{position:"absolute",boxShadow:"inherit",border:"none",boxSizing:"border-box",transform:e.transform,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,bottom:e.bottom}],beak:{fill:e.color,display:"block"}}}var os=function(e){function t(t){return e.call(this,t)||this}return m.c(t,e),t.prototype.render=function(){var e,t,n,r,i,o,a=this.props,s=a.left,u=a.top,l=a.bottom,c=a.right,d=a.color,f=a.direction,h=void 0===f?dt.top:f;switch(h===dt.top||h===dt.bottom?(e=10,t=18):(e=18,t=10),h){case dt.top:default:n="9, 0",r="18, 10",i="0, 10",o="translateY(-100%)";break;case dt.right:n="0, 0",r="10, 10",i="0, 18",o="translateX(100%)";break;case dt.bottom:n="0, 0",r="18, 0",i="9, 10",o="translateY(100%)";break;case dt.left:n="10, 0",r="0, 10",i="10, 18",o="translateX(-100%)"}var p=Object(w.a)()(is,{left:s,top:u,bottom:l,right:c,height:e+"px",width:t+"px",transform:o,color:d});return v.createElement("div",{className:p.root,role:"presentation"},v.createElement("svg",{height:e,width:t,className:p.beak},v.createElement("polygon",{points:n+" "+r+" "+i})))},t}(O.a),as=Object(w.a)(),ss="data-coachmarkid",us=function(e){function t(t){var n=e.call(this,t)||this;return n._entityHost=v.createRef(),n._entityInnerHostElement=v.createRef(),n._translateAnimationContainer=v.createRef(),n._ariaAlertContainer=v.createRef(),n._childrenContainer=v.createRef(),n._positioningContainer=v.createRef(),n.dismiss=function(e){var t=n.props.onDismiss;t&&t(e)},n._onKeyDown=function(e){(e.altKey&&e.which===ge.a.c||e.which===ge.a.enter&&n._translateAnimationContainer.current&&n._translateAnimationContainer.current.contains(e.target))&&n._onFocusHandler()},n._onFocusHandler=function(){n.state.isCollapsed&&n._openCoachmark()},n._onPositioned=function(e){n._async.requestAnimationFrame((function(){n.setState({targetAlignment:e.alignmentEdge,targetPosition:e.targetEdge})}))},n._setBeakPosition=function(){var e,t,r,i,o,a,s=n.state.targetAlignment;switch(n._beakDirection){case dt.top:case dt.bottom:s?s===dt.left?(e="7px",o="left"):(r="7px",o="right"):(e="calc(50% - 9px)",o="center"),n._beakDirection===dt.top?(t="3px",a="top"):(i="3px",a="bottom");break;case dt.left:case dt.right:s?s===dt.top?(t="7px",a="top"):(i="7px",a="bottom"):(t="calc(50% - 9px)",a="center"),n._beakDirection===dt.left?(e="3px",o="left"):(r="3px",o="right")}n.setState({beakLeft:e,beakRight:r,beakBottom:i,beakTop:t,transformOrigin:o+" "+a})},n._openCoachmark=function(){n.setState({isCollapsed:!1}),n.props.onAnimationOpenStart&&n.props.onAnimationOpenStart(),n._entityInnerHostElement.current&&n._entityInnerHostElement.current.addEventListener("transitionend",(function(){n._async.setTimeout((function(){n._entityInnerHostElement.current&&Object(Ce.c)(n._entityInnerHostElement.current)}),1e3),n.props.onAnimationOpenEnd&&n.props.onAnimationOpenEnd()}))},n._warnDeprecations({teachingBubbleRef:void 0,collapsed:"isCollapsed",beakWidth:void 0,beakHeight:void 0,width:void 0,height:void 0}),n.state={isCollapsed:t.isCollapsed,isBeaconAnimating:!0,isMeasuring:!0,entityInnerHostRect:{width:0,height:0},isMouseInProximity:!1,isMeasured:!1},n}return m.c(t,e),Object.defineProperty(t.prototype,"_beakDirection",{get:function(){var e=this.state.targetPosition;return void 0===e?dt.bottom:-1*e},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.children,n=e.target,r=e.color,i=e.positioningContainerProps,o=e.ariaDescribedBy,a=e.ariaDescribedByText,s=e.ariaLabelledBy,u=e.ariaLabelledByText,l=e.ariaAlertText,c=e.delayBeforeCoachmarkAnimation,d=e.styles,f=e.theme,h=e.className,p=this.state,g=p.beakLeft,b=p.beakTop,y=p.beakRight,_=p.beakBottom,x=p.isCollapsed,S=p.isBeaconAnimating,w=p.isMeasuring,C=p.entityInnerHostRect,k=p.transformOrigin,E=p.alertText,O=p.isMeasured,T=r;!T&&f&&(T=f.semanticColors.primaryButtonBackground);var P=as(d,{theme:f,className:h,isCollapsed:x,isBeaconAnimating:S,isMeasuring:w,color:T,transformOrigin:k,isMeasured:O,entityHostHeight:C.height+"px",entityHostWidth:C.width+"px",width:"32px",height:"32px",delayBeforeCoachmarkAnimation:c+"ms"}),I=x?32:C.height;return v.createElement(rs,m.a({target:n,offsetFromTarget:10,componentRef:this._positioningContainer,finalHeight:I,onPositioned:this._onPositioned,bounds:this._getBounds()},i),v.createElement("div",{className:P.root},l&&v.createElement("div",{className:P.ariaContainer,role:"alert",ref:this._ariaAlertContainer,"aria-hidden":!x},E),v.createElement("div",{className:P.pulsingBeacon}),v.createElement("div",{className:P.translateAnimationContainer,ref:this._translateAnimationContainer},v.createElement("div",{className:P.scaleAnimationLayer},v.createElement("div",{className:P.rotateAnimationLayer},this._positioningContainer.current&&x&&v.createElement(os,{left:g,top:b,right:y,bottom:_,direction:this._beakDirection,color:T}),v.createElement("div",{className:P.entityHost,ref:this._entityHost,tabIndex:-1,"data-is-focusable":!0,role:"dialog","aria-labelledby":s,"aria-describedby":o},x&&[s&&v.createElement("p",{id:s,key:0,className:P.ariaContainer},u),o&&v.createElement("p",{id:o,key:1,className:P.ariaContainer},a)],v.createElement(Ea,{isClickableOutsideFocusTrap:!0,forceFocusInsideTrap:!1},v.createElement("div",{className:P.entityInnerHost,ref:this._entityInnerHostElement},v.createElement("div",{className:P.childrenContainer,ref:this._childrenContainer,"aria-hidden":x},t)))))))))},t.prototype.componentWillReceiveProps=function(e){this.props.isCollapsed&&!e.isCollapsed&&this._openCoachmark()},t.prototype.shouldComponentUpdate=function(e,t){return!Object(Oe.f)(e,this.props)||!Object(Oe.f)(t,this.state)},t.prototype.componentDidUpdate=function(e,t){t.targetAlignment===this.state.targetAlignment&&t.targetPosition===this.state.targetPosition||this._setBeakPosition(),e.preventDismissOnLostFocus!==this.props.preventDismissOnLostFocus&&this._addListeners()},t.prototype.componentDidMount=function(){var e=this;this._async.requestAnimationFrame((function(){e._entityInnerHostElement.current&&e.state.entityInnerHostRect.width+e.state.entityInnerHostRect.width===0&&(e.setState({isMeasuring:!1,entityInnerHostRect:{width:e._entityInnerHostElement.current.offsetWidth,height:e._entityInnerHostElement.current.offsetHeight},isMeasured:!0}),e._setBeakPosition(),e.forceUpdate()),e._addListeners(),e._async.setTimeout((function(){e._addProximityHandler(e.props.mouseProximityOffset)}),e.props.delayBeforeMouseOpen),e.props.ariaAlertText&&e._async.setTimeout((function(){e.props.ariaAlertText&&e._ariaAlertContainer.current&&e.setState({alertText:e.props.ariaAlertText})}),0),e.props.preventFocusOnMount||e._async.setTimeout((function(){e._entityHost.current&&e._entityHost.current.focus()}),1e3)}))},t.prototype._addListeners=function(){var e=this.props.preventDismissOnLostFocus,t=Object(Pe.a)();this._events.off(),t&&(this._events.on(t,"keydown",this._onKeyDown,!0),e||(this._events.on(t,"click",this._dismissOnLostFocus,!0),this._events.on(t,"focus",this._dismissOnLostFocus,!0)))},t.prototype._dismissOnLostFocus=function(e){var t=e.target,n=this._translateAnimationContainer.current&&!Object(Ie.a)(this._translateAnimationContainer.current,t),r=this.props.target;n&&t!==r&&!Object(Ie.a)(r,t)&&this.dismiss(e)},t.prototype._getBounds=function(){var e=this.props,t=e.isPositionForced,n=e.positioningContainerProps;return t?!n||n.directionalHint!==$e.topAutoEdge&&n.directionalHint!==$e.bottomAutoEdge?{left:-1/0,top:-1/0,bottom:1/0,right:1/0,width:1/0,height:1/0}:{left:0,top:-1/0,bottom:1/0,right:window.innerWidth,width:window.innerWidth,height:1/0}:void 0},t.prototype._addProximityHandler=function(e){var t=this;void 0===e&&(e=0);var n=[];this._async.setTimeout((function(){t._setTargetElementRect(),t._events.on(window,"resize",(function(){n.forEach((function(e){clearInterval(e)})),n.push(t._async.setTimeout((function(){t._setTargetElementRect()}),100))}))}),10),this._events.on(document,"mousemove",(function(n){if(t.state.isCollapsed){var r=n.clientY,i=n.clientX;t._setTargetElementRect(),t._isInsideElement(i,r,e)!==t.state.isMouseInProximity&&t._openCoachmark()}t.props.onMouseMove&&t.props.onMouseMove(n)}))},t.prototype._setTargetElementRect=function(){this._translateAnimationContainer&&this._translateAnimationContainer.current&&(this._targetElementRect=this._translateAnimationContainer.current.getBoundingClientRect())},t.prototype._isInsideElement=function(e,t,n){return void 0===n&&(n=0),e>this._targetElementRect.left-n&&e<this._targetElementRect.left+this._targetElementRect.width+n&&t>this._targetElementRect.top-n&&t<this._targetElementRect.top+this._targetElementRect.height+n},t.defaultProps={isCollapsed:!0,mouseProximityOffset:10,delayBeforeMouseOpen:3600,delayBeforeCoachmarkAnimation:0,isPositionForced:!0,positioningContainerProps:{directionalHint:$e.bottomAutoEdge}},t}(O.a),ls=Object(S.a)(us,(function(e){var t=e.theme,n=e.className,r=e.color,i=e.beaconColorOne,o=e.beaconColorTwo,a=e.delayBeforeCoachmarkAnimation,s=e.isCollapsed,u=e.isBeaconAnimating,l=e.isMeasuring,c=e.isMeasured,d=e.entityHostHeight,f=e.entityHostWidth,h=e.transformOrigin;if(!t)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var p=b.o.continuousPulseAnimationDouble(i||t.palette.themePrimary,o||t.palette.themeTertiary,"35px","150px","10px"),g=b.o.createDefaultAnimation(p,a);return{root:[t.fonts.medium,{position:"relative"},n],pulsingBeacon:[{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"0px",height:"0px",borderRadius:"225px",borderStyle:"solid",opacity:"0"},s&&u&&g],translateAnimationContainer:[{width:"100%",height:"100%"},s&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:Za,transition:"opacity 0.5s ease-in-out"},!s&&{opacity:"1"}],scaleAnimationLayer:[{width:"100%",height:"100%"},s&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:Qa}],rotateAnimationLayer:[{width:"100%",height:"100%"},s&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:$a},!s&&{opacity:"1"}],entityHost:[{position:"relative",outline:"none",overflow:"hidden",backgroundColor:r,borderRadius:32,transition:"border-radius 250ms, width 500ms, height 500ms cubic-bezier(0.5, 0, 0, 1)",visibility:"hidden"},!l&&{width:32,height:32,visibility:"visible"},!s&&{borderRadius:"1px",opacity:"1",width:f,height:d}],entityInnerHost:[{transition:"transform 500ms cubic-bezier(0.5, 0, 0, 1)",transformOrigin:h,transform:"scale(0)"},!s&&{width:f,height:d,transform:"scale(1)"},!l&&{visibility:"visible"}],childrenContainer:[{display:c&&s?"none":"block"}],ariaContainer:{position:"fixed",opacity:0,height:0,width:0,pointerEvents:"none"}}}),void 0,{scope:"Coachmark"}),cs=100,ds=359,fs=100,hs=255,ps=hs,gs=100,ms=3,vs=6,bs=1,ys=3,_s=/^[\da-f]{0,6}$/i,xs=/^\d{0,3}$/;function Ss(e,t,n){var r=n+(t*=(n<50?n:100-n)/100);return{h:e,s:0===r?0:2*t/r*100,v:r}}function ws(e,t,n){var r=[],i=(n/=100)*(t/=100),o=e/60,a=i*(1-Math.abs(o%2-1)),s=n-i;switch(Math.floor(o)){case 0:r=[i,a,0];break;case 1:r=[a,i,0];break;case 2:r=[0,i,a];break;case 3:r=[0,a,i];break;case 4:r=[a,0,i];break;case 5:r=[i,0,a]}return{r:Math.round(hs*(r[0]+s)),g:Math.round(hs*(r[1]+s)),b:Math.round(hs*(r[2]+s))}}function Cs(e,t,n){var r=Ss(e,t,n);return ws(r.h,r.s,r.v)}function ks(e){if(e){var t=Es(e)||function(e){if("#"===e[0]&&7===e.length&&/^#[\da-fA-F]{6}$/.test(e))return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:gs}}(e)||function(e){if("#"===e[0]&&4===e.length&&/^#[\da-fA-F]{3}$/.test(e))return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:gs}}(e)||function(e){var t=e.match(/^hsl(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],r=n?4:3,i=t[2].split(/ *, */).map(Number);if(i.length===r){var o=Cs(i[0],i[1],i[2]);return o.a=n?100*i[3]:gs,o}}}(e);return t||function(e){if("undefined"===typeof document)return;var t=document.createElement("div");t.style.backgroundColor=e,t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.height="1px",t.style.width="1px",document.body.appendChild(t);var n=getComputedStyle(t),r=n&&n.backgroundColor;if(document.body.removeChild(t),"rgba(0, 0, 0, 0)"===r||"transparent"===r){switch(e.trim()){case"transparent":case"#0000":case"#00000000":return{r:0,g:0,b:0,a:0}}return}return Es(r)}(e)}}function Es(e){if(e){var t=e.match(/^rgb(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],r=n?4:3,i=t[2].split(/ *, */).map(Number);if(i.length===r)return{r:i[0],g:i[1],b:i[2],a:n?100*i[3]:gs}}}}function Os(e,t,n){return void 0===n&&(n=0),e<n?n:e>t?t:e}function Ts(e,t,n){return[Ps(e),Ps(t),Ps(n)].join("")}function Ps(e){var t=(e=Os(e,hs)).toString(16);return 1===t.length?"0"+t:t}function Is(e,t,n){var r=ws(e,t,n);return Ts(r.r,r.g,r.b)}function Ds(e,t,n){var r=NaN,i=Math.max(e,t,n),o=i-Math.min(e,t,n);return 0===o?r=0:e===i?r=(t-n)/o%6:t===i?r=(n-e)/o+2:n===i&&(r=(e-t)/o+4),(r=Math.round(60*r))<0&&(r+=360),{h:r,s:Math.round(100*(0===i?0:o/i)),v:Math.round(i/hs*100)}}function As(e,t,n){var r=(2-(t/=cs))*(n/=fs),i=t*n;return{h:e,s:100*(i=(i/=r<=1?r:2-r)||0),l:100*(r/=2)}}function Ms(e,t,n,r,i){return r===gs||"number"!==typeof r?"#"+i:"rgba("+e+", "+t+", "+n+", "+r/gs+")"}function js(e){var t=e.a,n=void 0===t?gs:t,r=e.b,i=e.g,o=e.r,a=Ds(o,i,r),s=a.h,u=a.s,l=a.v,c=Ts(o,i,r);return{a:n,b:r,g:i,h:s,hex:c,r:o,s:u,str:Ms(o,i,r,n,c),v:l}}function Rs(e){var t=ks(e);if(t)return m.a({},js(t),{str:e})}function Fs(e,t){var n=e.h,r=e.s,i=e.v;t="number"===typeof t?t:gs;var o=ws(n,r,i),a=o.r,s=o.g,u=o.b,l=Is(n,r,i);return{a:t,b:u,g:s,h:n,hex:l,r:a,s:r,str:Ms(a,s,u,t,l),v:i}}function Ns(e){return"#"+Is(e.h,cs,fs)}function Ls(e,t,n){var r=ws(e.h,t,n),i=r.r,o=r.g,a=r.b,s=Ts(i,o,a);return{a:e.a,b:a,g:o,h:e.h,hex:s,r:i,s:t,str:Ms(i,o,a,e.a,s),v:n}}function Bs(e,t){var n=ws(t,e.s,e.v),r=n.r,i=n.g,o=n.b,a=Ts(r,i,o);return{a:e.a,b:o,g:i,h:t,hex:a,r:r,s:e.s,str:Ms(r,i,o,e.a,a),v:e.v}}function zs(e,t,n){return js(((r={r:e.r,g:e.g,b:e.b,a:e.a})[t]=n,r));var r}function Us(e,t){return m.a({},e,{a:t,str:Ms(e.r,e.g,e.b,t,e.hex)})}function Hs(e){return{r:Os(e.r,hs),g:Os(e.g,hs),b:Os(e.b,hs),a:"number"===typeof e.a?Os(e.a,gs):e.a}}function Vs(e){return{h:Os(e.h,ds),s:Os(e.s,cs),v:Os(e.v,fs)}}function Ws(e){return!e||e.length<ms?"ffffff":e.length>=vs?e.substring(0,vs):e.substring(0,ms)}var Gs,Ks=[.027,.043,.082,.145,.184,.216,.349,.537],qs=[.537,.45,.349,.216,.184,.145,.082,.043],Ys=[.537,.349,.216,.184,.145,.082,.043,.027],Xs=[.537,.45,.349,.216,.184,.145,.082,.043],Zs=[.88,.77,.66,.55,.44,.33,.22,.11],Qs=[.11,.22,.33,.44,.55,.66,.77,.88],$s=[.96,.84,.7,.4,.12],Js=[.1,.24,.44];function eu(e){return"number"===typeof e&&e>=Gs.Unshaded&&e<=Gs.Shade8}function tu(e,t){return{h:e.h,s:e.s,v:ru(e.v-e.v*t,0,100)}}function nu(e,t){return{h:e.h,s:ru(e.s-e.s*t,0,100),v:ru(e.v+(100-e.v)*t,0,100)}}function ru(e,t,n){return e}function iu(e){return As(e.h,e.s,e.v).l<50}function ou(e,t,n){if(void 0===n&&(n=!1),!e)return null;if(t===Gs.Unshaded||!eu(t))return e;var r=As(e.h,e.s,e.v),i={h:e.h,s:e.s,v:e.v},o=t-1,a=nu,s=tu;return n&&(a=tu,s=nu),i=function(e){return e.r===ps&&e.g===ps&&e.b===ps}(e)?tu(i,Ys[o]):function(e){return 0===e.r&&0===e.g&&0===e.b}(e)?nu(i,Xs[o]):r.l/100>.8?s(i,Qs[o]):r.l/100<.2?a(i,Zs[o]):o<$s.length?a(i,$s[o]):s(i,Js[o-$s.length]),js(Object(Oe.a)(ws(i.h,i.s,i.v),{a:e.a}))}function au(e,t,n){if(void 0===n&&(n=!1),!e)return null;if(t===Gs.Unshaded||!eu(t))return e;var r={h:e.h,s:e.s,v:e.v},i=t-1;return r=n?nu(r,qs[Xs.length-1-i]):tu(r,Ks[i]),js(Object(Oe.a)(ws(r.h,r.s,r.v),{a:e.a}))}function su(e,t){function n(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}var r=.2126*n(e.r/ps)+.7152*n(e.g/ps)+.0722*n(e.b/ps);r+=.05;var i=.2126*n(t.r/ps)+.7152*n(t.g/ps)+.0722*n(t.b/ps);return r/(i+=.05)>1?r/i:i/r}!function(e){e[e.Unshaded=0]="Unshaded",e[e.Shade1=1]="Shade1",e[e.Shade2=2]="Shade2",e[e.Shade3=3]="Shade3",e[e.Shade4=4]="Shade4",e[e.Shade5=5]="Shade5",e[e.Shade6=6]="Shade6",e[e.Shade7=7]="Shade7",e[e.Shade8=8]="Shade8"}(Gs||(Gs={}));var uu=n(115),lu=Object(w.a)(),cu=function(e){function t(t){var n=e.call(this,t)||this;return n._textElement=Object(bn.a)(),n._onFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n.setState({isFocused:!0}),n.props.validateOnFocusIn&&n._validate(n.state.value)},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isFocused:!1}),n.props.validateOnFocusOut&&n._validate(n.state.value)},n._onRenderLabel=function(e){var t=e.label,r=e.required,i=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return t?v.createElement(Ba,{required:r,htmlFor:n._id,styles:i,disabled:e.disabled,id:n._labelId},e.label):null},n._onRenderDescription=function(e){return e.description?v.createElement("span",{className:n._classNames.description},e.description):null},n._onInputChange=function(e){e.persist();var t=e.target.value;t!==n._latestValue&&(n._latestValue=t,n.setState({value:t},(function(){n._adjustInputHeight(),n.props.onChange&&n.props.onChange(e,t),n.props.onChanged&&n.props.onChanged(t)})),du(n.props)&&n._delayedValidate(t),n.props.onBeforeChange&&n.props.onBeforeChange(t))},Object(Ee.a)(n),n._async=new ht.a(n),n._id=t.id||Object(Oe.c)("TextField"),n._descriptionId=Object(Oe.c)("TextFieldDescription"),n._labelId=Object(Oe.c)("TextFieldLabel"),void 0!==t.value?n._latestValue=t.value:void 0!==t.defaultValue?n._latestValue=t.defaultValue:n._latestValue="",n.state={value:n._latestValue,isFocused:!1,errorMessage:""},n._delayedValidate=n._async.debounce(n._validate,n.props.deferredValidationTime),n._lastValidation=0,n}return m.c(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._isMounted=!0,this._adjustInputHeight(),this.props.validateOnLoad&&this._validate(this.state.value)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.onBeforeChange;e.value===this.state.value||void 0===e.value&&void 0===this.props.value||(t&&t(e.value),this._id=e.id||this._id,this._setValue(e.value),du(e)&&this._delayedValidate(e.value)),e.defaultValue!==this.props.defaultValue&&void 0===e.value&&this._setValue(e.defaultValue),!!e.multiline!==!!this.props.multiline&&this.state.isFocused&&(this._shouldResetFocusAfterRender=!0,this._selectionBeforeInputTypeChange=[this.selectionStart,this.selectionEnd])},t.prototype.componentDidUpdate=function(){if(this._shouldResetFocusAfterRender&&(this._shouldResetFocusAfterRender=!1,this.focus(),this._selectionBeforeInputTypeChange)){var e=this._selectionBeforeInputTypeChange,t=e[0],n=e[1];null!==t&&null!==n&&this.setSelectionRange(t,n)}},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.borderless,n=e.className,r=e.disabled,i=e.iconClass,o=e.iconProps,a=e.inputClassName,s=e.label,u=e.multiline,l=e.required,c=e.underlined,d=e.addonString,f=e.prefix,h=e.resizable,p=e.suffix,g=e.theme,b=e.styles,y=e.autoAdjustHeight,_=e.onRenderAddon,x=void 0===_?this._onRenderAddon:_,S=e.onRenderPrefix,w=void 0===S?this._onRenderPrefix:S,C=e.onRenderSuffix,k=void 0===C?this._onRenderSuffix:C,E=e.onRenderLabel,O=void 0===E?this._onRenderLabel:E,T=e.onRenderDescription,P=void 0===T?this._onRenderDescription:T,I=this.state.isFocused,D=this._errorMessage;return this._classNames=lu(b,{theme:g,className:n,disabled:r,focused:I,required:l,multiline:u,hasLabel:!!s,hasErrorMessage:!!D,borderless:t,resizable:h,hasIcon:!!o,underlined:c,iconClass:i,inputClassName:a,autoAdjustHeight:y}),v.createElement("div",{className:this._classNames.root},v.createElement("div",{className:this._classNames.wrapper},O(this.props,this._onRenderLabel),v.createElement("div",{className:this._classNames.fieldGroup},(void 0!==d||this.props.onRenderAddon)&&v.createElement("div",{className:this._classNames.prefix},x(this.props,this._onRenderAddon)),(void 0!==f||this.props.onRenderPrefix)&&v.createElement("div",{className:this._classNames.prefix},w(this.props,this._onRenderPrefix)),u?this._renderTextArea():this._renderInput(),(i||o)&&v.createElement(K,m.a({className:this._classNames.icon},o)),(void 0!==p||this.props.onRenderSuffix)&&v.createElement("div",{className:this._classNames.suffix},k(this.props,this._onRenderSuffix)))),this._isDescriptionAvailable&&v.createElement("span",{id:this._descriptionId},P(this.props,this._onRenderDescription),D&&v.createElement("div",{role:"alert"},v.createElement(be.a,null,v.createElement("p",{className:this._classNames.errorMessage},v.createElement("span",{"data-automation-id":"error-message"},D))))))},t.prototype.focus=function(){this._textElement.current&&this._textElement.current.focus()},t.prototype.blur=function(){this._textElement.current&&this._textElement.current.blur()},t.prototype.select=function(){this._textElement.current&&this._textElement.current.select()},t.prototype.setSelectionStart=function(e){this._textElement.current&&(this._textElement.current.selectionStart=e)},t.prototype.setSelectionEnd=function(e){this._textElement.current&&(this._textElement.current.selectionEnd=e)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._textElement.current?this._textElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._textElement.current?this._textElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),t.prototype.setSelectionRange=function(e,t){this._textElement.current&&this._textElement.current.setSelectionRange(e,t)},t.prototype._setValue=function(e){var t=this;this._latestValue=e,this.setState({value:e||"",errorMessage:""},(function(){t._adjustInputHeight()}))},t.prototype._onRenderAddon=function(e){var t=e.addonString;return v.createElement("span",{style:{paddingBottom:"1px"}},t)},t.prototype._onRenderPrefix=function(e){var t=e.prefix;return v.createElement("span",{style:{paddingBottom:"1px"}},t)},t.prototype._onRenderSuffix=function(e){var t=e.suffix;return v.createElement("span",{style:{paddingBottom:"1px"}},t)},Object.defineProperty(t.prototype,"_errorMessage",{get:function(){var e=this.state.errorMessage;return!e&&this.props.errorMessage&&(e=this.props.errorMessage),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isDescriptionAvailable",{get:function(){var e=this.props;return!!(e.onRenderDescription||e.description||this._errorMessage)},enumerable:!0,configurable:!0}),t.prototype._renderTextArea=function(){var e=Object(E.j)(this.props,E.w,["defaultValue"]);return v.createElement("textarea",m.a({id:this._id},e,{ref:this._textElement,value:this.state.value,onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this._errorMessage,"aria-label":this.props.ariaLabel,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._renderInput=function(){var e=Object(E.j)(this.props,E.o,["defaultValue"]),t=this.props["aria-labelledby"]||(this.props.label?this._labelId:void 0);return v.createElement("input",m.a({type:"text",id:this._id,"aria-labelledby":t},e,{ref:this._textElement,value:this.state.value,onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-label":this.props.ariaLabel,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this._errorMessage,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._validate=function(e){var t=this;if(this._latestValidateValue!==e||!du(this.props)){this._latestValidateValue=e;var n=(0,this.props.onGetErrorMessage)(e||"");if(void 0!==n)if("string"!==typeof n&&"then"in n){var r=++this._lastValidation;n.then((function(n){t._isMounted&&r===t._lastValidation&&t.setState({errorMessage:n}),t._notifyAfterValidate(e,n)}))}else this.setState({errorMessage:n}),this._notifyAfterValidate(e,n);else this._notifyAfterValidate(e,"")}},t.prototype._notifyAfterValidate=function(e,t){this._isMounted&&e===this.state.value&&this.props.onNotifyValidationResult&&this.props.onNotifyValidationResult(t,e)},t.prototype._adjustInputHeight=function(){if(this._textElement.current&&this.props.autoAdjustHeight&&this.props.multiline){var e=this._textElement.current;e.style.height="",e.style.height=e.scrollHeight+"px"}},t.defaultProps={multiline:!1,resizable:!0,autoAdjustHeight:!1,underlined:!1,borderless:!1,onChange:function(){},onBeforeChange:function(){},onNotifyValidationResult:function(){},onGetErrorMessage:function(){},deferredValidationTime:200,errorMessage:"",validateOnFocusIn:!1,validateOnFocusOut:!1,validateOnLoad:!0},t}(v.Component);function du(e){return!(e.validateOnFocusIn||e.validateOnFocusOut)}var fu={root:"ms-TextField",description:"ms-TextField-description",errorMessage:"ms-TextField-errorMessage",field:"ms-TextField-field",fieldGroup:"ms-TextField-fieldGroup",prefix:"ms-TextField-prefix",suffix:"ms-TextField-suffix",wrapper:"ms-TextField-wrapper",multiline:"ms-TextField--multiline",borderless:"ms-TextField--borderless",underlined:"ms-TextField--underlined",unresizable:"ms-TextField--unresizable",required:"is-required",disabled:"is-disabled",active:"is-active"};function hu(e){var t=e.underlined,n=e.disabled,r=e.focused;return function(){return{root:[t&&n&&{color:e.theme.palette.neutralTertiary},t&&{fontSize:b.h.medium,marginRight:8,paddingLeft:12,paddingRight:0,lineHeight:"22px",height:32},t&&r&&{selectors:(i={},i[b.j]={height:31},i)}]};var i}}var pu=Object(S.a)(cu,(function(e){var t,n,r,i,o,a,s,u,l,c=e.theme,d=e.className,f=e.disabled,h=e.focused,p=e.required,g=e.multiline,m=e.hasLabel,v=e.borderless,y=e.underlined,_=e.hasIcon,x=e.resizable,S=e.hasErrorMessage,w=e.iconClass,C=e.inputClassName,k=e.autoAdjustHeight,E=c.semanticColors,O=Object(b.N)(fu,c),T={background:E.disabledBackground,color:f?E.disabledText:E.inputPlaceholderText,display:"flex",alignItems:"center",padding:"0 10px",lineHeight:1,whiteSpace:"nowrap",flexShrink:0},P=[c.fonts.medium,{color:E.inputPlaceholderText,opacity:1}],I={color:E.disabledText};return{root:[O.root,c.fonts.medium,p&&O.required,f&&O.disabled,h&&O.active,g&&O.multiline,v&&O.borderless,y&&O.underlined,b.ab,{position:"relative"},d],wrapper:[O.wrapper,y&&{display:"flex",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:E.inputBorder,width:"100%"},S&&y&&!f&&{borderBottomColor:E.errorText,selectors:{":hover":{borderBottomColor:E.errorText,selectors:(t={},t[b.j]={borderBottomColor:"Highlight"},t)}}},y&&f&&{borderBottomColor:E.disabledBackground},y&&!f&&!h&&!S&&{selectors:{":hover":{borderBottomColor:E.inputBorderHovered,selectors:(n={},n[b.j]={borderBottomColor:"Highlight"},n)}}},y&&h&&{borderBottomColor:S?E.errorText:E.inputFocusBorderAlt,selectors:(r={},r[b.j]={borderBottomWidth:2,borderBottomColor:"Highlight"},r)}],fieldGroup:[O.fieldGroup,b.ab,{border:"1px solid "+E.inputBorder,background:E.inputBackground,cursor:"text",height:32,display:"flex",flexDirection:"row",alignItems:"stretch",position:"relative",selectors:{":hover":{selectors:(i={},i[b.j]={borderColor:"Highlight"},i)}}},g&&{minHeight:"60px",height:"auto",display:"flex"},v&&{border:"none"},!h&&!f&&{selectors:{":hover":{borderColor:E.inputBorderHovered}}},h&&{borderColor:E.inputFocusBorderAlt,selectors:(o={},o[b.j]={borderWidth:2,borderColor:"Highlight"},o)},f&&{backgroundColor:E.disabledBackground,borderColor:E.disabledBackground,cursor:"default"},y&&{flex:"1 1 0px",border:"none",textAlign:"left"},y&&h&&{selectors:(a={},a[b.j]={height:31},a)},y&&f&&{backgroundColor:"transparent"},S&&{borderColor:E.errorText,selectors:{"&:focus, &:hover":{borderColor:E.errorText}}},S&&h&&{borderColor:E.errorText},!m&&p&&{selectors:(s={":after":{content:"'*'",color:E.errorText,position:"absolute",top:-5,right:-10}},s[b.j]={selectors:{":after":{right:-14}}},s)}],field:[c.fonts.medium,O.field,b.ab,{fontSize:b.h.medium,borderRadius:0,border:"none",background:"none",backgroundColor:"transparent",color:E.inputText,padding:"0 12px",width:"100%",minWidth:0,textOverflow:"ellipsis",outline:0,selectors:{"&:active, &:focus, &:hover":{outline:0},"::-ms-clear":{display:"none"}}},Object(b.Q)(P),g&&!x&&[O.unresizable,{resize:"none"}],g&&{minHeight:"inherit",lineHeight:17,flexGrow:1,paddingTop:6,overflow:"auto",width:"100%"},g&&k&&{overflow:"hidden"},_&&{paddingRight:24},g&&_&&{paddingRight:40},f&&[{backgroundColor:"transparent",borderColor:"transparent",color:E.disabledText},Object(b.Q)(I)],y&&{textAlign:"left"},h&&!v&&{selectors:(u={},u[b.j]={paddingLeft:11,paddingRight:11},u)},h&&g&&!v&&{selectors:(l={},l[b.j]={paddingTop:4},l)},C],icon:[g&&{paddingRight:24,paddingBottom:8,alignItems:"flex-end"},{pointerEvents:"none",position:"absolute",bottom:5,right:8,top:"auto",fontSize:16,lineHeight:18},f&&{color:E.disabledText},w],description:[O.description,{color:E.bodySubtext,fontSize:b.h.xSmall}],errorMessage:[O.errorMessage,b.a.slideDownIn20,c.fonts.small,{color:E.errorText,margin:0,paddingTop:5,display:"flex",alignItems:"center"}],prefix:[O.prefix,T],suffix:[O.suffix,T],subComponentStyles:{label:hu(e)}}}),void 0,{scope:"TextField"}),gu=Object(w.a)(),mu=function(e){function t(t){var n=e.call(this,t)||this;n._root=v.createRef(),n._onMouseDown=function(e){n._events.on(window,"mousemove",n._onMouseMove,!0),n._events.on(window,"mouseup",n._disableEvents,!0),n._onMouseMove(e)},n._onMouseMove=function(e){var t=n.props,r=t.color,i=t.onSVChanged,o=t.onChange;if(n._root.current)if(1&e.buttons){var a=function(e,t,n){var r=n.getBoundingClientRect(),i=(e.clientX-r.left)/r.width,o=(e.clientY-r.top)/r.height;return Ls(t,Os(i*cs,cs),Os(fs-o*fs,fs))}(e,r,n._root.current);a&&(n.setState({color:a}),o&&o(e,a),i&&i(a.s,a.v)),e.preventDefault(),e.stopPropagation()}else n._disableEvents()},n._disableEvents=function(){n._events.off()},Object(Ee.a)(n),n._events=new ze.a(n),Object(uu.a)("ColorRectangle",t,{onSVChanged:"onChange"});var r=n.props.color;return n.state={color:r},n}return m.c(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){var t=e.color;this.setState({color:t})},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.minSize,n=e.theme,r=e.className,i=e.styles,o=this.state.color,a=gu(i,{theme:n,className:r});return v.createElement("div",{ref:this._root,className:a.root,style:{minWidth:t,minHeight:t,backgroundColor:Ns(o)},onMouseDown:this._onMouseDown},v.createElement("div",{className:a.light}),v.createElement("div",{className:a.dark}),v.createElement("div",{className:a.thumb,style:{left:o.s+"%",top:fs-o.v+"%",backgroundColor:o.str}}))},t.defaultProps={minSize:220},t}(v.Component);var vu=Object(S.a)(mu,(function(e){var t,n=e.className;return{root:["ms-ColorPicker-colorRect",{position:"relative",marginBottom:10,selectors:(t={},t[b.j]={MsHighContrastAdjust:"none"},t)},n],light:["ms-ColorPicker-light",{position:"absolute",left:0,right:0,top:0,bottom:0,background:"linear-gradient(to right, white 0%, transparent 100%)"}],dark:["ms-ColorPicker-dark",{position:"absolute",left:0,right:0,top:0,bottom:0,background:"linear-gradient(to bottom, transparent 0, #000 100%)"}],thumb:["ms-ColorPicker-thumb",{position:"absolute",width:20,height:20,background:"white",border:"1px solid rgba(255,255,255,.8)",borderRadius:"50%",boxShadow:"0 0 15px -5px black",transform:"translate(-50%, -50%)"}]}}),void 0,{scope:"ColorRectangle"}),bu=Object(w.a)(),yu=function(e){function t(t){var n=e.call(this,t)||this;n._root=v.createRef(),n._onMouseDown=function(e){n._events.on(window,"mousemove",n._onMouseMove,!0),n._events.on(window,"mouseup",n._onMouseUp,!0),n._onMouseMove(e)},n._onMouseMove=function(e){if(n._root.current){var t=n.props,r=t.onChange,i=t.onChanged,o=t.minValue,a=t.maxValue,s=n._root.current.getBoundingClientRect(),u=(e.clientX-s.left)/s.width,l=Math.min(a,Math.max(o,u*a));n.setState({currentValue:l}),r&&r(e,l),i&&i(l),e.preventDefault(),e.stopPropagation()}},n._onMouseUp=function(e){n._events.off()},Object(Ee.a)(n),n._events=new ze.a(n),Object(uu.a)("ColorSlider",t,{onChanged:"onChange"});var r=n.props.value;return n.state={currentValue:r},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){e&&e.value&&this.setState({currentValue:e.value})},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.isAlpha,n=e.minValue,r=e.maxValue,i=e.overlayStyle,o=e.theme,a=e.className,s=e.styles,u=this.state.currentValue,l=bu(s,{theme:o,className:a}),c=100*(u-n)/(r-n),d=t?{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)"}:{background:"linear-gradient(to left,red 0,#f09 10%,#cd00ff 20%,#3200ff 30%,#06f 40%,#00fffd 50%,#0f6 60%,#35ff00 70%,#cdff00 80%,#f90 90%,red 100%)"};return v.createElement("div",{ref:this._root,className:l.root,onMouseDown:this._onMouseDown,style:d},v.createElement("div",{className:l.sliderOverlay,style:i}),v.createElement("div",{className:l.sliderThumb,style:{left:c+"%"}}))},t.defaultProps={minValue:0,maxValue:100,thumbColor:"inherit",value:0},t}(v.Component),_u=Object(S.a)(yu,(function(e){var t=e.theme,n=e.className;return{root:["ms-ColorPicker-slider",{position:"relative",height:20,marginBottom:5,border:"1px solid "+t.palette.neutralLight,boxSizing:"border-box"},n],sliderOverlay:["ms-ColorPicker-sliderOverlay",{content:"",position:"absolute",left:0,right:0,top:0,bottom:0}],sliderThumb:["ms-ColorPicker-thumb","is-slider",{position:"absolute",width:20,height:20,background:"white",border:"1px solid rgba(255,255,255,.8)",borderRadius:"50%",boxShadow:"0 0 15px -5px black",transform:"translate(-50%, -50%)",top:"50%"}]}}),void 0,{scope:"ColorSlider"}),xu=Object(w.a)(),Su=["hex","r","g","b","a"],wu=function(e){function t(t){var n=e.call(this,t)||this;n._onSVChanged=function(e,t){n._updateColor(e,t)},n._onHChanged=function(e,t){n._updateColor(e,Bs(n.state.color,t))},n._onAChanged=function(e,t){n._updateColor(e,Us(n.state.color,Math.round(t)))},n._onBlur=function(e){var t=n.state,r=t.color,i=t.editingColor;if(i){var o,a=i.value,s=i.component,u="hex"===s,l=u?ms:bs;if(a.length>=l&&(u||!isNaN(Number(a)))){var c=void 0;c=u?Rs("#"+Ws(a)):js(Hs(m.a({},r,((o={})[s]=Number(a),o)))),n._updateColor(e,c)}else n.setState({editingColor:void 0})}},Object(Ee.a)(n),Object(uu.a)("ColorPicker",t,{onColorChanged:"onChange"}),n.state={color:Cu(t)||Rs("#ffffff")},n._textChangeHandlers={};for(var r=0,i=Su;r<i.length;r++){var o=i[r];n._textChangeHandlers[o]=n._onTextChange.bind(n,o)}return n._textLabels={r:t.redLabel,g:t.greenLabel,b:t.blueLabel,a:t.alphaLabel,hex:t.hexLabel},n}return m.c(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){var t=Cu(e);t&&this._updateColor(void 0,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.theme,r=t.className,i=t.styles,o=this.state.color,a=xu(i,{theme:n,className:r});return v.createElement("div",{className:a.root},v.createElement("div",{className:a.panel},v.createElement(vu,{color:o,onChange:this._onSVChanged}),v.createElement(_u,{className:"is-hue",minValue:0,maxValue:ds,value:o.h,onChange:this._onHChanged}),!t.alphaSliderHidden&&v.createElement(_u,{className:"is-alpha",isAlpha:!0,overlayStyle:{background:"linear-gradient(to right, transparent 0, #"+o.hex+" 100%)"},minValue:0,maxValue:gs,value:o.a,onChange:this._onAChanged}),v.createElement("table",{className:a.table,cellPadding:"0",cellSpacing:"0"},v.createElement("thead",null,v.createElement("tr",{className:a.tableHeader},v.createElement("td",{className:a.tableHexCell},t.hexLabel),v.createElement("td",null,t.redLabel),v.createElement("td",null,t.greenLabel),v.createElement("td",null,t.blueLabel),!t.alphaSliderHidden&&v.createElement("td",null,t.alphaLabel))),v.createElement("tbody",null,v.createElement("tr",null,Su.map((function(n){return"a"===n&&t.alphaSliderHidden?null:v.createElement("td",{key:n,style:"hex"===n?void 0:{width:"18%"}},v.createElement(pu,{className:a.input,onChange:e._textChangeHandlers[n],onBlur:e._onBlur,value:e._getDisplayValue(n),spellCheck:!1,ariaLabel:e._textLabels[n]}))})))))))},t.prototype._getDisplayValue=function(e){var t=this.state,n=t.color,r=t.editingColor;return r&&r.component===e?r.value:null===n[e]||void 0===n[e]?"":String(n[e])},t.prototype._onTextChange=function(e,t,n){var r,i=this.state.color,o="hex"===e,a="a"===e;if(n=(n||"").substr(0,o?vs:ys),(o?_s:xs).test(n))if(""!==n&&(o?n.length===vs:a?Number(n)<=gs:Number(n)<=hs))if(String(i[e])===n)this.state.editingColor?this.setState({editingColor:void 0}):this.setState({color:i});else{var s=o?Rs("#"+n):js(m.a({},i,((r={})[e]=Number(n),r)));this._updateColor(t,s)}else this.setState({editingColor:{component:e,value:n}});else this.setState({color:i})},t.prototype._updateColor=function(e,t){var n=this;if(t){var r=this.state,i=r.color,o=r.editingColor;(t.h!==i.h||t.str!==i.str||o)&&this.setState({color:t,editingColor:void 0},(function(){e&&n.props.onChange&&n.props.onChange(e,t),n.props.onColorChanged&&n.props.onColorChanged(t.str,t)}))}},t.defaultProps={hexLabel:"Hex",redLabel:"Red",greenLabel:"Green",blueLabel:"Blue",alphaLabel:"Alpha"},t}(v.Component);function Cu(e){var t=e.color;return"string"===typeof t?Rs(t):t}var ku,Eu=Object(S.a)(wu,(function(e){var t=e.className,n=e.theme;return{root:["ms-ColorPicker",n.fonts.medium,{position:"relative",maxWidth:300},t],panel:["ms-ColorPicker-panel",{padding:"16px"}],table:["ms-ColorPicker-table",{tableLayout:"fixed",width:"100%"}],tableHeader:[m.a({},n.fonts.small)],tableHexCell:[{width:"25%"}],input:["ms-ColorPicker-input",{width:"100%",border:"none",boxSizing:"border-box",height:30,selectors:{"&.ms-TextField":{paddingRight:2},"& .ms-TextField-field":{minWidth:"auto",padding:5,textOverflow:"clip"}}}]}}),void 0,{scope:"ColorPicker"});!function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header"}(ku||(ku={}));var Ou,Tu,Pu=n(86),Iu=Object(y.b)((function(e){var t,n=e.semanticColors;return{backgroundColor:n.disabledBackground,borderColor:n.disabledBackground,color:n.disabledText,cursor:"default",selectors:(t={},t[b.j]={borderColor:"GrayText",color:"GrayText"},t)}})),Du=Object(y.b)((function(e){return{selectors:(t={},t[b.j]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},t)};var t})),Au=Object(y.b)((function(e,t,n,r,i){var o,a=e.semanticColors,s=e.palette,u=a.menuItemBackgroundHovered,l=a.bodyText,c=s.black,d=a.disabledText,f=a.bodyBackground,h={root:[e.fonts.medium,{backgroundColor:r?u:"transparent",boxSizing:"border-box",cursor:"pointer",display:i?"none":"block",width:"100%",height:"auto",minHeight:"32px",lineHeight:"20px",padding:"5px 16px",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",selectors:(o={},o[b.j]={borderColor:"Background"},o)}],rootHovered:{backgroundColor:u,color:l},rootFocused:{backgroundColor:u},rootChecked:[{backgroundColor:u,color:c},Object(b.M)(e,{isFocusedOnly:!1}),Du(e)],rootDisabled:{backgroundColor:f,color:d,cursor:"default",selectors:{"& .ms-Button-flexContainer":{justifyContent:"flex-start"}}},optionText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"0px",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px",display:"inline-block"},optionTextWrapper:{maxWidth:"100%"}};return Object(b.F)(h,t,n)})),Mu=Object(y.b)((function(e,t){var n,r=e.semanticColors,i=r.bodySubtext,o=r.buttonTextChecked,a=r.listItemBackgroundHovered,s=r.listItemBackgroundChecked,u=r.listItemBackgroundCheckedHovered,l={root:{color:i,fontSize:b.h.small,position:"absolute",top:"-1px",right:"-1px",height:"32px",lineHeight:"30px",width:"32px",textAlign:"center",cursor:"default",selectors:(n={},n[b.j]={backgroundColor:"ButtonFace",borderColor:"ButtonText",color:"ButtonText",MsHighContrastAdjust:"none"},n)},icon:{fontSize:b.h.small},rootHovered:{backgroundColor:a,color:o,cursor:"pointer"},rootPressed:{backgroundColor:s,color:o},rootChecked:{backgroundColor:s,color:o},rootCheckedHovered:{backgroundColor:u,color:o},rootDisabled:Iu(e)};return Object(b.F)(l,t)})),ju=Object(y.b)((function(e,t,n){var r,i,o,a,s=e.semanticColors,u=e.fonts,l=e.palette,c=s.bodyBackground,d=s.bodyText,f=s.inputBorder,h=s.inputBorderHovered,p=s.inputFocusBorderAlt,g=s.errorText,m=l.neutralLight,v=s.menuHeader,y=s.bodyDivider,_={color:s.inputPlaceholderText},x={color:l.neutralPrimary},S={color:s.disabledText},w={color:"HighlightText",borderColor:"Highlight",backgroundColor:"Window",borderWidth:"2px",MsHighContrastAdjust:"none",paddingLeft:"11px",paddingTop:"0",paddingBottom:"0",selectors:{".ms-ComboBox-CaretDown-button":{right:"-2px",top:"-2px"}}},C={container:{},label:{},labelDisabled:{},root:[e.fonts.medium,{boxShadow:"none",marginLeft:"0",paddingTop:"1px",paddingBottom:"1px",paddingRight:"32px",paddingLeft:"12px",color:d,position:"relative",outline:"0",userSelect:"none",backgroundColor:c,borderWidth:"1px",borderStyle:"solid",borderColor:f,cursor:"text",display:"block",height:"32px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",boxSizing:"border-box",selectors:{".ms-Label":{display:"inline-block",marginBottom:"8px"},"&.is-open":{borderColor:p,selectors:(r={},r[b.j]=w,r)}}}],rootHovered:{borderColor:h,selectors:(i={".ms-ComboBox-Input":[{color:l.neutralDark},Object(b.Q)(x)]},i[b.j]={color:"HighlightText",borderColor:"Highlight",backgroundColor:"Window",MsHighContrastAdjust:"none"},i)},rootPressed:{borderColor:p,selectors:(o={},o[b.j]=w,o)},rootFocused:{borderColor:p,selectors:(a={},a[b.j]=w,a)},rootDisabled:Iu(e),rootError:{borderColor:g,marginBottom:"5px"},rootDisallowFreeForm:{},input:[Object(b.Q)(_),{backgroundColor:c,color:d,boxSizing:"border-box",width:"100%",height:"28px",borderStyle:"none",outline:"none",font:"inherit",textOverflow:"ellipsis",padding:"0",selectors:{"::-ms-clear":{display:"none"}}}],inputDisabled:[Iu(e),Object(b.Q)(S)],errorMessage:{color:g},callout:{boxShadow:"0 0px 5px 0px rgba(0, 0, 0, 0.4)",borderWidth:"1px",borderStyle:"solid",borderColor:m},optionsContainerWrapper:{width:n},optionsContainer:{display:"block"},header:[u.medium,{fontWeight:b.i.semibold,color:v,backgroundColor:"none",borderStyle:"none",height:"32px",lineHeight:"32px",cursor:"default",padding:"0px 16px",userSelect:"none",textAlign:"left"}],divider:{borderWidth:"1px",borderStyle:"solid",borderColor:y}};return Object(b.F)(C,t)})),Ru=Object(y.b)((function(e,t,n,r,i,o,a,s){return{container:Object(b.Y)("ms-ComboBox-container",t,e.container),label:Object(b.Y)(e.label,r&&e.labelDisabled),root:Object(b.Y)("ms-ComboBox",s?e.rootError:n&&"is-open",i&&"is-required",e.root,!a&&e.rootDisallowFreeForm,s?e.rootError:!r&&o&&e.rootFocused,!r&&{selectors:{":hover":s?e.rootError:!n&&!o&&e.rootHovered,":active":s?e.rootError:e.rootPressed,":focus":s?e.rootError:e.rootFocused}},r&&["is-disabled",e.rootDisabled]),input:Object(b.Y)("ms-ComboBox-Input",e.input,r&&e.inputDisabled),errorMessage:Object(b.Y)(e.errorMessage),callout:Object(b.Y)("ms-ComboBox-callout",e.callout),optionsContainerWrapper:Object(b.Y)("ms-ComboBox-optionsContainerWrapper",e.optionsContainerWrapper),optionsContainer:Object(b.Y)("ms-ComboBox-optionsContainer",e.optionsContainer),header:Object(b.Y)("ms-ComboBox-header",e.header),divider:Object(b.Y)("ms-ComboBox-divider",e.divider)}})),Fu=Object(y.b)((function(e){return{optionText:Object(b.Y)("ms-ComboBox-optionText",e.optionText),root:Object(b.Y)("ms-ComboBox-option",e.root,{selectors:{":hover":e.rootHovered,":focus":e.rootFocused,":active":e.rootPressed}}),optionTextWrapper:Object(b.Y)(e.optionTextWrapper)}}));function Nu(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var o=e[i[r]];o&&n.push(o)}return n}!function(e){e[e.backward=-1]="backward",e[e.none=0]="none",e[e.forward=1]="forward"}(Ou||(Ou={})),function(e){e[e.clearAll=-2]="clearAll",e[e.default=-1]="default"}(Tu||(Tu={}));var Lu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){return this.props.render()},t.prototype.shouldComponentUpdate=function(e){return!Object(Oe.f)(m.a({},this.props,{render:void 0}),m.a({},e,{render:void 0}))},t}(v.Component),Bu=function(e){function t(t){var n=e.call(this,t)||this;n._root=v.createRef(),n._autofill=v.createRef(),n._comboBoxWrapper=v.createRef(),n._comboBoxMenu=v.createRef(),n._selectedElement=v.createRef(),n.focus=function(e,t){n._autofill.current&&(t?Object(Ce.b)(n._autofill.current):n._autofill.current.focus(),e&&n.setState({isOpen:!0}))},n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onUpdateValueInAutofillWillReceiveProps=function(){var e=n._autofill.current;if(!e)return null;if(null===e.value||void 0===e.value)return null;var t=n._normalizeToString(n._currentVisibleValue);return e.value!==t?t||"\u200b":e.value},n._onShouldSelectFullInputValueInAutofillComponentDidUpdate=function(){return n._currentVisibleValue===n.state.suggestedDisplayValue},n._getVisibleValue=function(){var e=n.props,t=e.text,r=e.value,i=e.allowFreeform,o=e.autoComplete,a=n.state,s=a.selectedIndices,u=a.currentPendingValueValidIndex,l=a.currentOptions,c=a.currentPendingValue,d=a.suggestedDisplayValue,f=a.isOpen,h=a.focused,p=n._indexWithinBounds(l,u);if((!f||!p)&&t&&(null===c||void 0===c))return t;if((!f||!p)&&r&&(null===c||void 0===c))return r;var g=[];if(n.props.multiSelect)if(h){var m=-1;"on"===o&&p&&(m=u),g.push(null!==c&&void 0!==c?c:n._indexWithinBounds(l,m)?l[m].text:"")}else for(var v=0;s&&v<s.length;v++){m=s[v];g.push(n._indexWithinBounds(l,m)?l[m].text:n._normalizeToString(d))}else{m=n._getFirstSelectedIndex();i?("on"===o&&p&&(m=u),g.push(null!==c&&void 0!==c?c:n._indexWithinBounds(l,m)?l[m].text:"")):p&&"on"===o?(m=u,g.push(n._normalizeToString(c))):g.push(n._indexWithinBounds(l,m)?l[m].text:n._normalizeToString(d))}var b="";for(v=0;v<g.length;v++)v>0&&(b+=", "),b+=g[v];return b},n._onInputChange=function(e){n.props.disabled?n._handleInputWhenDisabled(null):n.props.allowFreeform?n._processInputChangeWithFreeform(e):n._processInputChangeWithoutFreeform(e)},n._select=function(){if(n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),!n.state.focused){var e={focused:!0};!n.props.openOnKeyboardFocus||n.state.isOpen||n.props.disabled||(e.isOpen=!0),n.setState(e)}},n._onResolveOptions=function(){if(n.props.onResolveOptions){var e=n.props.onResolveOptions(n.state.currentOptions.slice());if(Array.isArray(e))n.setState({currentOptions:e});else if(e&&e.then){var t=n._currentPromise=e;t.then((function(e){t===n._currentPromise&&n.setState({currentOptions:e})}))}}},n._onBlur=function(e){var t=e.relatedTarget;if(null===e.relatedTarget&&(t=document.activeElement),t&&(n._root.current&&n._root.current.contains(t)||n._comboBoxMenu.current&&(n._comboBoxMenu.current.contains(t)||Object(Pu.a)(n._comboBoxMenu.current,(function(e){return e===t})))))return e.preventDefault(),void e.stopPropagation();n.state.focused&&(n.setState({focused:!1}),n.props.multiSelect&&!n.props.allowFreeform||n._submitPendingValue(e))},n._onRenderContainer=function(e){var t=e.onRenderList,r=e.calloutProps,i=e.dropdownWidth,o=e.dropdownMaxWidth,a=e.onRenderLowerContent,s=void 0===a?n._onRenderLowerContent:a,u=e.useComboBoxAsMenuWidth,l=e.persistMenu,c=e.shouldRestoreFocus,d=void 0===c||c,f=n.state.isOpen,h=u&&n._comboBoxWrapper.current?n._comboBoxWrapper.current.clientWidth+2:void 0;return v.createElement(Tn,m.a({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHint:$e.bottomLeftEdge,directionalHintFixed:!1},r,{onLayerMounted:n._onLayerMounted,className:Object(z.a)(n._classNames.callout,r?r.className:void 0),target:n._comboBoxWrapper.current,onDismiss:n._onDismiss,onScroll:n._onScroll,setInitialFocus:!1,calloutWidth:u&&n._comboBoxWrapper.current?h&&h:i,calloutMaxWidth:o||h,hidden:l?!f:void 0,shouldRestoreFocus:d}),v.createElement("div",{className:n._classNames.optionsContainerWrapper,ref:n._comboBoxMenu},t(m.a({},e),n._onRenderList)),s(n.props,n._onRenderLowerContent))},n._onLayerMounted=function(){n._onCalloutLayerMounted(),n.props.calloutProps&&n.props.calloutProps.onLayerMounted&&n.props.calloutProps.onLayerMounted()},n._onRenderList=function(e){var t=e.onRenderItem,r=e.options,i=n._id;return v.createElement("div",{id:i+"-list",className:n._classNames.optionsContainer,"aria-labelledby":i+"-label",role:"listbox"},r.map((function(e){return t(e,n._onRenderItem)})))},n._onRenderItem=function(e){switch(e.itemType){case ku.Divider:return n._renderSeparator(e);case ku.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._onRenderLowerContent=function(){return null},n._renderOption=function(e){var t=n.props.onRenderOption,r=void 0===t?n._onRenderOptionContent:t,i=n._id,o=n._isOptionSelected(e.index),a=n._getCurrentOptionStyles(e),s=Fu(n._getCurrentOptionStyles(e)),u=function(){return a},l=n._getPreviewText(e);return v.createElement(Lu,{key:e.key,index:e.index,disabled:e.disabled,isSelected:o,text:e.text,render:function(){return n.props.multiSelect?v.createElement(Fa,{id:i+"-list"+e.index,ariaLabel:n._getPreviewText(e),key:e.key,"data-index":e.index,styles:u,className:"ms-ComboBox-option","data-is-focusable":!0,onChange:n._onItemClick(e),label:e.text,role:"option","aria-selected":o?"true":"false",checked:o,title:l},r(e,n._onRenderOptionContent)):v.createElement(ii,{id:i+"-list"+e.index,key:e.key,"data-index":e.index,styles:n._getCurrentOptionStyles(e),checked:o,className:"ms-ComboBox-option",onClick:n._onItemClick(e),onMouseEnter:n._onOptionMouseEnter.bind(n,e.index),onMouseMove:n._onOptionMouseMove.bind(n,e.index),onMouseLeave:n._onOptionMouseLeave,role:"option","aria-selected":o?"true":"false",ariaLabel:n._getPreviewText(e),disabled:e.disabled,title:l}," ",v.createElement("span",{className:s.optionTextWrapper,ref:o?n._selectedElement:void 0},r(e,n._onRenderOptionContent)))},data:e.data})},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=n._async.setTimeout((function(){n._isScrollIdle=!0}),250)},n._onRenderOptionContent=function(e){var t=Fu(n._getCurrentOptionStyles(e));return v.createElement("span",{className:t.optionText},e.text)},n._onDismiss=function(){var e=n.props.onMenuDismiss;e&&e(),n.props.persistMenu&&n._onCalloutLayerMounted(),n._setOpenStateAndFocusOnClose(!1,!1),n._resetSelectedIndex()},n._onAfterClearPendingInfo=function(){n._processingClearPendingInfo=!1},n._onInputKeyDown=function(e){var t=n.props,r=t.disabled,i=t.allowFreeform,o=t.autoComplete,a=n.state,s=a.isOpen,u=a.currentOptions,l=a.currentPendingValueValidIndexOnHover;if(n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e),r)n._handleInputWhenDisabled(e);else{var c=n._getPendingSelectedIndex(!1);switch(e.which){case ge.a.enter:n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n._submitPendingValue(e),n.props.multiSelect&&s?n.setState({currentPendingValueValidIndex:c}):(s||(!i||void 0===n.state.currentPendingValue||null===n.state.currentPendingValue||n.state.currentPendingValue.length<=0)&&n.state.currentPendingValueValidIndex<0)&&n.setState({isOpen:!s});break;case ge.a.tab:return n.props.multiSelect||n._submitPendingValue(e),void(s&&n._setOpenStateAndFocusOnClose(!s,!1));case ge.a.escape:if(n._resetSelectedIndex(),!s)return;n.setState({isOpen:!1});break;case ge.a.up:if(l===Tu.clearAll&&(c=n.state.currentOptions.length),e.altKey||e.metaKey){if(s){n._setOpenStateAndFocusOnClose(!s,!0);break}return}n._setPendingInfoFromIndexAndDirection(c,Ou.backward);break;case ge.a.down:e.altKey||e.metaKey?n._setOpenStateAndFocusOnClose(!0,!0):(l===Tu.clearAll&&(c=-1),n._setPendingInfoFromIndexAndDirection(c,Ou.forward));break;case ge.a.home:case ge.a.end:if(i)return;c=-1;var d=Ou.forward;e.which===ge.a.end&&(c=u.length,d=Ou.backward),n._setPendingInfoFromIndexAndDirection(c,d);break;case ge.a.space:if(!i&&"off"===o)break;default:if(e.which>=112&&e.which<=123)return;if(e.keyCode===ge.a.alt||"Meta"===e.key)return;if(!i&&"on"===o){n._onInputChange(String.fromCharCode(e.which));break}return}e.stopPropagation(),e.preventDefault()}},n._onInputKeyUp=function(e){var t=n.props,r=t.disabled,i=t.allowFreeform,o=t.autoComplete,a=n.state.isOpen,s=n._lastKeyDownWasAltOrMeta&&n._isAltOrMeta(e);n._lastKeyDownWasAltOrMeta=!1;var u=s&&!(Object(Je.a)()||Object(et.a)());if(r)n._handleInputWhenDisabled(e);else{switch(e.which){case ge.a.space:if(!i&&"off"===o)return void n._setOpenStateAndFocusOnClose(!a,!!a);break;default:return void(u&&a&&n._setOpenStateAndFocusOnClose(!a,!0))}e.stopPropagation(),e.preventDefault()}},n._onOptionMouseLeave=function(){n._shouldIgnoreMouseEvent()||n.props.persistMenu&&!n.state.isOpen||n.setState({currentPendingValueValidIndexOnHover:Tu.clearAll})},n._onComboBoxClick=function(){var e=n.props.disabled,t=n.state.isOpen;e||(n._setOpenStateAndFocusOnClose(!t,!1),n.setState({focused:!0}))},n._onAutofillClick=function(){n.props.allowFreeform?n.focus(n.state.isOpen||n._processingTouch):n._onComboBoxClick()},n._onTouchStart=function(){n._comboBoxWrapper.current&&!("onpointerdown"in n._comboBoxWrapper)&&n._handleTouchAndPointerEvent()},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},n._warnMutuallyExclusive({defaultSelectedKey:"selectedKey",text:"defaultSelectedKey",value:"defaultSelectedKey",selectedKey:"value",dropdownWidth:"useComboBoxAsMenuWidth"}),n._warnDeprecations({value:"text",onChanged:"onChange"}),n._id=t.id||Object(Oe.c)("ComboBox");var r=n._buildDefaultSelectedKeys(t.defaultSelectedKey,t.selectedKey);n._isScrollIdle=!0,n._processingTouch=!1,n._gotMouseMove=!1,n._processingClearPendingInfo=!1;var i=n._getSelectedIndices(t.options,r);return n.state={isOpen:!1,selectedIndices:i,focused:!1,suggestedDisplayValue:void 0,currentOptions:n.props.options,currentPendingValueValidIndex:-1,currentPendingValue:void 0,currentPendingValueValidIndexOnHover:Tu.default},n}return m.c(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){var e=this.state;return Nu(e.currentOptions,e.selectedIndices)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._comboBoxWrapper.current&&(this._events.on(this._comboBoxWrapper.current,"focus",this._onResolveOptions,!0),"onpointerdown"in this._comboBoxWrapper.current&&this._events.on(this._comboBoxWrapper.current,"pointerdown",this._onPointerDown,!0))},t.prototype.componentWillReceiveProps=function(e){if(e.selectedKey!==this.props.selectedKey||e.text!==this.props.text||e.value!==this.props.value||e.options!==this.props.options){var t=this._buildSelectedKeys(e.selectedKey),n=this._getSelectedIndices(e.options,t);this.setState({selectedIndices:n,currentOptions:e.options})}},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,i=r.allowFreeform,o=r.text,a=r.value,s=r.onMenuOpen,u=r.onMenuDismissed,l=this.state,c=l.isOpen,d=l.focused,f=l.selectedIndices,h=l.currentPendingValueValidIndex;!c||t.isOpen&&t.currentPendingValueValidIndex===h||this._async.setTimeout((function(){return n._scrollIntoView()}),0),d&&(c||t.isOpen&&!c&&this._focusInputAfterClose&&this._autofill.current&&document.activeElement!==this._autofill.current.inputElement)&&this.focus(void 0,!0),this._focusInputAfterClose&&(t.isOpen&&!c||d&&(!c&&!this.props.multiSelect&&t.selectedIndices&&f&&t.selectedIndices[0]!==f[0]||!i||o!==e.text||a!==e.value))&&this._select(),this._notifyPendingValueChanged(t),c&&!t.isOpen&&s&&s(),!c&&t.isOpen&&u&&u()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._events.off(this._comboBoxWrapper.current)},t.prototype.render=function(){var e=this,t=this._id,n=this.props,r=n.className,i=n.label,o=n.disabled,a=n.ariaLabel,s=n.ariaDescribedBy,u=n.required,l=n.errorMessage,c=n.onRenderContainer,d=void 0===c?this._onRenderContainer:c,f=n.onRenderList,h=void 0===f?this._onRenderList:f,p=n.onRenderItem,g=void 0===p?this._onRenderItem:p,b=n.onRenderOption,y=void 0===b?this._onRenderOptionContent:b,_=n.allowFreeform,x=n.buttonIconProps,S=n.isButtonAriaHidden,w=void 0===S||S,C=n.styles,k=n.theme,O=n.title,T=n.keytipProps,P=n.placeholder,I=n.tabIndex,D=n.autofill,A=n.persistMenu,M=this.state,j=M.isOpen,R=M.focused,F=M.suggestedDisplayValue;this._currentVisibleValue=this._getVisibleValue();var N=Object(E.j)(this.props,E.h,["onChange","value"]),L=!!(l&&l.length>0);return this._classNames=this.props.getClassNames?this.props.getClassNames(k,!!j,!!o,!!u,!!R,!!_,!!L,r):Ru(ju(k,C),r,!!j,!!o,!!u,!!R,!!_,!!L),v.createElement("div",m.a({},N,{ref:this._root,className:this._classNames.container}),i&&v.createElement(Ba,{id:t+"-label",disabled:o,required:u,htmlFor:t+"-input",className:this._classNames.label},i),v.createElement(qe,{keytipProps:T,disabled:o},(function(n){return v.createElement("div",{"data-ktp-target":n["data-ktp-target"],ref:e._comboBoxWrapper,id:t+"wrapper",className:e._classNames.root},v.createElement(me,m.a({"data-ktp-execute-target":n["data-ktp-execute-target"],"data-is-interactable":!o,componentRef:e._autofill,id:t+"-input",className:e._classNames.input,type:"text",onFocus:e._select,onBlur:e._onBlur,onKeyDown:e._onInputKeyDown,onKeyUp:e._onInputKeyUp,onClick:e._onAutofillClick,onTouchStart:e._onTouchStart,onInputValueChange:e._onInputChange,"aria-expanded":j,"aria-autocomplete":e._getAriaAutoCompleteValue(),role:"combobox",readOnly:o||!_,"aria-labelledby":i&&t+"-label","aria-label":a&&!i?a:void 0,"aria-describedby":Object(Be.a)(s,n["aria-describedby"]),"aria-activedescendant":e._getAriaActiveDescentValue(),"aria-required":u,"aria-disabled":o,"aria-owns":j?t+"-list":void 0,spellCheck:!1,defaultVisibleValue:e._currentVisibleValue,suggestedDisplayValue:F,updateValueInWillReceiveProps:e._onUpdateValueInAutofillWillReceiveProps,shouldSelectFullInputValueInComponentDidUpdate:e._onShouldSelectFullInputValueInAutofillComponentDidUpdate,title:O,preventValueSelection:!R,placeholder:P,tabIndex:I},D)),v.createElement(fr,{className:"ms-ComboBox-CaretDown-button",styles:e._getCaretButtonStyles(),role:"presentation","aria-hidden":w,"data-is-focusable":!1,tabIndex:-1,onClick:e._onComboBoxClick,onBlur:e._onBlur,iconProps:x,disabled:o,checked:j}))})),(A||j)&&d(m.a({},this.props,{onRenderList:h,onRenderItem:g,onRenderOption:y,options:this.state.currentOptions.map((function(e,t){return m.a({},e,{index:t})}))}),this._onRenderContainer),l&&v.createElement("div",{className:this._classNames.errorMessage},l))},t.prototype._indexWithinBounds=function(e,t){return!!e&&(t>=0&&t<e.length)},t.prototype._processInputChangeWithFreeform=function(e){var t=this,n=this.state.currentOptions,r=-1;if(""===(e=this._removeZeroWidthSpaces(e)))return 1===(o=n.map((function(e,t){return m.a({},e,{index:t})})).filter((function(e){return e.itemType!==ku.Header&&e.itemType!==ku.Divider})).filter((function(n){return t._getPreviewText(n)===e}))).length&&(r=o[0].index),void this._setPendingInfo(e,r,e);var i=e;e=e.toLocaleLowerCase();var o,a="";if("on"===this.props.autoComplete){if((o=n.map((function(e,t){return m.a({},e,{index:t})})).filter((function(e){return e.itemType!==ku.Header&&e.itemType!==ku.Divider})).filter((function(n){return 0===t._getPreviewText(n).toLocaleLowerCase().indexOf(e)}))).length>0){var s=this._getPreviewText(o[0]);a=s.toLocaleLowerCase()!==e?s:"",r=o[0].index}}else 1===(o=n.map((function(e,t){return m.a({},e,{index:t})})).filter((function(e){return e.itemType!==ku.Header&&e.itemType!==ku.Divider})).filter((function(n){return t._getPreviewText(n).toLocaleLowerCase()===e}))).length&&(r=o[0].index);this._setPendingInfo(i,r,a)},t.prototype._processInputChangeWithoutFreeform=function(e){var t=this,n=this.state,r=n.currentPendingValue,i=n.currentPendingValueValidIndex,o=n.currentOptions;if(e=this._removeZeroWidthSpaces(e),"on"===this.props.autoComplete&&""!==e){void 0!==this._lastReadOnlyAutoCompleteChangeTimeoutId&&(this._async.clearTimeout(this._lastReadOnlyAutoCompleteChangeTimeoutId),this._lastReadOnlyAutoCompleteChangeTimeoutId=void 0,e=this._normalizeToString(r)+e);var a=e;e=e.toLocaleLowerCase();var s=o.map((function(e,t){return m.a({},e,{index:t})})).filter((function(e){return e.itemType!==ku.Header&&e.itemType!==ku.Divider})).filter((function(t){return 0===t.text.toLocaleLowerCase().indexOf(e)}));return s.length>0&&this._setPendingInfo(a,s[0].index,this._getPreviewText(s[0])),void(this._lastReadOnlyAutoCompleteChangeTimeoutId=this._async.setTimeout((function(){t._lastReadOnlyAutoCompleteChangeTimeoutId=void 0}),1e3))}var u=i>=0?i:this._getFirstSelectedIndex();this._setPendingInfoFromIndex(u)},t.prototype._getFirstSelectedIndex=function(){return this.state.selectedIndices&&this.state.selectedIndices.length>0?this.state.selectedIndices[0]:-1},t.prototype._getNextSelectableIndex=function(e,t){var n=this.state.currentOptions,r=e+t;if(r=Math.max(0,Math.min(n.length-1,r)),!this._indexWithinBounds(n,r))return-1;var i=n[r];if(i.itemType===ku.Header||i.itemType===ku.Divider){if(t===Ou.none||!(r>0&&t<Ou.none||r>=0&&r<n.length&&t>Ou.none))return e;r=this._getNextSelectableIndex(r,t)}return r},t.prototype._setSelectedIndex=function(e,t,n){var r=this;void 0===n&&(n=Ou.none);var i=this.props,o=i.onChange,a=i.onChanged,s=i.onPendingValueChanged,u=this.state.currentOptions,l=this.state.selectedIndices;if(l||(l=[]),e=this._getNextSelectableIndex(e,n),this._indexWithinBounds(u,e)){if(this.props.multiSelect||l.length<1||1===l.length&&l[0]!==e){var c=u[e];if(!c)return;this.props.multiSelect?(c.selected=void 0!==c.selected?!c.selected:l.indexOf(e)<0,c.selected&&l.indexOf(e)<0?l.push(e):!c.selected&&l.indexOf(e)>=0&&(l=l.filter((function(t){return t!==e})))):l[0]=e,t.persist(),this.setState({selectedIndices:l},(function(){r._hasPendingValue&&s&&(s(),r._hasPendingValue=!1),o&&o(t,c,e,void 0),a&&a(c,e,void 0,t)}))}this._clearPendingInfo()}},t.prototype._submitPendingValue=function(e){var t=this.props,n=t.onChange,r=t.onChanged,i=t.allowFreeform,o=t.autoComplete,a=this.state,s=a.currentPendingValue,u=a.currentPendingValueValidIndex,l=a.currentOptions,c=a.currentPendingValueValidIndexOnHover,d=this.state.selectedIndices;if(!this._processingClearPendingInfo){if(i){if(null===s||void 0===s)return void(c>=0&&(this._setSelectedIndex(c,e),this._clearPendingInfo()));if(this._indexWithinBounds(l,u)){var f=this._getPreviewText(l[u]).toLocaleLowerCase();if(s.toLocaleLowerCase()===f||o&&0===f.indexOf(s.toLocaleLowerCase())&&this._autofill.current&&this._autofill.current.isValueSelected&&s.length+(this._autofill.current.selectionEnd-this._autofill.current.selectionStart)===f.length||this._autofill.current&&this._autofill.current.inputElement&&this._autofill.current.inputElement.value.toLocaleLowerCase()===f)return this._setSelectedIndex(u,e),void this._clearPendingInfo()}if(n||r)n&&n(e,void 0,void 0,s),r&&r(void 0,void 0,s,e);else{var h={key:s||Object(Oe.c)(),text:this._normalizeToString(s)},p=l.concat([h]);d&&(this.props.multiSelect||(d=[]),d.push(p.length-1)),this.setState({currentOptions:p,selectedIndices:d})}}else u>=0?this._setSelectedIndex(u,e):c>=0&&this._setSelectedIndex(c,e);this._clearPendingInfo()}},t.prototype._onCalloutLayerMounted=function(){this._gotMouseMove=!1},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key;return t&&t>0?v.createElement("div",{role:"separator",key:n,className:this._classNames.divider}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOptionContent:t;return v.createElement("div",{key:e.key,className:this._classNames.header},n(e,this._onRenderOptionContent))},t.prototype._isOptionSelected=function(e){if(this.state.currentPendingValueValidIndexOnHover===Tu.clearAll)return!1;if(!this.props.multiSelect&&this._getPendingSelectedIndex(!0)===e)return!0;var t=-1;return this.props.multiSelect&&void 0!==e&&this.state.selectedIndices&&(t=this.state.selectedIndices.indexOf(e)),t>=0},t.prototype._getPendingSelectedIndex=function(e){var t=this.state,n=t.currentPendingValueValidIndexOnHover,r=t.currentPendingValueValidIndex,i=t.currentPendingValue;return n>=0?n:r>=0||e&&null!==i&&void 0!==i?r:this.props.multiSelect?0:this._getFirstSelectedIndex()},t.prototype._scrollIntoView=function(){var e=this.props,t=e.onScrollToItem,n=e.scrollSelectedToTop,r=this.state,i=r.currentPendingValueValidIndex,o=r.currentPendingValue;if(t)t(i>=0||""!==o?i:this._getFirstSelectedIndex());else if(this._selectedElement.current&&this._selectedElement.current.offsetParent)if(n)this._selectedElement.current.offsetParent.scrollIntoView(!0);else{var a=!0;if(this._comboBoxMenu.current&&this._comboBoxMenu.current.offsetParent){var s=this._comboBoxMenu.current.offsetParent.getBoundingClientRect(),u=this._selectedElement.current.offsetParent.getBoundingClientRect();if(s.top<=u.top&&s.top+s.height>=u.top+u.height)return;s.top+s.height<=u.top+u.height&&(a=!1)}this._selectedElement.current.offsetParent.scrollIntoView(a)}},t.prototype._onItemClick=function(e){var t=this,n=this.props.onItemClick,r=e.index;return function(i){n&&n(i,e,r),t._setSelectedIndex(r,i),t.props.multiSelect||t.setState({isOpen:!1})}},t.prototype._getSelectedIndices=function(e,t){if(!e||!t)return[];var n={};e.forEach((function(e,t){e.selected&&(n[t]=!0)}));for(var r=function(t){var r=Object(Ue.e)(e,(function(e){return e.key===t}));r>-1&&(n[r]=!0)},i=0,o=t;i<o.length;i++){r(o[i])}return Object.keys(n).map(Number).sort()},t.prototype._resetSelectedIndex=function(){var e=this.state.currentOptions;this._clearPendingInfo();var t=this._getFirstSelectedIndex();t>0&&t<e.length?this.setState({suggestedDisplayValue:e[t].text}):(this.props.text||this.props.value)&&this.setState({suggestedDisplayValue:this.props.text||this.props.value})},t.prototype._clearPendingInfo=function(){this._processingClearPendingInfo=!0,this.setState({currentPendingValue:void 0,currentPendingValueValidIndex:-1,suggestedDisplayValue:void 0,currentPendingValueValidIndexOnHover:Tu.default},this._onAfterClearPendingInfo)},t.prototype._setPendingInfo=function(e,t,n){void 0===t&&(t=-1),this._processingClearPendingInfo||this.setState({currentPendingValue:e&&this._removeZeroWidthSpaces(e),currentPendingValueValidIndex:t,suggestedDisplayValue:n,currentPendingValueValidIndexOnHover:Tu.default})},t.prototype._setPendingInfoFromIndex=function(e){var t=this.state.currentOptions;if(e>=0&&e<t.length){var n=t[e];this._setPendingInfo(this._getPreviewText(n),e,this._getPreviewText(n))}else this._clearPendingInfo()},t.prototype._setPendingInfoFromIndexAndDirection=function(e,t){var n=this.state.currentOptions;t===Ou.forward&&e>=n.length-1?e=-1:t===Ou.backward&&e<=0&&(e=n.length);var r=this._getNextSelectableIndex(e,t);e===r?t===Ou.forward?e=this._getNextSelectableIndex(-1,t):t===Ou.backward&&(e=this._getNextSelectableIndex(n.length,t)):e=r,this._indexWithinBounds(n,e)&&this._setPendingInfoFromIndex(e)},t.prototype._notifyPendingValueChanged=function(e){var t=this.props.onPendingValueChanged;if(t){var n=this.state,r=n.currentPendingValue,i=n.currentOptions,o=n.currentPendingValueValidIndex,a=n.currentPendingValueValidIndexOnHover,s=void 0,u=void 0;a!==e.currentPendingValueValidIndexOnHover&&this._indexWithinBounds(i,a)?s=a:o!==e.currentPendingValueValidIndex&&this._indexWithinBounds(i,o)?s=o:r!==e.currentPendingValue&&(u=r),(void 0!==s||void 0!==u||this._hasPendingValue)&&(t(void 0!==s?i[s]:void 0,s,u),this._hasPendingValue=void 0!==s||void 0!==u)}},t.prototype._setOpenStateAndFocusOnClose=function(e,t){this._focusInputAfterClose=t,this.setState({isOpen:e})},t.prototype._isAltOrMeta=function(e){return e.which===ge.a.alt||"Meta"===e.key},t.prototype._onOptionMouseEnter=function(e){this._shouldIgnoreMouseEvent()||this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._onOptionMouseMove=function(e){this._gotMouseMove=!0,this._isScrollIdle&&this.state.currentPendingValueValidIndexOnHover!==e&&this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._handleInputWhenDisabled=function(e){this.props.disabled&&(this.state.isOpen&&this.setState({isOpen:!1}),null!==e&&e.which!==ge.a.tab&&e.which!==ge.a.escape&&(e.which<112||e.which>123)&&(e.stopPropagation(),e.preventDefault()))},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0}),500)},t.prototype._getCaretButtonStyles=function(){var e=this.props.caretDownButtonStyles;return Mu(this.props.theme,e)},t.prototype._getCurrentOptionStyles=function(e){var t=this.props.comboBoxOptionStyles,n=e.styles;return Au(this.props.theme,t,n,this._isPendingOption(e),e.hidden)},t.prototype._getAriaActiveDescentValue=function(){var e=this.state.isOpen&&this.state.selectedIndices&&this.state.selectedIndices.length>=0?this._id+"-list"+this.state.selectedIndices[0]:void 0;return this.state.isOpen&&this.state.focused&&-1!==this.state.currentPendingValueValidIndex&&(e=this._id+"-list"+this.state.currentPendingValueValidIndex),e},t.prototype._getAriaAutoCompleteValue=function(){return!this.props.disabled&&"on"===this.props.autoComplete?this.props.allowFreeform?"inline":"both":"none"},t.prototype._isPendingOption=function(e){return e&&e.index===this.state.currentPendingValueValidIndex},t.prototype._buildDefaultSelectedKeys=function(e,t){var n=this._buildSelectedKeys(e);return n.length?n:this._buildSelectedKeys(t)},t.prototype._buildSelectedKeys=function(e){return void 0===e?[]:e instanceof Array?e:[e]},t.prototype._getPreviewText=function(e){return e.useAriaLabelAsText&&e.ariaLabel?e.ariaLabel:e.text},t.prototype._normalizeToString=function(e){return e||""},t.prototype._removeZeroWidthSpaces=function(e){return e.replace(RegExp("\u200b","g"),"")},t.defaultProps={options:[],allowFreeform:!1,autoComplete:"on",buttonIconProps:{iconName:"ChevronDown"}},t=m.b([Object(xn.a)("ComboBox",["theme","styles"],!0)],t)}(O.a),zu={auto:0,top:1,bottom:2,center:3},Uu={top:-1,bottom:-1,left:-1,right:-1,width:0,height:0},Hu=function(e){return e.getBoundingClientRect()},Vu=Hu,Wu=Hu,Gu=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._surface=v.createRef(),n._onRenderPage=function(e,t){for(var r=n.props,i=r.onRenderCell,o=r.role,a=e.page,s=a.items,u=void 0===s?[]:s,l=a.startIndex,c=m.d(e,["page"]),d=void 0===o?"listitem":"presentation",f=[],h=0;h<u.length;h++){var p=l+h,g=u[h],b=n.props.getKey?n.props.getKey(g,p):g&&g.key;null!==b&&void 0!==b||(b=p),f.push(v.createElement("div",{role:d,className:"ms-List-cell",key:b,"data-list-index":p,"data-automationid":"ListCell"},i&&i(g,p,n.state.isScrolling)))}return v.createElement("div",m.a({},c),f)},n.state={pages:[],isScrolling:!1},n._estimatedPageHeight=0,n._totalEstimates=0,n._requiredWindowsAhead=0,n._requiredWindowsBehind=0,n._measureVersion=0,n._onAsyncScroll=n._async.debounce(n._onAsyncScroll,100,{leading:!1,maxWait:500}),n._onAsyncIdle=n._async.debounce(n._onAsyncIdle,200,{leading:!1}),n._onAsyncResize=n._async.debounce(n._onAsyncResize,16,{leading:!1}),n._onScrollingDone=n._async.debounce(n._onScrollingDone,500,{leading:!1}),n._cachedPageHeights={},n._estimatedPageHeight=0,n._focusedIndex=-1,n._pageCache={},n}return m.c(t,e),t.prototype.scrollToIndex=function(e,t,n){void 0===n&&(n=zu.auto);for(var r=this.props.startIndex,i=r+this._getRenderCount(),o=this._allowedRect,a=0,s=1,u=r;u<i;u+=s){var l=this._getPageSpecification(u,o),c=l.height;if(s=l.itemCount,u<=e&&u+s>e){if(t&&this._scrollElement){for(var d=Wu(this._scrollElement),f={top:this._scrollElement.scrollTop,bottom:this._scrollElement.scrollTop+d.height},h=e-u,p=0;p<h;++p)a+=t(u+p);var g=a+t(e);switch(n){case zu.top:return void(this._scrollElement.scrollTop=a);case zu.bottom:return void(this._scrollElement.scrollTop=g-d.height);case zu.center:return void(this._scrollElement.scrollTop=(a+g-d.height)/2);case zu.auto:}if(a>=f.top&&g<=f.bottom)return;a<f.top||g>f.bottom&&(a=g-d.height)}return void(this._scrollElement.scrollTop=a)}a+=c}},t.prototype.getStartItemIndexInView=function(e){for(var t=0,n=this.state.pages||[];t<n.length;t++){var r=n[t];if(!r.isSpacer&&(this._scrollTop||0)>=r.top&&(this._scrollTop||0)<=r.top+r.height){if(!e){var i=Math.floor(r.height/r.itemCount);return r.startIndex+Math.floor((this._scrollTop-r.top)/i)}for(var o=0,a=r.startIndex;a<r.startIndex+r.itemCount;a++){i=e(a);if(r.top+o<=this._scrollTop&&this._scrollTop<r.top+o+i)return a;o+=i}}}return 0},t.prototype.componentDidMount=function(){this._updatePages(),this._measureVersion++,this._scrollElement=Object(gt.e)(this._root.current),this._events.on(window,"resize",this._onAsyncResize),this._root.current&&this._events.on(this._root.current,"focus",this._onFocus,!0),this._scrollElement&&(this._events.on(this._scrollElement,"scroll",this._onScroll),this._events.on(this._scrollElement,"scroll",this._onAsyncScroll))},t.prototype.componentWillReceiveProps=function(e){e.items===this.props.items&&e.renderCount===this.props.renderCount&&e.startIndex===this.props.startIndex||(this._resetRequiredWindows(),this._requiredRect=null,this._measureVersion++,this._invalidatePageCache(),this._updatePages(e))},t.prototype.shouldComponentUpdate=function(e,t){var n=this.state.pages,r=t.pages,i=!1;if(!t.isScrolling&&this.state.isScrolling)return!0;if(e.items===this.props.items&&n.length===r.length)for(var o=0;o<n.length;o++){var a=n[o],s=r[o];if(a.key!==s.key||a.itemCount!==s.itemCount){i=!0;break}}else i=!0;return i},t.prototype.forceUpdate=function(){this._invalidatePageCache(),this._updateRenderRects(this.props,!0),this._updatePages(),this._measureVersion++,e.prototype.forceUpdate.call(this)},t.prototype.getTotalListHeight=function(){return this._surfaceRect.height},t.prototype.render=function(){for(var e=this.props,t=e.className,n=e.role,r=void 0===n?"list":n,i=this.state.pages,o=void 0===i?[]:i,a=[],s=Object(E.j)(this.props,E.h),u=0,l=o;u<l.length;u++){var c=l[u];a.push(this._renderPage(c))}return v.createElement("div",m.a({ref:this._root},s,{role:a.length>0?r:void 0,className:Object(z.a)("ms-List",t)}),v.createElement("div",{ref:this._surface,className:"ms-List-surface",role:"presentation"},a))},t.prototype._shouldVirtualize=function(e){void 0===e&&(e=this.props);var t=e.onShouldVirtualize;return!t||t(e)},t.prototype._invalidatePageCache=function(){this._pageCache={}},t.prototype._renderPage=function(e){var t,n=this.props.usePageCache;if(n&&(t=this._pageCache[e.key])&&t.pageElement)return t.pageElement;var r=this._getPageStyle(e),i=this.props.onRenderPage,o=(void 0===i?this._onRenderPage:i)({page:e,className:"ms-List-page",key:e.key,ref:e.key,style:r,role:"presentation"},this._onRenderPage);return n&&0===e.startIndex&&(this._pageCache[e.key]={page:e,pageElement:o}),o},t.prototype._getPageStyle=function(e){var t=this.props.getPageStyle;return m.a({},t?t(e):{},e.items?{}:{height:e.height})},t.prototype._onFocus=function(e){for(var t=e.target;t!==this._surface.current;){var n=t.getAttribute("data-list-index");if(n){this._focusedIndex=Number(n);break}t=Object(ke.a)(t)}},t.prototype._onScroll=function(){this.state.isScrolling||this.setState({isScrolling:!0}),this._resetRequiredWindows(),this._onScrollingDone()},t.prototype._resetRequiredWindows=function(){this._requiredWindowsAhead=0,this._requiredWindowsBehind=0},t.prototype._onAsyncScroll=function(){var e,t;this._updateRenderRects(),this._materializedRect&&(e=this._requiredRect,t=this._materializedRect,e.top>=t.top&&e.left>=t.left&&e.bottom<=t.bottom&&e.right<=t.right)||this._updatePages()},t.prototype._onAsyncIdle=function(){var e=this.props,t=e.renderedWindowsAhead,n=e.renderedWindowsBehind,r=this._requiredWindowsAhead,i=this._requiredWindowsBehind,o=Math.min(t,r+1),a=Math.min(n,i+1);o===r&&a===i||(this._requiredWindowsAhead=o,this._requiredWindowsBehind=a,this._updateRenderRects(),this._updatePages()),(t>o||n>a)&&this._onAsyncIdle()},t.prototype._onScrollingDone=function(){this.setState({isScrolling:!1})},t.prototype._onAsyncResize=function(){this.forceUpdate()},t.prototype._updatePages=function(e){var t=this;void 0===e&&(e=this.props),this._requiredRect||this._updateRenderRects(e);var n=this._buildPages(e),r=this.state.pages;this._notifyPageChanges(r,n.pages),this.setState(n,(function(){e.getPageHeight?t._onAsyncIdle():t._updatePageMeasurements(n.pages)?(t._materializedRect=null,t._hasCompletedFirstRender?t._onAsyncScroll():(t._hasCompletedFirstRender=!0,t._updatePages(e))):t._onAsyncIdle();e.onPagesUpdated&&e.onPagesUpdated(t.state.pages)}))},t.prototype._notifyPageChanges=function(e,t,n){void 0===n&&(n=this.props);var r=n.onPageAdded,i=n.onPageRemoved;if(r||i){for(var o={},a=0,s=e;a<s.length;a++){(c=s[a]).items&&(o[c.startIndex]=c)}for(var u=0,l=t;u<l.length;u++){var c;(c=l[u]).items&&(o[c.startIndex]?delete o[c.startIndex]:this._onPageAdded(c))}for(var d in o)o.hasOwnProperty(d)&&this._onPageRemoved(o[d])}},t.prototype._updatePageMeasurements=function(e){var t=!1;if(!this._shouldVirtualize())return t;for(var n=0;n<e.length;n++){var r=e[n];r.items&&(t=this._measurePage(r)||t)}return t},t.prototype._measurePage=function(e){var t=!1,n=this.refs[e.key],r=this._cachedPageHeights[e.startIndex];if(n&&this._shouldVirtualize()&&(!r||r.measureVersion!==this._measureVersion)){var i={width:n.clientWidth,height:n.clientHeight};(i.height||i.width)&&(t=e.height!==i.height,e.height=i.height,this._cachedPageHeights[e.startIndex]={height:i.height,measureVersion:this._measureVersion},this._estimatedPageHeight=Math.round((this._estimatedPageHeight*this._totalEstimates+i.height)/(this._totalEstimates+1)),this._totalEstimates++)}return t},t.prototype._onPageAdded=function(e){var t=this.props.onPageAdded;t&&t(e)},t.prototype._onPageRemoved=function(e){var t=this.props.onPageRemoved;t&&t(e)},t.prototype._buildPages=function(e){var t=e.renderCount,n=e.items,r=e.startIndex,i=e.getPageHeight;t=this._getRenderCount(e);for(var o=m.a({},Uu),a=[],s=1,u=0,l=null,c=this._focusedIndex,d=r+t,f=this._shouldVirtualize(e),h=0===this._estimatedPageHeight&&!i,p=this._allowedRect,g=function(e){var t=v._getPageSpecification(e,p),i=t.height,g=t.data,m=t.key;s=t.itemCount;var b,y,_=u+i-1,x=Object(Ue.e)(v.state.pages,(function(t){return!!t.items&&t.startIndex===e}))>-1,S=!p||_>=p.top&&u<=p.bottom,w=!v._requiredRect||_>=v._requiredRect.top&&u<=v._requiredRect.bottom;if(!h&&(w||S&&x)||!f||c>=e&&c<e+s||e===r){l&&(a.push(l),l=null);var C=Math.min(s,d-e),k=v._createPage(m,n.slice(e,e+C),e,void 0,void 0,g);k.top=u,k.height=i,v._visibleRect&&v._visibleRect.bottom&&(k.isVisible=_>=v._visibleRect.top&&u<=v._visibleRect.bottom),a.push(k),w&&v._allowedRect&&(b=o,y={top:u,bottom:_,height:i,left:p.left,right:p.right,width:p.width},b.top=y.top<b.top||-1===b.top?y.top:b.top,b.left=y.left<b.left||-1===b.left?y.left:b.left,b.bottom=y.bottom>b.bottom||-1===b.bottom?y.bottom:b.bottom,b.right=y.right>b.right||-1===b.right?y.right:b.right,b.width=b.right-b.left+1,b.height=b.bottom-b.top+1)}else l||(l=v._createPage("spacer-"+e,void 0,e,0,void 0,g,!0)),l.height=(l.height||0)+(_-u)+1,l.itemCount+=s;if(u+=_-u+1,h&&f)return"break"},v=this,b=r;b<d;b+=s){if("break"===g(b))break}return l&&(l.key="spacer-end",a.push(l)),this._materializedRect=o,{pages:a,measureVersion:this._measureVersion}},t.prototype._getPageSpecification=function(e,t){var n=this.props.getPageSpecification;if(n){var r=n(e,t),i=r.itemCount,o=void 0===i?this._getItemCountForPage(e,t):i,a=r.height;return{itemCount:o,height:void 0===a?this._getPageHeight(e,t,o):a,data:r.data,key:r.key}}return{itemCount:o=this._getItemCountForPage(e,t),height:this._getPageHeight(e,t,o)}},t.prototype._getPageHeight=function(e,t,n){if(this.props.getPageHeight)return this.props.getPageHeight(e,t,n);var r=this._cachedPageHeights[e];return r?r.height:this._estimatedPageHeight||30},t.prototype._getItemCountForPage=function(e,t){var n=this.props.getItemCountForPage?this.props.getItemCountForPage(e,t):10;return n||10},t.prototype._createPage=function(e,t,n,r,i,o,a){void 0===n&&(n=-1),void 0===r&&(r=t?t.length:0),void 0===i&&(i={}),e=e||"page-"+n;var s=this._pageCache[e];return s&&s.page?s.page:{key:e,startIndex:n,itemCount:r,items:t,style:i,top:0,height:0,data:o,isSpacer:a||!1}},t.prototype._getRenderCount=function(e){var t=e||this.props,n=t.items,r=t.startIndex,i=t.renderCount;return void 0===i?n?n.length-r:0:i},t.prototype._updateRenderRects=function(e,t){var n=(e=e||this.props).renderedWindowsAhead,r=e.renderedWindowsBehind,i=this.state.pages;if(this._shouldVirtualize(e)){var o=this._surfaceRect||m.a({},Uu),a=this._scrollElement&&this._scrollElement.scrollHeight,s=this._scrollElement?this._scrollElement.scrollTop:0;this._surface.current&&(t||!i||!this._surfaceRect||!a||a!==this._scrollHeight||Math.abs(this._scrollTop-s)>this._estimatedPageHeight/3)&&(o=this._surfaceRect=Vu(this._surface.current),this._scrollTop=s),!t&&a&&a===this._scrollHeight||this._measureVersion++,this._scrollHeight=a;var u=Math.max(0,-o.top),l={top:u,left:o.left,bottom:u+window.innerHeight,right:o.right,width:o.width,height:window.innerHeight};this._requiredRect=Ku(l,this._requiredWindowsBehind,this._requiredWindowsAhead),this._allowedRect=Ku(l,r,n),this._visibleRect=l}},t.defaultProps={startIndex:0,onRenderCell:function(e,t,n){return v.createElement(v.Fragment,null,e&&e.name||"")},renderedWindowsAhead:2,renderedWindowsBehind:2},t}(O.a);function Ku(e,t,n){var r=e.top-t*e.height,i=e.height+(t+n)*e.height;return{top:r,bottom:r+i,height:i,left:e.left,right:e.right,width:e.width}}var qu,Yu,Xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._comboBox=v.createRef(),t._list=v.createRef(),t._onRenderList=function(e){var n=e.onRenderItem;return v.createElement(Gu,{componentRef:t._list,role:"listbox",items:e.options,onRenderCell:n?function(e){return n(e)}:function(){return null}})},t._onScrollToItem=function(e){t._list.current&&t._list.current.scrollToIndex(e)},t}return m.c(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){return this._comboBox.current?this._comboBox.current.selectedOptions:[]},enumerable:!0,configurable:!0}),t.prototype.dismissMenu=function(){if(this._comboBox.current)return this._comboBox.current.dismissMenu()},t.prototype.focus=function(){return!!this._comboBox.current&&(this._comboBox.current.focus(),!0)},t.prototype.render=function(){return v.createElement(Bu,m.a({},this.props,{componentRef:this._comboBox,onRenderList:this._onRenderList,onScrollToItem:this._onScrollToItem}))},t}(O.a),Zu=Object(w.a)(),Qu=function(e){function t(t){var n=e.call(this,t)||this;return n._focusZone=v.createRef(),n._persistedKeytips={},n._keytipManager=He.getInstance(),n._divContainer=v.createRef(),n._onRenderItems=function(e){return e.map((function(e,t){var r={className:n._classNames.item};return v.createElement("div",m.a({key:e.key},r),n.props.onRenderItem(e))}))},n._onRenderOverflowButtonWrapper=function(e){var t={className:n._classNames.overflowButton},r=n.props.keytipSequences,i=[];return r?e.forEach((function(e){var t=e.keytipProps;if(t){var o={content:t.content,keySequences:t.keySequences,disabled:t.disabled||!(!e.disabled&&!e.isDisabled),hasDynamicChildren:t.hasDynamicChildren,hasMenu:t.hasMenu};t.hasDynamicChildren||n._getSubMenuForItem(e)?o.onExecute=n._keytipManager.menuExecute.bind(n._keytipManager,r,e.keytipProps.keySequences):o.onExecute=t.onExecute,n._persistedKeytips[o.content]=o;var a=m.a({},e,{keytipProps:m.a({},t,{overflowSetSequence:r})});i.push(a)}else i.push(e)})):i=e,v.createElement("div",m.a({},t),n.props.onRenderOverflowButton(i))},t.doNotContainWithinFocusZone&&n._warnMutuallyExclusive({doNotContainWithinFocusZone:"focusZoneProps"}),n}return m.c(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.items,i=n.overflowItems,o=n.className,a=n.focusZoneProps,s=n.styles,u=n.vertical,l=n.role,c=n.doNotContainWithinFocusZone;return this._classNames=Zu(s,{className:o,vertical:u}),c?(e="div",t=m.a({},Object(E.j)(this.props,E.h),{ref:this._divContainer})):(e=Le,t=m.a({},Object(E.j)(this.props,E.h),a,{componentRef:this._focusZone,direction:u?le.vertical:le.horizontal})),v.createElement(e,m.a({},t,{className:this._classNames.root,role:l}),r&&this._onRenderItems(r),i&&i.length>0&&this._onRenderOverflowButtonWrapper(i))},t.prototype.focus=function(e){var t=!1;return this.props.doNotContainWithinFocusZone?this._divContainer.current&&(t=Object(Ce.c)(this._divContainer.current)):this._focusZone.current&&(t=this._focusZone.current.focus(e)),t},t.prototype.focusElement=function(e){var t=!1;return!!e&&(this.props.doNotContainWithinFocusZone?this._divContainer.current&&Object(Ie.a)(this._divContainer.current,e)&&(e.focus(),t=document.activeElement===e):this._focusZone.current&&(t=this._focusZone.current.focusElement(e)),t)},t.prototype.componentDidMount=function(){this._registerPersistedKeytips()},t.prototype.componentWillUnmount=function(){this._unregisterPersistedKeytips()},t.prototype.componentWillUpdate=function(){this._unregisterPersistedKeytips()},t.prototype.componentDidUpdate=function(){this._registerPersistedKeytips()},t.prototype._registerPersistedKeytips=function(){var e=this;Object.keys(this._persistedKeytips).forEach((function(t){var n=e._persistedKeytips[t],r=e._keytipManager.register(n,!0);e._persistedKeytips[r]=n,delete e._persistedKeytips[t]}))},t.prototype._unregisterPersistedKeytips=function(){var e=this;Object.keys(this._persistedKeytips).forEach((function(t){e._keytipManager.unregister(e._persistedKeytips[t],t,!0)})),this._persistedKeytips={}},t.prototype._getSubMenuForItem=function(e){return this.props.itemSubMenuProvider?this.props.itemSubMenuProvider(e):e.subMenuProps?e.subMenuProps.items:void 0},t.defaultProps={vertical:!1,role:"menubar"},t}(O.a),$u={flexShrink:0,display:"inherit"},Ju=Object(S.a)(Qu,(function(e){var t=e.className;return{root:["ms-OverflowSet",{position:"relative",display:"flex",flexWrap:"nowrap"},e.vertical&&{flexDirection:"column"},t],item:["ms-OverflowSet-item",$u],overflowButton:["ms-OverflowSet-overflowButton",$u]}}),void 0,{scope:"OverflowSet"}),el=Object(w.a)(),tl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._overflowSet=v.createRef(),t._resizeGroup=v.createRef(),t._onRenderData=function(e){return v.createElement(Le,{className:Object(z.a)(t._classNames.root),direction:le.horizontal,role:"menubar","aria-label":t.props.ariaLabel},v.createElement(Ju,{componentRef:t._resolveRef("_overflowSet"),className:Object(z.a)(t._classNames.primarySet),doNotContainWithinFocusZone:!0,role:"presentation",items:e.primaryItems,overflowItems:e.overflowItems.length?e.overflowItems:void 0,onRenderItem:t._onRenderItem,onRenderOverflowButton:t._onRenderOverflowButton}),e.farItems&&v.createElement(Ju,{className:Object(z.a)(t._classNames.secondarySet),doNotContainWithinFocusZone:!0,role:"presentation",items:e.farItems,onRenderItem:t._onRenderItem,onRenderOverflowButton:O.b}))},t._onRenderItem=function(e){var n=t.props.buttonAs||e.commandBarButtonAs||ri,r=e.text||e.name;if(e.onRender)return e.onRender(e,(function(){}));var i=m.a({allowDisabledFocus:!0,role:"menuitem"},e,{styles:m.a({root:{height:"100%"},label:{whiteSpace:"nowrap"}},e.buttonStyles),className:Object(z.a)("ms-CommandBarItem-link",e.className),text:e.iconOnly?void 0:r,menuProps:e.subMenuProps,onClick:t._onButtonClick(e)});return e.iconOnly&&void 0!==r?v.createElement(Mr,m.a({content:r},e.tooltipHostProps),v.createElement(n,m.a({},i,{defaultRender:ri}))):v.createElement(n,m.a({},i,{defaultRender:ri}))},t._onRenderOverflowButton=function(e){var n=t.props,r=n.overflowButtonAs,i=void 0===r?ri:r,o=n.overflowButtonProps,a=void 0===o?{}:o,s=(a.menuProps?a.menuProps.items:[]).concat(e),u=m.a({},a,{styles:m.a({menuIcon:{fontSize:"17px"}},a.styles),className:Object(z.a)("ms-CommandBar-overflowButton",a.className),menuProps:m.a({},a.menuProps,{items:s}),menuIconProps:m.a({iconName:"More"},a.menuIconProps)});return v.createElement(i,m.a({},u))},t._onReduceData=function(e){var n=t.props,r=n.shiftOnReduce,i=n.onDataReduced,o=e.primaryItems,a=e.overflowItems,s=e.cacheKey,u=o[r?0:o.length-1];if(void 0!==u){u.renderedInOverflow=!0,a=[u].concat(a),o=r?o.slice(1):o.slice(0,-1);var l=m.a({},e,{primaryItems:o,overflowItems:a});return s=t._computeCacheKey(l),i&&i(u),l.cacheKey=s,l}},t._onGrowData=function(e){var n=t.props,r=n.shiftOnReduce,i=n.onDataGrown,o=e.minimumOverflowItems,a=e.primaryItems,s=e.overflowItems,u=e.cacheKey,l=s[0];if(void 0!==l&&s.length>o){l.renderedInOverflow=!1,s=s.slice(1),a=r?[l].concat(a):a.concat([l]);var c=m.a({},e,{primaryItems:a,overflowItems:s});return u=t._computeCacheKey(c),i&&i(l),c.cacheKey=u,c}},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.items,r=e.overflowItems,i=e.farItems,o=e.styles,a=e.theme,s=e.dataDidRender,u=e.onReduceData,l=void 0===u?this._onReduceData:u,c=e.onGrowData,d=void 0===c?this._onGrowData:c,f={primaryItems:n.slice(),overflowItems:r.slice(),minimumOverflowItems:r.slice().length,farItems:i,cacheKey:""};return this._classNames=el(o,{theme:a}),v.createElement(wr,{componentRef:this._resizeGroup,className:t,data:f,onReduceData:l,onGrowData:d,onRenderData:this._onRenderData,dataDidRender:s})},t.prototype.focus=function(){var e=this._overflowSet.current;e&&e.focus()},t.prototype.remeasure=function(){this._resizeGroup.current&&this._resizeGroup.current.remeasure()},t.prototype._onButtonClick=function(e){return function(t){e.inactive||e.onClick&&e.onClick(t,e)}},t.prototype._computeCacheKey=function(e){var t=e.primaryItems,n=e.farItems,r=void 0===n?[]:n,i=e.overflowItems,o=function(e,t){var n=t.cacheKey;return e+(void 0===n?t.key:n)};return[t.reduce(o,""),r.reduce(o,""),i.length?"overflow":""].join(" ")},t.defaultProps={items:[],overflowItems:[]},t}(O.a),nl=Object(S.a)(tl,(function(e){var t=e.className,n=e.theme,r=n.palette;return{root:[n.fonts.medium,"ms-CommandBar",{display:"flex",backgroundColor:r.neutralLighter,padding:"0 16px",height:"40px"},t],primarySet:["ms-CommandBar-primaryCommand",{flexGrow:"1",display:"flex",alignItems:"stretch"}],secondarySet:["ms-CommandBar-secondaryCommand",{flexShrink:"0",display:"flex",alignItems:"stretch"}]}}),void 0,{scope:"CommandBar"}),rl=Object(w.a)(),il={months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["S","M","T","W","T","F","S"],goToToday:"Go to today",prevMonthAriaLabel:"Go to previous month",nextMonthAriaLabel:"Go to next month",prevYearAriaLabel:"Go to previous year",nextYearAriaLabel:"Go to next year",prevYearRangeAriaLabel:"Previous year range",nextYearRangeAriaLabel:"Next year range",closeButtonAriaLabel:"Close date picker",weekNumberFormatString:"Week number {0}"},ol=function(e){function t(t){var n=e.call(this,t)||this;return n._calendar=v.createRef(),n._datePickerDiv=v.createRef(),n._textField=v.createRef(),n._onSelectDate=function(e){var t=n.props,r=t.formatDate,i=t.onSelectDate;n.props.calendarProps&&n.props.calendarProps.onSelectDate&&n.props.calendarProps.onSelectDate(e),n.setState({selectedDate:e,formattedDate:r&&e?r(e):""}),i&&i(e),n._calendarDismissed()},n._onCalloutPositioned=function(){var e=!0;n.props.calloutProps&&void 0!==n.props.calloutProps.setInitialFocus&&(e=n.props.calloutProps.setInitialFocus),n._calendar.current&&e&&n._calendar.current.focus()},n._onTextFieldFocus=function(e){n.props.disableAutoFocus||n.props.allowTextInput||(n._preventFocusOpeningPicker?n._preventFocusOpeningPicker=!1:n._showDatePickerPopup())},n._onTextFieldBlur=function(e){n._validateTextInput()},n._onTextFieldChanged=function(e,t){var r=n.props,i=r.allowTextInput,o=r.textField;if(i){n.state.isDatePickerShown&&n._dismissDatePickerPopup();var a=n.props,s=a.isRequired,u=a.value,l=a.strings;n.setState({errorMessage:s&&!u?l.isRequiredErrorMessage||" ":void 0,formattedDate:t})}o&&o.onChange&&o.onChange(e,t)},n._onTextFieldKeyDown=function(e){switch(e.which){case ge.a.enter:e.preventDefault(),e.stopPropagation(),n.state.isDatePickerShown?n.props.allowTextInput&&n._dismissDatePickerPopup():(n._validateTextInput(),n._showDatePickerPopup());break;case ge.a.escape:n._handleEscKey(e)}},n._onTextFieldClick=function(e){n.state.isDatePickerShown||n.props.disabled?n.props.allowTextInput&&n.setState({isDatePickerShown:!1}):n._showDatePickerPopup()},n._onIconClick=function(e){e.stopPropagation(),n._onTextFieldClick(e)},n._dismissDatePickerPopup=function(){n.state.isDatePickerShown&&n.setState({isDatePickerShown:!1},(function(){n._validateTextInput()}))},n._calendarDismissed=function(){n._preventFocusOpeningPicker=!0,n._dismissDatePickerPopup()},n._handleEscKey=function(e){n.state.isDatePickerShown&&e.stopPropagation(),n._calendarDismissed()},n._validateTextInput=function(){var e=n.props,t=e.isRequired,r=e.allowTextInput,i=e.strings,o=e.parseDateFromString,a=e.onSelectDate,s=e.formatDate,u=e.minDate,l=e.maxDate,c=n.state.formattedDate;if(!n.state.isDatePickerShown)if(r){var d=null;if(c){if(n.state.selectedDate&&s&&s(n.state.selectedDate)===c)return;!(d=o(c))||isNaN(d.getTime())?(s&&(d=n.state.selectedDate,n.setState({formattedDate:s(d).toString()})),n.setState({errorMessage:i.invalidInputErrorMessage||" "})):n._isDateOutOfBounds(d,u,l)?n.setState({errorMessage:i.isOutOfBoundsErrorMessage||" "}):(n.setState({selectedDate:d,errorMessage:""}),s&&s(d)!==c&&n.setState({formattedDate:s(d).toString()}))}else n.setState({errorMessage:t?i.isRequiredErrorMessage||" ":""});a&&a(d)}else t&&!c&&n.setState({errorMessage:i.isRequiredErrorMessage||" "})},n.state=n._getDefaultState(),n._id=t.id||Object(Oe.c)("DatePicker"),n._preventFocusOpeningPicker=!1,n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.formatDate,n=e.value;vi(this.props.minDate,e.minDate)&&vi(this.props.maxDate,e.maxDate)&&this.props.isRequired===e.isRequired&&vi(this.state.selectedDate,n)&&this.props.formatDate===t||(this._setErrorMessage(!0,e),this._id=e.id||this._id,vi(this.state.selectedDate,n)&&this.props.formatDate===t||this.setState({selectedDate:n||void 0,formattedDate:t&&n?t(n):""}))},t.prototype.componentDidUpdate=function(e,t){t.isDatePickerShown&&!this.state.isDatePickerShown&&this.props.onAfterMenuDismiss&&this.props.onAfterMenuDismiss()},t.prototype.render=function(){var e=this.props,t=e.firstDayOfWeek,n=e.strings,r=e.label,i=e.theme,o=e.className,a=e.styles,s=e.initialPickerDate,u=e.isRequired,l=e.disabled,c=e.ariaLabel,d=e.pickerAriaLabel,f=e.placeholder,h=e.allowTextInput,p=e.borderless,g=e.minDate,b=e.maxDate,y=e.showCloseButton,_=e.calendarProps,x=e.calloutProps,S=e.textField,w=e.underlined,C=e.allFocusable,k=e.calendarAs,O=void 0===k?ka:k,T=e.tabIndex,P=this.state,I=P.isDatePickerShown,D=P.formattedDate,A=P.selectedDate,M=rl(a,{theme:i,className:o,disabled:l,label:!!r,isDatePickerShown:I}),j=Object(Oe.c)("DatePicker-Callout"),R=Object(E.j)(this.props,E.h,["value"]),F=S&&S.iconProps;return v.createElement("div",m.a({},R,{className:M.root}),v.createElement("div",{ref:this._datePickerDiv,role:"combobox","aria-expanded":I,"aria-haspopup":"true","aria-owns":I?j:void 0},v.createElement(pu,m.a({label:r,ariaLabel:c,"aria-controls":I?j:void 0,required:u,disabled:l,errorMessage:this._getErrorMessage(),placeholder:f,borderless:p,value:D,componentRef:this._textField,underlined:w,tabIndex:T,readOnly:!h},S,{id:this._id+"-label",className:Object(z.a)(M.textField,S&&S.className),iconProps:m.a({iconName:"Calendar"},F,{className:Object(z.a)(M.icon,F&&F.className),onClick:this._onIconClick}),onKeyDown:this._onTextFieldKeyDown,onFocus:this._onTextFieldFocus,onBlur:this._onTextFieldBlur,onClick:this._onTextFieldClick,onChange:this._onTextFieldChanged}))),I&&v.createElement(Tn,m.a({id:j,role:"dialog",ariaLabel:d,isBeakVisible:!1,gapSpace:0,doNotLayer:!1,target:this._datePickerDiv.current,directionalHint:$e.bottomLeftEdge},x,{className:Object(z.a)(M.callout,x&&x.className),onDismiss:this._calendarDismissed,onPositioned:this._onCalloutPositioned}),v.createElement(Ea,{isClickableOutsideFocusTrap:!0,disableFirstFocus:this.props.disableAutoFocus,forceFocusInsideTrap:!1},v.createElement(O,m.a({},_,{onSelectDate:this._onSelectDate,onDismiss:this._calendarDismissed,isMonthPickerVisible:this.props.isMonthPickerVisible,showMonthPickerAsOverlay:this.props.showMonthPickerAsOverlay,today:this.props.today,value:A||s,firstDayOfWeek:t,strings:n,highlightCurrentMonth:this.props.highlightCurrentMonth,highlightSelectedMonth:this.props.highlightSelectedMonth,showWeekNumbers:this.props.showWeekNumbers,firstWeekOfYear:this.props.firstWeekOfYear,showGoToToday:this.props.showGoToToday,dateTimeFormatter:this.props.dateTimeFormatter,minDate:g,maxDate:b,componentRef:this._calendar,showCloseButton:y,allFocusable:C})))))},t.prototype.focus=function(){this._textField.current&&this._textField.current.focus()},t.prototype.reset=function(){this.setState(this._getDefaultState())},t.prototype._setErrorMessage=function(e,t){var n=t||this.props,r=n.isRequired,i=n.strings,o=n.value,a=n.minDate,s=n.maxDate,u=n.initialPickerDate||!r||o?void 0:i.isRequiredErrorMessage||" ";return!u&&o&&(u=this._isDateOutOfBounds(o,a,s)?i.isOutOfBoundsErrorMessage||" ":void 0),e&&this.setState({errorMessage:u}),u},t.prototype._showDatePickerPopup=function(){this.state.isDatePickerShown||(this._preventFocusOpeningPicker=!0,this.setState({isDatePickerShown:!0}))},t.prototype._getDefaultState=function(e){return void 0===e&&(e=this.props),{selectedDate:e.value||void 0,formattedDate:e.formatDate&&e.value?e.formatDate(e.value):"",isDatePickerShown:!1,errorMessage:this._setErrorMessage(!1)}},t.prototype._isDateOutOfBounds=function(e,t,n){return!!t&&bi(t,e)>0||!!n&&bi(n,e)<0},t.prototype._getErrorMessage=function(){if(!this.state.isDatePickerShown)return this.state.errorMessage},t.defaultProps={allowTextInput:!1,formatDate:function(e){return e?e.toDateString():""},parseDateFromString:function(e){var t=Date.parse(e);return t?new Date(t):null},firstDayOfWeek:Wr.Sunday,initialPickerDate:new Date,isRequired:!1,isMonthPickerVisible:!0,showMonthPickerAsOverlay:!1,strings:il,highlightCurrentMonth:!1,highlightSelectedMonth:!1,borderless:!1,pickerAriaLabel:"Calendar",showWeekNumbers:!1,firstWeekOfYear:Kr.FirstDay,showGoToToday:!0,dateTimeFormatter:void 0,showCloseButton:!1,underlined:!1,allFocusable:!1},t}(O.a),al={root:"ms-DatePicker",callout:"ms-DatePicker-callout",withLabel:"ms-DatePicker-event--with-label",withoutLabel:"ms-DatePicker-event--without-label",disabled:"msDatePickerDisabled "},sl=Object(S.a)(ol,(function(e){var t=e.className,n=e.theme,r=e.disabled,i=e.label,o=e.isDatePickerShown,a=n.palette,s=n.semanticColors,u=Object(b.N)(al,n),l={color:a.neutralSecondary,fontSize:b.h.icon,lineHeight:"18px",pointerEvents:"none",position:"absolute",right:"9px"};return{root:[u.root,n.fonts.medium,o&&"is-open",b.ab,t],textField:[{position:"relative",selectors:{"& input[readonly]":{cursor:"pointer"},input:{selectors:{"::-ms-clear":{display:"none"}}}}},r&&{selectors:{"& input[readonly]":{cursor:"default"}}}],callout:[u.callout],icon:[l,!i&&[u.withoutLabel,{top:"7px"}],i&&[u.withLabel,{bottom:"5px"}],!r&&[u.disabled,{pointerEvents:"initial",cursor:"pointer"}],r&&{color:s.disabledText,cursor:"default"}]}}),void 0,{scope:"DatePicker"}),ul="change";!function(e){e[e.none=0]="none",e[e.single=1]="single",e[e.multiple=2]="multiple"}(qu||(qu={})),function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(Yu||(Yu={}));var ll=function(){function e(e){void 0===e&&(e={});var t=e.onSelectionChanged,n=e.getKey,r=e.canSelectItem,i=void 0===r?function(e){return!0}:r,o=e.selectionMode,a=void 0===o?qu.multiple:o;this.mode=a,this._getKey=n||cl,this._changeEventSuppressionCount=0,this._exemptedCount=0,this._anchoredIndex=0,this._unselectableCount=0,this._onSelectionChanged=t,this._canSelectItem=i,this._isModal=!1,this.setItems([],!0),this.count=this.getSelectedCount()}return e.prototype.canSelectItem=function(e,t){return!("number"===typeof t&&t<0)&&this._canSelectItem(e,t)},e.prototype.getKey=function(e,t){var n=this._getKey(e,t);return"number"===typeof n||n?""+n:""},e.prototype.setChangeEvents=function(e,t){this._changeEventSuppressionCount+=e?-1:1,0===this._changeEventSuppressionCount&&this._hasChanged&&(this._hasChanged=!1,t||this._change())},e.prototype.isModal=function(){return this._isModal},e.prototype.setModal=function(e){this._isModal!==e&&(this.setChangeEvents(!1),this._isModal=e,e||this.setAllSelected(!1),this._change(),this.setChangeEvents(!0))},e.prototype.setItems=function(e,t){void 0===t&&(t=!0);var n={},r={},i=!1;this.setChangeEvents(!1),this._unselectableCount=0;for(var o=0;o<e.length;o++){if(c=e[o]){var a=this.getKey(c,o);a&&(n[a]=o)}r[o]=c&&!this.canSelectItem(c),r[o]&&this._unselectableCount++}(t||0===e.length)&&this._setAllSelected(!1,!0);var s={},u=0;for(var l in this._exemptedIndices)if(this._exemptedIndices.hasOwnProperty(l)){var c,d=Number(l),f=(c=this._items[d])?this.getKey(c,Number(d)):void 0,h=f?n[f]:d;void 0===h?i=!0:(s[h]=!0,u++,i=i||h!==d)}this._items&&0===this._exemptedCount&&e.length!==this._items.length&&this._isAllSelected&&(i=!0),this._exemptedIndices=s,this._exemptedCount=u,this._keyToIndexMap=n,this._unselectableIndices=r,this._items=e,this._selectedItems=null,i&&(this._updateCount(),this._change()),this.setChangeEvents(!0)},e.prototype.getItems=function(){return this._items},e.prototype.getSelection=function(){if(!this._selectedItems){this._selectedItems=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedItems.push(e[t])}return this._selectedItems},e.prototype.getSelectedCount=function(){return this._isAllSelected?this._items.length-this._exemptedCount-this._unselectableCount:this._exemptedCount},e.prototype.getSelectedIndices=function(){if(!this._selectedIndices){this._selectedIndices=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedIndices.push(t)}return this._selectedIndices},e.prototype.isRangeSelected=function(e,t){if(0===t)return!1;for(var n=e+t,r=e;r<n;r++)if(!this.isIndexSelected(r))return!1;return!0},e.prototype.isAllSelected=function(){var e=this._items.length-this._unselectableCount;return this.mode===qu.single&&(e=Math.min(e,1)),this.count>0&&this._isAllSelected&&0===this._exemptedCount||!this._isAllSelected&&this._exemptedCount===e&&e>0},e.prototype.isKeySelected=function(e){var t=this._keyToIndexMap[e];return this.isIndexSelected(t)},e.prototype.isIndexSelected=function(e){return!!(this.count>0&&this._isAllSelected&&!this._exemptedIndices[e]&&!this._unselectableIndices[e]||!this._isAllSelected&&this._exemptedIndices[e])},e.prototype.setAllSelected=function(e){if(!e||this.mode===qu.multiple){var t=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),t>0&&(this._exemptedCount>0||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount()),this.setChangeEvents(!0)}},e.prototype.setKeySelected=function(e,t,n){var r=this._keyToIndexMap[e];r>=0&&this.setIndexSelected(r,t,n)},e.prototype.setIndexSelected=function(e,t,n){if(this.mode!==qu.none&&!((e=Math.min(Math.max(0,e),this._items.length-1))<0||e>=this._items.length)){this.setChangeEvents(!1);var r=this._exemptedIndices[e];!this._unselectableIndices[e]&&(t&&this.mode===qu.single&&this._setAllSelected(!1,!0),r&&(t&&this._isAllSelected||!t&&!this._isAllSelected)&&(delete this._exemptedIndices[e],this._exemptedCount--),!r&&(t&&!this._isAllSelected||!t&&this._isAllSelected)&&(this._exemptedIndices[e]=!0,this._exemptedCount++),n&&(this._anchoredIndex=e)),this._updateCount(),this.setChangeEvents(!0)}},e.prototype.selectToKey=function(e,t){this.selectToIndex(this._keyToIndexMap[e],t)},e.prototype.selectToIndex=function(e,t){if(this.mode!==qu.none)if(this.mode!==qu.single){var n=this._anchoredIndex||0,r=Math.min(e,n),i=Math.max(e,n);for(this.setChangeEvents(!1),t&&this._setAllSelected(!1,!0);r<=i;r++)this.setIndexSelected(r,!0,!1);this.setChangeEvents(!0)}else this.setIndexSelected(e,!0,!0)},e.prototype.toggleAllSelected=function(){this.setAllSelected(!this.isAllSelected())},e.prototype.toggleKeySelected=function(e){this.setKeySelected(e,!this.isKeySelected(e),!0)},e.prototype.toggleIndexSelected=function(e){this.setIndexSelected(e,!this.isIndexSelected(e),!0)},e.prototype.toggleRangeSelected=function(e,t){if(this.mode!==qu.none){var n=this.isRangeSelected(e,t),r=e+t;if(!(this.mode===qu.single&&t>1)){this.setChangeEvents(!1);for(var i=e;i<r;i++)this.setIndexSelected(i,!n,!1);this.setChangeEvents(!0)}}},e.prototype._updateCount=function(e){void 0===e&&(e=!1);var t=this.getSelectedCount();t!==this.count&&(this.count=t,this._change()),this.count||e||this.setModal(!1)},e.prototype._setAllSelected=function(e,t){if(void 0===t&&(t=!1),!e||this.mode===qu.multiple){var n=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),n>0&&(this._exemptedCount>0||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount(t)),this.setChangeEvents(!0)}},e.prototype._change=function(){0===this._changeEventSuppressionCount?(this._selectedItems=null,this._selectedIndices=void 0,ze.a.raise(this,ul),this._onSelectionChanged&&this._onSelectionChanged()):this._hasChanged=!0},e}();function cl(e,t){return e&&e.key?e.key:""+t}var dl,fl,hl,pl,gl,ml,vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._root=v.createRef(),t.ignoreNextFocus=function(){t._handleNextFocus(!1)},t._onMouseDownCapture=function(e){if(document.activeElement===e.target||Object(Ie.a)(document.activeElement,e.target)){if(Object(Ie.a)(e.target,t._root.current))for(var n=e.target;n!==t._root.current;){if(t._hasAttribute(n,"data-selection-invoke")){t.ignoreNextFocus();break}n=Object(ke.a)(n)}}else t.ignoreNextFocus()},t._onFocus=function(e){var n=e.target,r=t.props.selection,i=t._isCtrlPressed||t._isMetaPressed,o=t._getSelectionMode();if(t._shouldHandleFocus&&o!==qu.none){var a=t._hasAttribute(n,"data-selection-toggle"),s=t._findItemRoot(n);if(!a&&s){var u=t._getItemIndex(s);i?(r.setIndexSelected(u,r.isIndexSelected(u),!0),t.props.enterModalOnTouch&&t._isTouch&&r.setModal&&(r.setModal(!0),t._setIsTouch(!1))):t.props.isSelectedOnFocus&&t._onItemSurfaceClick(e,u)}}t._handleNextFocus(!1)},t._onMouseDown=function(e){t._updateModifiers(e);var n=e.target,r=t._findItemRoot(n);if(!t._isSelectionDisabled(n))for(;n!==t._root.current&&!t._hasAttribute(n,"data-selection-all-toggle");){if(r){if(t._hasAttribute(n,"data-selection-toggle"))break;if(t._hasAttribute(n,"data-selection-invoke"))break;if(!(n!==r&&!t._shouldAutoSelect(n)||t._isShiftPressed||t._isCtrlPressed||t._isMetaPressed)){t._onInvokeMouseDown(e,t._getItemIndex(r));break}if(t.props.disableAutoSelectOnInputElements&&("A"===n.tagName||"BUTTON"===n.tagName||"INPUT"===n.tagName))return}n=Object(ke.a)(n)}},t._onTouchStartCapture=function(e){t._setIsTouch(!0)},t._onClick=function(e){t._updateModifiers(e);for(var n=e.target,r=t._findItemRoot(n),i=t._isSelectionDisabled(n);n!==t._root.current;){if(t._hasAttribute(n,"data-selection-all-toggle")){i||t._onToggleAllClick(e);break}if(r){var o=t._getItemIndex(r);if(t._hasAttribute(n,"data-selection-toggle")){i||(t._isShiftPressed?t._onItemSurfaceClick(e,o):t._onToggleClick(e,o));break}if(t._hasAttribute(n,"data-selection-invoke")){t._onInvokeClick(e,o);break}if(n===r){i||t._onItemSurfaceClick(e,o);break}if("A"===n.tagName||"BUTTON"===n.tagName||"INPUT"===n.tagName)return}n=Object(ke.a)(n)}},t._onContextMenu=function(e){var n=e.target,r=t.props,i=r.onItemContextMenu,o=r.selection;if(i){var a=t._findItemRoot(n);if(a){var s=t._getItemIndex(a);t._onInvokeMouseDown(e,s),i(o.getItems()[s],s,e.nativeEvent)||e.preventDefault()}}},t._onDoubleClick=function(e){var n=e.target,r=t.props.onItemInvoked,i=t._findItemRoot(n);if(i&&r&&!t._isInputElement(n)){for(var o=t._getItemIndex(i);n!==t._root.current&&!t._hasAttribute(n,"data-selection-toggle")&&!t._hasAttribute(n,"data-selection-invoke");){if(n===i){t._onInvokeClick(e,o);break}n=Object(ke.a)(n)}n=Object(ke.a)(n)}},t._onKeyDownCapture=function(e){t._updateModifiers(e),t._handleNextFocus(!0)},t._onKeyDown=function(e){t._updateModifiers(e);var n=e.target,r=t._isSelectionDisabled(n),i=t.props.selection,o=e.which===ge.a.a&&(t._isCtrlPressed||t._isMetaPressed),a=e.which===ge.a.escape;if(!t._isInputElement(n)){var s=t._getSelectionMode();if(o&&s===qu.multiple&&!i.isAllSelected())return r||i.setAllSelected(!0),e.stopPropagation(),void e.preventDefault();if(a&&i.getSelectedCount()>0)return r||i.setAllSelected(!1),e.stopPropagation(),void e.preventDefault();var u=t._findItemRoot(n);if(u)for(var l=t._getItemIndex(u);n!==t._root.current&&!t._hasAttribute(n,"data-selection-toggle");){if(t._shouldAutoSelect(n)){r||t._onInvokeMouseDown(e,l);break}if(!(e.which!==ge.a.enter&&e.which!==ge.a.space||"BUTTON"!==n.tagName&&"A"!==n.tagName&&"INPUT"!==n.tagName))return!1;if(n===u){if(e.which===ge.a.enter)return t._onInvokeClick(e,l),void e.preventDefault();if(e.which===ge.a.space)return r||t._onToggleClick(e,l),void e.preventDefault();break}n=Object(ke.a)(n)}}},t}return m.c(t,e),t.prototype.componentDidMount=function(){var e=Object(F.a)(this._root.current);this._events.on(e,"keydown, keyup",this._updateModifiers,!0),this._events.on(document,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(document.body,"touchstart",this._onTouchStartCapture,!0),this._events.on(document.body,"touchend",this._onTouchStartCapture,!0)},t.prototype.render=function(){return v.createElement("div",m.a({className:"ms-SelectionZone",ref:this._root,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onKeyDownCapture:this._onKeyDownCapture,onClick:this._onClick,role:"presentation",onDoubleClick:this._onDoubleClick,onContextMenu:this._onContextMenu},{onMouseDownCapture:this._onMouseDownCapture,onFocusCapture:this._onFocus}),this.props.children)},t.prototype._isSelectionDisabled=function(e){if(this._getSelectionMode()===qu.none)return!0;for(;e!==this._root.current;){if(this._hasAttribute(e,"data-selection-disabled"))return!0;e=Object(ke.a)(e)}return!1},t.prototype._onToggleAllClick=function(e){var t=this.props.selection;this._getSelectionMode()===qu.multiple&&(t.toggleAllSelected(),e.stopPropagation(),e.preventDefault())},t.prototype._onToggleClick=function(e,t){var n=this.props.selection,r=this._getSelectionMode();if(n.setChangeEvents(!1),this.props.enterModalOnTouch&&this._isTouch&&!n.isIndexSelected(t)&&n.setModal&&(n.setModal(!0),this._setIsTouch(!1)),r===qu.multiple)n.toggleIndexSelected(t);else{if(r!==qu.single)return void n.setChangeEvents(!0);var i=n.isIndexSelected(t),o=n.isModal&&n.isModal();n.setAllSelected(!1),n.setIndexSelected(t,!i,!0),o&&n.setModal&&n.setModal(!0)}n.setChangeEvents(!0),e.stopPropagation()},t.prototype._onInvokeClick=function(e,t){var n=this.props,r=n.selection,i=n.onItemInvoked;i&&(i(r.getItems()[t],t,e.nativeEvent),e.preventDefault(),e.stopPropagation())},t.prototype._onItemSurfaceClick=function(e,t){var n=this.props.selection,r=this._isCtrlPressed||this._isMetaPressed,i=this._getSelectionMode();i===qu.multiple?this._isShiftPressed&&!this._isTabPressed?n.selectToIndex(t,!r):r?n.toggleIndexSelected(t):this._clearAndSelectIndex(t):i===qu.single&&this._clearAndSelectIndex(t)},t.prototype._onInvokeMouseDown=function(e,t){this.props.selection.isIndexSelected(t)||this._clearAndSelectIndex(t)},t.prototype._findScrollParentAndTryClearOnEmptyClick=function(e){var t=Object(gt.e)(this._root.current);this._events.off(document,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(t,"click",this._tryClearOnEmptyClick),(t&&e.target instanceof Node&&t.contains(e.target)||t===e.target)&&this._tryClearOnEmptyClick(e)},t.prototype._tryClearOnEmptyClick=function(e){!this.props.selectionPreservedOnEmptyClick&&this._isNonHandledClick(e.target)&&this.props.selection.setAllSelected(!1)},t.prototype._clearAndSelectIndex=function(e){var t=this.props.selection;1===t.getSelectedCount()&&t.isIndexSelected(e)||(t.setChangeEvents(!1),t.setAllSelected(!1),t.setIndexSelected(e,!0,!0),this.props.enterModalOnTouch&&this._isTouch&&t.setModal&&(t.setModal(!0),this._setIsTouch(!1)),t.setChangeEvents(!0))},t.prototype._updateModifiers=function(e){this._isShiftPressed=e.shiftKey,this._isCtrlPressed=e.ctrlKey,this._isMetaPressed=e.metaKey;var t=e.keyCode;this._isTabPressed=!!t&&t===ge.a.tab},t.prototype._findItemRoot=function(e){for(var t=this.props.selection;e!==this._root.current;){var n=e.getAttribute("data-selection-index"),r=Number(n);if(null!==n&&r>=0&&r<t.getItems().length)break;e=Object(ke.a)(e)}if(e!==this._root.current)return e},t.prototype._getItemIndex=function(e){return Number(e.getAttribute("data-selection-index"))},t.prototype._shouldAutoSelect=function(e){return this._hasAttribute(e,"data-selection-select")},t.prototype._hasAttribute=function(e,t){for(var n=!1;!n&&e!==this._root.current;)n="true"===e.getAttribute(t),e=Object(ke.a)(e);return n},t.prototype._isInputElement=function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName},t.prototype._isNonHandledClick=function(e){var t=Object(Pe.a)();if(t&&e)for(;e&&e!==t.documentElement;){if(Object(Ce.n)(e))return!1;e=Object(ke.a)(e)}return!0},t.prototype._handleNextFocus=function(e){var t=this;this._shouldHandleFocusTimeoutId&&(this._async.clearTimeout(this._shouldHandleFocusTimeoutId),this._shouldHandleFocusTimeoutId=void 0),this._shouldHandleFocus=e,e&&this._async.setTimeout((function(){t._shouldHandleFocus=!1}),100)},t.prototype._setIsTouch=function(e){var t=this;this._isTouchTimeoutId&&(this._async.clearTimeout(this._isTouchTimeoutId),this._isTouchTimeoutId=void 0),this._isTouch=!0,e&&this._async.setTimeout((function(){t._isTouch=!1}),300)},t.prototype._getSelectionMode=function(){var e=this.props.selection,t=this.props.selectionMode;return void 0===t?e?e.mode:qu.none:t},t.defaultProps={isMultiSelectEnabled:!0,isSelectedOnFocus:!0,selectionMode:qu.multiple},t}(O.a);!function(e){e[e.hidden=0]="hidden",e[e.visible=1]="visible"}(dl||(dl={})),function(e){e[e.disabled=0]="disabled",e[e.clickable=1]="clickable",e[e.hasDropdown=2]="hasDropdown"}(fl||(fl={})),function(e){e[e.unconstrained=0]="unconstrained",e[e.horizontalConstrained=1]="horizontalConstrained"}(hl||(hl={})),function(e){e[e.outside=0]="outside",e[e.surface=1]="surface",e[e.header=2]="header"}(pl||(pl={})),function(e){e[e.fixedColumns=0]="fixedColumns",e[e.justified=1]="justified"}(gl||(gl={})),function(e){e[e.onHover=0]="onHover",e[e.always=1]="always",e[e.hidden=2]="hidden"}(ml||(ml={}));var bl=function(e){var t=e.count,n=e.indentWidth,r=t*(void 0===n?32:n);return t>0?v.createElement("span",{className:"ms-GroupSpacer",style:{display:"inline-block",width:r}}):null},yl={root:"ms-DetailsRow",compact:"ms-DetailsList--Compact",cell:"ms-DetailsRow-cell",cellAnimation:"ms-DetailsRow-cellAnimation",cellCheck:"ms-DetailsRow-cellCheck",cellMeasurer:"ms-DetailsRow-cellMeasurer",listCellFirstChild:"ms-List-cell:first-child",isContentUnselectable:"is-contentUnselectable",isSelected:"is-selected",isCheckVisible:"is-check-visible",fields:"ms-DetailsRow-fields"},_l={cellLeftPadding:12,cellRightPadding:8,cellExtraRightPadding:24},xl={rowHeight:42,compactRowHeight:32},Sl=m.a({},xl,{rowVerticalPadding:11,compactRowVerticalPadding:6,rowShimmerLineHeight:7,rowShimmerIconPlaceholderHeight:16,rowShimmerVerticalBorder:0,compactRowShimmerVerticalBorder:0});Sl=m.a({},Sl,{rowShimmerVerticalBorder:(Sl.rowHeight-Sl.rowShimmerLineHeight)/2,compactRowShimmerVerticalBorder:(Sl.compactRowHeight-Sl.rowShimmerLineHeight)/2});var wl={tooltipHost:"ms-TooltipHost",root:"ms-DetailsHeader",cell:"ms-DetailsHeader-cell",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintCaretStyle:"ms-DetailsHeader-dropHintCaretStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVertical:"ms-DetailsColumn-gripperBarVertical"},Cl=function(e){var t=e.theme,n=e.cellStyleProps,r=void 0===n?_l:n,i=t.semanticColors;return[Object(b.N)(wl,t).cell,Object(b.M)(t),{color:i.bodyText,position:"relative",display:"inline-block",boxSizing:"border-box",padding:"0 "+r.cellRightPadding+"px 0 "+r.cellLeftPadding+"px",lineHeight:"inherit",margin:"0",height:32,verticalAlign:"top",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"}]},kl={root:"ms-DetailsRow-check",isDisabled:"ms-DetailsRow-check--isDisabled",isHeader:"ms-DetailsRow-check--isHeader"},El=Object(w.a)({disableCaching:!0}),Ol=Object(w.a)({disableCaching:!0});function Tl(e){return v.createElement(Aa,{checked:e.checked})}function Pl(e){return Ma(e.theme,e.checked)}var Il,Dl=Object(S.a)((function(e){var t=e.isVisible,n=void 0!==t&&t,r=e.canSelect,i=void 0!==r&&r,o=e.isSelected,a=void 0!==o&&o,s=e.anySelected,u=void 0!==s&&s,l=e.selected,c=void 0!==l&&l,d=e.isHeader,f=void 0!==d&&d,h=e.className,p=(e.checkClassName,e.styles),g=e.theme,b=e.compact,y=e.onRenderDetailsCheckbox,_=e.useFastIcons,x=m.d(e,["isVisible","canSelect","isSelected","anySelected","selected","isHeader","className","checkClassName","styles","theme","compact","onRenderDetailsCheckbox","useFastIcons"]),S=_?Pl:Tl,w=y||S,C=a||c,k=_?void 0:Da({theme:g}),E=_?void 0:El(k,{theme:g}),O=Ol(p,{theme:g,canSelect:i,selected:C,anySelected:u,className:h,isHeader:f,isVisible:n,compact:b,useGlobalCheckHostClass:_}),T={checked:C,theme:g};return i?v.createElement("div",m.a({},x,{role:"checkbox",className:Object(z.a)(O.root,O.check,E&&E.checkHost),"aria-checked":C,"data-selection-toggle":!0,"data-automationid":"DetailsRowCheck"}),w(T,S)):v.createElement("div",m.a({},x,{className:Object(z.a)(O.root,O.check)}))}),(function(e){var t=e.theme,n=e.className,r=e.isHeader,i=e.selected,o=e.anySelected,a=e.canSelect,s=e.compact,u=e.isVisible,l=e.useGlobalCheckHostClass,c=Object(b.N)(kl,t),d=r?32:s?xl.compactRowHeight:xl.rowHeight,f=u||i||o;return{root:[c.root,n],check:[!a&&c.isDisabled,r&&c.isHeader,Object(b.M)(t),t.fonts.small,l&&Ia.checkHost,{display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",boxSizing:"border-box",verticalAlign:"top",background:"none",backgroundColor:"transparent",border:"none",opacity:f?1:0,height:d,width:40,padding:0,margin:0},l&&{selectors:{"&:hover":{opacity:1}}}],isDisabled:[]}}),void 0,{scope:"DetailsRowCheck"},!0),Al=function(){function e(e){this._selection=e.selection,this._dragEnterCounts={},this._activeTargets={},this._lastId=0,this._events=new ze.a(this);var t=Object(Pe.a)();t&&(this._events.on(t.body,"mouseup",this._onMouseUp.bind(this),!0),this._events.on(t,"mouseup",this._onDocumentMouseUp.bind(this),!0))}return e.prototype.dispose=function(){this._events.dispose()},e.prototype.subscribe=function(e,t,n){var r,i,o,a,s,u,l,c,d,f,h=this,p=n.key,g=void 0===p?""+ ++this._lastId:p,m=[];if(n&&e){var v=n.eventMap,b=n.context,y=n.updateDropState,_={root:e,options:n,key:g};if(c=this._isDraggable(_),d=this._isDroppable(_),(c||d)&&v)for(var x=0,S=v;x<S.length;x++){var w=S[x],C={callback:w.callback.bind(null,b),eventName:w.eventName};m.push(C),this._events.on(e,C.eventName,C.callback)}d&&(i=function(e){e.isHandled||(e.isHandled=!0,h._dragEnterCounts[g]--,0===h._dragEnterCounts[g]&&y(!1,e))},o=function(e){e.preventDefault(),e.isHandled||(e.isHandled=!0,h._dragEnterCounts[g]++,1===h._dragEnterCounts[g]&&y(!0,e))},a=function(e){h._dragEnterCounts[g]=0,y(!1,e)},s=function(e){h._dragEnterCounts[g]=0,y(!1,e),n.onDrop&&n.onDrop(n.context.data,e)},u=function(e){e.preventDefault(),n.onDragOver&&n.onDragOver(n.context.data,e)},this._dragEnterCounts[g]=0,t.on(e,"dragenter",o),t.on(e,"dragleave",i),t.on(e,"dragend",a),t.on(e,"drop",s),t.on(e,"dragover",u)),c&&(l=this._onMouseDown.bind(this,_),a=this._onDragEnd.bind(this,_),r=function(t){var n=h._dragData.dragTarget.options;n&&n.onDragStart&&n.onDragStart(n.context.data,n.context.index,h._selection.getSelection(),t),h._isDragging=!0,t.dataTransfer&&t.dataTransfer.setData("id",e.id)},t.on(e,"dragstart",r),t.on(e,"mousedown",l),t.on(e,"dragend",a)),f={target:_,dispose:function(){if(h._activeTargets[g]===f&&delete h._activeTargets[g],e){for(var n=0,p=m;n<p.length;n++){var v=p[n];h._events.off(e,v.eventName,v.callback)}d&&(t.off(e,"dragenter",o),t.off(e,"dragleave",i),t.off(e,"dragend",a),t.off(e,"dragover",u),t.off(e,"drop",s)),c&&(t.off(e,"dragstart",r),t.off(e,"mousedown",l),t.off(e,"dragend",a))}}},this._activeTargets[g]=f}return{key:g,dispose:function(){f&&f.dispose()}}},e.prototype.unsubscribe=function(e,t){var n=this._activeTargets[t];n&&n.dispose()},e.prototype._onDragEnd=function(e,t){var n=e.options;n.onDragEnd&&n.onDragEnd(n.context.data,t)},e.prototype._onMouseUp=function(e){if(this._isDragging=!1,this._dragData){for(var t=0,n=Object.keys(this._activeTargets);t<n.length;t++){var r=n[t],i=this._activeTargets[r];i.target.root&&(this._events.off(i.target.root,"mousemove"),this._events.off(i.target.root,"mouseleave"))}this._dragData.dropTarget&&(ze.a.raise(this._dragData.dropTarget.root,"dragleave"),ze.a.raise(this._dragData.dropTarget.root,"drop"))}this._dragData=null},e.prototype._onDocumentMouseUp=function(e){var t=Object(Pe.a)();t&&e.target===t.documentElement&&this._onMouseUp(e)},e.prototype._onMouseMove=function(e,t){var n=t.buttons,r=void 0===n?1:n;if(this._dragData&&1!==r)this._onMouseUp(t);else{var i=e.root,o=e.key;this._isDragging&&this._isDroppable(e)&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key!==o&&!this._isChild(i,this._dragData.dropTarget.root)&&this._dragEnterCounts[this._dragData.dropTarget.key]>0&&(ze.a.raise(this._dragData.dropTarget.root,"dragleave"),ze.a.raise(i,"dragenter"),this._dragData.dropTarget=e)}},e.prototype._onMouseLeave=function(e,t){this._isDragging&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key===e.key&&(ze.a.raise(e.root,"dragleave"),this._dragData.dropTarget=void 0)},e.prototype._onMouseDown=function(e,t){if(0===t.button)if(this._isDraggable(e)){this._dragData={clientX:t.clientX,clientY:t.clientY,eventTarget:t.target,dragTarget:e};for(var n=0,r=Object.keys(this._activeTargets);n<r.length;n++){var i=r[n],o=this._activeTargets[i];o.target.root&&(this._events.on(o.target.root,"mousemove",this._onMouseMove.bind(this,o.target)),this._events.on(o.target.root,"mouseleave",this._onMouseLeave.bind(this,o.target)))}}else this._dragData=null},e.prototype._isChild=function(e,t){for(var n=cn.findDOMNode(e),r=cn.findDOMNode(t);r&&r.parentElement;){if(r.parentElement===n)return!0;r=r.parentElement}return!1},e.prototype._isDraggable=function(e){var t=e.options;return!(!t.canDrag||!t.canDrag(t.context.data))},e.prototype._isDroppable=function(e){var t=e.options,n=this._dragData&&this._dragData.dragTarget?this._dragData.dragTarget.options.context:void 0;return!(!t.canDrop||!t.canDrop(t.context,n))},e}(),Ml=Object(w.a)(),jl=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._onRenderColumnHeaderTooltip=function(e,t){return v.createElement("span",{className:e.hostClassName},e.children)},n._onDragStart=function(e,t,r,i){var o=n._classNames;t&&(n._updateHeaderDragInfo(t),n._root.current.classList.add(o.borderWhileDragging),n._async.setTimeout((function(){n._root.current&&n._root.current.classList.add(o.noBorderWhileDragging)}),20))},n._onDragEnd=function(e,t){var r=n._classNames;t&&n._updateHeaderDragInfo(-1,t),n._root.current.classList.remove(r.borderWhileDragging),n._root.current.classList.remove(r.noBorderWhileDragging)},n._updateHeaderDragInfo=function(e,t){n.props.setDraggedItemIndex&&n.props.setDraggedItemIndex(e),n.props.updateDragInfo&&n.props.updateDragInfo({itemIndex:e},t)},n._onRootMouseDown=function(e){n.props.isDraggable&&0===e.button&&e.stopPropagation()},Object(Ee.a)(n),n._async=new ht.a(n),n._events=new ze.a(n),n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.column,n=e.columnIndex,r=e.parentId,i=e.isDraggable,o=e.styles,a=e.theme,s=e.cellStyleProps,u=void 0===s?_l:s,l=e.useFastIcons,c=this.props.onRenderColumnHeaderTooltip,d=void 0===c?this._onRenderColumnHeaderTooltip:c;this._classNames=Ml(o,{theme:a,headerClassName:t.headerClassName,iconClassName:t.iconClassName,isActionable:t.columnActionsMode!==fl.disabled,isEmpty:!t.name,isIconVisible:t.isSorted||t.isGrouped||t.isFiltered,isPadded:t.isPadded,isIconOnly:t.isIconOnly,cellStyleProps:u,transitionDurationDrag:200,transitionDurationDrop:1500});var f=this._classNames,h=l?H:K;return v.createElement(v.Fragment,null,v.createElement("div",{key:t.key,ref:this._root,role:"columnheader","aria-sort":t.isSorted?t.isSortedDescending?"descending":"ascending":"none","aria-colindex":n,className:f.root,"data-is-draggable":i,draggable:i,style:{width:t.calculatedWidth+u.cellLeftPadding+u.cellRightPadding+(t.isPadded?u.cellExtraRightPadding:0)},"data-automationid":"ColumnsHeaderColumn","data-item-key":t.key},i&&v.createElement(h,{iconName:"GripperBarVertical",className:f.gripperBarVerticalStyle}),d({hostClassName:f.cellTooltip,id:r+"-"+t.key+"-tooltip",setAriaDescribedBy:!1,content:t.columnActionsMode!==fl.disabled?t.ariaLabel:"",children:v.createElement("span",{id:r+"-"+t.key,"aria-label":t.isIconOnly?t.name:void 0,"aria-labelledby":t.isIconOnly?void 0:r+"-"+t.key+"-name",className:f.cellTitle,"data-is-focusable":t.columnActionsMode!==fl.disabled,role:t.columnActionsMode===fl.disabled||void 0===t.onColumnClick&&void 0===this.props.onColumnClick?void 0:"button","aria-describedby":!this.props.onRenderColumnHeaderTooltip&&this._hasAccessibleLabel()?r+"-"+t.key+"-tooltip":void 0,onContextMenu:this._onColumnContextMenu.bind(this,t),onClick:this._onColumnClick.bind(this,t),"aria-haspopup":t.columnActionsMode===fl.hasDropdown,"aria-expanded":t.columnActionsMode===fl.hasDropdown?!!t.isMenuOpen:void 0},v.createElement("span",{id:r+"-"+t.key+"-name",className:f.cellName},(t.iconName||t.iconClassName)&&v.createElement(h,{className:f.iconClassName,iconName:t.iconName}),t.isIconOnly?v.createElement("span",{className:f.accessibleLabel},t.name):t.name),t.isFiltered&&v.createElement(h,{className:f.nearIcon,iconName:"Filter"}),t.isSorted&&v.createElement(h,{className:f.sortIcon,iconName:t.isSortedDescending?"SortDown":"SortUp"}),t.isGrouped&&v.createElement(h,{className:f.nearIcon,iconName:"GroupedDescending"}),t.columnActionsMode===fl.hasDropdown&&!t.isIconOnly&&v.createElement(h,{"aria-hidden":!0,className:f.filterChevron,iconName:"ChevronDown"}))},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:this._renderAccessibleLabel())},t.prototype.componentDidMount=function(){var e=this;this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this.props.isDraggable&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getColumnDragDropOptions()),this._events.on(this._root.current,"mousedown",this._onRootMouseDown));var t=this._classNames;this.props.isDropped&&(this._root.current&&(this._root.current.classList.add(t.borderAfterDropping),this._async.setTimeout((function(){e._root.current&&e._root.current.classList.add(t.noBorderAfterDropping)}),20)),this._async.setTimeout((function(){e._root.current&&(e._root.current.classList.remove(t.borderAfterDropping),e._root.current.classList.remove(t.noBorderAfterDropping))}),1520))},t.prototype.componentWillUnmount=function(){this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._async.dispose(),this._events.dispose()},t.prototype.componentDidUpdate=function(){!this._dragDropSubscription&&this.props.dragDropHelper&&this.props.isDraggable&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getColumnDragDropOptions()),this._events.on(this._root.current,"mousedown",this._onRootMouseDown)),this._dragDropSubscription&&!this.props.isDraggable&&(this._dragDropSubscription.dispose(),this._events.off(this._root.current,"mousedown"),delete this._dragDropSubscription)},t.prototype._onColumnClick=function(e,t){if(e.columnActionsMode!==fl.disabled){var n=this.props.onColumnClick;e.onColumnClick&&e.onColumnClick(t,e),n&&n(t,e)}},t.prototype._getColumnDragDropOptions=function(){var e=this,t=this.props.columnIndex;return{selectionIndex:t,context:{data:t,index:t},canDrag:function(){return e.props.isDraggable},canDrop:function(){return!1},onDragStart:this._onDragStart,updateDropState:function(){},onDrop:function(){},onDragEnd:this._onDragEnd}},t.prototype._hasAccessibleLabel=function(){var e=this.props.column;return!!(e.ariaLabel||e.filterAriaLabel||e.sortAscendingAriaLabel||e.sortDescendingAriaLabel||e.groupAriaLabel)},t.prototype._renderAccessibleLabel=function(){var e=this.props,t=e.column,n=e.parentId,r=this._classNames;return this._hasAccessibleLabel()&&!this.props.onRenderColumnHeaderTooltip?v.createElement("label",{key:t.key+"_label",id:n+"-"+t.key+"-tooltip",className:r.accessibleLabel},t.ariaLabel,t.isFiltered&&t.filterAriaLabel||null,t.isSorted&&(t.isSortedDescending?t.sortDescendingAriaLabel:t.sortAscendingAriaLabel)||null,t.isGrouped&&t.groupAriaLabel||null):null},t.prototype._onColumnContextMenu=function(e,t){var n=this.props.onColumnContextMenu;e.onColumnContextMenu&&(e.onColumnContextMenu(e,t),t.preventDefault()),n&&(n(e,t),t.preventDefault())},t}(v.Component),Rl={isActionable:"is-actionable",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",isEmpty:"is-empty",isIconVisible:"is-icon-visible",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVerticalStyle:"ms-DetailsColumn-gripperBar"},Fl=Object(S.a)(jl,(function(e){var t=e.theme,n=e.headerClassName,r=e.iconClassName,i=e.isActionable,o=e.isEmpty,a=e.isIconVisible,s=e.isPadded,u=e.isIconOnly,l=e.cellStyleProps,c=void 0===l?_l:l,d=e.transitionDurationDrag,f=e.transitionDurationDrop,h=t.semanticColors,p=t.palette,g=Object(b.N)(Rl,t),v={iconForegroundColor:h.bodySubtext,headerForegroundColor:h.bodyText,headerBackgroundColor:h.bodyBackground,dropdownChevronForegroundColor:p.neutralTertiary,resizerColor:p.neutralTertiaryAlt},y={color:v.iconForegroundColor,opacity:1,paddingLeft:8},_={outline:"1px solid "+p.themePrimary},x={outlineColor:"transparent"};return{root:[Cl(e),t.fonts.small,i&&[g.isActionable,{selectors:{":hover":{color:h.bodyText,background:h.listHeaderBackgroundHovered},":active":{background:h.listHeaderBackgroundPressed}}}],o&&[g.isEmpty,{textOverflow:"clip"}],a&&g.isIconVisible,s&&{paddingRight:c.cellExtraRightPadding+c.cellRightPadding},{selectors:{':hover i[data-icon-name="GripperBarVertical"]':{display:"block"}}},n],gripperBarVerticalStyle:{display:"none",position:"absolute",textAlign:"left",color:p.neutralTertiary,left:1},nearIcon:y,sortIcon:[y,{paddingLeft:4,position:"relative",top:1}],iconClassName:[{color:v.iconForegroundColor,opacity:1},r],filterChevron:[g.filterChevron,{color:v.dropdownChevronForegroundColor,paddingLeft:4,verticalAlign:"middle"}],cellTitle:[g.cellTitle,Object(b.M)(t),m.a({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",boxSizing:"border-box",overflow:"hidden",padding:"0 "+c.cellRightPadding+"px 0 "+c.cellLeftPadding+"px"},u?{alignContent:"flex-end",maxHeight:"100%",flexWrap:"wrap-reverse"}:{})],cellName:[g.cellName,{flex:"0 1 auto",overflow:"hidden",textOverflow:"ellipsis"},u&&{selectors:{$nearIcon:{paddingLeft:0}}}],cellTooltip:{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0},accessibleLabel:b.U,borderWhileDragging:_,noBorderWhileDragging:[x,{transition:"outline "+d+"ms ease"}],borderAfterDropping:_,noBorderAfterDropping:[x,{transition:"outline  "+f+"ms ease"}]}}),void 0,{scope:"DetailsColumn"});!function(e){e[e.none=0]="none",e[e.hidden=1]="hidden",e[e.visible=2]="visible"}(Il||(Il={}));var Nl=Object(w.a)(),Ll=[],Bl=function(e){function t(t){var n=e.call(this,t)||this;n._rootComponent=v.createRef(),n._draggedColumnIndex=-1,n._dropHintDetails={},n._updateDroppingState=function(e,t){n._draggedColumnIndex>=0&&"drop"!==t.type&&(e||n._resetDropHints())},n._onDragOver=function(e,t){n._draggedColumnIndex>=0&&(t.stopPropagation(),n._computeDropHintToBeShown(t.clientX))},n._onDrop=function(e,t){var r=n.state.columnReorderProps;if(n._draggedColumnIndex>=0&&t){var i=n._draggedColumnIndex>n._currentDropHintIndex?n._currentDropHintIndex:n._currentDropHintIndex-1,o=n._isValidCurrentDropHintIndex();if(t.stopPropagation(),o)if(n._onDropIndexInfo.sourceIndex=n._draggedColumnIndex,n._onDropIndexInfo.targetIndex=i,r&&r.onColumnDrop){var a={draggedIndex:n._draggedColumnIndex,targetIndex:i};r.onColumnDrop(a)}else r&&r.handleColumnReorder&&r.handleColumnReorder(n._draggedColumnIndex,i)}n._resetDropHints(),n._dropHintDetails={},n._draggedColumnIndex=-1},n._updateDragInfo=function(e,t){var r=n.state.columnReorderProps,i=e.itemIndex;if(i>=0)n._draggedColumnIndex=n._isCheckboxColumnHidden()?i-1:i-2,n._getDropHintPositions(),r&&r.onColumnDragStart&&r.onColumnDragStart(!0);else if(t&&n._draggedColumnIndex>=0&&(n._resetDropHints(),n._draggedColumnIndex=-1,n._dropHintDetails={},r&&r.onColumnDragEnd)){var o=n._isEventOnHeader(t);r.onColumnDragEnd({dropLocation:o},t)}},n._getDropHintPositions=function(){for(var e,t=n.props.columns,r=void 0===t?Ll:t,i=n.state.columnReorderProps,o=0,a=0,s=i&&i.frozenColumnCountFromStart?i.frozenColumnCountFromStart:0,u=i&&i.frozenColumnCountFromEnd?i.frozenColumnCountFromEnd:0,l=s;l<r.length-u+1;l++)if(n._rootElement){var c=n._rootElement.querySelectorAll("#columnDropHint_"+l)[0];if(c)if(l===s)o=c.offsetLeft,a=c.offsetLeft,e=c;else{var d=(c.offsetLeft+o)/2;n._dropHintDetails[l-1]={originX:o,startX:a,endX:d,dropHintElementRef:e},a=d,e=c,o=c.offsetLeft,l===r.length-u&&(n._dropHintDetails[l]={originX:o,startX:a,endX:c.offsetLeft,dropHintElementRef:e})}}},n._computeDropHintToBeShown=function(e){if(n._rootElement){var t=e-n._rootElement.getBoundingClientRect().left,r=n._currentDropHintIndex;if(n._isValidCurrentDropHintIndex()&&n._liesBetween(t,n._dropHintDetails[r].startX,n._dropHintDetails[r].endX))return;var i=n.props.columns,o=void 0===i?Ll:i,a=n.state.columnReorderProps,s=a&&a.frozenColumnCountFromStart?a.frozenColumnCountFromStart:0,u=a&&a.frozenColumnCountFromEnd?a.frozenColumnCountFromEnd:0,l=s,c=o.length-u,d=-1;if(n._isBefore(t,n._dropHintDetails[l].endX)?d=l:n._isAfter(t,n._dropHintDetails[c].startX)?d=c:n._isValidCurrentDropHintIndex()&&(n._dropHintDetails[r+1]&&n._liesBetween(t,n._dropHintDetails[r+1].startX,n._dropHintDetails[r+1].endX)?d=r+1:n._dropHintDetails[r-1]&&n._liesBetween(t,n._dropHintDetails[r-1].startX,n._dropHintDetails[r-1].endX)&&(d=r-1)),-1===d)for(var f=s,h=c;f<h;){var p=Math.ceil((h+f)/2);if(n._liesBetween(t,n._dropHintDetails[p].startX,n._dropHintDetails[p].endX)){d=p;break}n._isBefore(t,n._dropHintDetails[p].originX)?h=p:n._isAfter(t,n._dropHintDetails[p].originX)&&(f=p)}d===n._draggedColumnIndex||d===n._draggedColumnIndex+1?n._isValidCurrentDropHintIndex()&&n._resetDropHints():r!==d&&d>=0&&(n._resetDropHints(),n._updateDropHintElement(n._dropHintDetails[d].dropHintElementRef,"inline-block"),n._currentDropHintIndex=d)}},n._renderColumnSizer=function(e){var t,r=e.columnIndex,i=n.props.columns,o=void 0===i?Ll:i,a=o[r],s=n.state.columnResizeDetails,u=n._classNames;return a.isResizable?v.createElement("div",{key:a.key+"_sizer","aria-hidden":!0,role:"button","data-is-focusable":!1,onClick:Ul,"data-sizer-index":r,onBlur:n._onSizerBlur,className:Object(z.a)(u.cellSizer,r<o.length-1?u.cellSizerStart:u.cellSizerEnd,(t={},t[u.cellIsResizing]=s&&s.columnIndex===r,t)),onDoubleClick:n._onSizerDoubleClick.bind(n,r)}):null},n._onRenderColumnHeaderTooltip=function(e){return v.createElement("span",{className:e.hostClassName},e.children)},n._onSelectAllClicked=function(){var e=n.props.selection;e&&e.toggleAllSelected()},n._onRootMouseDown=function(e){var t=e.target.getAttribute("data-sizer-index"),r=Number(t),i=n.props.columns,o=void 0===i?Ll:i;null!==t&&0===e.button&&(n.setState({columnResizeDetails:{columnIndex:r,columnMinWidth:o[r].calculatedWidth,originX:e.clientX}}),e.preventDefault(),e.stopPropagation())},n._onRootMouseMove=function(e){var t=n.state,r=t.columnResizeDetails,i=t.isSizing;r&&!i&&e.clientX!==r.originX&&n.setState({isSizing:!0})},n._onRootRef=function(e){n._rootElement=e?Object(cn.findDOMNode)(e):void 0},n._onRootKeyDown=function(e){var t=n.state,r=t.columnResizeDetails,i=t.isSizing,o=n.props,a=o.columns,s=void 0===a?Ll:a,u=o.onColumnResized,l=e.target.getAttribute("data-sizer-index");if(l&&!i){var c=Number(l);if(r){var d=void 0;e.which===ge.a.enter?(n.setState({columnResizeDetails:void 0}),e.preventDefault(),e.stopPropagation()):e.which===ge.a.left?d=Object(C.a)()?1:-1:e.which===ge.a.right&&(d=Object(C.a)()?-1:1),d&&(e.shiftKey||(d*=10),n.setState({columnResizeDetails:m.a({},r,{columnMinWidth:r.columnMinWidth+d})}),u&&u(s[c],r.columnMinWidth+d,c),e.preventDefault(),e.stopPropagation())}else e.which===ge.a.enter&&(n.setState({columnResizeDetails:{columnIndex:c,columnMinWidth:s[c].calculatedWidth}}),e.preventDefault(),e.stopPropagation())}},n._onSizerMouseMove=function(e){var t=e.buttons,r=n.props,i=r.onColumnIsSizingChanged,o=r.onColumnResized,a=r.columns,s=void 0===a?Ll:a,u=n.state.columnResizeDetails;if(void 0===t||1===t){if(e.clientX!==u.originX&&i&&i(s[u.columnIndex],!0),o){var l=e.clientX-u.originX;Object(C.a)()&&(l=-l),o(s[u.columnIndex],u.columnMinWidth+l,u.columnIndex)}}else n._onSizerMouseUp(e)},n._onSizerBlur=function(e){n.state.columnResizeDetails&&n.setState({columnResizeDetails:void 0,isSizing:!1})},n._onSizerMouseUp=function(e){var t=n.props,r=t.columns,i=void 0===r?Ll:r,o=t.onColumnIsSizingChanged,a=n.state.columnResizeDetails;n.setState({columnResizeDetails:void 0,isSizing:!1}),o&&o(i[a.columnIndex],!1)},n._onToggleCollapseAll=function(){var e=n.props.onToggleCollapseAll,t=!n.state.isAllCollapsed;n.setState({isAllCollapsed:t}),e&&e(t)},Object(Ee.a)(n),n._events=new ze.a(n);var r=t.columnReorderProps||t.columnReorderOptions&&zl(t.columnReorderOptions);return n.state={columnReorderProps:r,columnResizeDetails:void 0,groupNestingDepth:n.props.groupNestingDepth,isAllCollapsed:n.props.isAllCollapsed,isAllSelected:!!n.props.selection&&n.props.selection.isAllSelected()},n._onDropIndexInfo={sourceIndex:-1,targetIndex:-1},n._id=Object(Oe.c)("header"),n._currentDropHintIndex=-1,n}return m.c(t,e),t.getDerivedStateFromProps=function(e,t){var n={columnReorderProps:e.columnReorderProps||e.columnReorderOptions&&zl(e.columnReorderOptions),groupNestingDepth:e.groupNestingDepth};return void 0!==e.isAllCollapsed&&(n.isAllCollapsed=e.isAllCollapsed),n},t.prototype.componentDidMount=function(){var e=this.props.selection,t=this.state.columnReorderProps;this._events.on(e,ul,this._onSelectionChanged),this._events.on(this._rootElement,"mousedown",this._onRootMouseDown),this._events.on(this._rootElement,"keydown",this._onRootKeyDown),t&&this._dragDropHelper&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement,this._events,this._getHeaderDragDropOptions()))},t.prototype.componentDidUpdate=function(e){if(this.state.columnReorderProps?!this._subscriptionObject&&this._dragDropHelper&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement,this._events,this._getHeaderDragDropOptions())):this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this.props!==e&&this._onDropIndexInfo.sourceIndex>=0&&this._onDropIndexInfo.targetIndex>=0){var t=e.columns,n=void 0===t?Ll:t,r=this.props.columns,i=void 0===r?Ll:r;n[this._onDropIndexInfo.sourceIndex].key===i[this._onDropIndexInfo.targetIndex].key&&(this._onDropIndexInfo={sourceIndex:-1,targetIndex:-1})}},t.prototype.componentWillUnmount=function(){this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this._dragDropHelper&&this._dragDropHelper.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this,t=this.props,n=t.columns,r=void 0===n?Ll:n,i=t.ariaLabel,o=t.ariaLabelForToggleAllGroupsButton,a=t.ariaLabelForSelectAllCheckbox,s=t.selectAllVisibility,u=t.ariaLabelForSelectionColumn,l=t.indentWidth,c=t.rowWidth,d=void 0===c?0:c,f=t.onColumnClick,h=t.onColumnContextMenu,p=t.onRenderColumnHeaderTooltip,g=void 0===p?this._onRenderColumnHeaderTooltip:p,m=t.styles,b=t.theme,y=t.onRenderDetailsCheckbox,_=t.useFastIcons,x=this.state,S=x.isAllSelected,w=x.columnResizeDetails,k=x.isSizing,E=x.groupNestingDepth,O=x.isAllCollapsed,T=x.columnReorderProps,P=s!==Il.none,I=s===Il.hidden;!this._dragDropHelper&&T&&(this._dragDropHelper=new Al({selection:{getSelection:function(){}},minimumPixelsForDrag:this.props.minimumPixelsForDrag}));var D=T&&T.frozenColumnCountFromStart?T.frozenColumnCountFromStart:0,A=T&&T.frozenColumnCountFromEnd?T.frozenColumnCountFromEnd:0;this._classNames=Nl(m,{theme:b,isAllSelected:S,isSelectAllHidden:s===Il.hidden,isResizingColumn:!!w&&k,isSizing:k,isAllCollapsed:O,isCheckboxHidden:I});var M=this._classNames,j=_?H:K,R=Object(C.a)();return v.createElement(Le,{role:"row","aria-label":i,className:M.root,componentRef:this._rootComponent,ref:this._onRootRef,onMouseMove:this._onRootMouseMove,"data-automationid":"DetailsHeader",style:{minWidth:d},direction:le.horizontal},P?[v.createElement("div",{key:"__checkbox",className:M.cellIsCheck,"aria-labelledby":this._id+"-check",onClick:I?void 0:this._onSelectAllClicked,"aria-colindex":1,role:"columnheader"},g({hostClassName:M.checkTooltip,id:this._id+"-checkTooltip",setAriaDescribedBy:!1,content:a,children:v.createElement(Dl,{id:this._id+"-check","aria-label":u,"aria-describedby":I?u&&!this.props.onRenderColumnHeaderTooltip?this._id+"-checkTooltip":void 0:a&&!this.props.onRenderColumnHeaderTooltip?this._id+"-checkTooltip":void 0,"data-is-focusable":!I||void 0,isHeader:!0,selected:S,anySelected:!1,canSelect:!I,className:M.check,onRenderDetailsCheckbox:y,useFastIcons:_})},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:a&&!I?v.createElement("label",{key:"__checkboxLabel",id:this._id+"-checkTooltip",className:M.accessibleLabel,"aria-hidden":!0},a):u&&I?v.createElement("label",{key:"__checkboxLabel",id:this._id+"-checkTooltip",className:M.accessibleLabel,"aria-hidden":!0},u):null]:null,E>0&&this.props.collapseAllVisibility===dl.visible?v.createElement("div",{className:M.cellIsGroupExpander,onClick:this._onToggleCollapseAll,"data-is-focusable":!0,"aria-label":o,"aria-expanded":!O,role:o?"button":void 0},v.createElement(j,{className:M.collapseButton,iconName:R?"ChevronLeftMed":"ChevronRightMed"})):null,v.createElement(bl,{indentWidth:l,count:E-1}),r.map((function(t,n){var i=!!T&&(n>=D&&n<r.length-A);return[T&&(i||n===r.length-A)&&e._renderDropHint(n),v.createElement(Fl,{column:t,key:t.key,columnIndex:(P?2:1)+n,parentId:e._id,isDraggable:i,updateDragInfo:e._updateDragInfo,dragDropHelper:e._dragDropHelper,onColumnClick:f,onColumnContextMenu:h,onRenderColumnHeaderTooltip:e.props.onRenderColumnHeaderTooltip,isDropped:e._onDropIndexInfo.targetIndex===n,cellStyleProps:e.props.cellStyleProps,useFastIcons:_}),e._renderColumnDivider(n)]})),T&&0===A&&this._renderDropHint(r.length),k&&v.createElement(On,null,v.createElement("div",{className:M.sizingOverlay,onMouseMove:this._onSizerMouseMove,onMouseUp:this._onSizerMouseUp})))},t.prototype.focus=function(){return Boolean(this._rootComponent.current&&this._rootComponent.current.focus())},t.prototype._getHeaderDragDropOptions=function(){return{selectionIndex:1,context:{data:this,index:0},canDrag:function(){return!1},canDrop:function(){return!0},onDragStart:function(){},updateDropState:this._updateDroppingState,onDrop:this._onDrop,onDragEnd:function(){},onDragOver:this._onDragOver}},t.prototype._isValidCurrentDropHintIndex=function(){return this._currentDropHintIndex>=0},t.prototype._isCheckboxColumnHidden=function(){var e=this.props,t=e.selectionMode,n=e.checkboxVisibility;return t===qu.none||n===ml.hidden},t.prototype._resetDropHints=function(){this._currentDropHintIndex>=0&&(this._updateDropHintElement(this._dropHintDetails[this._currentDropHintIndex].dropHintElementRef,"none"),this._currentDropHintIndex=-1)},t.prototype._updateDropHintElement=function(e,t){e.childNodes[1].style.display=t,e.childNodes[0].style.display=t},t.prototype._liesBetween=function(e,t,n){return Object(C.a)()?e<=t&&e>=n:e>=t&&e<=n},t.prototype._isBefore=function(e,t){return Object(C.a)()?e>=t:e<=t},t.prototype._isAfter=function(e,t){return Object(C.a)()?e<=t:e>=t},t.prototype._isEventOnHeader=function(e){if(this._rootElement){var t=this._rootElement.getBoundingClientRect();if(e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom)return pl.header}},t.prototype._renderColumnDivider=function(e){var t=this.props.columns,n=(void 0===t?Ll:t)[e],r=n.onRenderDivider;return r?r({column:n,columnIndex:e},this._renderColumnSizer):this._renderColumnSizer({column:n,columnIndex:e})},t.prototype._renderDropHint=function(e){var t=this._classNames,n=this.props.useFastIcons?H:K;return v.createElement("div",{key:"dropHintKey",className:t.dropHintStyle,id:"columnDropHint_"+e},v.createElement(n,{key:"dropHintCircleKey","aria-hidden":!0,"data-is-focusable":!1,"data-sizer-index":e,className:t.dropHintCaretStyle,iconName:"CircleShapeSolid"}),v.createElement("div",{key:"dropHintLineKey","aria-hidden":!0,"data-is-focusable":!1,"data-sizer-index":e,className:t.dropHintLineStyle}))},t.prototype._onSizerDoubleClick=function(e,t){var n=this.props,r=n.onColumnAutoResized,i=n.columns;r&&r((void 0===i?Ll:i)[e],e)},t.prototype._onSelectionChanged=function(){var e=!!this.props.selection&&this.props.selection.isAllSelected();this.state.isAllSelected!==e&&this.setState({isAllSelected:e})},t.defaultProps={selectAllVisibility:Il.visible,collapseAllVisibility:dl.visible},t}(v.Component);function zl(e){return m.a({},e,{onColumnDragEnd:void 0})}function Ul(e){e.stopPropagation()}var Hl,Vl,Wl=Object(S.a)(Bl,(function(e){var t,n,r,i=e.theme,o=e.className,a=e.isSelectAllHidden,s=e.isAllSelected,u=e.isResizingColumn,l=e.isSizing,c=e.isAllCollapsed,d=e.cellStyleProps,f=void 0===d?_l:d,h=i.semanticColors,p=i.palette,g=Object(b.N)(wl,i),m={iconForegroundColor:h.bodySubtext,headerForegroundColor:h.bodyText,headerBackgroundColor:h.bodyBackground,dropdownChevronForegroundColor:p.neutralTertiary,resizerColor:p.neutralTertiaryAlt},v={opacity:1,transition:"opacity 0.3s linear"},y=Cl(e);return{root:[g.root,i.fonts.small,{display:"inline-block",background:m.headerBackgroundColor,position:"relative",minWidth:"100%",verticalAlign:"top",height:32,lineHeight:32,whiteSpace:"nowrap",boxSizing:"content-box",paddingBottom:"1px",paddingTop:"16px",borderBottom:"1px solid "+h.bodyDivider,cursor:"default",userSelect:"none",selectors:(t={"&:hover $check":{opacity:1}},t[g.tooltipHost+" $checkTooltip"]={display:"block"},t)},s&&g.isAllSelected,a&&{selectors:{$cell$cellIsCheck:{visibility:"hidden"}}},u&&g.isResizingColumn,o],check:{height:32,selectors:(n={},n["."+jn.a+" &:focus"]={opacity:1},n)},cellWrapperPadded:{paddingRight:f.cellExtraRightPadding+f.cellRightPadding},cellIsCheck:[y,g.cellIsCheck,{position:"relative",padding:0,margin:0,display:"inline-flex",alignItems:"center",border:"none"},s&&{opacity:1}],cellIsGroupExpander:[y,{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:b.h.small,padding:0,border:"none",width:32,color:p.neutralSecondary,selectors:{":hover":{backgroundColor:p.neutralLighter},":active":{backgroundColor:p.neutralLight}}}],cellIsActionable:{selectors:{":hover":{color:h.bodyText,background:h.listHeaderBackgroundHovered},":active":{background:h.listHeaderBackgroundPressed}}},cellIsEmpty:{textOverflow:"clip"},cellSizer:[g.cellSizer,Object(b.I)(),{display:"inline-block",position:"relative",cursor:"ew-resize",bottom:0,top:0,overflow:"hidden",height:"inherit",background:"transparent",zIndex:1,width:16,selectors:{":after":{content:'""',position:"absolute",top:0,bottom:0,width:1,background:m.resizerColor,opacity:0,left:"50%"},":focus:after":v,":hover:after":v,"&$cellIsResizing:after":[v,{boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.4)"}]}}],cellIsResizing:g.isResizing,cellSizerStart:{margin:"0 -8px"},cellSizerEnd:{margin:0,marginLeft:-16},collapseButton:[g.collapseButton,{transformOrigin:"50% 50%",transition:"transform .1s linear"},c?[g.isCollapsed,{transform:"rotate(0deg)"}]:{transform:"rotate(90deg)"}],checkTooltip:[],sizingOverlay:l&&{position:"absolute",left:0,top:0,right:0,bottom:0,cursor:"ew-resize",background:"rgba(255, 255, 255, 0)",selectors:(r={},r[b.j]={background:"transparent",MsHighContrastAdjust:"none"},r)},accessibleLabel:b.U,dropHintCircleStyle:[g.dropHintCircleStyle,{display:"inline-block",visibility:"hidden",position:"absolute",bottom:0,height:9,width:9,borderRadius:"50%",marginLeft:-5,top:34,overflow:"visible",zIndex:10,border:"1px solid "+p.themePrimary,background:p.white}],dropHintCaretStyle:[g.dropHintCaretStyle,{display:"none",position:"absolute",top:-23,left:-6.5,fontSize:14,color:p.themePrimary,overflow:"visible",zIndex:10}],dropHintLineStyle:[g.dropHintLineStyle,{display:"none",position:"absolute",bottom:0,top:0,overflow:"hidden",height:33,width:1,background:p.themePrimary,zIndex:10}],dropHintStyle:{display:"inline-block",position:"absolute"}}}),void 0,{scope:"DetailsHeader"}),Gl=function(e){function t(t){var n=e.call(this,t)||this;return n._cellValueKeys={},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.columns,n=e.columnStartIndex,r=e.shimmer,i=e.rowClassNames,o=e.cellStyleProps,a=void 0===o?_l:o,s=e.item,u=e.itemIndex,l=e.onRenderItemColumn,c=e.getCellValueKey,d=e.cellsByColumn,f=e.enableUpdateAnimations,h=this._cellValueKeys;return v.createElement("div",{className:i.fields,"data-automationid":"DetailsRowFields",role:"presentation"},t.map((function(e,t){var o="undefined"===typeof e.calculatedWidth?"auto":e.calculatedWidth+a.cellLeftPadding+a.cellRightPadding+(e.isPadded?a.cellExtraRightPadding:0),p=e.onRender,g=void 0===p?l:p,m=e.getValueKey,b=void 0===m?c:m,y=d&&e.key in d?d[e.key]:g&&!r?g(s,u,e):function(e,t){var n=e&&t&&t.fieldName?e[t.fieldName]:"";return null!==n&&void 0!==n||(n=""),n}(s,e),_=h[e.key],x=f&&b?b(s,u,e):void 0,S=!1;void 0!==x&&void 0!==_&&x!==_&&(S=!0),h[e.key]=x;var w=e.key+(void 0!==x?"-"+x:"");return v.createElement("div",{key:w,role:e.isRowHeader?"rowheader":"gridcell","aria-colindex":t+n+1,className:Object(z.a)(e.className,e.isMultiline&&i.isMultiline,e.isRowHeader&&i.isRowHeader,e.isIconOnly&&r&&i.shimmerIconPlaceholder,r&&i.shimmer,i.cell,e.isPadded?i.cellPadded:i.cellUnpadded,S&&i.cellAnimation),style:{width:o},"data-automationid":"DetailsRowCell","data-automation-key":e.key},y)})))},t}(v.PureComponent),Kl=Object(w.a)(),ql=[],Yl=function(e){function t(t){var n=e.call(this,t)||this;return n._cellMeasurer=v.createRef(),n._focusZone=v.createRef(),n._onSelectionChanged=function(){var e=n._getSelectionState(n.props);Object(Oe.f)(e,n.state.selectionState)||n.setState({selectionState:e})},n._onRootRef=function(e){n._root=e?cn.findDOMNode(e):void 0},n._updateDroppingState=function(e,t){var r=n.state,i=r.selectionState,o=r.isDropping,a=n.props,s=a.dragDropEvents,u=a.item;e?s.onDragEnter&&(n._droppingClassNames=s.onDragEnter(u,t)):s.onDragLeave&&s.onDragLeave(u,t),o!==e&&n.setState({selectionState:i,isDropping:e})},Object(Ee.a)(n),n._events=new ze.a(n),n.state={selectionState:n._getSelectionState(t),columnMeasureInfo:void 0,isDropping:!1,groupNestingDepth:t.groupNestingDepth},n._droppingClassNames="",n}return m.c(t,e),t.prototype.componentDidMount=function(){var e=this.props.dragDropHelper;e&&(this._dragDropSubscription=e.subscribe(this._root,this._events,this._getRowDragDropOptions())),this._events.on(this.props.selection,ul,this._onSelectionChanged),this.props.onDidMount&&this.props.item&&(this._hasMounted=!0,this.props.onDidMount(this))},t.prototype.componentDidUpdate=function(e){var t=this.state,n=this.props,r=n.item,i=n.onDidMount,o=t.columnMeasureInfo;if(this.props.itemIndex===e.itemIndex&&this.props.item===e.item&&this.props.dragDropHelper===e.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root,this._events,this._getRowDragDropOptions()))),o&&o.index>=0&&this._cellMeasurer.current){var a=this._cellMeasurer.current.getBoundingClientRect().width;o.onMeasureDone(a),this.setState({columnMeasureInfo:void 0})}r&&i&&!this._hasMounted&&(this._hasMounted=!0,i(this))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.item,n=e.onWillUnmount;n&&t&&n(this),this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._events.dispose()},t.prototype.componentWillReceiveProps=function(e){this.setState({selectionState:this._getSelectionState(e),groupNestingDepth:e.groupNestingDepth})},t.prototype.shouldComponentUpdate=function(e,t){if(this.props.useReducedRowRenderer){if(this.state.selectionState){var n=this._getSelectionState(e);if(this.state.selectionState.isSelected!==n.isSelected)return!0}return!Object(Oe.f)(this.props,e)}return!0},t.prototype.render=function(){var e=this.props,t=e.className,n=e.columns,r=void 0===n?ql:n,i=e.dragDropEvents,o=e.item,a=e.itemIndex,s=e.onRenderCheck,u=void 0===s?this._onRenderCheck:s,l=e.onRenderDetailsCheckbox,c=e.onRenderItemColumn,d=e.getCellValueKey,f=e.selectionMode,h=e.rowWidth,p=void 0===h?0:h,g=e.checkboxVisibility,b=e.getRowAriaLabel,y=e.getRowAriaDescribedBy,_=e.checkButtonAriaLabel,x=e.checkboxCellClassName,S=e.rowFieldsAs,w=void 0===S?Gl:S,C=e.selection,k=e.indentWidth,O=e.shimmer,T=e.enableUpdateAnimations,P=e.compact,I=e.theme,D=e.styles,A=e.cellsByColumn,M=e.useFastIcons,j=this.state,R=j.columnMeasureInfo,F=j.isDropping,N=j.groupNestingDepth,L=this.state.selectionState,B=L.isSelected,U=void 0!==B&&B,H=L.isSelectionModal,V=void 0!==H&&H,W=i?!(!i.canDrag||!i.canDrag(o)):void 0,G=F?this._droppingClassNames?this._droppingClassNames:"is-dropping":"",K=b?b(o):void 0,q=y?y(o):void 0,Y=!!C&&C.canSelectItem(o,a),X=f===qu.multiple,Z=f!==qu.none&&g!==ml.hidden,Q=f===qu.none?void 0:U;this._classNames=m.a({},this._classNames,Kl(D,{theme:I,isSelected:U,canSelect:!X,anySelected:V,checkboxCellClassName:x,droppingClassName:G,className:t,compact:P,enableUpdateAnimations:T}));var $={isMultiline:this._classNames.isMultiline,isRowHeader:this._classNames.isRowHeader,shimmerIconPlaceholder:this._classNames.shimmerIconPlaceholder,shimmer:this._classNames.shimmer,cell:this._classNames.cell,cellAnimation:this._classNames.cellAnimation,cellPadded:this._classNames.cellPadded,cellUnpadded:this._classNames.cellUnpadded,fields:this._classNames.fields};Object(Oe.f)(this._rowClassNames||{},$)||(this._rowClassNames=$);var J=v.createElement(w,{rowClassNames:this._rowClassNames,cellsByColumn:A,columns:r,item:o,itemIndex:a,columnStartIndex:Z?1:0,onRenderItemColumn:c,shimmer:O,getCellValueKey:d,enableUpdateAnimations:T});return O?v.createElement("div",{className:Object(z.a)(Z&&this._classNames.shimmerLeftBorder,!P&&this._classNames.shimmerBottomBorder)},J):v.createElement(Le,m.a({},Object(E.j)(this.props,E.h),"boolean"===typeof W?{"data-is-draggable":W,draggable:W}:{},{direction:le.horizontal,ref:this._onRootRef,componentRef:this._focusZone,role:"row","aria-label":K,"aria-describedby":q,className:this._classNames.root,"data-is-focusable":!0,"data-selection-index":a,"data-item-index":a,"aria-rowindex":a+1,"data-automationid":"DetailsRow",style:{minWidth:p},"aria-selected":Q,allowFocusRoot:!0}),Z&&v.createElement("div",{role:"gridcell","aria-colindex":1,"data-selection-toggle":!0,className:this._classNames.checkCell},u({selected:U,anySelected:V,"aria-label":_,canSelect:Y,compact:P,className:this._classNames.check,theme:I,isVisible:g===ml.always,onRenderDetailsCheckbox:l,useFastIcons:M})),v.createElement(bl,{indentWidth:k,count:N-(this.props.collapseAllVisibility===dl.hidden?1:0)}),o&&J,R&&v.createElement("span",{role:"presentation",className:Object(z.a)(this._classNames.cellMeasurer,this._classNames.cell),ref:this._cellMeasurer},v.createElement(w,{rowClassNames:this._rowClassNames,columns:[R.column],item:o,itemIndex:a,columnStartIndex:(Z?1:0)+r.length,onRenderItemColumn:c,getCellValueKey:d})),v.createElement("span",{role:"checkbox",className:this._classNames.checkCover,"aria-checked":U,"data-selection-toggle":!0}))},t.prototype.measureCell=function(e,t){var n=this.props.columns,r=void 0===n?ql:n,i=m.a({},r[e]);i.minWidth=0,i.maxWidth=999999,delete i.calculatedWidth,this.setState({columnMeasureInfo:{index:e,column:i,onMeasureDone:t}})},t.prototype.focus=function(e){return void 0===e&&(e=!1),!!this._focusZone.current&&this._focusZone.current.focus(e)},t.prototype._onRenderCheck=function(e){return v.createElement(Dl,m.a({},e))},t.prototype._getSelectionState=function(e){var t=e.itemIndex,n=e.selection;return{isSelected:!!n&&n.isIndexSelected(t),isSelectionModal:!!n&&!!n.isModal&&n.isModal()}},t.prototype._getRowDragDropOptions=function(){var e=this.props,t=e.item,n=e.itemIndex,r=e.dragDropEvents;return{eventMap:e.eventsToRegister,selectionIndex:n,context:{data:t,index:n},canDrag:r.canDrag,canDrop:r.canDrop,onDragStart:r.onDragStart,updateDropState:this._updateDroppingState,onDrop:r.onDrop,onDragEnd:r.onDragEnd}},t}(v.Component),Xl=Object(S.a)(Yl,(function(e){var t,n,r,i,o,a,s,u,l,c=e.theme,d=e.isSelected,f=e.canSelect,h=e.droppingClassName,p=e.anySelected,g=e.isCheckVisible,m=e.checkboxCellClassName,v=e.compact,y=e.className,_=e.cellStyleProps,x=void 0===_?_l:_,S=e.enableUpdateAnimations,w=c.palette,C=w.neutralPrimary,k=w.white,E=w.neutralSecondary,O=w.neutralLighter,T=w.neutralLight,P=w.neutralDark,I=w.neutralQuaternaryAlt,D=w.black,A=c.semanticColors.focusBorder,M=Object(b.N)(yl,c),j={defaultHeaderTextColor:C,defaultMetaTextColor:E,defaultBackgroundColor:k,hoverTextColor:C,hoverColorBackground:O,selectedTextColor:P,selectedMetaTextColor:C,selectedBackgroundColor:T,selectedHoverTextColor:D,selectedHoverMetaTextColor:P,selectedHoverBackgroundColor:I,focusHeaderTextColor:D,focusBackgroundColor:I,focusMetaTextColor:P},R=4*x.cellRightPadding+"px solid "+j.defaultBackgroundColor,F=x.cellLeftPadding+"px solid "+j.defaultBackgroundColor,N=[Object(b.M)(c,{inset:-1,borderColor:A,outlineColor:k}),M.isSelected,{color:j.selectedMetaTextColor,background:j.selectedBackgroundColor,borderBottom:"1px solid "+k,selectors:(t={"&:before":{position:"absolute",display:"block",top:-1,height:1,bottom:0,left:0,right:0,content:"",borderTop:"1px solid "+k},"&:hover":{background:j.selectedHoverBackgroundColor,selectors:(n={$cell:{color:j.selectedHoverMetaTextColor,selectors:(r={},r[b.j]={color:"HighlightText",selectors:{"> a":{color:"HighlightText"}}},r["&.$isRowHeader"]={color:j.selectedHoverTextColor,selectors:(i={},i[b.j]={color:"HighlightText"},i)},r)}},n[b.j]={background:"Highlight"},n)},"&:focus":{background:j.focusBackgroundColor,selectors:(o={$cell:{color:j.focusMetaTextColor,"&.$isRowHeader":{color:j.focusHeaderTextColor,selectors:(a={},a[b.j]={color:"HighlightText"},a)}}},o[b.j]={background:"Highlight"},o)}},t[b.j]={background:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none",selectors:{a:{color:"HighlightText"}}},t)}],L=[M.isContentUnselectable,{userSelect:"none",cursor:"default"}],B={minHeight:Sl.compactRowHeight,border:0},z={minHeight:Sl.compactRowHeight,paddingTop:Sl.compactRowVerticalPadding,paddingBottom:Sl.compactRowVerticalPadding,paddingLeft:x.cellLeftPadding+"px",selectors:(s={},s["&$shimmer"]={padding:0,borderLeft:F,borderRight:R,borderTop:Sl.compactRowShimmerVerticalBorder+"px solid "+j.defaultBackgroundColor,borderBottom:Sl.compactRowShimmerVerticalBorder+"px solid "+j.defaultBackgroundColor},s["&$shimmerIconPlaceholder"]={borderRight:x.cellRightPadding+"px solid "+j.defaultBackgroundColor,borderBottom:(Sl.compactRowHeight-Sl.rowShimmerIconPlaceholderHeight)/2+"px solid "+j.defaultBackgroundColor,borderTop:(Sl.compactRowHeight-Sl.rowShimmerIconPlaceholderHeight)/2+"px solid "+j.defaultBackgroundColor},s)},U=[Object(b.M)(c,{inset:-1}),M.cell,{display:"inline-block",position:"relative",boxSizing:"border-box",minHeight:Sl.rowHeight,verticalAlign:"top",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingTop:Sl.rowVerticalPadding,paddingBottom:Sl.rowVerticalPadding,paddingLeft:x.cellLeftPadding+"px",selectors:(u={"& > button":{maxWidth:"100%"}},u["[data-is-focusable='true']"]=Object(b.M)(c,{inset:-1,borderColor:E,outlineColor:k}),u["&$shimmer"]={padding:0,borderLeft:F,borderRight:R,borderTop:Sl.rowShimmerVerticalBorder+"px solid "+j.defaultBackgroundColor,borderBottom:Sl.rowShimmerVerticalBorder+"px solid "+j.defaultBackgroundColor},u["&$shimmerIconPlaceholder"]={borderRight:x.cellRightPadding+"px solid "+j.defaultBackgroundColor,borderBottom:(Sl.rowHeight-Sl.rowShimmerIconPlaceholderHeight)/2+"px solid "+j.defaultBackgroundColor,borderTop:(Sl.rowHeight-Sl.rowShimmerIconPlaceholderHeight)/2+"px solid "+j.defaultBackgroundColor},u)},v&&z];return{root:[M.root,b.a.fadeIn400,h,c.fonts.small,g&&M.isCheckVisible,Object(b.M)(c,{borderColor:A,outlineColor:k}),{borderBottom:"1px solid "+O,background:j.defaultBackgroundColor,color:j.defaultMetaTextColor,display:"inline-flex",minWidth:"100%",minHeight:Sl.rowHeight,whiteSpace:"nowrap",padding:0,boxSizing:"border-box",verticalAlign:"top",textAlign:"left",selectors:(l={},l[M.listCellFirstChild+" &:before"]={display:"none"},l["&:hover"]={background:j.hoverColorBackground},l["&:hover $check"]={opacity:1},l)},d&&N,!f&&L,v&&B,y],cellUnpadded:{paddingRight:x.cellRightPadding+"px"},cellPadded:{paddingRight:x.cellExtraRightPadding+x.cellRightPadding+"px",selectors:{"&.$checkCell":{paddingRight:0}}},cell:U,cellAnimation:S&&b.b.slideLeftIn40,cellMeasurer:[M.cellMeasurer,{overflow:"visible",whiteSpace:"nowrap"}],checkCell:[U,M.cellCheck,m,{padding:0,paddingTop:1,marginTop:-1,flexShrink:0}],checkCover:{position:"absolute",top:-1,left:0,bottom:0,right:0,display:p?"block":"none"},fields:[M.fields,{display:"flex",alignItems:"stretch"}],isRowHeader:[{color:j.defaultHeaderTextColor,fontSize:b.h.medium}],isMultiline:[U,{whiteSpace:"normal",wordBreak:"break-word",textOverflow:"clip"}],shimmer:[],shimmerIconPlaceholder:[],shimmerLeftBorder:[{borderLeft:"40px solid "+j.defaultBackgroundColor}],shimmerBottomBorder:[{borderBottom:"1px solid "+j.defaultBackgroundColor}],check:[]}}),void 0,{scope:"DetailsRow"}),Zl={root:"ms-GroupedList",compact:"ms-GroupedList--Compact",group:"ms-GroupedList-group",link:"ms-Link",listCell:"ms-List-cell"},Ql="cubic-bezier(0.445, 0.050, 0.550, 0.950)",$l={root:"ms-GroupHeader",compact:"ms-GroupHeader--compact",check:"ms-GroupHeader-check",dropIcon:"ms-GroupHeader-dropIcon",expand:"ms-GroupHeader-expand",isCollapsed:"is-collapsed",title:"ms-GroupHeader-title",isSelected:"is-selected",iconTag:"ms-Icon--Tag",group:"ms-GroupedList-group",isDropping:"is-dropping"},Jl="cubic-bezier(0.075, 0.820, 0.165, 1.000)",ec="cubic-bezier(0.390, 0.575, 0.565, 1.000)",tc="cubic-bezier(0.600, -0.280, 0.735, 0.045)";!function(e){e[e.xSmall=0]="xSmall",e[e.small=1]="small",e[e.medium=2]="medium",e[e.large=3]="large"}(Hl||(Hl={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(Vl||(Vl={}));var nc=Object(w.a)(),rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.size,r=e.ariaLabel,i=e.ariaLive,o=e.styles,a=e.label,s=e.theme,u=e.className,l=e.labelPosition,c=r,d=Object(E.j)(this.props,E.h,["size"]),f=n;void 0===f&&void 0!==t&&(f=t===Vl.large?Hl.large:Hl.medium);var h=nc(o,{theme:s,size:f,className:u,labelPosition:l});return v.createElement("div",m.a({},d,{className:h.root}),v.createElement("div",{className:h.circle}),a&&v.createElement("div",{className:h.label},a),c&&v.createElement("div",{role:"status","aria-live":i},v.createElement(be.a,null,v.createElement("div",{className:h.screenReaderText},c))))},t.defaultProps={size:Hl.medium,ariaLive:"polite",labelPosition:"bottom"},t}(O.a),ic={root:"ms-Spinner",circle:"ms-Spinner-circle",label:"ms-Spinner-label"},oc=Object(b.V)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ac=Object(S.a)(rc,(function(e){var t,n=e.theme,r=e.size,i=e.className,o=e.labelPosition,a=n.palette,s=Object(b.N)(ic,n);return{root:[s.root,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"top"===o&&{flexDirection:"column-reverse"},"right"===o&&{flexDirection:"row"},"left"===o&&{flexDirection:"row-reverse"},i],circle:[s.circle,{boxSizing:"border-box",borderRadius:"50%",border:"1.5px solid "+a.themeLight,borderTopColor:a.themePrimary,animationName:oc,animationDuration:"1.3s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.53,.21,.29,.67)",selectors:(t={},t[b.j]={borderTopColor:"Highlight"},t)},r===Hl.xSmall&&["ms-Spinner--xSmall",{width:12,height:12}],r===Hl.small&&["ms-Spinner--small",{width:16,height:16}],r===Hl.medium&&["ms-Spinner--medium",{width:20,height:20}],r===Hl.large&&["ms-Spinner--large",{width:28,height:28}]],label:[s.label,{color:a.themePrimary,margin:"10px 0 0",textAlign:"center"},"top"===o&&{margin:"0 0 10px"},"right"===o&&{margin:"0 0 0 10px"},"left"===o&&{margin:"0 10px 0 0"}],screenReaderText:b.U}}),void 0,{scope:"Spinner"}),sc=Object(w.a)(),uc=function(e){function t(t){var n=e.call(this,t)||this;return n._onToggleCollapse=function(e){var t=n.props,r=t.group,i=t.onToggleCollapse,o=t.isGroupLoading,a=!n.state.isCollapsed,s=!a&&o&&o(r);n.setState({isCollapsed:a,isLoadingVisible:s}),i&&i(r),e.stopPropagation(),e.preventDefault()},n._onToggleSelectGroupClick=function(e){var t=n.props,r=t.onToggleSelectGroup,i=t.group;r&&r(i),e.preventDefault(),e.stopPropagation()},n._onHeaderClick=function(){var e=n.props,t=e.group,r=e.onGroupHeaderClick,i=e.onToggleSelectGroup;r?r(t):i&&i(t)},n._onRenderTitle=function(e){var t=e.group;return t?v.createElement("div",{className:n._classNames.title},v.createElement("span",null,t.name),v.createElement("span",{className:n._classNames.headerCount},"(",t.count,t.hasMoreData&&"+",")")):null},n.state={isCollapsed:n.props.group&&n.props.group.isCollapsed,isLoadingVisible:!1},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){if(e.group){var t=e.group.isCollapsed,n=e.isGroupLoading,r=!t&&n&&n(e.group);this.setState({isCollapsed:t||!1,isLoadingVisible:r||!1})}},t.prototype.render=function(){var e=this.props,t=e.group,n=e.groupLevel,r=e.viewport,i=e.selectionMode,o=e.loadingText,a=e.isSelected,s=void 0!==a&&a,u=e.selected,l=void 0!==u&&u,c=e.indentWidth,d=e.onRenderTitle,f=void 0===d?this._onRenderTitle:d,h=e.isCollapsedGroupSelectVisible,p=void 0===h||h,g=e.expandButtonProps,b=e.selectAllButtonProps,y=e.theme,_=e.styles,x=e.className,S=e.groupedListId,w=e.compact,k=this.state,E=k.isCollapsed,O=k.isLoadingVisible,T=i===qu.multiple&&(p||!(t&&t.isCollapsed)),P=s||l,I=Object(C.a)();return this._classNames=sc(_,{theme:y,className:x,selected:P,isCollapsed:E,compact:w}),t?v.createElement("div",{className:this._classNames.root,style:r?{minWidth:r.width}:{},onClick:this._onHeaderClick,"aria-label":t.ariaLabel||t.name,"data-is-focusable":!0},v.createElement(Le,{className:this._classNames.groupHeaderContainer,direction:le.horizontal},T?v.createElement("button",m.a({type:"button",className:this._classNames.check,role:"checkbox","aria-checked":P,"data-selection-toggle":!0,onClick:this._onToggleSelectGroupClick},b),v.createElement(Aa,{checked:P})):i!==qu.none&&v.createElement(bl,{indentWidth:c,count:1}),v.createElement(bl,{indentWidth:c,count:n}),v.createElement("div",{className:this._classNames.dropIcon},v.createElement(K,{iconName:"Tag"})),v.createElement("button",m.a({type:"button",className:this._classNames.expand,onClick:this._onToggleCollapse,"aria-expanded":t?!t.isCollapsed:void 0,"aria-controls":t&&!t.isCollapsed?S:void 0},g),v.createElement(K,{className:this._classNames.expandIsCollapsed,iconName:I?"ChevronLeftMed":"ChevronRightMed"})),f(this.props,this._onRenderTitle),O&&v.createElement(ac,{label:o}))):null},t.defaultProps={expandButtonProps:{"aria-label":"expand collapse group"}},t}(v.Component),lc=Object(S.a)(uc,(function(e){var t,n,r=e.theme,i=e.className,o=e.selected,a=e.isCollapsed,s=e.compact,u=_l.cellLeftPadding,l=s?xl.compactRowHeight:xl.rowHeight,c=r.semanticColors,d=r.palette,f=Object(b.N)($l,r),h=[Object(b.M)(r),{cursor:"default",background:"none",backgroundColor:"transparent",border:"none",padding:0}];return{root:[f.root,Object(b.M)(r),r.fonts.medium,{borderBottom:"1px solid "+c.listBackground,cursor:"default",userSelect:"none",selectors:(t={":hover":{background:c.listItemBackgroundHovered},":hover $check":{opacity:1},":focus $check":{opacity:1}},t[":global(."+f.group+"."+f.isDropping+")"]={selectors:{"> $root $dropIcon":{transition:"transform "+b.c.durationValue4+" "+Jl+" opacity "+b.c.durationValue1+" "+ec,transitionDelay:b.c.durationValue3,opacity:1,transform:"rotate(0.2deg) scale(1);"},$check:{opacity:0}}},t)},o&&[f.isSelected,{background:c.listItemBackgroundChecked,selectors:{":hover":{background:c.listItemBackgroundCheckedHovered},$check:{opacity:1}}}],s&&[f.compact,{border:"none"}],i],groupHeaderContainer:[{display:"flex",alignItems:"center",height:l}],headerCount:[{padding:"0px 4px"}],check:[f.check,h,{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:1,marginTop:-1,opacity:0,width:"40px",height:l,selectors:{":focus":{opacity:1}}}],expand:[f.expand,h,{display:"flex",alignItems:"center",justifyContent:"center",fontSize:s?b.h.mediumPlus:18,width:32,height:l,color:o?d.neutralPrimary:d.neutralSecondary,selectors:{":hover":{backgroundColor:o?d.neutralQuaternary:d.neutralLight},":active":{backgroundColor:o?d.neutralTertiaryAlt:d.neutralQuaternaryAlt}}}],expandIsCollapsed:[a?[f.isCollapsed,{transform:"rotate(0deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}]:{transform:"rotate(90deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}],title:[f.title,{paddingLeft:u,fontSize:s?b.h.large:b.h.xLarge,fontWeight:b.i.semilight,cursor:"pointer",outline:0,whiteSpace:"nowrap",textOverflow:"ellipsis"}],dropIcon:[f.dropIcon,{position:"absolute",left:-26,fontSize:b.m.large,color:d.neutralSecondary,transition:"transform "+b.c.durationValue2+" "+tc+", opacity "+b.c.durationValue4+" "+ec,opacity:0,transform:"rotate(0.2deg) scale(0.65)",transformOrigin:"10px 10px",selectors:(n={},n[":global(."+f.iconTag+")"]={position:"absolute"},n)}]}}),void 0,{scope:"GroupHeader"}),cc={root:"ms-GroupShowAll",link:"ms-Link"},dc=Object(w.a)(),fc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSummarizeClick=function(e){t.props.onToggleSummarize(t.props.group),e.stopPropagation(),e.preventDefault()},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.group,n=e.groupLevel,r=e.showAllLinkText,i=e.styles,o=e.theme,a=dc(i,{theme:o});return t?v.createElement("div",{className:a.root},v.createElement(bl,{count:n}),v.createElement(Qe,{onClick:this._onSummarizeClick},r)):null},t.defaultProps={showAllLinkText:"Show All"},t}(O.a),hc=Object(S.a)(fc,(function(e){var t,n=e.theme,r=Object(b.N)(cc,n);return{root:[r.root,n.fonts.medium,{position:"relative",padding:"10px 84px",cursor:"pointer",selectors:(t={},t["."+r.link]={fontSize:b.h.small},t)}]}}),void 0,{scope:"GroupShowAll"}),pc={root:"ms-groupFooter"},gc=Object(w.a)(),mc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.group,n=e.groupLevel,r=e.footerText,i=e.indentWidth,o=e.styles,a=e.theme,s=gc(o,{theme:a});return t&&r?v.createElement("div",{className:s.root},v.createElement(bl,{indentWidth:i,count:n}),r):null},t}(v.Component),vc=Object(S.a)(mc,(function(e){var t=e.theme,n=e.className,r=Object(b.N)(pc,t);return{root:[t.fonts.medium,r.root,{position:"relative",padding:"5px 38px"},n]}}),void 0,{scope:"GroupFooter"}),bc=function(e){function t(n){var r=e.call(this,n)||this;r._root=v.createRef(),r._list=v.createRef(),r._onRenderGroupHeader=function(e){return v.createElement(lc,m.a({},e))},r._onRenderGroupShowAll=function(e){return v.createElement(hc,m.a({},e))},r._onRenderGroupFooter=function(e){return v.createElement(vc,m.a({},e))},r._renderSubGroup=function(e,n){var i=r.props,o=i.dragDropEvents,a=i.dragDropHelper,s=i.eventsToRegister,u=i.getGroupItemLimit,l=i.groupNestingDepth,c=i.groupProps,d=i.items,f=i.headerProps,h=i.showAllProps,p=i.footerProps,g=i.listProps,m=i.onRenderCell,b=i.selection,y=i.selectionMode,_=i.viewport,x=i.onRenderGroupHeader,S=i.onRenderGroupShowAll,w=i.onRenderGroupFooter,C=i.onShouldVirtualize,k=i.group,E=i.compact;return!e||e.count>0||c&&c.showEmptyGroups?v.createElement(t,{ref:"subGroup_"+n,key:r._getGroupKey(e,n),dragDropEvents:o,dragDropHelper:a,eventsToRegister:s,footerProps:p,getGroupItemLimit:u,group:e,groupIndex:n,groupNestingDepth:l,groupProps:c,headerProps:f,items:d,listProps:g,onRenderCell:m,selection:b,selectionMode:y,showAllProps:h,viewport:_,onRenderGroupHeader:x,onRenderGroupShowAll:S,onRenderGroupFooter:w,onShouldVirtualize:C,groups:k.children,compact:E}):null},r._getGroupDragDropOptions=function(){var e=r.props,t=e.group,n=e.groupIndex,i=e.dragDropEvents;return{eventMap:e.eventsToRegister,selectionIndex:-1,context:{data:t,index:n,isGroup:!0},canDrag:function(){return!1},canDrop:i.canDrop,updateDropState:r._updateDroppingState}},r._updateDroppingState=function(e,t){var n=r.state.isDropping,i=r.props.dragDropEvents;n?i&&i.onDragEnter&&i.onDragEnter(t,void 0):i&&i.onDragLeave&&i.onDragLeave(t,void 0),n!==e&&r.setState({isDropping:e})};var i=n.selection,o=n.group;return r._id=Object(Oe.c)("GroupedListSection"),r.state={isDropping:!1,isSelected:!(!i||!o)&&i.isRangeSelected(o.startIndex,o.count)},r}return m.c(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.dragDropHelper,n=e.selection;t&&this._root.current&&(this._dragDropSubscription=t.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())),n&&this._events.on(n,ul,this._onSelectionChange)},t.prototype.componentWillUnmount=function(){this._dragDropSubscription&&this._dragDropSubscription.dispose()},t.prototype.componentDidUpdate=function(e){this.props.group===e.group&&this.props.groupIndex===e.groupIndex&&this.props.dragDropHelper===e.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())))},t.prototype.render=function(){var e=this.props,t=e.getGroupItemLimit,n=e.group,r=e.groupIndex,i=e.headerProps,o=e.showAllProps,a=e.footerProps,s=e.viewport,u=e.selectionMode,l=e.onRenderGroupHeader,c=void 0===l?this._onRenderGroupHeader:l,d=e.onRenderGroupShowAll,f=void 0===d?this._onRenderGroupShowAll:d,h=e.onRenderGroupFooter,p=void 0===h?this._onRenderGroupFooter:h,g=e.onShouldVirtualize,b=e.groupedListClassNames,y=e.groups,_=e.compact,x=this.state.isSelected,S=n&&t?t(n):1/0,w=n&&!n.children&&!n.isCollapsed&&!n.isShowingAll&&(n.count>S||n.hasMoreData),C=n&&n.children&&n.children.length>0,k={group:n,groupIndex:r,groupLevel:n?n.level:0,isSelected:x,viewport:s,selectionMode:u,groups:y,compact:_},E={groupedListId:this._id},O=m.a({},i,k,E),T=m.a({},o,k),P=m.a({},a,k);return v.createElement("div",{ref:this._root,className:Object(z.a)(b&&b.group,this._getDroppingClassName()),role:"presentation"},c(O,this._onRenderGroupHeader),n&&n.isCollapsed?null:C?v.createElement(Gu,{role:"presentation",ref:this._list,items:n.children,onRenderCell:this._renderSubGroup,getItemCountForPage:this._returnOne,onShouldVirtualize:g,id:this._id}):this._onRenderGroup(S),n&&n.isCollapsed?null:w&&f(T,this._onRenderGroupShowAll),p(P,this._onRenderGroupFooter))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this.forceListUpdate()},t.prototype.forceListUpdate=function(){var e=this.props.group;if(this._list.current){if(this._list.current.forceUpdate(),e&&e.children&&e.children.length>0)for(var t=e.children.length,n=0;n<t;n++){var r;(r=this._list.current.refs["subGroup_"+String(n)])&&r.forceListUpdate()}}else(r=this.refs["subGroup_"+String(0)])&&r.forceListUpdate()},t.prototype._onSelectionChange=function(){var e=this.props,t=e.group,n=e.selection.isRangeSelected(t.startIndex,t.count);n!==this.state.isSelected&&this.setState({isSelected:n})},t.prototype._onRenderGroupCell=function(e,t){return function(n,r){return e(t,n,r)}},t.prototype._onRenderGroup=function(e){var t=this.props,n=t.group,r=t.items,i=t.onRenderCell,o=t.listProps,a=t.groupNestingDepth,s=t.onShouldVirtualize,u=n&&!n.isShowingAll?n.count:r.length,l=n?n.startIndex:0;return v.createElement(Gu,m.a({role:"grid",items:r,onRenderCell:this._onRenderGroupCell(i,a),ref:this._list,renderCount:Math.min(u,e),startIndex:l,onShouldVirtualize:s,id:this._id},o))},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(e,t){return"group-"+(e&&e.key?e.key:String(e.level)+String(t))},t.prototype._getDroppingClassName=function(){var e=this.state.isDropping,t=this.props,n=t.group,r=t.groupedListClassNames;return e=!(!n||!e),Object(z.a)(e&&"is-dropping",e&&r&&r.groupIsDropping)},t}(O.a),yc=Object(w.a)(),_c=xl.rowHeight,xc=xl.compactRowHeight,Sc=function(e){function t(t){var n=e.call(this,t)||this;return n._list=v.createRef(),n._renderGroup=function(e,t){var r=n.props,i=r.dragDropEvents,o=r.dragDropHelper,a=r.eventsToRegister,s=r.groupProps,u=r.items,l=r.listProps,c=r.onRenderCell,d=r.selectionMode,f=r.selection,h=r.viewport,p=r.onShouldVirtualize,g=r.groups,b=r.compact,y={onToggleSelectGroup:n._onToggleSelectGroup,onToggleCollapse:n._onToggleCollapse,onToggleSummarize:n._onToggleSummarize},_=m.a({},s.headerProps,y),x=m.a({},s.showAllProps,y),S=m.a({},s.footerProps,y),w=n._getGroupNestingDepth();return!s.showEmptyGroups&&e&&0===e.count?null:v.createElement(bc,{ref:"group_"+t,key:n._getGroupKey(e,t),dragDropEvents:i,dragDropHelper:o,eventsToRegister:a,footerProps:S,getGroupItemLimit:s&&s.getGroupItemLimit,group:e,groupIndex:t,groupNestingDepth:w,groupProps:s,headerProps:_,listProps:l,items:u,onRenderCell:c,onRenderGroupHeader:s.onRenderHeader,onRenderGroupShowAll:s.onRenderShowAll,onRenderGroupFooter:s.onRenderFooter,selectionMode:d,selection:f,showAllProps:x,viewport:h,onShouldVirtualize:p,groupedListClassNames:n._classNames,groups:g,compact:b})},n._getDefaultGroupItemLimit=function(e){return e.count},n._getGroupItemLimit=function(e){var t=n.props.groupProps;return(t&&t.getGroupItemLimit?t.getGroupItemLimit:n._getDefaultGroupItemLimit)(e)},n._getGroupHeight=function(e){var t=n.props.compact?xc:_c;return t+(e.isCollapsed?0:t*n._getGroupItemLimit(e))},n._getPageHeight=function(e){var t=n.state.groups,r=n.props.getGroupHeight,i=void 0===r?n._getGroupHeight:r,o=t&&t[e];return o?i(o,e):0},n._onToggleCollapse=function(e){var t=n.props.groupProps,r=t&&t.headerProps&&t.headerProps.onToggleCollapse;e&&(r&&r(e),e.isCollapsed=!e.isCollapsed,n._updateIsSomeGroupExpanded(),n.forceUpdate())},n._onToggleSelectGroup=function(e){e&&n.props.selection.toggleRangeSelected(e.startIndex,e.count)},n._onToggleSummarize=function(e){var t=n.props.groupProps,r=t&&t.showAllProps&&t.showAllProps.onToggleSummarize;r?r(e):(e&&(e.isShowingAll=!e.isShowingAll),n.forceUpdate())},n._getPageSpecification=function(e){var t=n.state.groups,r=t&&t[e];return{key:r&&r.key}},n._isSomeGroupExpanded=n._computeIsSomeGroupExpanded(t.groups),n.state={lastWidth:0,groups:t.groups},n}return m.c(t,e),t.prototype.scrollToIndex=function(e,t,n){this._list.current&&this._list.current.scrollToIndex(e,t,n)},t.prototype.getStartItemIndexInView=function(){return this._list.current.getStartItemIndexInView()||0},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.groups,r=t.selectionMode,i=t.compact,o=!1;e.groups!==n&&(this.setState({groups:e.groups}),o=!0),e.selectionMode===r&&e.compact===i||(o=!0),o&&this._forceListUpdates()},t.prototype.componentDidMount=function(){var e=this.props,t=e.groupProps,n=e.groups,r=void 0===n?[]:n;t&&t.isAllGroupsCollapsed&&this._setGroupsCollapsedState(r,t.isAllGroupsCollapsed)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.usePageCache,r=e.onShouldVirtualize,i=e.theme,o=e.styles,a=e.compact,s=this.state.groups;return this._classNames=yc(o,{theme:i,className:t,compact:a}),v.createElement("div",{className:this._classNames.root,"data-automationid":"GroupedList","data-is-scrollable":"false",role:"presentation"},s?v.createElement(Gu,{ref:this._list,role:"presentation",items:s,onRenderCell:this._renderGroup,getItemCountForPage:this._returnOne,getPageHeight:this._getPageHeight,getPageSpecification:this._getPageSpecification,usePageCache:n,onShouldVirtualize:r}):this._renderGroup(void 0,0))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},t.prototype.toggleCollapseAll=function(e){var t=this.state.groups,n=void 0===t?[]:t,r=this.props.groupProps,i=r&&r.onToggleCollapseAll;n.length>0&&(i&&i(e),this._setGroupsCollapsedState(n,e),this._updateIsSomeGroupExpanded(),this.forceUpdate())},t.prototype._setGroupsCollapsedState=function(e,t){for(var n=0;n<e.length;n++)e[n].isCollapsed=t},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(e,t){return"group-"+(e&&e.key?e.key:String(t))},t.prototype._getGroupNestingDepth=function(){for(var e=0,t=this.state.groups;t&&t.length>0;)e++,t=t[0].children;return e},t.prototype._forceListUpdates=function(e){var t=(e=e||this.state.groups)?e.length:1;if(this._list.current){this._list.current.forceUpdate();for(var n=0;n<t;n++){(r=this._list.current.refs["group_"+String(n)])&&r.forceListUpdate()}}else{var r;(r=this.refs["group_"+String(0)])&&r.forceListUpdate()}},t.prototype._computeIsSomeGroupExpanded=function(e){var t=this;return!(!e||!e.some((function(e){return e.children?t._computeIsSomeGroupExpanded(e.children):!e.isCollapsed})))},t.prototype._updateIsSomeGroupExpanded=function(){var e=this.state.groups,t=this.props.onGroupExpandStateChanged,n=this._computeIsSomeGroupExpanded(e);this._isSomeGroupExpanded!==n&&(t&&t(n),this._isSomeGroupExpanded=n)},t.defaultProps={selectionMode:qu.multiple,isHeaderVisible:!0,groupProps:{},compact:!1},t}(O.a),wc=Object(S.a)(Sc,(function(e){var t,n,r=e.theme,i=e.className,o=e.compact,a=r.palette,s=Object(b.N)(Zl,r);return{root:[s.root,r.fonts.medium,{position:"relative",fontSize:b.h.small,selectors:(t={},t["."+s.listCell]={minHeight:38},t)},o&&[s.compact,{selectors:(n={},n["."+s.listCell]={minHeight:32},n)}],i],group:[s.group,{transition:"background-color "+b.c.durationValue2+" "+Ql}],groupIsDropping:[{backgroundColor:a.neutralLight}]}}),void 0,{scope:"GroupedList"}),Cc=n(124);function kc(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._root=v.createRef(),n._registerResizeObserver=function(){var e=Object(F.a)();n._viewportResizeObserver=new e.ResizeObserver(n._onAsyncResize),n._viewportResizeObserver.observe(n._root.current)},n._unregisterResizeObserver=function(){n._viewportResizeObserver&&(n._viewportResizeObserver.disconnect(),n._viewportResizeObserver=null)},n._updateViewport=function(e){var t=n.state.viewport,r=n._root.current,i=Object(gt.e)(r),o=Object(Cc.a)(i),a=Object(Cc.a)(r);((a&&a.width)!==t.width||(o&&o.height)!==t.height)&&n._resizeAttempts<3&&a&&o?(n._resizeAttempts++,n.setState({viewport:{width:a.width,height:o.height}},(function(){n._updateViewport(e)}))):(n._resizeAttempts=0,e&&n._composedComponentInstance&&n._composedComponentInstance.forceUpdate())},n._resizeAttempts=0,n.state={viewport:{width:0,height:0}},n}return m.c(n,t),n.prototype.componentDidMount=function(){var e=this.props.skipViewportMeasures,t=Object(F.a)();this._onAsyncResize=this._async.debounce(this._onAsyncResize,500,{leading:!1}),!e&&this._isResizeObserverAvailable()?this._registerResizeObserver():this._events.on(t,"resize",this._onAsyncResize),e||this._updateViewport()},n.prototype.componentDidUpdate=function(e){var t=this.props.skipViewportMeasures,n=e.skipViewportMeasures,r=Object(F.a)();t!==n&&(n?(this._unregisterResizeObserver(),this._events.on(r,"resize",this._onAsyncResize)):!n&&this._isResizeObserverAvailable()&&(this._events.off(r,"resize",this._onAsyncResize),this._registerResizeObserver())),n&&this._updateViewport()},n.prototype.componentWillUnmount=function(){this._events.dispose(),this._viewportResizeObserver&&this._viewportResizeObserver.disconnect()},n.prototype.render=function(){var t=this.state.viewport,n=t.width>0&&t.height>0?t:void 0;return v.createElement("div",{className:"ms-Viewport",ref:this._root,style:{minWidth:1,minHeight:1}},v.createElement(e,m.a({ref:this._updateComposedComponentRef,viewport:n},this.props)))},n.prototype.forceUpdate=function(){this._updateViewport(!0)},n.prototype._onAsyncResize=function(){this._updateViewport()},n.prototype._isResizeObserverAvailable=function(){var e=Object(F.a)();return e&&e.ResizeObserver},n}(at)}var Ec=Object(w.a)(),Oc=new Array(10),Tc=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._header=v.createRef(),n._groupedList=v.createRef(),n._list=v.createRef(),n._focusZone=v.createRef(),n._selectionZone=v.createRef(),n._sumColumnWidths=Object(y.b)((function(e){var t=0;return e.forEach((function(e){return t+=e.calculatedWidth||e.minWidth})),t})),n._onRenderRow=function(e,t){return v.createElement(Xl,m.a({},e))},n._onRenderDetailsHeader=function(e,t){return v.createElement(Wl,m.a({},e))},n._onRenderDetailsFooter=function(e,t){return null},n._onRenderListCell=function(e){return function(t,r){return n._onRenderCell(e,t,r)}},n._onRenderCell=function(e,t,r){var i=n.props,o=i.compact,a=i.dragDropEvents,s=i.rowElementEventMap,u=i.onRenderMissingItem,l=i.onRenderItemColumn,c=i.getCellValueKey,d=i.onRenderRow,f=void 0===d?n._onRenderRow:d,h=i.selectionMode,p=void 0===h?n._selection.mode:h,g=i.viewport,m=i.checkboxVisibility,v=i.getRowAriaLabel,b=i.getRowAriaDescribedBy,y=i.checkButtonAriaLabel,_=i.checkboxCellClassName,x=i.groupProps,S=i.useReducedRowRenderer,w=i.indentWidth,C=i.cellStyleProps,k=void 0===C?_l:C,E=i.onRenderCheckbox,O=i.enableUpdateAnimations,T=i.useFastIcons,P=x&&x.collapseAllVisibility,I=n._selection,D=n._dragDropHelper,A=n.state.adjustedColumns,M={item:t,itemIndex:r,compact:o,columns:A,groupNestingDepth:e,selectionMode:p,selection:I,onDidMount:n._onRowDidMount,onWillUnmount:n._onRowWillUnmount,onRenderItemColumn:l,getCellValueKey:c,eventsToRegister:s,dragDropEvents:a,dragDropHelper:D,viewport:g,checkboxVisibility:m,collapseAllVisibility:P,getRowAriaLabel:v,getRowAriaDescribedBy:b,checkButtonAriaLabel:y,checkboxCellClassName:_,useReducedRowRenderer:S,indentWidth:w,cellStyleProps:k,onRenderDetailsCheckbox:E,enableUpdateAnimations:O,rowWidth:n._sumColumnWidths(A),useFastIcons:T};return t?f(M,n._onRenderRow):u?u(r,M):null},n._onGroupExpandStateChanged=function(e){n.setState({isSomeGroupExpanded:e})},n._onColumnIsSizingChanged=function(e,t){n.setState({isSizing:t})},n._onHeaderKeyDown=function(e){e.which===ge.a.down&&n._focusZone.current&&n._focusZone.current.focus()&&(0===n._selection.getSelectedIndices().length&&n._selection.setIndexSelected(0,!0,!1),e.preventDefault(),e.stopPropagation())},n._onContentKeyDown=function(e){e.which!==ge.a.up||e.altKey||n._header.current&&n._header.current.focus()&&(e.preventDefault(),e.stopPropagation())},n._onRowDidMount=function(e){var t=e.props,r=t.item,i=t.itemIndex,o=n._getItemKey(r,i);n._activeRows[o]=e,n._setFocusToRowIfPending(e);var a=n.props.onRowDidMount;a&&a(r,i)},n._onRowWillUnmount=function(e){var t=n.props.onRowWillUnmount,r=e.props,i=r.item,o=r.itemIndex,a=n._getItemKey(i,o);delete n._activeRows[a],t&&t(i,o)},n._onToggleCollapse=function(e){n.setState({isCollapsed:e}),n._groupedList.current&&n._groupedList.current.toggleCollapseAll(e)},n._onColumnDragEnd=function(e,t){var r=n.props.columnReorderOptions,i=pl.outside;if(r&&r.onDragEnd){if(e.dropLocation&&e.dropLocation!==pl.header)i=e.dropLocation;else if(n._root.current){var o=n._root.current.getBoundingClientRect();t.clientX>o.left&&t.clientX<o.right&&t.clientY>o.top&&t.clientY<o.bottom&&(i=pl.surface)}r.onDragEnd(i)}},n._onColumnResized=function(e,t,r){var i=Math.max(e.minWidth||100,t);n.props.onColumnResize&&n.props.onColumnResize(e,i,r),n._rememberCalculatedWidth(e,i),n._adjustColumns(n.props,!0,r),n._forceListUpdates()},n._onColumnAutoResized=function(e,t){var r=0,i=0,o=Object.keys(n._activeRows).length;for(var a in n._activeRows){if(n._activeRows.hasOwnProperty(a))n._activeRows[a].measureCell(t,(function(a){r=Math.max(r,a),++i===o&&n._onColumnResized(e,r,t)}))}},n._onActiveRowChanged=function(e,t){var r=n.props,i=r.items,o=r.onActiveItemChanged;if(e&&e.getAttribute("data-item-index")){var a=Number(e.getAttribute("data-item-index"));a>=0&&(o&&o(i[a],a,t),n.setState({focusedItemIndex:a}))}},n._onBlur=function(e){n.setState({focusedItemIndex:-1})},Object(Ee.a)(n),Object(jn.b)(),n._async=new ht.a(n),n._activeRows={},n._columnOverrides={},n.state={focusedItemIndex:-1,lastWidth:0,adjustedColumns:n._getAdjustedColumns(t),isSizing:!1,isDropping:!1,isCollapsed:t.groupProps&&t.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:t.groupProps&&!t.groupProps.isAllGroupsCollapsed},n._selection=t.selection||new ll({onSelectionChanged:void 0,getKey:t.getKey}),n.props.disableSelectionZone||n._selection.setItems(t.items,!1),n._dragDropHelper=t.dragDropEvents?new Al({selection:n._selection,minimumPixelsForDrag:t.minimumPixelsForDrag}):void 0,n._initialFocusedIndex=t.initialFocusedIndex,n}return m.c(t,e),t.prototype.scrollToIndex=function(e,t,n){this._list.current&&this._list.current.scrollToIndex(e,t,n),this._groupedList.current&&this._groupedList.current.scrollToIndex(e,t,n)},t.prototype.focusIndex=function(e,t,n,r){void 0===t&&(t=!1);var i=this.props.items[e];if(i){this.scrollToIndex(e,n,r);var o=this._getItemKey(i,e),a=this._activeRows[o];a&&this._setFocusToRow(a,t)}},t.prototype.getStartItemIndexInView=function(){return this._list&&this._list.current?this._list.current.getStartItemIndexInView():this._groupedList&&this._groupedList.current?this._groupedList.current.getStartItemIndexInView():0},t.prototype.componentWillUnmount=function(){this._dragDropHelper&&this._dragDropHelper.dispose(),this._async.dispose()},t.prototype.componentDidUpdate=function(e,t){if(void 0!==this._initialFocusedIndex&&(o=this.props.items[this._initialFocusedIndex])){var n=this._getItemKey(o,this._initialFocusedIndex);(r=this._activeRows[n])&&this._setFocusToRowIfPending(r)}if(this.props.items!==e.items&&this.props.items.length>0&&-1!==this.state.focusedItemIndex&&!Object(Ie.a)(this._root.current,document.activeElement,!1)){var r,i=this.state.focusedItemIndex<this.props.items.length?this.state.focusedItemIndex:this.props.items.length-1,o=this.props.items[i];n=this._getItemKey(o,this.state.focusedItemIndex);(r=this._activeRows[n])?this._setFocusToRow(r):this._initialFocusedIndex=i}this.props.onDidUpdate&&this.props.onDidUpdate(this)},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.checkboxVisibility,r=t.items,i=t.setKey,o=t.selectionMode,a=void 0===o?this._selection.mode:o,s=t.columns,u=t.viewport,l=t.compact,c=t.dragDropEvents,d=(this.props.groupProps||{}).isAllGroupsCollapsed,f=void 0===d?void 0:d,h=e.viewport&&e.viewport.width||0,p=u&&u.width||0,g=e.setKey!==i||void 0===e.setKey,m=!1;e.layoutMode!==this.props.layoutMode&&(m=!0),g&&(this._initialFocusedIndex=e.initialFocusedIndex,this.setState({focusedItemIndex:void 0!==this._initialFocusedIndex?this._initialFocusedIndex:-1})),this.props.disableSelectionZone||e.items===r||this._selection.setItems(e.items,g),e.checkboxVisibility===n&&e.columns===s&&h===p&&e.compact===l||(m=!0),this._adjustColumns(e,!0),e.selectionMode!==a&&(m=!0),void 0===f&&e.groupProps&&void 0!==e.groupProps.isAllGroupsCollapsed&&this.setState({isCollapsed:e.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:!e.groupProps.isAllGroupsCollapsed}),e.dragDropEvents!==c&&(this._dragDropHelper&&this._dragDropHelper.dispose(),this._dragDropHelper=e.dragDropEvents?new Al({selection:this._selection,minimumPixelsForDrag:e.minimumPixelsForDrag}):void 0,m=!0),m&&(this._pendingForceUpdate=!0)},t.prototype.componentWillUpdate=function(){this._pendingForceUpdate&&this._forceListUpdates()},t.prototype.render=function(){var e=this.props,t=e.ariaLabelForListHeader,n=e.ariaLabelForSelectAllCheckbox,r=e.ariaLabelForSelectionColumn,i=e.className,o=e.checkboxVisibility,a=e.compact,s=e.constrainMode,u=e.dragDropEvents,l=e.groups,c=e.groupProps,d=e.indentWidth,f=e.items,h=e.isHeaderVisible,p=e.layoutMode,g=e.onItemInvoked,b=e.onItemContextMenu,y=e.onColumnHeaderClick,_=e.onColumnHeaderContextMenu,x=e.selectionMode,S=void 0===x?this._selection.mode:x,w=e.selectionPreservedOnEmptyClick,C=e.selectionZoneProps,k=e.ariaLabel,E=e.ariaLabelForGrid,O=e.rowElementEventMap,T=e.shouldApplyApplicationRole,P=void 0!==T&&T,I=e.getKey,D=e.listProps,A=e.usePageCache,M=e.onShouldVirtualize,j=e.enableShimmer,R=e.viewport,F=e.minimumPixelsForDrag,N=e.getGroupHeight,L=e.styles,B=e.theme,z=e.cellStyleProps,U=void 0===z?_l:z,H=e.onRenderCheckbox,V=e.useFastIcons,W=this.state,G=W.adjustedColumns,K=W.isCollapsed,q=W.isSizing,Y=W.isSomeGroupExpanded,X=this._selection,Z=this._dragDropHelper,Q=this._getGroupNestingDepth(),$=m.a({renderedWindowsAhead:q?0:2,renderedWindowsBehind:q?0:2,getKey:I},D),J=Il.none;if(S===qu.single&&(J=Il.hidden),S===qu.multiple){var ee=c&&c.headerProps&&c.headerProps.isCollapsedGroupSelectVisible;void 0===ee&&(ee=!0),J=ee||!l||Y?Il.visible:Il.hidden}o===ml.hidden&&(J=Il.none);var te=this.props,ne=te.onRenderDetailsHeader,re=void 0===ne?this._onRenderDetailsHeader:ne,ie=te.onRenderDetailsFooter,oe=void 0===ie?this._onRenderDetailsFooter:ie,ae=this._getDetailsFooterProps(),se=this._getColumnReorderProps(),ue=(h?1:0)+function(e){var t=0;if(e)for(var n=e.slice(),r=void 0;n&&n.length>0;)++t,(r=n.pop())&&r.children&&n.push.apply(n,r.children);return t}(l)+(f?f.length:0),ce=Ec(L,{theme:B,compact:a,isFixed:p===gl.fixedColumns,isHorizontalConstrained:s===hl.horizontalConstrained,className:i}),de=l?v.createElement(wc,{componentRef:this._groupedList,groups:l,groupProps:c?this._getGroupProps(c):void 0,items:f,onRenderCell:this._onRenderCell,selection:X,selectionMode:o!==ml.hidden?S:qu.none,dragDropEvents:u,dragDropHelper:Z,eventsToRegister:O,listProps:$,onGroupExpandStateChanged:this._onGroupExpandStateChanged,usePageCache:A,onShouldVirtualize:M,getGroupHeight:N,compact:a}):v.createElement(Gu,m.a({ref:this._list,role:"presentation",items:j&&!f.length?Oc:f,onRenderCell:this._onRenderListCell(0),usePageCache:A,onShouldVirtualize:M},$));return v.createElement("div",m.a({ref:this._root,className:ce.root,"data-automationid":"DetailsList","data-is-scrollable":"false","aria-label":k},P?{role:"application"}:{}),v.createElement("div",{role:"grid","aria-label":E,"aria-rowcount":ue,"aria-colcount":(J!==Il.none?1:0)+(G?G.length:0),"aria-readonly":"true"},v.createElement("div",{onKeyDown:this._onHeaderKeyDown,role:"presentation",className:ce.headerWrapper},h&&re({componentRef:this._header,selectionMode:S,layoutMode:p,selection:X,columns:G,onColumnClick:y,onColumnContextMenu:_,onColumnResized:this._onColumnResized,onColumnIsSizingChanged:this._onColumnIsSizingChanged,onColumnAutoResized:this._onColumnAutoResized,groupNestingDepth:Q,isAllCollapsed:K,onToggleCollapseAll:this._onToggleCollapse,ariaLabel:t,ariaLabelForSelectAllCheckbox:n,ariaLabelForSelectionColumn:r,selectAllVisibility:J,collapseAllVisibility:c&&c.collapseAllVisibility,viewport:R,columnReorderProps:se,minimumPixelsForDrag:F,cellStyleProps:U,checkboxVisibility:o,indentWidth:d,onRenderDetailsCheckbox:H,rowWidth:this._sumColumnWidths(this.state.adjustedColumns),useFastIcons:V},this._onRenderDetailsHeader)),v.createElement("div",{onKeyDown:this._onContentKeyDown,role:"presentation",className:ce.contentWrapper},v.createElement(Le,{componentRef:this._focusZone,className:ce.focusZone,direction:le.vertical,isInnerZoneKeystroke:Ic,onActiveElementChanged:this._onActiveRowChanged,onBlur:this._onBlur},this.props.disableSelectionZone?de:v.createElement(vl,m.a({ref:this._selectionZone,selection:X,selectionPreservedOnEmptyClick:w,selectionMode:S,onItemInvoked:g,onItemContextMenu:b,enterModalOnTouch:this.props.enterModalSelectionOnTouch},C||{}),de))),oe(m.a({},ae),this._onRenderDetailsFooter)))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},t.prototype._getGroupNestingDepth=function(){for(var e=0,t=this.props.groups;t&&t.length>0;)e++,t=t[0].children;return e},t.prototype._setFocusToRowIfPending=function(e){var t=e.props.itemIndex;void 0!==this._initialFocusedIndex&&t===this._initialFocusedIndex&&(this._setFocusToRow(e),delete this._initialFocusedIndex)},t.prototype._setFocusToRow=function(e,t){void 0===t&&(t=!1),this._selectionZone.current&&this._selectionZone.current.ignoreNextFocus(),this._async.setTimeout((function(){e.focus(t)}),0)},t.prototype._forceListUpdates=function(){this._pendingForceUpdate=!1,this._groupedList.current&&this._groupedList.current.forceUpdate(),this._list.current&&this._list.current.forceUpdate()},t.prototype._notifyColumnsResized=function(){this.state.adjustedColumns.forEach((function(e){e.onColumnResize&&e.onColumnResize(e.currentWidth)}))},t.prototype._adjustColumns=function(e,t,n){var r=this._getAdjustedColumns(e,t,n),i=this.props.viewport,o=i&&i.width?i.width:0;r&&this.setState({adjustedColumns:r,lastWidth:o},this._notifyColumnsResized)},t.prototype._getAdjustedColumns=function(e,t,n){var r,i=this,o=e.items,a=e.layoutMode,s=e.selectionMode,u=e.viewport,l=u&&u.width?u.width:0,c=e.columns,d=this.props?this.props.columns:[],f=this.state?this.state.lastWidth:-1,h=this.state?this.state.lastSelectionMode:void 0;return t||f!==l||h!==s||d&&c!==d?(c=c||Pc(o,!0),a===gl.fixedColumns?(r=this._getFixedColumns(c)).forEach((function(e){i._rememberCalculatedWidth(e,e.calculatedWidth)})):(r=void 0!==n?this._getJustifiedColumnsAfterResize(c,l,e,n):this._getJustifiedColumns(c,l,e,0)).forEach((function(e){i._getColumnOverride(e.key).currentWidth=e.calculatedWidth})),r):[]},t.prototype._getFixedColumns=function(e){var t=this;return e.map((function(e){var n=m.a({},e,t._columnOverrides[e.key]);return n.calculatedWidth||(n.calculatedWidth=n.maxWidth||n.minWidth||100),n}))},t.prototype._getJustifiedColumnsAfterResize=function(e,t,n,r){var i=this,o=e.slice(0,r);o.forEach((function(e){return e.calculatedWidth=i._getColumnOverride(e.key).currentWidth}));var a=o.reduce((function(e,t,r){return e+Dc(t,0===r,n)}),0),s=e.slice(r),u=t-a;return o.concat(this._getJustifiedColumns(s,u,n,r))},t.prototype._getJustifiedColumns=function(e,t,n,r){for(var i=this,o=n.selectionMode,a=void 0===o?this._selection.mode:o,s=n.checkboxVisibility,u=a!==qu.none&&s!==ml.hidden?40:0,l=32*this._getGroupNestingDepth(),c=0,d=t-(u+l),f=e.map((function(e,t){var o=m.a({},e,{calculatedWidth:e.minWidth||100},i._columnOverrides[e.key]);return c+=Dc(o,t+r===0,n),o})),h=f.length-1;h>0&&c>d;){var p=(y=f[h]).minWidth||100,g=c-d;if(y.calculatedWidth-p>=g||!y.isCollapsable&&!y.isCollapsible){var v=y.calculatedWidth;y.calculatedWidth=Math.max(y.calculatedWidth-g,p),c-=v-y.calculatedWidth}else c-=Dc(y,!1,n),f.splice(h,1);h--}for(var b=0;b<f.length&&c<d;b++){var y=f[b],_=b===f.length-1,x=this._columnOverrides[y.key];if(!x||!x.calculatedWidth||_){var S=d-c,w=void 0;if(_)w=S;else{var C=y.maxWidth;p=y.minWidth||C||100;w=C?Math.min(S,C-p):S}y.calculatedWidth=y.calculatedWidth+w,c+=w}}return f},t.prototype._rememberCalculatedWidth=function(e,t){var n=this._getColumnOverride(e.key);n.calculatedWidth=t,n.currentWidth=t},t.prototype._getColumnOverride=function(e){return this._columnOverrides[e]=this._columnOverrides[e]||{}},t.prototype._getItemKey=function(e,t){var n=this.props.getKey,r=void 0;return e&&(r=e.key),n&&(r=n(e,t)),r||(r=t),r},t.prototype._getDetailsFooterProps=function(){var e=this.state.adjustedColumns,t=this.props,n=t.viewport,r=t.checkboxVisibility,i=t.indentWidth,o=t.cellStyleProps,a=void 0===o?_l:o,s=t.selectionMode,u=void 0===s?this._selection.mode:s;return{columns:e,groupNestingDepth:this._getGroupNestingDepth(),selection:this._selection,selectionMode:u,viewport:n,checkboxVisibility:r,indentWidth:i,cellStyleProps:a}},t.prototype._getColumnReorderProps=function(){var e=this.props.columnReorderOptions;if(e)return m.a({},e,{onColumnDragEnd:this._onColumnDragEnd})},t.prototype._getGroupProps=function(e){var t=this,n=e.onRenderFooter,r=e.onRenderHeader,i=this.state.adjustedColumns,o=this.props,a=o.selectionMode,s=void 0===a?this._selection.mode:a,u=o.viewport,l=o.cellStyleProps,c=void 0===l?_l:l,d=o.checkboxVisibility,f=o.indentWidth,h=this._getGroupNestingDepth(),p=n?function(e,r){return n(m.a({},e,{columns:i,groupNestingDepth:h,indentWidth:f,selection:t._selection,selectionMode:s,viewport:u,checkboxVisibility:d,cellStyleProps:c}),r)}:void 0,g=r?function(e,n){return r(m.a({},e,{columns:i,groupNestingDepth:h,indentWidth:f,selection:t._selection,selectionMode:s,viewport:u,checkboxVisibility:d,cellStyleProps:c}),n)}:void 0;return m.a({},e,{onRenderFooter:p,onRenderHeader:g})},t.defaultProps={layoutMode:gl.justified,selectionMode:qu.multiple,constrainMode:hl.horizontalConstrained,checkboxVisibility:ml.onHover,isHeaderVisible:!0,enableShimmer:!1,compact:!1},t=m.b([kc],t)}(v.Component);function Pc(e,t,n,r,i,o,a){var s=[];if(e&&e.length){var u=e[0];for(var l in u)u.hasOwnProperty(l)&&s.push({key:l,name:l,fieldName:l,minWidth:100,maxWidth:300,isCollapsable:!!s.length,isCollapsible:!!s.length,isMultiline:void 0!==a&&a,isSorted:r===l,isSortedDescending:!!i,isRowHeader:!1,columnActionsMode:fl.clickable,isResizable:t,onColumnClick:n,isGrouped:o===l})}return s}function Ic(e){return e.which===Object(C.b)(ge.a.right)}function Dc(e,t,n){var r=n.cellStyleProps,i=void 0===r?_l:r;return e.calculatedWidth+i.cellLeftPadding+i.cellRightPadding+(e.isPadded?i.cellExtraRightPadding:0)}var Ac,Mc={root:"ms-DetailsList",compact:"ms-DetailsList--Compact",contentWrapper:"ms-DetailsList-contentWrapper",headerWrapper:"ms-DetailsList-headerWrapper",isFixed:"is-fixed",isHorizontalConstrained:"is-horizontalConstrained",listCell:"ms-List-cell"},jc=Object(S.a)(Tc,(function(e){var t,n,r=e.theme,i=e.className,o=e.isHorizontalConstrained,a=e.compact,s=e.isFixed,u=r.semanticColors,l=Object(b.N)(Mc,r);return{root:[l.root,r.fonts.small,{position:"relative",fontSize:b.h.small,background:u.listBackground,color:u.listText,selectors:(t={},t["& ."+l.listCell]={minHeight:38,wordBreak:"break-word"},t)},s&&l.isFixed,a&&[l.compact,{selectors:(n={},n["."+l.listCell]={minHeight:32},n)}],o&&[l.isHorizontalConstrained,{overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"}],i],focusZone:[{display:"inline-block",minWidth:"100%",minHeight:1}],headerWrapper:l.headerWrapper,contentWrapper:l.contentWrapper}}),void 0,{scope:"DetailsList"});!function(e){e[e.normal=0]="normal",e[e.largeHeader=1]="largeHeader",e[e.close=2]="close"}(Ac||(Ac={}));var Rc,Fc=b.c.durationValue2,Nc={root:"ms-Modal",main:"ms-Dialog-main",scrollableContent:"ms-Modal-scrollableContent",isOpen:"is-open",layer:"ms-Modal-Layer"},Lc=Object(w.a)(),Bc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.componentDidMount=function(){Object(gt.c)()},t.prototype.componentWillUnmount=function(){Object(gt.d)()},t.prototype.render=function(){var e=this.props,t=e.isDarkThemed,n=e.className,r=e.theme,i=e.styles,o=Object(E.j)(this.props,E.h),a=Lc(i,{theme:r,className:n,isDark:t});return v.createElement("div",m.a({},o,{className:a.root}))},t}(O.a),zc={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},Uc=Object(S.a)(Bc,(function(e){var t,n=e.className,r=e.theme,i=e.isNone,o=e.isDark,a=r.palette,s=Object(b.N)(zc,r);return{root:[s.root,r.fonts.medium,{backgroundColor:a.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(t={},t[b.j]={border:"1px solid WindowText",opacity:0},t)},i&&{visibility:"hidden"},o&&[s.rootDark,{backgroundColor:a.blackTranslucent40}],n]}}),void 0,{scope:"Overlay"}),Hc=Object(y.b)((function(e,t){return{root:Object(b.Y)(e,t&&{touchAction:"none",selectors:{"& *":{userSelect:"none"}}})}})),Vc={start:"touchstart",move:"touchmove",stop:"touchend"},Wc={start:"mousedown",move:"mousemove",stop:"mouseup"},Gc=function(e){function t(t){var n=e.call(this,t)||this;return n._currentEventType=Wc,n._events=[],n._onMouseDown=function(e){var t=v.Children.only(n.props.children).props.onMouseDown;return t&&t(e),n._currentEventType=Wc,n._onDragStart(e)},n._onMouseUp=function(e){var t=v.Children.only(n.props.children).props.onMouseUp;return t&&t(e),n._currentEventType=Wc,n._onDragStop(e)},n._onTouchStart=function(e){var t=v.Children.only(n.props.children).props.onTouchStart;return t&&t(e),n._currentEventType=Vc,n._onDragStart(e)},n._onTouchEnd=function(e){var t=v.Children.only(n.props.children).props.onTouchEnd;t&&t(e),n._currentEventType=Vc,n._onDragStop(e)},n._onDragStart=function(e){if("number"===typeof e.button&&0!==e.button)return!1;if(!(n.props.handleSelector&&!n._matchesSelector(e.target,n.props.handleSelector)||n.props.preventDragSelector&&n._matchesSelector(e.target,n.props.preventDragSelector))){n._touchId=n._getTouchId(e);var t=n._getControlPosition(e);if(void 0!==t){var r=n._createDragDataFromPosition(t);n.props.onStart&&n.props.onStart(e,r),n.setState({isDragging:!0,lastPosition:t}),n._events=[Object(Te.a)(document.body,n._currentEventType.move,n._onDrag),Object(Te.a)(document.body,n._currentEventType.stop,n._onDragStop)]}}},n._onDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=n._getControlPosition(e);if(t){var r=n._createUpdatedDragData(n._createDragDataFromPosition(t)),i=r.position;n.props.onDragChange&&n.props.onDragChange(e,r),n.setState({position:i,lastPosition:t})}},n._onDragStop=function(e){if(n.state.isDragging){var t=n._getControlPosition(e);if(t){var r=n._createDragDataFromPosition(t);n.setState({isDragging:!1,lastPosition:void 0}),n.props.onStop&&n.props.onStop(e,r),n.props.position&&n.setState({position:n.props.position}),n._events.forEach((function(e){return e()}))}}},n.state={isDragging:!1,position:n.props.position||{x:0,y:0},lastPosition:void 0},n}return m.c(t,e),t.prototype.componentDidUpdate=function(e){!this.props.position||e.position&&this.props.position===e.position||this.setState({position:this.props.position})},t.prototype.componentWillUnmount=function(){this._events.forEach((function(e){return e()}))},t.prototype.render=function(){var e=v.Children.only(this.props.children),t=e.props,n=this.props.position,r=this.state,i=r.position,o=r.isDragging,a=i.x,s=i.y;return n&&!o&&(a=n.x,s=n.y),v.cloneElement(e,{style:m.a({},t.style,{transform:"translate("+a+"px, "+s+"px)"}),className:Hc(t.className,this.state.isDragging).root,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd})},t.prototype._getControlPosition=function(e){var t=this._getActiveTouch(e);if(void 0===this._touchId||t){var n=t||e;return{x:n.clientX,y:n.clientY}}},t.prototype._getActiveTouch=function(e){return e.targetTouches&&this._findTouchInTouchList(e.targetTouches)||e.changedTouches&&this._findTouchInTouchList(e.changedTouches)},t.prototype._getTouchId=function(e){var t=e.targetTouches&&e.targetTouches[0]||e.changedTouches&&e.changedTouches[0];if(t)return t.identifier},t.prototype._matchesSelector=function(e,t){if(!e||e===document.body)return!1;var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!n&&(n.call(e,t)||this._matchesSelector(e.parentElement,t))},t.prototype._findTouchInTouchList=function(e){if(void 0!==this._touchId)for(var t=0;t<e.length;t++)if(e[t].identifier===this._touchId)return e[t]},t.prototype._createDragDataFromPosition=function(e){var t=this.state.lastPosition;return void 0===t?{delta:{x:0,y:0},lastPosition:e,position:e}:{delta:{x:e.x-t.x,y:e.y-t.y},lastPosition:t,position:e}},t.prototype._createUpdatedDragData=function(e){var t=this.state.position;return{position:{x:t.x+e.delta.x,y:t.y+e.delta.y},delta:e.delta,lastPosition:t}},t}(v.Component),Kc={eventBubblingEnabled:!1},qc=Object(w.a)(),Yc=function(e){function t(t){var n=e.call(this,t)||this;return n._focusTrapZone=v.createRef(),n._allowScrollOnModal=function(e){e?Object(gt.b)(e,n._events):n._events.off(n._scrollableContent),n._scrollableContent=e},n._onModalContextMenuClose=function(){n.setState({isModalMenuOpen:!1})},n._onModalClose=function(){n._lastSetX=0,n._lastSetY=0,n.setState({isModalMenuOpen:!1,isInKeyboardMoveMode:!1,isOpen:!1,x:0,y:0}),n.props.onDismissed&&n.props.onDismissed()},n._onDragStart=function(){n.setState({isModalMenuOpen:!1,isInKeyboardMoveMode:!1})},n._onDrag=function(e,t){var r=n.state,i=r.x,o=r.y;n.setState({x:i+t.delta.x,y:o+t.delta.y})},n._onDragStop=function(){n.focus()},n._onDialogKeyUp=function(e){e.altKey&&e.ctrlKey&&e.keyCode===ge.a.space&&(n.setState({isModalMenuOpen:!n.state.isModalMenuOpen}),e.preventDefault(),e.stopPropagation())},n._onDialogKeyDown=function(e){if(e.altKey&&e.ctrlKey&&e.keyCode===ge.a.space)return e.preventDefault(),void e.stopPropagation();if(n.state.isModalMenuOpen&&(e.altKey||e.keyCode===ge.a.escape)&&n.setState({isModalMenuOpen:!1}),!n.state.isInKeyboardMoveMode||e.keyCode!==ge.a.escape&&e.keyCode!==ge.a.enter||(n.setState({isInKeyboardMoveMode:!1}),e.preventDefault(),e.stopPropagation()),n.state.isInKeyboardMoveMode){var t=!0,r=n._getMoveDelta(e);switch(e.keyCode){case ge.a.escape:n.setState({x:n._lastSetX,y:n._lastSetY});case ge.a.enter:n._lastSetX=0,n._lastSetY=0,n.setState({isInKeyboardMoveMode:!1});break;case ge.a.up:n.setState({y:n.state.y-r});break;case ge.a.down:n.setState({y:n.state.y+r});break;case ge.a.left:n.setState({x:n.state.x-r});break;case ge.a.right:n.setState({x:n.state.x+r});break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())}},n._onEnterKeyboardMoveMode=function(){n._lastSetX=n.state.x,n._lastSetY=n.state.y,n.setState({isInKeyboardMoveMode:!0,isModalMenuOpen:!1})},n._onExitKeyboardMoveMode=function(){n._lastSetX=0,n._lastSetY=0,n.setState({isInKeyboardMoveMode:!1})},n.state={id:Object(Oe.c)("Modal"),isOpen:t.isOpen,isVisible:t.isOpen,hasBeenOpened:t.isOpen,x:0,y:0},n._lastSetX=0,n._lastSetY=0,n._warnDeprecations({onLayerDidMount:"layerProps.onLayerDidMount"}),n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){if(clearTimeout(this._onModalCloseTimer),e.isOpen)if(this.state.isOpen){if(this.setState({hasBeenOpened:!0,isVisible:!0}),e.topOffsetFixed){var t=document.getElementsByClassName("ms-Dialog-main"),n=void 0;t.length>0&&(n=t[0].getBoundingClientRect(),this.setState({modalRectangleTop:n.top}))}}else this.setState({isOpen:!0});!e.isOpen&&this.state.isOpen&&(this._onModalCloseTimer=this._async.setTimeout(this._onModalClose,1e3*parseFloat(Fc)),this.setState({isVisible:!1}))},t.prototype.componentDidUpdate=function(e,t){e.isOpen||t.isVisible||this.setState({isVisible:!0})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.containerClassName,r=e.scrollableContentClassName,i=e.elementToFocusOnDismiss,o=e.firstFocusableSelector,a=e.forceFocusInsideTrap,s=e.ignoreExternalFocusing,u=e.isBlocking,l=e.isClickableOutsideFocusTrap,c=e.isDarkOverlay,d=e.onDismiss,f=e.layerProps,h=e.responsiveMode,p=e.titleAriaId,g=e.styles,b=e.subtitleAriaId,y=e.theme,_=e.topOffsetFixed,x=e.onLayerDidMount,S=e.isModeless,w=e.dragOptions,C=this.state,k=C.isOpen,E=C.isVisible,O=C.hasBeenOpened,T=C.modalRectangleTop,P=C.x,I=C.y,D=C.isInKeyboardMoveMode;if(!k)return null;var A=void 0===f?"":f.className,M=qc(g,{theme:y,className:t,containerClassName:n,scrollableContentClassName:r,isOpen:k,isVisible:E,hasBeenOpened:O,modalRectangleTop:T,topOffsetFixed:_,isModeless:S,layerClassName:A,isDefaultDragHandle:w&&!w.dragHandleSelector}),j=m.a({},Kc,this.props.layerProps,{onLayerDidMount:f&&f.onLayerDidMount?f.onLayerDidMount:x,insertFirst:S,className:M.layer}),R=v.createElement(Ea,{componentRef:this._focusTrapZone,className:M.main,elementToFocusOnDismiss:i,isClickableOutsideFocusTrap:S||l||!u,ignoreExternalFocusing:s,forceFocusInsideTrap:S?!S:a,firstFocusableSelector:o,focusPreviouslyFocusedInnerElement:!0,onKeyDown:w?this._onDialogKeyDown:void 0,onKeyUp:w?this._onDialogKeyUp:void 0,onBlur:D?this._onExitKeyboardMoveMode:void 0},w&&D&&v.createElement("div",{className:M.keyboardMoveIconContainer},w.keyboardMoveIconProps?v.createElement(K,m.a({},w.keyboardMoveIconProps)):v.createElement(K,{iconName:"move",className:M.keyboardMoveIcon})),v.createElement("div",{ref:this._allowScrollOnModal,className:M.scrollableContent,"data-is-scrollable":!0},w&&this.state.isModalMenuOpen&&v.createElement(w.menu,{items:[{key:"move",text:w.moveMenuItemText,onClick:this._onEnterKeyboardMoveMode},{key:"close",text:w.closeMenuItemText,onClick:this._onModalClose}],onDismiss:this._onModalContextMenuClose,alignTargetEdge:!0,coverTarget:!0,directionalHint:$e.topLeftEdge,directionalHintFixed:!0,shouldFocusOnMount:!0,target:this._scrollableContent}),this.props.children));return h>=it.small?v.createElement(On,m.a({},j),v.createElement(Qt,{role:S||!u?"dialog":"alertdialog","aria-modal":!S,ariaLabelledBy:p,ariaDescribedBy:b,onDismiss:d},v.createElement("div",{className:M.root},!S&&v.createElement(Uc,{isDarkThemed:c,onClick:u?void 0:d}),w?v.createElement(Gc,{handleSelector:w.dragHandleSelector||"."+M.main.split(" ")[0],preventDragSelector:"button",onStart:this._onDragStart,onDragChange:this._onDrag,onStop:this._onDragStop,position:{x:P,y:I}},R):R))):null},t.prototype.focus=function(){this._focusTrapZone.current&&this._focusTrapZone.current.focus()},t.prototype._getMoveDelta=function(e){var t=10;return e.shiftKey?e.ctrlKey||(t=50):e.ctrlKey&&(t=1),t},t.defaultProps={isOpen:!1,isDarkOverlay:!0,isBlocking:!1,className:"",containerClassName:""},t=m.b([ct],t)}(O.a),Xc=Object(S.a)(Yc,(function(e){var t,n=e.className,r=e.containerClassName,i=e.scrollableContentClassName,o=e.isOpen,a=e.isVisible,s=e.hasBeenOpened,u=e.modalRectangleTop,l=e.theme,c=e.topOffsetFixed,d=e.isModeless,f=e.layerClassName,h=e.isDefaultDragHandle,p=l.palette,g=Object(b.N)(Nc,l);return{root:[g.root,l.fonts.medium,{backgroundColor:"transparent",position:d?"absolute":"fixed",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,pointerEvents:"none",transition:"opacity "+Fc},c&&s&&{alignItems:"flex-start"},o&&g.isOpen,a&&{opacity:1,pointerEvents:"auto"},n],main:[g.main,{boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.4)",backgroundColor:p.white,boxSizing:"border-box",position:"relative",textAlign:"left",outline:"3px solid transparent",maxHeight:"100%",overflowY:"auto",zIndex:d?b.D.Layer:void 0},c&&s&&{top:u},h&&{cursor:"move"},r],scrollableContent:[g.scrollableContent,{overflowY:"auto",flexGrow:1,maxHeight:"100vh",selectors:(t={},t["@supports (-webkit-overflow-scrolling: touch)"]={maxHeight:window.innerHeight},t)},i],layer:d&&[f,g.layer,{position:"static",width:"unset",height:"unset"}],keyboardMoveIconContainer:{position:"absolute",display:"flex",justifyContent:"center",width:"100%",padding:"3px 0px"},keyboardMoveIcon:{fontSize:"24px",width:"24px"}}}),void 0,{scope:"Modal"}),Zc=Object(w.a)(),Qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,r=e.theme;return this._classNames=Zc(n,{theme:r,className:t}),v.createElement("div",{className:this._classNames.actions},v.createElement("div",{className:this._classNames.actionsRight},this._renderChildrenAsActions()))},t.prototype._renderChildrenAsActions=function(){var e=this;return v.Children.map(this.props.children,(function(t){return t?v.createElement("span",{className:e._classNames.action},t):null}))},t}(O.a),$c={actions:"ms-Dialog-actions",action:"ms-Dialog-action",actionsRight:"ms-Dialog-actionsRight"},Jc=Object(S.a)(Qc,(function(e){var t=e.className,n=e.theme,r=Object(b.N)($c,n);return{actions:[r.actions,{position:"relative",width:"100%",minHeight:"24px",lineHeight:"24px",margin:"20px 0 0",fontSize:"0",selectors:{".ms-Button":{lineHeight:"normal"}}},t],action:[r.action],actionsRight:[r.actionsRight,{textAlign:"right",marginRight:"-4px",fontSize:"0",selectors:{$action:{margin:"0 4px"}}}]}}),void 0,{scope:"DialogFooter"}),ed=Object(w.a)(),td=v.createElement(Jc,null).type,nd=function(e){function t(t){return e.call(this,t)||this}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.showCloseButton,r=t.className,i=t.closeButtonAriaLabel,o=t.onDismiss,a=t.subTextId,s=t.subText,u=t.titleId,l=t.title,c=t.type,d=t.styles,f=t.theme,h=t.draggableHeaderClassName,p=ed(d,{theme:f,className:r,isLargeHeader:c===Ac.largeHeader,isClose:c===Ac.close,draggableHeaderClassName:h}),g=this._groupChildren();return s&&(e=v.createElement("p",{className:p.subText,id:a},s)),v.createElement("div",{className:p.content},v.createElement("div",{className:p.header},v.createElement("p",{className:p.title,id:u,role:"heading","aria-level":2},l),v.createElement("div",{className:p.topButton},this.props.topButtonsProps.map((function(e,t){return v.createElement(fr,m.a({key:e.uniqueId||t},e))})),(c===Ac.close||n&&c!==Ac.largeHeader)&&v.createElement(fr,{className:p.button,iconProps:{iconName:"Cancel"},ariaLabel:i,onClick:o}))),v.createElement("div",{className:p.inner},v.createElement("div",{className:p.innerContent},e,g.contents),g.footers))},t.prototype._groupChildren=function(){var e={footers:[],contents:[]};return v.Children.map(this.props.children,(function(t){"object"===typeof t&&null!==t&&t.type===td?e.footers.push(t):e.contents.push(t)})),e},t.defaultProps={showCloseButton:!1,className:"",topButtonsProps:[],closeButtonAriaLabel:"Close"},t=m.b([ct],t)}(O.a),rd={contentLgHeader:"ms-Dialog-lgHeader",close:"ms-Dialog--close",subText:"ms-Dialog-subText",header:"ms-Dialog-header",headerLg:"ms-Dialog--lgHeader",button:"ms-Dialog-button ms-Dialog-button--close",inner:"ms-Dialog-inner",content:"ms-Dialog-content",title:"ms-Dialog-title"},id=Object(S.a)(nd,(function(e){var t=e.className,n=e.theme,r=e.isLargeHeader,i=e.isClose,o=e.hidden,a=e.isMultiline,s=e.draggableHeaderClassName,u=n.palette,l=n.fonts,c=Object(b.N)(rd,n);return{content:[r&&c.contentLgHeader,i&&c.close,{flexGrow:1,overflowY:"hidden"},t],subText:[c.subText,r?l.medium:l.small,{margin:"0 0 20px 0",paddingTop:"8px",color:u.neutralPrimary,lineHeight:"1.5",wordWrap:"break-word",fontWeight:b.i.semilight}],header:[c.header,{position:"relative",width:"100%",boxSizing:"border-box"},r&&[c.headerLg,{backgroundColor:u.themePrimary}],i&&c.close,s&&[s,{cursor:"move"}]],button:[c.button,o&&{selectors:{".ms-Icon.ms-Icon--Cancel":{color:u.neutralSecondary,fontSize:"16px"}}}],inner:[c.inner,{padding:a?"0 20px 20px":"0 28px 20px"}],innerContent:[c.content,{position:"relative",width:"100%",selectors:{".ms-Button.ms-Button--compount":{marginBottom:"20px",selectors:{"&:last-child":{marginBottom:"0"}}}}},t],title:[c.title,{color:u.neutralPrimary,margin:"0",padding:"20px 36px 20px 28px"},l.xLarge,r&&[{color:u.white,marginBottom:"8px",padding:"26px 28px 28px"},l.xxLarge],a&&l.xxLarge],topButton:[{display:"flex",flexDirection:"row",flexWrap:"nowrap",position:"absolute",top:"0",right:"0",padding:"12px 12px 0 0",selectors:{"> *":{flex:"0 0 auto"}}}]}}),void 0,{scope:"DialogContent"}),od=Object(w.a)(),ad={isDarkOverlay:!1,isBlocking:!1,className:"",containerClassName:"",topOffsetFixed:!1},sd={type:Ac.normal,className:"",topButtonsProps:[]},ud=function(e){function t(t){var n=e.call(this,t)||this;return n._getSubTextId=function(){var e=n.props,t=e.ariaDescribedById,r=e.modalProps,i=e.dialogContentProps,o=e.subText,a=t||r&&r.subtitleAriaId;return a||(a=(o||i&&i.subText)&&n._defaultSubTextId),a},n._getTitleTextId=function(){var e=n.props,t=e.ariaLabelledById,r=e.modalProps,i=e.dialogContentProps,o=e.title,a=t||r&&r.titleAriaId;return a||(a=(o||i&&i.title)&&n._defaultTitleTextId),a},n._id=Object(Oe.c)("Dialog"),n._defaultTitleTextId=n._id+"-title",n._defaultSubTextId=n._id+"-subText",n}return m.c(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.className,i=n.containerClassName,o=n.contentClassName,a=n.elementToFocusOnDismiss,s=n.firstFocusableSelector,u=n.forceFocusInsideTrap,l=n.styles,c=n.hidden,d=n.ignoreExternalFocusing,f=n.isBlocking,h=n.isClickableOutsideFocusTrap,p=n.isDarkOverlay,g=n.isOpen,b=n.onDismiss,y=n.onDismissed,_=n.onLayerDidMount,x=n.responsiveMode,S=n.subText,w=n.theme,C=n.title,k=n.topButtonsProps,E=n.type,O=n.minWidth,T=n.maxWidth,P=n.modalProps,I=m.a({},P?P.layerProps:{onLayerDidMount:_});_&&!I.onLayerDidMount&&(I.onLayerDidMount=_),P&&P.dragOptions&&!P.dragOptions.dragHandleSelector?(e="ms-Dialog-draggable-header",t=m.a({},P.dragOptions,{dragHandleSelector:"."+e})):t=P&&P.dragOptions;var D=m.a({},ad,P,{layerProps:I,dragOptions:t}),A=m.a({},sd,this.props.dialogContentProps,{draggableHeaderClassName:e}),M=od(l,{theme:w,className:r||D.className,containerClassName:i||D.containerClassName,hidden:c,dialogDefaultMinWidth:O,dialogDefaultMaxWidth:T});return v.createElement(Xc,m.a({elementToFocusOnDismiss:a,firstFocusableSelector:s,forceFocusInsideTrap:u,ignoreExternalFocusing:d,isClickableOutsideFocusTrap:h,onDismissed:y,responsiveMode:x},D,{isDarkOverlay:void 0!==p?p:D.isDarkOverlay,isBlocking:void 0!==f?f:D.isBlocking,isOpen:void 0!==g?g:!c,className:M.root,containerClassName:M.main,onDismiss:b||D.onDismiss,subtitleAriaId:this._getSubTextId(),titleAriaId:this._getTitleTextId()}),v.createElement(id,m.a({titleId:this._defaultTitleTextId,subTextId:this._defaultSubTextId,title:C,subText:S,showCloseButton:void 0!==f?!f:!D.isBlocking,topButtonsProps:k||A.topButtonsProps,type:void 0!==E?E:A.type,onDismiss:b||A.onDismiss,className:o||A.className},A),this.props.children))},t.defaultProps={hidden:!0},t=m.b([ct],t)}(v.Component),ld={root:"ms-Dialog"},cd=Object(S.a)(ud,(function(e){var t,n=e.className,r=e.containerClassName,i=e.dialogDefaultMinWidth,o=void 0===i?"288px":i,a=e.dialogDefaultMaxWidth,s=void 0===a?"340px":a,u=e.hidden,l=e.theme;return{root:[Object(b.N)(ld,l).root,l.fonts.medium,n],main:[{width:o,outline:"3px solid transparent",selectors:(t={},t["@media (min-width: "+b.v+"px)"]={width:"auto",maxWidth:s,minWidth:o},t)},!u&&{display:"flex"},r]}}),void 0,{scope:"Dialog"});!function(e){e[e.normal=0]="normal",e[e.compact=1]="compact"}(Rc||(Rc={}));var dd,fd=Object(w.a)(),hd=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=v.createRef(),n._onClick=function(e){n._onAction(e)},n._onKeyDown=function(e){e.which!==ge.a.enter&&e.which!==ge.a.space||n._onAction(e)},n._onAction=function(e){var t=n.props,r=t.onClick,i=t.onClickHref;r?r(e):!r&&i&&(window.location.href=i,e.preventDefault(),e.stopPropagation())},n._warnDeprecations({accentColor:void 0}),n}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onClick,r=t.onClickHref,i=t.children,o=t.type,a=t.accentColor,s=t.styles,u=t.theme,l=t.className,c=Object(E.j)(this.props,E.h,["className","onClick","type","role"]),d=!(!n&&!r);this._classNames=fd(s,{theme:u,className:l,actionable:d,compact:o===Rc.compact}),o===Rc.compact&&a&&(e={borderBottomColor:a});var f=this.props.role||(d?n?"button":"link":void 0),h=d?0:void 0;return v.createElement("div",m.a({ref:this._rootElement,tabIndex:h,"data-is-focusable":d,role:f,className:this._classNames.root,onKeyDown:d?this._onKeyDown:void 0,onClick:d?this._onClick:void 0,style:e},c),i)},t.prototype.focus=function(){this._rootElement.current&&this._rootElement.current.focus()},t.defaultProps={type:Rc.normal},t}(O.a),pd={root:"ms-DocumentCardPreview",icon:"ms-DocumentCardPreview-icon",iconContainer:"ms-DocumentCardPreview-iconContainer"},gd={root:"ms-DocumentCardActivity",multiplePeople:"ms-DocumentCardActivity--multiplePeople",details:"ms-DocumentCardActivity-details",name:"ms-DocumentCardActivity-name",activity:"ms-DocumentCardActivity-activity",avatars:"ms-DocumentCardActivity-avatars",avatar:"ms-DocumentCardActivity-avatar"},md={root:"ms-DocumentCardTitle"},vd={root:"ms-DocumentCardLocation"},bd={root:"ms-DocumentCard",rootActionable:"ms-DocumentCard--actionable",rootCompact:"ms-DocumentCard--compact"},yd=Object(S.a)(hd,(function(e){var t,n,r=e.className,i=e.theme,o=e.actionable,a=e.compact,s=i.palette,u=Object(b.N)(bd,i);return{root:[u.root,{WebkitFontSmoothing:"antialiased",backgroundColor:s.white,border:"1px solid "+s.neutralLight,boxSizing:"border-box",maxWidth:"320px",minWidth:"206px",userSelect:"none",position:"relative",selectors:(t={},t["."+vd.root+" + ."+md.root]={paddingTop:"4px"},t)},o&&[u.rootActionable,{selectors:{":hover":{cursor:"pointer",borderColor:s.neutralTertiaryAlt},":hover:after":{content:'" "',position:"absolute",top:0,right:0,bottom:0,left:0,border:"1px solid "+s.neutralTertiaryAlt,pointerEvents:"none"}}}],a&&[u.rootCompact,{display:"flex",maxWidth:"480px",height:"108px",selectors:(n={},n["."+pd.root]={borderRight:"1px solid "+s.neutralLight,borderBottom:0,maxHeight:"106px",maxWidth:"144px"},n["."+pd.icon]={maxHeight:"32px",maxWidth:"32px"},n["."+gd.root]={paddingBottom:"12px"},n["."+md.root]={paddingBottom:"12px 16px 8px 16px",fontSize:b.h.mediumPlus,lineHeight:"16px"},n)}],r]}}),void 0,{scope:"DocumentCard"}),_d=Object(w.a)(),xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.actions,r=t.views,i=t.styles,o=t.theme,a=t.className;return this._classNames=_d(i,{theme:o,className:a}),v.createElement("div",{className:this._classNames.root},n&&n.map((function(t,n){return v.createElement("div",{className:e._classNames.action,key:n},v.createElement(fr,m.a({},t)))})),r>0&&v.createElement("div",{className:this._classNames.views},v.createElement(K,{iconName:"View",className:this._classNames.viewsIcon}),r))},t}(O.a),Sd={root:"ms-DocumentCardActions",action:"ms-DocumentCardActions-action",views:"ms-DocumentCardActions-views"},wd=Object(S.a)(xd,(function(e){var t=e.className,n=e.theme,r=n.palette,i=Object(b.N)(Sd,n);return{root:[i.root,{height:"34px",padding:"4px 12px",position:"relative"},t],action:[i.action,{float:"left",marginRight:"4px",color:r.neutralSecondary,cursor:"pointer",selectors:{".ms-Button":{fontSize:"16px",height:34,width:34},".ms-Button:hover .ms-Button-icon":{color:n.semanticColors.buttonText,cursor:"pointer"}}}],views:[i.views,{textAlign:"right",lineHeight:34}],viewsIcon:{marginRight:"8px",fontSize:b.h.medium,verticalAlign:"top"}}}),void 0,{scope:"DocumentCardActions"}),Cd=Object(w.a)(),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.activity,n=e.people,r=e.styles,i=e.theme,o=e.className;return this._classNames=Cd(r,{theme:i,className:o,multiplePeople:n.length>1}),n&&0!==n.length?v.createElement("div",{className:this._classNames.root},this._renderAvatars(n),v.createElement("div",{className:this._classNames.details},v.createElement("span",{className:this._classNames.name},this._getNameString(n)),v.createElement("span",{className:this._classNames.activity},t))):null},t.prototype._renderAvatars=function(e){return v.createElement("div",{className:this._classNames.avatars},e.length>1?this._renderAvatar(e[1]):null,this._renderAvatar(e[0]))},t.prototype._renderAvatar=function(e){return v.createElement("div",{className:this._classNames.avatar},v.createElement(he,{imageInitials:e.initials,text:e.name,imageUrl:e.profileImageSrc,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,role:"presentation",size:T.size32}))},t.prototype._getNameString=function(e){var t=e[0].name;return e.length>=2&&(t+=" +"+(e.length-1)),t},t}(O.a),Ed=Object(S.a)(kd,(function(e){var t=e.theme,n=e.className,r=e.multiplePeople,i=t.palette,o=Object(b.N)(gd,t);return{root:[o.root,r&&o.multiplePeople,{padding:"8px 16px",position:"relative"},n],avatars:[o.avatars,{marginLeft:"-2px",height:"32px"}],avatar:[o.avatar,{display:"inline-block",verticalAlign:"top",position:"relative",textAlign:"center",width:32,height:32,selectors:{"&:after":{content:'" "',position:"absolute",left:"-1px",top:"-1px",right:"-1px",bottom:"-1px",border:"2px solid "+i.white,borderRadius:"50%"},":nth-of-type(2)":r&&{marginLeft:"-16px"}}}],details:[o.details,{left:r?"72px":"56px",height:32,position:"absolute",top:8,width:"calc(100% - 72px)"}],name:[o.name,{display:"block",fontSize:b.h.small,lineHeight:"15px",height:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:i.neutralPrimary,fontWeight:b.i.semibold}],activity:[o.activity,{display:"block",fontSize:b.h.small,lineHeight:"15px",height:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:i.neutralSecondary}]}}),void 0,{scope:"DocumentCardActivity"}),Od=Object(w.a)(),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.styles,r=e.theme,i=e.className;return this._classNames=Od(n,{theme:r,className:i}),v.createElement("div",{className:this._classNames.root},t)},t}(O.a),Pd={root:"ms-DocumentCardDetails"},Id=Object(S.a)(Td,(function(e){var t=e.className,n=e.theme;return{root:[Object(b.N)(Pd,n).root,{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between",overflow:"hidden"},t]}}),void 0,{scope:"DocumentCardDetails"}),Dd=Object(w.a)(),Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.locationHref,r=e.ariaLabel,i=e.onClick,o=e.styles,a=e.theme,s=e.className;return this._classNames=Dd(o,{theme:a,className:s}),v.createElement("a",{className:this._classNames.root,href:n,onClick:i,"aria-label":r},t)},t}(O.a),Md=Object(S.a)(Ad,(function(e){var t=e.theme,n=e.className,r=t.palette;return{root:[Object(b.N)(vd,t).root,{fontSize:b.h.small,color:r.neutralPrimary,display:"block",padding:"8px 16px",position:"relative",textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",selectors:{":hover":{color:r.themePrimary,cursor:"pointer"}}},n]}}),void 0,{scope:"DocumentCardLocation"}),jd=Object(w.a)(),Rd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderPreviewList=function(e){var n=t.props.getOverflowDocumentCountText,r=e.length-3,i=r?n?n(r):"+"+r:null,o=e.slice(0,3).map((function(e,n){return v.createElement("li",{key:n},v.createElement(L,{className:t._classNames.fileListIcon,src:e.iconSrc,role:"presentation",alt:"",width:"16px",height:"16px"}),v.createElement(Qe,m.a({},(e.linkProps,{href:e.url||e.linkProps&&e.linkProps.href})),e.name))}));return v.createElement("div",null,v.createElement("ul",{className:t._classNames.fileList},o),i&&v.createElement("span",{className:t._classNames.fileListOverflowText},i))},t}return m.c(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.previewImages,i=n.styles,o=n.theme,a=n.className,s=r.length>1;return this._classNames=jd(i,{theme:o,className:a,isFileList:s}),r.length>1?t=this._renderPreviewList(r):1===r.length&&(t=this._renderPreviewImage(r[0]),r[0].accentColor&&(e={borderBottomColor:r[0].accentColor})),v.createElement("div",{className:this._classNames.root,style:e},t)},t.prototype._renderPreviewImage=function(e){var t=e.width,n=e.height,r=e.imageFit,i=e.previewIconProps,o=e.previewIconContainerClass;if(i)return v.createElement("div",{className:Object(z.a)(this._classNames.previewIcon,o),style:{width:t,height:n}},v.createElement(K,m.a({},i)));var a,s=v.createElement(L,{width:t,height:n,imageFit:r,src:e.previewImageSrc,role:"presentation",alt:""});return e.iconSrc&&(a=v.createElement(L,{className:this._classNames.icon,src:e.iconSrc,role:"presentation",alt:""})),v.createElement("div",null,s,a)},t}(O.a),Fd=Object(S.a)(Rd,(function(e){var t=e.theme,n=e.className,r=e.isFileList,i=t.palette,o=Object(b.N)(pd,t);return{root:[o.root,{borderBottom:"1px solid "+i.neutralLight,position:"relative",backgroundColor:r?i.white:i.neutralLighterAlt,overflow:"hidden"},n],previewIcon:[o.iconContainer,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}],icon:[o.icon,{left:"10px",bottom:"10px",position:"absolute"}],fileList:{padding:"16px 16px 0 16px",listStyleType:"none",margin:0,selectors:{li:{height:"16px",lineHeight:"16px",marginBottom:"8px",overflow:"hidden",paddingLeft:"24px",position:"relative",textOverflow:"ellipsis",whiteSpace:"nowrap"},a:{fontSize:b.h.small,textDecoration:"none",color:i.neutralDark,selectors:{":hover":{color:i.themePrimary}}}}},fileListIcon:{left:0,position:"absolute",top:0},fileListOverflowText:{padding:"0px 16px 8px 16px",display:"block",fontSize:b.h.small}}}),void 0,{scope:"DocumentCardPreview"}),Nd=Object(w.a)(),Ld=function(e){function t(t){var n=e.call(this,t)||this;return n._onImageLoad=function(){n.setState({imageHasLoaded:!0})},n.state={imageHasLoaded:!1},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.width,r=e.height,i=e.imageFit,o=e.imageSrc;return this._classNames=Nd(t,this.props),v.createElement("div",{className:this._classNames.root},o&&v.createElement(L,{width:n,height:r,imageFit:i,src:o,role:"presentation",alt:"",onLoad:this._onImageLoad}),this.state.imageHasLoaded?this._renderCornerIcon():this._renderCenterIcon())},t.prototype._renderCenterIcon=function(){var e=this.props.iconProps;return v.createElement("div",{className:this._classNames.centeredIconWrapper},v.createElement(K,m.a({className:this._classNames.centeredIcon},e)))},t.prototype._renderCornerIcon=function(){var e=this.props.iconProps;return v.createElement(K,m.a({className:this._classNames.cornerIcon},e))},t}(O.a),Bd=Object(S.a)(Ld,(function(e){var t=e.theme,n=e.className,r=e.height,i=e.width,o=t.palette;return{root:[{borderBottom:"1px solid "+o.neutralLight,position:"relative",backgroundColor:o.neutralLighterAlt,overflow:"hidden",height:r&&r+"px",width:i&&i+"px"},n],centeredIcon:[{height:"42px",width:"42px",fontSize:"42px"}],centeredIconWrapper:[{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",position:"absolute",top:0,left:0}],cornerIcon:[{left:"10px",bottom:"10px",height:"32px",width:"32px",fontSize:"32px",position:"absolute",overflow:"visible"}]}}),void 0,{scope:"DocumentCardImage"}),zd=Object(w.a)(),Ud=function(e){function t(t){var n=e.call(this,t)||this;return n._titleElement=v.createRef(),n._measureTitleElement=v.createRef(),n._truncateTitle=function(){n.state.needMeasurement&&n._async.requestAnimationFrame(n._truncateWhenInAnimation)},n._truncateWhenInAnimation=function(){var e=n.props.title,t=n._measureTitleElement.current;if(t){var r=getComputedStyle(t);if(r.width&&r.lineHeight&&r.height){var i=t.clientWidth,o=t.scrollWidth,a=Math.floor((parseInt(r.height,10)+5)/parseInt(r.lineHeight,10)),s=o/(parseInt(r.width,10)*a);if(s>1){var u=e.length/s-3;return n.setState({truncatedTitleFirstPiece:e.slice(0,u/2),truncatedTitleSecondPiece:e.slice(e.length-u/2),clientWidth:i,needMeasurement:!1})}}}return n.setState({needMeasurement:!1})},n._shrinkTitle=function(){var e=n.state,t=e.truncatedTitleFirstPiece,r=e.truncatedTitleSecondPiece;if(t&&r){var i=n._titleElement.current;if(!i)return;(i.scrollHeight>i.clientHeight+5||i.scrollWidth>i.clientWidth)&&n.setState({truncatedTitleFirstPiece:t.slice(0,t.length-1),truncatedTitleSecondPiece:r.slice(1)})}},n.state={truncatedTitleFirstPiece:"",truncatedTitleSecondPiece:"",previousTitle:t.title,needMeasurement:!!t.shouldTruncate},n}return m.c(t,e),t.prototype.componentDidUpdate=function(){this.props.title!==this.state.previousTitle&&this.setState({truncatedTitleFirstPiece:void 0,truncatedTitleSecondPiece:void 0,clientWidth:void 0,previousTitle:this.props.title,needMeasurement:!!this.props.shouldTruncate}),this._events.off(window,"resize",this._updateTruncation),this.props.shouldTruncate&&(this._truncateTitle(),requestAnimationFrame(this._shrinkTitle),this._events.on(window,"resize",this._updateTruncation))},t.prototype.componentDidMount=function(){this.props.shouldTruncate&&(this._truncateTitle(),this._events.on(window,"resize",this._updateTruncation))},t.prototype.componentWillUnmount=function(){this._events.off(window,"resize",this._updateTruncation)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.shouldTruncate,r=e.showAsSecondaryTitle,i=e.styles,o=e.theme,a=e.className,s=this.state,u=s.truncatedTitleFirstPiece,l=s.truncatedTitleSecondPiece,c=s.needMeasurement;return this._classNames=zd(i,{theme:o,className:a,showAsSecondaryTitle:r}),c?v.createElement("div",{className:this._classNames.root,ref:this._measureTitleElement,title:t,style:{whiteSpace:"nowrap"}},t):n&&u&&l?v.createElement("div",{className:this._classNames.root,ref:this._titleElement,title:t},u,"\u2026",l):v.createElement("div",{className:this._classNames.root,ref:this._titleElement,title:t},t)},t.prototype._updateTruncation=function(){var e=this;this._async.requestAnimationFrame((function(){if(e._titleElement.current){var t=e._titleElement.current.clientWidth;clearTimeout(e._titleTruncationTimer),e.state.clientWidth!==t&&(e._titleTruncationTimer=e._async.setTimeout((function(){return e.setState({truncatedTitleFirstPiece:void 0,truncatedTitleSecondPiece:void 0,needMeasurement:!0})}),250))}}))},t}(O.a),Hd=Object(S.a)(Ud,(function(e){var t=e.theme,n=e.className,r=e.showAsSecondaryTitle,i=t.palette,o=t.fonts;return{root:[Object(b.N)(md,t).root,r?o.medium:o.large,{padding:"8px 16px",display:"block",overflow:"hidden",wordWrap:"break-word",height:r?"45px":"38px",lineHeight:r?"18px":"21px",color:r?i.neutralSecondary:i.neutralPrimary},n]}}),void 0,{scope:"DocumentCardTitle"}),Vd=Object(w.a)(),Wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.logoIcon,n=e.styles,r=e.theme,i=e.className;return this._classNames=Vd(n,{theme:r,className:i}),v.createElement("div",{className:this._classNames.root},v.createElement(K,{iconName:t}))},t}(O.a),Gd={root:"ms-DocumentCardLogo"},Kd=Object(S.a)(Wd,(function(e){var t=e.theme,n=e.className,r=t.palette;return{root:[Object(b.N)(Gd,t).root,{fontSize:"32px",color:r.themePrimary,display:"block",padding:"16px 16px 0 16px"},n]}}),void 0,{scope:"DocumentCardLogo"}),qd=Object(w.a)(),Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.statusIcon,n=e.status,r=e.styles,i=e.theme,o=e.className,a={iconName:t,styles:{root:{padding:"8px"}}};return this._classNames=qd(r,{theme:i,className:o}),v.createElement("div",{className:this._classNames.root},t&&v.createElement(K,m.a({},a)),n)},t}(O.a),Xd={root:"ms-DocumentCardStatus"},Zd=Object(S.a)(Yd,(function(e){var t=e.className,n=e.theme,r=n.palette,i=n.fonts;return{root:[Object(b.N)(Xd,n).root,i.medium,{margin:"8px 16px",color:r.neutralPrimary,backgroundColor:r.neutralLighter,height:"32px"},t]}}),void 0,{scope:"DocumentCardStatus"}),Qd=n(180),$d=function(){function e(){this._size=0}return e.prototype.updateOptions=function(e){for(var t=[],n=0,r=0;r<e.length;r++)e[r].itemType===ku.Divider||e[r].itemType===ku.Header?t.push(r):n++;this._size=n,this._displayOnlyOptionsCache=t},Object.defineProperty(e.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.positionInSet=function(e){if(void 0!==e){for(var t=0;e>this._displayOnlyOptionsCache[t];)t++;if(this._displayOnlyOptionsCache[t]===e)throw new Error("Unexpected: Option at index "+e+" is not a selectable element.");return e-t+1}},e}();!function(e){e[e.smallFluid=0]="smallFluid",e[e.smallFixedFar=1]="smallFixedFar",e[e.smallFixedNear=2]="smallFixedNear",e[e.medium=3]="medium",e[e.large=4]="large",e[e.largeFixed=5]="largeFixed",e[e.extraLarge=6]="extraLarge",e[e.custom=7]="custom",e[e.customNear=8]="customNear"}(dd||(dd={}));var Jd,ef,tf,nf,rf,of,af,sf,uf,lf=Object(w.a)(),cf=function(e){function t(t){var n=e.call(this,t)||this;return n._panel=v.createRef(),n.dismiss=function(e){n._isOpen&&(n._isOpen=!1,n.props.onDismiss&&n.props.onDismiss(e),(!e||e&&!e.defaultPrevented)&&n.setState({isAnimating:!0},(function(){n._async.setTimeout(n._onTransitionComplete,200)})))},n._allowScrollOnPanel=function(e){e?Object(gt.b)(e,n._events):n._events.off(n._scrollableContent),n._scrollableContent=e},n._onRenderNavigation=function(e){if(!n.props.onRenderNavigationContent&&!n.props.onRenderNavigation&&!n.props.hasCloseButton)return null;var t=n.props.onRenderNavigationContent,r=void 0===t?n._onRenderNavigationContent:t;return v.createElement("div",{className:n._classNames.navigation},r(e,n._onRenderNavigationContent))},n._onRenderNavigationContent=function(e){var t=e.closeButtonAriaLabel,r=e.hasCloseButton,i=Object(b.S)();return r?v.createElement(fr,{styles:{root:{height:"auto",width:"44px",color:i.palette.neutralSecondary,fontSize:b.m.large},rootHovered:{color:i.palette.neutralPrimary}},className:n._classNames.closeButton,onClick:n._onPanelClick,ariaLabel:t,title:t,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}):null},n._onRenderHeader=function(e,t,r){var i=e.headerText;return i?v.createElement("div",{className:n._classNames.header},v.createElement("p",{className:n._classNames.headerText,id:r,role:"heading","aria-level":2},i)):null},n._onRenderBody=function(e){return v.createElement("div",{className:n._classNames.content},e.children)},n._onRenderFooter=function(e){var t=n.props.onRenderFooterContent,r=void 0===t?null:t;return r?v.createElement("div",{className:n._classNames.footer},v.createElement("div",{className:n._classNames.footerInner},r())):null},n._onPanelClick=function(e){n.dismiss(e)},n._onTransitionComplete=function(){n._updateFooterPosition(),n.setState({isAnimating:!1}),n._isOpen&&n.props.onOpened&&n.props.onOpened(),!n._isOpen&&n.props.onDismissed&&n.props.onDismissed()},n._warnDeprecations({ignoreExternalFocusing:"focusTrapZoneProps",forceFocusInsideTrap:"focusTrapZoneProps",firstFocusableSelector:"focusTrapZoneProps"}),n._isOpen=!!t.isOpen,n.state={isFooterSticky:!1,isAnimating:!1,id:Object(Oe.c)("Panel")},n}return m.c(t,e),t.prototype.componentDidMount=function(){this._events.on(window,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.open()},t.prototype.componentDidUpdate=function(e){var t=this._shouldListenForOuterClick(this.props),n=this._shouldListenForOuterClick(e);t&&!n?this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0):!t&&n&&this._events.off(document.body,"mousedown",this._dismissOnOuterClick,!0)},t.prototype.componentWillReceiveProps=function(e){e.isOpen!==this._isOpen&&(e.isOpen?this.open():this.dismiss())},t.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.elementToFocusOnDismiss,i=e.firstFocusableSelector,o=e.focusTrapZoneProps,a=e.forceFocusInsideTrap,s=e.hasCloseButton,u=e.headerText,l=e.headerClassName,c=void 0===l?"":l,d=e.ignoreExternalFocusing,f=e.isBlocking,h=e.isFooterAtBottom,p=e.isLightDismiss,g=e.isHiddenOnDismiss,b=e.layerProps,y=e.type,_=e.styles,x=e.theme,S=e.customWidth,w=e.onLightDismissClick,k=void 0===w?this._onPanelClick:w,O=e.onRenderNavigation,T=void 0===O?this._onRenderNavigation:O,P=e.onRenderHeader,I=void 0===P?this._onRenderHeader:P,D=e.onRenderBody,A=void 0===D?this._onRenderBody:D,M=e.onRenderFooter,j=void 0===M?this._onRenderFooter:M,R=this.state,F=R.isFooterSticky,N=R.isAnimating,L=R.id,B=y===dd.smallFixedNear||y===dd.customNear,z=Object(C.a)()?B:!B,U=u&&L+"-headerText",H=y===dd.custom||y===dd.customNear?{width:S}:{},V=Object(E.j)(this.props,E.h),W=this._isOpen;if(!W&&!N&&!g)return null;this._classNames=lf(_,{theme:x,className:n,focusTrapZoneClassName:o?o.className:void 0,hasCloseButton:s,headerClassName:c,isAnimating:N,isFooterSticky:F,isFooterAtBottom:h,isOnRightSide:z,isOpen:W,isHiddenOnDismiss:g,type:y});var G,K=this._classNames;f&&W&&(G=v.createElement(Uc,{className:K.overlay,isDarkThemed:!1,onClick:p?k:void 0}));var q=I(this.props,this._onRenderHeader,U);return v.createElement(On,m.a({},b),v.createElement(Qt,{role:"dialog","aria-modal":"true",ariaLabelledBy:q?U:void 0,onDismiss:this.dismiss,className:K.hiddenPanel},v.createElement("div",m.a({"aria-hidden":!W&&N},V,{ref:this._panel,className:K.root}),G,v.createElement(Ea,m.a({ignoreExternalFocusing:d,forceFocusInsideTrap:!(!f||g&&!W)&&a,firstFocusableSelector:i,isClickableOutsideFocusTrap:!0},o,{className:K.main,style:H,elementToFocusOnDismiss:r}),v.createElement("div",{className:K.commands,"data-is-visible":!0},T(this.props,this._onRenderNavigation)),v.createElement("div",{className:K.contentInner},q,v.createElement("div",{ref:this._allowScrollOnPanel,className:K.scrollableContent,"data-is-scrollable":!0},A(this.props,this._onRenderBody)),j(this.props,this._onRenderFooter))))))},t.prototype.open=function(){var e=this;this._isOpen||(this._isOpen=!0,this.setState({isAnimating:!0},(function(){e._async.setTimeout(e._onTransitionComplete,200)})),this.props.onOpen&&this.props.onOpen())},t.prototype._shouldListenForOuterClick=function(e){return!!e.isBlocking&&!!e.isOpen},t.prototype._updateFooterPosition=function(){var e=this._scrollableContent;if(e){var t=e.clientHeight,n=e.scrollHeight;this.setState({isFooterSticky:t<n})}},t.prototype._dismissOnOuterClick=function(e){var t=this._panel.current;this._isOpen&&t&&(Object(Ie.a)(t,e.target)||(this.props.onOuterClick?(this.props.onOuterClick(),e.preventDefault()):this.dismiss()))},t.defaultProps={isHiddenOnDismiss:!1,isOpen:!1,isBlocking:!0,hasCloseButton:!0,type:dd.smallFixedFar},t}(O.a),df={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},ff="100%",hf="auto",pf=272,gf=340,mf=592,vf=644,bf=940,yf="auto",_f=0,xf=48,Sf=428,wf=176,Cf=((Jd={})["@media (min-width: "+b.v+"px)"]={width:gf},Jd),kf=((ef={})["@media (min-width: "+b.u+"px)"]={width:mf},ef["@media (min-width: "+b.y+"px)"]={width:vf},ef),Ef=((tf={})["@media (min-width: "+b.x+"px)"]={left:xf,width:hf},tf["@media (min-width: "+b.z+"px)"]={left:Sf},tf),Of=((nf={})["@media (min-width: "+b.z+"px)"]={left:yf,width:bf},nf),Tf=((rf={})["@media (min-width: "+b.z+"px)"]={left:wf},rf),Pf=function(e){var t;switch(e){case dd.smallFixedFar:t=m.a({},Cf);break;case dd.medium:t=m.a({},Cf,kf);break;case dd.large:t=m.a({},Cf,kf,Ef);break;case dd.largeFixed:t=m.a({},Cf,kf,Ef,Of);break;case dd.extraLarge:t=m.a({},Cf,kf,Ef,Tf)}return t},If={paddingLeft:"16px",paddingRight:"16px",selectors:(of={},of["@media screen and (min-width: "+b.u+"px)"]={paddingLeft:"32px",paddingRight:"32px"},of["@media screen and (min-width: "+b.z+"px)"]={paddingLeft:"40px",paddingRight:"40px"},of)},Df=Object(S.a)(cf,(function(e){var t,n,r=e.className,i=e.focusTrapZoneClassName,o=e.hasCloseButton,a=e.headerClassName,s=e.isAnimating,u=e.isFooterSticky,l=e.isFooterAtBottom,c=e.isOnRightSide,d=e.isOpen,f=e.isHiddenOnDismiss,h=e.theme,p=e.type,g=void 0===p?dd.smallFixedFar:p,v=h.palette,y=Object(b.N)(df,h),_=g===dd.custom||g===dd.customNear;return{root:[y.root,h.fonts.medium,d&&y.isOpen,o&&y.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},_&&c&&y.custom,_&&!c&&y.customNear,r],overlay:[{pointerEvents:"auto",cursor:"pointer"},d&&s&&b.a.fadeIn100,!d&&s&&b.a.fadeOut100],hiddenPanel:[!d&&!s&&f&&{visibility:"hidden"}],main:[y.main,{backgroundColor:v.white,boxShadow:"0px 0px 30px 0px rgba(0,0,0,0.2)",pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:yf,right:_f,width:ff,selectors:m.a((t={},t[b.j]={borderLeft:"3px solid "+v.neutralLight,borderRight:"3px solid "+v.neutralLight},t),Pf(g))},g===dd.smallFluid&&{left:_f},g===dd.smallFixedNear&&{left:_f,right:yf,width:pf},g===dd.customNear&&{right:"auto",left:0},_&&{maxWidth:"100vw"},d&&s&&!c&&b.a.slideRightIn40,d&&s&&c&&b.a.slideLeftIn40,!d&&s&&!c&&b.a.slideLeftOut40,!d&&s&&c&&b.a.slideRightOut40,i],commands:[y.commands],navigation:[y.navigation,{padding:"0 5px",height:"44px",display:"flex",justifyContent:"flex-end"}],closeButton:[y.closeButton],contentInner:[y.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[y.header,If,{margin:"14px 0",flexGrow:0,selectors:(n={},n["@media (min-width: "+b.y+"px)"]={marginTop:"30px"},n)}],headerText:[y.headerText,b.e.xLarge,{color:v.neutralPrimary,lineHeight:"32px",margin:0},a],scrollableContent:[y.scrollableContent,{overflowY:"auto"},l&&{flexGrow:1}],content:[y.content,If,{marginBottom:0,paddingBottom:20}],footer:[y.footer,{flexGrow:0,borderTop:"1px solid transparent",transition:"opacity "+b.c.durationValue3+" "+b.c.easeFunction2},u&&{background:v.white,borderTopColor:v.neutralLight}],footerInner:[y.footerInner,If,{paddingBottom:"20px",paddingTop:"20px"}]}}),void 0,{scope:"Panel"}),Af=Object(w.a)(),Mf=function(e){function t(t){var n,r=e.call(this,t)||this;if(r._host=v.createRef(),r._focusZone=v.createRef(),r._dropDown=v.createRef(),r._scrollIdleDelay=250,r._sizePosCache=new $d,r._requestAnimationFrame=Object(Qd.a)(r),r._onChange=function(e,t,n,i,o){var a=r.props,s=a.onChange,u=a.onChanged;if(s){var l=o?m.a({},t[n],{selected:!i}):t[n];s(m.a({},e,{target:r._dropDown.current}),l,n)}u&&u(l=o?m.a({},t[n],{selected:!i}):t[n],n)},r._onRenderTitle=function(e){var t=r.props.multiSelectDelimiter,n=void 0===t?", ":t,i=e.map((function(e){return e.text})).join(n);return v.createElement("span",null,i)},r._onRenderPlaceholder=function(e){return r._placeholder?v.createElement("span",null,r._placeholder):null},r._onRenderContainer=function(e){var t=e.calloutProps,n=e.panelProps,i=r.props,o=i.responsiveMode,a=i.dropdownWidth,s=o<=it.medium,u=r._classNames.subComponentStyles?r._classNames.subComponentStyles.panel:void 0;return s?v.createElement(Df,m.a({isOpen:!0,isLightDismiss:!0,onDismissed:r._onDismiss,hasCloseButton:!1,styles:u},n),r._renderFocusableList(e)):v.createElement(Tn,m.a({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:$e.bottomLeftEdge},t,{className:r._classNames.callout,target:r._dropDown.current,onDismiss:r._onDismiss,onScroll:r._onScroll,onPositioned:r._onPositioned,calloutWidth:a||(r._dropDown.current?r._dropDown.current.clientWidth:0)}),r._renderFocusableList(e))},r._onRenderCaretDown=function(e){return v.createElement(K,{className:r._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},r._onRenderList=function(e){var t=e.onRenderItem,n=void 0===t?r._onRenderItem:t;return v.createElement(v.Fragment,null,e.options.map((function(e,t){return n(m.a({},e,{index:t}),r._onRenderItem)})))},r._onRenderItem=function(e){switch(e.itemType){case ku.Divider:return r._renderSeparator(e);case ku.Header:return r._renderHeader(e);default:return r._renderOption(e)}},r._renderOption=function(e){var t=r.props.onRenderOption,n=void 0===t?r._onRenderOption:t,i=r.state.selectedIndices,o=void 0===i?[]:i,a=r._id,s=!(void 0===e.index||!o)&&o.indexOf(e.index)>-1,u=e.hidden?r._classNames.dropdownItemHidden:s&&!0===e.disabled?r._classNames.dropdownItemSelectedAndDisabled:s?r._classNames.dropdownItemSelected:!0===e.disabled?r._classNames.dropdownItemDisabled:r._classNames.dropdownItem;return r.props.multiSelect?v.createElement(Fa,{id:a+"-list"+e.index,key:e.key,"data-index":e.index,"data-is-focusable":!e.disabled,disabled:e.disabled,onChange:r._onItemClick(e),inputProps:{onMouseEnter:r._onItemMouseEnter.bind(r,e),onMouseLeave:r._onMouseItemLeave.bind(r,e),onMouseMove:r._onItemMouseMove.bind(r,e)},label:e.text,title:e.title?e.title:e.text,onRenderLabel:r._onRenderLabel.bind(r,e),className:u,role:"option","aria-selected":s?"true":"false",checked:s}):v.createElement(ii,{id:a+"-list"+e.index,key:e.key,"data-index":e.index,"data-is-focusable":!e.disabled,disabled:e.disabled,className:u,onClick:r._onItemClick(e),onMouseEnter:r._onItemMouseEnter.bind(r,e),onMouseLeave:r._onMouseItemLeave.bind(r,e),onMouseMove:r._onItemMouseMove.bind(r,e),role:"option","aria-selected":s?"true":"false",ariaLabel:e.ariaLabel,title:e.title?e.title:e.text},n(e,r._onRenderOption))},r._onRenderOption=function(e){return v.createElement("span",{className:r._classNames.dropdownOptionText},e.text)},r._onRenderLabel=function(e){var t=r.props.onRenderOption;return(void 0===t?r._onRenderOption:t)(e,r._onRenderOption)},r._onPositioned=function(e){r._focusZone.current&&r._requestAnimationFrame((function(){var e=r.state.selectedIndices;if(e&&e[0]&&!r.props.options[e[0]].disabled){var t=Object(Pe.a)().querySelector("#"+r._id+"-list"+e[0]);r._focusZone.current.focusElement(t)}else r._focusZone.current.focus()})),r.state.calloutRenderEdge&&r.state.calloutRenderEdge===e.targetEdge||r.setState({calloutRenderEdge:e.targetEdge})},r._onItemClick=function(e){return function(t){e.disabled||(r.setSelectedIndex(t,e.index),r.props.multiSelect||r.setState({isOpen:!1}))}},r._onScroll=function(){r._isScrollIdle||void 0===r._scrollIdleTimeoutId?r._isScrollIdle=!1:(clearTimeout(r._scrollIdleTimeoutId),r._scrollIdleTimeoutId=void 0),r._scrollIdleTimeoutId=setTimeout((function(){r._isScrollIdle=!0}),r._scrollIdleDelay)},r._onMouseItemLeave=function(e,t){if(!r._shouldIgnoreMouseEvent()&&r._host.current)if(r._host.current.setActive)try{r._host.current.setActive()}catch(n){}else r._host.current.focus()},r._onDismiss=function(){r.setState({isOpen:!1}),r._dropDown.current&&r._dropDown.current.focus()},r._onDropdownBlur=function(e){r._isDisabled()||(r.setState({hasFocus:!1}),r.state.isOpen||r.props.onBlur&&r.props.onBlur(e))},r._onDropdownKeyDown=function(e){if(!r._isDisabled()&&(r._lastKeyDownWasAltOrMeta=r._isAltOrMeta(e),!r.props.onKeyDown||(r.props.onKeyDown(e),!e.defaultPrevented))){var t,n=r.state.selectedIndices.length?r.state.selectedIndices[0]:-1,i=e.altKey||e.metaKey,o=r.state.isOpen;switch(e.which){case ge.a.enter:r.setState({isOpen:!o});break;case ge.a.escape:if(!o)return;r.setState({isOpen:!1});break;case ge.a.up:if(i){if(o){r.setState({isOpen:!1});break}return}r.props.multiSelect?r.setState({isOpen:!0}):r._isDisabled()||(t=r._moveIndex(e,-1,n-1,n));break;case ge.a.down:i&&(e.stopPropagation(),e.preventDefault()),i&&!o||r.props.multiSelect?r.setState({isOpen:!0}):r._isDisabled()||(t=r._moveIndex(e,1,n+1,n));break;case ge.a.home:r.props.multiSelect||(t=r._moveIndex(e,1,0,n));break;case ge.a.end:r.props.multiSelect||(t=r._moveIndex(e,-1,r.props.options.length-1,n));break;case ge.a.space:break;default:return}t!==n&&(e.stopPropagation(),e.preventDefault())}},r._onDropdownKeyUp=function(e){if(!r._isDisabled()){var t=r._shouldHandleKeyUp(e),n=r.state.isOpen;if(!r.props.onKeyUp||(r.props.onKeyUp(e),!e.preventDefault)){switch(e.which){case ge.a.space:r.setState({isOpen:!n});break;default:return void(t&&n&&r.setState({isOpen:!1}))}e.stopPropagation(),e.preventDefault()}}},r._onZoneKeyDown=function(e){var t;r._lastKeyDownWasAltOrMeta=r._isAltOrMeta(e);var n=e.altKey||e.metaKey;switch(e.which){case ge.a.up:n?r.setState({isOpen:!1}):r._host.current&&(t=Object(Ce.h)(r._host.current,r._host.current.lastChild,!0));break;case ge.a.home:case ge.a.end:case ge.a.pageUp:case ge.a.pageDown:break;case ge.a.down:!n&&r._host.current&&(t=Object(Ce.e)(r._host.current,r._host.current.firstChild,!0));break;case ge.a.escape:r.setState({isOpen:!1});break;case ge.a.tab:return void r.setState({isOpen:!1});default:return}t&&t.focus(),e.stopPropagation(),e.preventDefault()},r._onZoneKeyUp=function(e){r._shouldHandleKeyUp(e)&&r.state.isOpen&&(r.setState({isOpen:!1}),e.preventDefault())},r._onDropdownClick=function(e){if(!r.props.onClick||(r.props.onClick(e),!e.preventDefault)){var t=r.state.isOpen;r._isDisabled()||r.setState({isOpen:!t})}},r._onFocus=function(e){var t=r.state,n=t.isOpen,i=t.selectedIndices,o=t.hasFocus,a=r.props,s=a.multiSelect,u=a.openOnKeyboardFocus;if(!r._isDisabled()){n||0!==i.length||s||r._moveIndex(e,1,0,-1),r.props.onFocus&&r.props.onFocus(e);var l={hasFocus:!0};u&&!o&&(l.isOpen=!0),r.setState(l)}},r._isDisabled=function(){var e=r.props.disabled,t=r.props.isDisabled;return void 0!==t&&(e=t),e},Object(Ee.a)(r),r._id=t.id||Object(Oe.c)("Dropdown"),r._isScrollIdle=!0,r.props.multiSelect){var i=void 0!==t.defaultSelectedKeys?t.defaultSelectedKeys:t.selectedKeys;n=r._getSelectedIndexes(t.options,i)}else{var o=void 0!==t.defaultSelectedKey?t.defaultSelectedKey:t.selectedKey;n=r._getSelectedIndexes(t.options,o),r._sizePosCache.updateOptions(t.options)}return r.state={isOpen:!1,selectedIndices:n,hasFocus:!1,calloutRenderEdge:void 0},r}return m.c(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){return Nu(this.props.options,this.state.selectedIndices)},enumerable:!0,configurable:!0}),t.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},t.prototype.componentWillReceiveProps=function(e){var t,n=e.options!==this.props.options;void 0===e[t=e.multiSelect?n&&void 0!==e.defaultSelectedKeys?"defaultSelectedKeys":"selectedKeys":n&&void 0!==e.defaultSelectedKey?"defaultSelectedKey":"selectedKey"]||e[t]===this.props[t]&&!n||this.setState({selectedIndices:this._getSelectedIndexes(e.options,e[t])}),e.options===this.props.options||e.multiSelect||this._sizePosCache.updateOptions(e.options)},t.prototype.componentDidUpdate=function(e,t){!0===t.isOpen&&!1===this.state.isOpen&&(this._gotMouseMove=!1,this._dropDown.current&&this._dropDown.current.focus(),this.props.onDismiss&&this.props.onDismiss())},t.prototype.render=function(){var e=this,t=this._id,n=this.props,r=n.className,i=n.label,o=n.options,a=n.ariaLabel,s=n.required,u=n.errorMessage,l=n.multiSelect,c=n.keytipProps,d=n.styles,f=n.theme,h=n.panelProps,p=n.calloutProps,g=n.onRenderTitle,b=void 0===g?this._onRenderTitle:g,y=n.onRenderContainer,_=void 0===y?this._onRenderContainer:y,x=n.onRenderCaretDown,S=void 0===x?this._onRenderCaretDown:x,w=this.state,C=w.isOpen,k=w.selectedIndices,O=w.hasFocus,T=w.calloutRenderEdge,P=n.onRenderPlaceholder||n.onRenderPlaceHolder||this._onRenderPlaceholder,I=Nu(o,k),D=Object(E.j)(n,E.h),A=this._isDisabled(),M=t+"-option",j=l||A?{role:void 0,ariaActiveDescendant:void 0,childRole:void 0,ariaSetSize:void 0,ariaPosInSet:void 0,ariaSelected:void 0}:{role:"listbox",ariaActiveDescendant:C&&1===k.length&&k[0]>=0?this._id+"-list"+k[0]:M,childRole:"option",ariaSetSize:this._sizePosCache.optionSetSize,ariaPosInSet:this._sizePosCache.positionInSet(k[0]),ariaSelected:void 0!==k[0]||void 0};this._classNames=Af(d,{theme:f,className:r,hasError:!!(u&&u.length>0),hasLabel:!!i,isOpen:C,required:s,disabled:A,isRenderingPlaceholder:!I.length,panelClassName:h?h.className:void 0,calloutClassName:p?p.className:void 0,calloutRenderEdge:T});var R=this._classNames.subComponentStyles?this._classNames.subComponentStyles.label:void 0;return v.createElement("div",{className:this._classNames.root},i&&v.createElement(Ba,{className:this._classNames.label,id:t+"-label",htmlFor:t,required:s,styles:R},i),v.createElement(qe,{keytipProps:c,disabled:A},(function(r){return v.createElement("div",m.a({},r,{"data-is-focusable":!A,ref:e._dropDown,id:t,tabIndex:A?-1:0,"aria-expanded":C?"true":"false",role:j.role,"aria-label":a,"aria-labelledby":i&&!a?t+"-label":void 0,"aria-describedby":Object(Be.a)(M,r["aria-describedby"]),"aria-activedescendant":C?j.ariaActiveDescendant:void 0,"aria-required":s,"aria-disabled":A,"aria-owns":C?t+"-list":void 0},D,{className:e._classNames.dropdown,onBlur:e._onDropdownBlur,onKeyDown:e._onDropdownKeyDown,onKeyUp:e._onDropdownKeyUp,onClick:e._onDropdownClick,onFocus:e._onFocus}),v.createElement("span",{id:M,className:e._classNames.title,"aria-atomic":!0,role:j.childRole,"aria-live":!O||A||l||C?"off":"assertive","aria-label":I.length?I[0].text:e._placeholder,"aria-setsize":j.ariaSetSize,"aria-posinset":j.ariaPosInSet,"aria-selected":j.ariaSelected},I.length?b(I,e._onRenderTitle):P(n,e._onRenderPlaceholder)),v.createElement("span",{className:e._classNames.caretDownWrapper},S(n,e._onRenderCaretDown)))})),C&&_(n,this._onRenderContainer),u&&u.length>0&&v.createElement("div",{className:this._classNames.errorMessage},u))},t.prototype.focus=function(e){this._dropDown.current&&-1!==this._dropDown.current.tabIndex&&(this._dropDown.current.focus(),e&&this.setState({isOpen:!0}))},t.prototype.setSelectedIndex=function(e,t){var n=this,r=this.props,i=r.options,o=r.selectedKey,a=r.selectedKeys,s=r.multiSelect,u=r.notifyOnReselect,l=this.state.selectedIndices,c=void 0===l?[]:l,d=!!c&&c.indexOf(t)>-1,f=[];if(t=Math.max(0,Math.min(i.length-1,t)),void 0===o&&void 0===a){if(s||u||t!==c[0]){if(s)if(f=c?this._copyArray(c):[],d){var h=f.indexOf(t);h>-1&&f.splice(h,1)}else f.push(t);else f=[t];e.persist(),this.setState({selectedIndices:f},(function(){n._onChange(e,i,t,d,s)}))}}else this._onChange(e,i,t,d,s)},Object.defineProperty(t.prototype,"_placeholder",{get:function(){return this.props.placeholder||this.props.placeHolder},enumerable:!0,configurable:!0}),t.prototype._copyArray=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(i)}return t},t.prototype._moveIndex=function(e,t,n,r){var i=this.props.options;if(r===n||0===i.length)return r;n<0&&(n=0),n>=i.length&&(n=i.length-1);for(var o=0;i[n].itemType===ku.Header||i[n].itemType===ku.Divider||i[n].disabled;){if(o>=i.length)return r;n+t<0?n=i.length:n+t>=i.length&&(n=-1),n+=t,o++}return this.setSelectedIndex(e,n),n},t.prototype._renderFocusableList=function(e){var t=e.onRenderList,n=void 0===t?this._onRenderList:t,r=e.label,i=e.ariaLabel,o=this._id;return v.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},v.createElement(Le,{ref:this._focusZone,direction:le.vertical,id:o+"-list",className:this._classNames.dropdownItems,"aria-label":i,"aria-labelledby":r&&!i?o+"-label":void 0,role:"listbox"},n(e,this._onRenderList)))},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key;return t>0?v.createElement("div",{role:"separator",key:n,className:this._classNames.dropdownDivider}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOption:t,r=e.key;return v.createElement("div",{key:r,className:this._classNames.dropdownItemHeader},n(e,this._onRenderOption))},t.prototype._onItemMouseEnter=function(e,t){this._shouldIgnoreMouseEvent()||t.currentTarget.focus()},t.prototype._onItemMouseMove=function(e,t){var n=t.currentTarget;this._gotMouseMove=!0,this._isScrollIdle&&document.activeElement!==n&&n.focus()},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._getSelectedIndexes=function(e,t){if(void 0===t)return this.props.multiSelect?this._getAllSelectedIndices(e):-1!==(o=this._getSelectedIndex(e,null))?[o]:[];if(!Array.isArray(t))return-1!==(o=this._getSelectedIndex(e,t))?[o]:[];for(var n=[],r=0,i=t;r<i.length;r++){var o,a=i[r];-1!==(o=this._getSelectedIndex(e,a))&&n.push(o)}return n},t.prototype._getAllSelectedIndices=function(e){return e.map((function(e,t){return e.selected?t:-1})).filter((function(e){return-1!==e}))},t.prototype._getSelectedIndex=function(e,t){return Object(Ue.e)(e,(function(e){return null!=t?e.key===t:!!e.isSelected||!!e.selected}))},t.prototype._isAltOrMeta=function(e){return e.which===ge.a.alt||"Meta"===e.key},t.prototype._shouldHandleKeyUp=function(e){var t=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(e);return this._lastKeyDownWasAltOrMeta=!1,!!t&&!(Object(Je.a)()||Object(et.a)())},t.defaultProps={options:[]},t=m.b([ct],t)}(v.Component),jf={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},Rf=((af={})[b.j+", "+b.l.replace("@media ","")]={MsHighContrastAdjust:"none"},af),Ff={selectors:m.a((sf={},sf[b.j]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",selectors:{":hover":{color:"HighlightText"}}},sf),Rf)},Nf={selectors:(uf={},uf[b.j]={borderColor:"Highlight"},uf)},Lf=Object(b.R)(0,b.v),Bf=Object(S.a)(Mf,(function(e){var t=e.theme,n=e.hasError,r=e.hasLabel,i=e.className,o=e.isOpen,a=e.disabled,s=e.required,u=e.isRenderingPlaceholder,l=e.panelClassName,c=e.calloutClassName;if(!t)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var d,f,h,p,g,v,y,_=Object(b.N)(jf,t),x=t.palette,S=t.semanticColors,w={color:S.menuItemTextHovered},C={color:S.bodySubtext},k={borderColor:S.errorText},E=[_.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"block",padding:"4px 16px",width:"100%",minHeight:32,lineHeight:20,height:"auto",position:"relative",border:"1px solid transparent",wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left"}],O=E.concat([{backgroundColor:x.neutralQuaternaryAlt,color:x.black},Ff]),T=E.concat([{color:S.disabledText,cursor:"default"}]);return{root:_.root,label:_.label,dropdown:[_.dropdown,b.ab,m.a({},t.fonts.medium,{color:S.menuItemText,position:"relative",outline:0,userSelect:"none",selectors:(d={},d["&:hover ."+_.title]=[!a&&w,{borderColor:x.neutralDark},Nf],d["&:focus ."+_.title]=[!a&&w,{borderColor:x.themePrimary},Ff],d["&:active ."+_.title]=[!a&&w,{borderColor:x.themeDark},Nf],d["&:hover ."+_.caretDown]=!a&&w,d["&:focus ."+_.caretDown]=[!a&&w,{selectors:m.a((f={},f[b.j]={color:"HighlightText"},f),Rf)}],d["&:active ."+_.caretDown]=!a&&w,d["&:hover ."+_.titleIsPlaceHolder]=C,d["&:focus ."+_.titleIsPlaceHolder]=C,d["&:active ."+_.titleIsPlaceHolder]=C,d["&:hover ."+_.titleHasError]=k,d["&:active ."+_.titleHasError]=k,d["&:focus ."+_.titleHasError]=k,d)}),i,o&&"is-open",a&&"is-disabled",s&&"is-required",s&&!r&&{selectors:(h={":after":{content:"'*'",color:S.errorText,position:"absolute",top:-5,right:-10}},h[b.j]={selectors:{":after":{right:-14}}},h)}],title:[_.title,b.ab,{backgroundColor:S.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:S.inputBorder,cursor:"pointer",display:"block",height:32,lineHeight:30,padding:"0 32px 0 12px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},u&&[_.titleIsPlaceHolder,{color:S.inputPlaceholderText}],n&&[_.titleHasError,k],a&&{backgroundColor:S.disabledBackground,border:"none",color:S.disabledText,cursor:"default",selectors:(p={},p[b.j]={border:"1px solid GrayText",color:"GrayText"},p)}],caretDownWrapper:[_.caretDownWrapper,{position:"absolute",top:1,right:12,height:32,lineHeight:30},!a&&{cursor:"pointer"}],caretDown:[_.caretDown,{color:S.bodySubtext,fontSize:b.h.small,pointerEvents:"none"},a&&{color:S.disabledText,selectors:(g={},g[b.j]={color:"GrayText"},g)}],errorMessage:m.a({color:S.errorText},t.fonts.small,{paddingTop:5}),callout:[_.callout,{boxShadow:"0 0 2px 0 rgba(0,0,0,0.2)",border:"1px solid "+S.variantBorder},c],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[_.dropdownItems,{display:"block"}],dropdownItem:E.concat([{selectors:(v={},v[b.j]={borderColor:"Window"},v["&:hover"]={color:"inherit"},v["&:focus"]={backgroundColor:S.listItemBackgroundHovered},v["&:active"]={backgroundColor:S.listHeaderBackgroundHovered,color:x.black},v)}]),dropdownItemSelected:O,dropdownItemDisabled:T,dropdownItemSelectedAndDisabled:[O,T,{backgroundColor:"transparent"}],dropdownItemHidden:E.concat([{display:"none"}]),dropdownDivider:[_.dropdownDivider,{height:1,backgroundColor:S.bodyDivider}],dropdownOptionText:[_.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:[_.dropdownItemHeader,m.a({},t.fonts.medium,{fontWeight:b.i.semibold,color:S.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:32,lineHeight:32,cursor:"default",padding:"0px 16px",userSelect:"none",textAlign:"left"})],subComponentStyles:{label:{root:{display:"inline-block"}},panel:{root:[l],main:{boxShadow:"-30px 0px 30px -30px rgba(0,0,0,0.2)",selectors:(y={},y[Lf]={width:272},y)},contentInner:{padding:"0 0 20px"}}}}}),void 0,{scope:"Dropdown"});Object(Ti.a)([{rawString:".pickerText_55459320{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid "},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:";min-width:180px;padding:1px;min-height:32px}.pickerText_55459320:hover{border-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.pickerInput_55459320{height:34px;border:none;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;padding:0 6px 0px;margin:1px}.pickerInput_55459320::-ms-clear{display:none}\n"}]);var zf,Uf,Hf="pickerText_55459320",Vf="pickerInput_55459320",Wf=i,Gf=function(e){function t(t){var n=e.call(this,t)||this;return n.floatingPicker=v.createRef(),n.selectedItemsList=v.createRef(),n.root=v.createRef(),n.input=v.createRef(),n.onSelectionChange=function(){n.forceUpdate()},n.onInputChange=function(e){n.setState({queryString:e}),n.floatingPicker.current&&n.floatingPicker.current.onQueryStringChanged(e)},n.onInputFocus=function(e){n.selectedItemsList.current&&n.selectedItemsList.current.unselectAll(),n.props.inputProps&&n.props.inputProps.onFocus&&n.props.inputProps.onFocus(e)},n.onInputClick=function(e){if(n.selectedItemsList.current&&n.selectedItemsList.current.unselectAll(),n.floatingPicker.current&&n.inputElement){var t=""===n.inputElement.value||n.inputElement.value!==n.floatingPicker.current.inputText;n.floatingPicker.current.showPicker(t)}},n.onBackspace=function(e){e.which===ge.a.backspace&&n.selectedItemsList.current&&n.items.length&&(n.input.current&&!n.input.current.isValueSelected&&n.input.current.inputElement===document.activeElement&&0===n.input.current.cursorLocation?(n.floatingPicker.current&&n.floatingPicker.current.hidePicker(),e.preventDefault(),n.selectedItemsList.current.removeItemAt(n.items.length-1),n._onSelectedItemsChanged()):n.selectedItemsList.current.hasSelectedItems()&&(n.floatingPicker.current&&n.floatingPicker.current.hidePicker(),e.preventDefault(),n.selectedItemsList.current.removeSelectedItems(),n._onSelectedItemsChanged()))},n.onCopy=function(e){n.selectedItemsList.current&&n.selectedItemsList.current.onCopy(e)},n.onPaste=function(e){if(n.props.onPaste){var t=e.clipboardData.getData("Text");e.preventDefault(),n.props.onPaste(t)}},n._onSuggestionSelected=function(e){var t=n.props.currentRenderedQueryString,r=n.state.queryString;if(void 0===t||t===r){var i=n.props.onItemSelected?n.props.onItemSelected(e):e;if(null===i)return;var o,a=i,s=i;s&&s.then?s.then((function(e){o=e,n._addProcessedItem(o)})):(o=a,n._addProcessedItem(o))}},n._onSelectedItemsChanged=function(){n.focus()},n.selection=new ll({onSelectionChanged:function(){return n.onSelectionChange()}}),n.state={queryString:"",suggestionItems:n.props.suggestionItems?n.props.suggestionItems:null,selectedItems:n.props.defaultSelectedItems?n.props.defaultSelectedItems:n.props.selectedItems?n.props.selectedItems:null},n.floatingPickerProps=n.props.floatingPickerProps,n.selectedItemsListProps=n.props.selectedItemsListProps,n}return m.c(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.selectedItems?this.state.selectedItems:this.selectedItemsList.current?this.selectedItemsList.current.items:null},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.componentWillReceiveProps=function(e){e.floatingPickerProps&&(this.floatingPickerProps=e.floatingPickerProps),e.selectedItemsListProps&&(this.selectedItemsListProps=e.selectedItemsListProps),e.selectedItems&&this.setState({selectedItems:e.selectedItems})},t.prototype.focus=function(){this.input.current&&this.input.current.focus()},t.prototype.clearInput=function(){this.input.current&&this.input.current.clear()},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input.current&&this.input.current.inputElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightedItems",{get:function(){return this.selectedItemsList.current?this.selectedItemsList.current.highlightedItems():[]},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.className,n=e.inputProps,r=e.disabled,i=e.focusZoneProps,o=this.floatingPicker.current&&-1!==this.floatingPicker.current.currentSelectedSuggestionIndex?"sug-"+this.floatingPicker.current.currentSelectedSuggestionIndex:void 0;return v.createElement("div",{ref:this.root,className:Object(z.a)("ms-BasePicker ms-BaseExtendedPicker",t||""),onKeyDown:this.onBackspace,onCopy:this.onCopy},v.createElement(Le,m.a({direction:le.bidirectional},i),v.createElement(vl,{selection:this.selection,selectionMode:qu.multiple},v.createElement("div",{className:Object(z.a)("ms-BasePicker-text",Wf.pickerText),role:"list"},this.props.headerComponent,this.renderSelectedItemsList(),this.canAddItems()&&v.createElement(me,m.a({},n,{className:Object(z.a)("ms-BasePicker-input",Wf.pickerInput),ref:this.input,onFocus:this.onInputFocus,onClick:this.onInputClick,onInputValueChange:this.onInputChange,"aria-activedescendant":o,"aria-owns":"suggestion-list","aria-expanded":!!this.floatingPicker.current&&this.floatingPicker.current.isSuggestionsShown,"aria-haspopup":"true",autoCapitalize:"off",autoComplete:"off",role:"combobox",disabled:r,onPaste:this.onPaste}))))),this.renderFloatingPicker())},t.prototype.canAddItems=function(){var e=this.props.itemLimit;return void 0===e||this.items.length<e},t.prototype.renderFloatingPicker=function(){var e=this.props.onRenderFloatingPicker;return v.createElement(e,m.a({componentRef:this.floatingPicker,onChange:this._onSuggestionSelected,inputElement:this.input.current?this.input.current.inputElement:void 0,selectedItems:this.items,suggestionItems:this.props.suggestionItems?this.props.suggestionItems:void 0},this.floatingPickerProps))},t.prototype.renderSelectedItemsList=function(){var e=this.props.onRenderSelectedItems;return v.createElement(e,m.a({componentRef:this.selectedItemsList,selection:this.selection,selectedItems:this.props.selectedItems?this.props.selectedItems:void 0,onItemsDeleted:this.props.selectedItems?this.props.onItemsRemoved:void 0},this.selectedItemsListProps))},t.prototype._addProcessedItem=function(e){this.props.onItemAdded&&this.props.onItemAdded(e),this.selectedItemsList.current&&this.selectedItemsList.current.addItems([e]),this.input.current&&this.input.current.clear(),this.floatingPicker.current&&this.floatingPicker.current.hidePicker(),this.focus()},t}(O.a),Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Gf),qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Kf),Yf="https://static2.sharepointonline.com/files/fabric/office-ui-fabric-react-assets/",Xf={choiceGroupBarUnselected:Yf+"choicegroup-bar-unselected.png",choiceGroupBarSelected:Yf+"choicegroup-bar-selected.png",choiceGroupPieUnselected:Yf+"choicegroup-pie-unselected.png",choiceGroupPieSelected:Yf+"choicegroup-pie-selected.png",documentPreview:Yf+"document-preview.png",documentPreviewTwo:Yf+"document-preview2.png",documentPreviewThree:Yf+"document-preview3.png",iconOne:Yf+"icon-one.png",iconPpt:Yf+"icon-ppt.png",personaFemale:Yf+"persona-female.png",personaMale:Yf+"persona-male.png"},Zf=[{key:1,imageUrl:Xf.personaFemale,imageInitials:"PV",text:"Annie Lindqvist",secondaryText:"Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:2,imageUrl:Xf.personaMale,imageInitials:"AR",text:"Aaron Reid",secondaryText:"Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:3,imageUrl:Xf.personaMale,imageInitials:"AL",text:"Alex Lundberg",secondaryText:"Software Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.dnd},{key:4,imageUrl:Xf.personaMale,imageInitials:"RK",text:"Roko Kolar",secondaryText:"Financial Analyst",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:5,imageUrl:Xf.personaMale,imageInitials:"CB",text:"Christian Bergqvist",secondaryText:"Sr. Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:6,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Valentina Lovric",secondaryText:"Design Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:7,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Maor Sharett",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.away},{key:8,imageUrl:Xf.personaFemale,imageInitials:"PV",text:"Anny Lindqvist",secondaryText:"Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:9,imageUrl:Xf.personaMale,imageInitials:"AR",text:"Aron Reid",secondaryText:"Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.dnd},{key:10,imageUrl:Xf.personaMale,imageInitials:"AL",text:"Alix Lundberg",secondaryText:"Software Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:11,imageUrl:Xf.personaMale,imageInitials:"RK",text:"Roko Kular",secondaryText:"Financial Analyst",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.none},{key:12,imageUrl:Xf.personaMale,imageInitials:"CB",text:"Christian Bergqvest",secondaryText:"Sr. Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:13,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Valintina Lovric",secondaryText:"Design Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:14,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Maor Sharet",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.blocked},{key:15,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Anny Lindqvest",secondaryText:"SDE",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.blocked},{key:16,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Alix Lunberg",secondaryText:"SE",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.away},{key:17,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Annie Lindqvest",secondaryText:"SDET",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:18,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Alixander Lundberg",secondaryText:"Senior Manager of SDET",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:19,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Anny Lundqvist",secondaryText:"Junior Manager of Software",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.away},{key:20,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Maor Shorett",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.blocked},{key:21,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Valentina Lovrics",secondaryText:"Design Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:22,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Maor Sharet",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:23,imageUrl:Xf.personaFemale,imageInitials:"VL",text:"Valentina Lovrecs",secondaryText:"Design Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.blocked},{key:24,imageUrl:Xf.personaMale,imageInitials:"MS",text:"Maor Sharitt",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:25,imageUrl:"./images/persona-male.png",imageInitials:"MS",text:"Maor Shariett",secondaryText:"Design Developer",tertiaryText:"In a meeting",optionalText:"Available at 3:00pm",isValid:!0,presence:P.online},{key:26,imageUrl:"./images/persona-female.png",imageInitials:"AL",text:"Alix Lundburg",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 3:00pm",isValid:!0,presence:P.away},{key:27,imageUrl:"./images/persona-female.png",imageInitials:"VL",text:"Valantena Lovric",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:28,imageUrl:"./images/persona-female.png",imageInitials:"VL",text:"Velatine Lourvric",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:29,imageUrl:"./images/persona-female.png",imageInitials:"VL",text:"Valentyna Lovrique",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:30,imageUrl:"./images/persona-female.png",imageInitials:"AL",text:"Annie Lindquest",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.dnd},{key:31,imageUrl:"./images/persona-female.png",imageInitials:"AL",text:"Anne Lindquist",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.blocked},{key:32,imageUrl:"./images/persona-female.png",imageInitials:"AL",text:"Ann Lindqiest",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:33,imageUrl:"./images/persona-male.png",imageInitials:"AR",text:"Aron Reid",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.away},{key:34,imageUrl:"./images/persona-male.png",imageInitials:"AR",text:"Aaron Reed",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:35,imageUrl:"./images/persona-female.png",imageInitials:"AL",text:"Alix Lindberg",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:36,imageUrl:"./images/persona-male.png",imageInitials:"AL",text:"Alan Lindberg",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.busy},{key:37,imageUrl:"./images/persona-male.png",imageInitials:"MS",text:"Maor Sharit",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.offline},{key:38,imageUrl:"./images/persona-male.png",imageInitials:"MS",text:"Maorr Sherit",secondaryText:"UX Designer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:39,imageUrl:"./images/persona-male.png",imageInitials:"AL",text:"Alex Lindbirg",secondaryText:"Software Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.dnd},{key:40,imageUrl:"./images/persona-male.png",imageInitials:"AL",text:"Alex Lindbarg",secondaryText:"Software Developer",tertiaryText:"In a meeting",optionalText:"Available at 4:00pm",isValid:!0,presence:P.online},{key:41,imageInitials:"GO",text:"Group One",canExpand:!0,isValid:!0},{key:42,imageInitials:"GT",text:"Group Two",canExpand:!0,isValid:!0}],Qf=Zf.slice(0,5),$f=Zf.slice(6,10),Jf=Zf.slice(11,16);(Uf=zf||(zf={}))[Uf.none=0]="none",Uf[Uf.descriptive=1]="descriptive",Uf[Uf.more=2]="more",Uf[Uf.downArrow=3]="downArrow";var eh=Object(y.b)((function(e,t,n){var r=lr(e),i=Object(b.F)(r,n);return m.a({},i,{root:[r.root,t,e.fonts.medium,n&&n.root]})})),th=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._skipComponentRefResolution=!0,t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,r=m.d(e,["className","styles"]),i=eh(this.props.theme,t,n);return v.createElement(ar,m.a({},r,{variantClassName:"ms-Button--facepile",styles:i,onRenderDescription:O.b}))},t=m.b([Object(xn.a)("FacepileButton",["theme","styles"],!0)],t)}(O.a),nh=Object(w.a)(),rh=function(e){function t(t){var n=e.call(this,t)||this;return n._warnDeprecations({primaryText:"text"}),n}return m.c(t,e),t.prototype.render=function(){var e=this._onRenderText(this._getText()),t=this._onRenderText(this.props.secondaryText),n=this._onRenderText(this.props.tertiaryText),r=this._onRenderText(this.props.optionalText),i=this.props,o=i.hidePersonaDetails,a=i.onRenderOptionalText,s=void 0===a?r:a,u=i.onRenderPrimaryText,l=void 0===u?e:u,c=i.onRenderSecondaryText,d=void 0===c?t:c,f=i.onRenderTertiaryText,h=void 0===f?n:f,p=this.props.size,g=this.props,b=g.allowPhoneInitials,y=g.className,_=g.coinProps,x=g.showUnknownPersonaCoin,S=g.coinSize,w=g.styles,C=g.imageAlt,k=g.imageInitials,O=g.imageShouldFadeIn,P=g.imageShouldStartVisible,I=g.imageUrl,D=g.initialsColor,A=g.isOutOfOffice,M=g.onPhotoLoadingStateChange,j=g.onRenderCoin,R=g.onRenderInitials,F=g.presence,N=g.presenceTitle,L=g.showInitialsUntilImageLoads,B=g.showSecondaryText,z=g.theme,U=m.a({allowPhoneInitials:b,showUnknownPersonaCoin:x,coinSize:S,imageAlt:C,imageInitials:k,imageShouldFadeIn:O,imageShouldStartVisible:P,imageUrl:I,initialsColor:D,onPhotoLoadingStateChange:M,onRenderCoin:j,onRenderInitials:R,presence:F,presenceTitle:N,showInitialsUntilImageLoads:L,size:p,text:this._getText(),isOutOfOffice:A},_),H=nh(w,{theme:z,className:y,showSecondaryText:B,presence:F,size:p}),V=Object(E.j)(this.props,E.h),W=v.createElement("div",{className:H.details},this._renderElement(H.primaryText,l,e),this._renderElement(H.secondaryText,d,t),this._renderElement(H.tertiaryText,h,n),this._renderElement(H.optionalText,s,r),this.props.children);return v.createElement("div",m.a({},V,{className:H.root,style:S?{height:S,minWidth:S}:void 0}),v.createElement(he,m.a({},U)),(!o||p===T.size10||p===T.tiny)&&W)},t.prototype._renderElement=function(e,t,n){return v.createElement("div",{dir:"auto",className:e},t&&t(this.props,n))},t.prototype._getText=function(){return this.props.text||this.props.primaryText||""},t.prototype._onRenderText=function(e){return e?function(){return v.createElement(Mr,{content:e,overflowMode:gr.Parent,directionalHint:$e.topLeftEdge},e)}:void 0},t.defaultProps={size:T.size48,presence:P.none,imageAlt:""},t}(O.a),ih={root:"ms-Persona",size10:"ms-Persona--size10",size16:"ms-Persona--size16",size24:"ms-Persona--size24",size28:"ms-Persona--size28",size32:"ms-Persona--size32",size40:"ms-Persona--size40",size48:"ms-Persona--size48",size72:"ms-Persona--size72",size100:"ms-Persona--size100",available:"ms-Persona--online",away:"ms-Persona--away",blocked:"ms-Persona--blocked",busy:"ms-Persona--busy",doNotDisturb:"ms-Persona--donotdisturb",offline:"ms-Persona--offline",details:"ms-Persona-details",primaryText:"ms-Persona-primaryText",secondaryText:"ms-Persona-secondaryText",tertiaryText:"ms-Persona-tertiaryText",optionalText:"ms-Persona-optionalText",textContent:"ms-Persona-textContent"},oh=Object(S.a)(rh,(function(e){var t=e.className,n=e.showSecondaryText,r=e.theme,i=r.palette,o=Object(b.N)(ih,r),a=Y(e.size),s=Z(e.presence),u={color:i.neutralSecondary,fontWeight:b.i.regular,fontSize:b.h.small};return{root:[o.root,r.fonts.medium,b.ab,{color:i.neutralPrimary,fontSize:b.h.medium,fontWeight:b.i.regular,position:"relative",height:D.size48,minWidth:D.size48,display:"flex",alignItems:"center",selectors:{".contextualHost":{display:"none"},":hover":{selectors:{$primaryText:{color:i.neutralDark}}}}},a.isSize10&&[o.size10,{height:D.size10,minWidth:D.size10}],a.isSize16&&[o.size16,{height:D.size16,minWidth:D.size16}],a.isSize24&&[o.size24,{height:D.size24,minWidth:D.size24}],a.isSize24&&n&&{height:"36px"},a.isSize28&&[o.size28,{height:D.size28,minWidth:D.size28}],a.isSize28&&n&&{height:"32px"},a.isSize32&&[o.size32,{height:D.size32,minWidth:D.size32}],a.isSize40&&[o.size40,{height:D.size40,minWidth:D.size40}],a.isSize48&&o.size48,a.isSize72&&[o.size72,{height:D.size72,minWidth:D.size72}],a.isSize100&&[o.size100,{height:D.size100,minWidth:D.size100}],s.isAvailable&&o.available,s.isAway&&o.away,s.isBlocked&&o.blocked,s.isBusy&&o.busy,s.isDoNotDisturb&&o.doNotDisturb,s.isOffline&&o.offline,t],details:[o.details,{padding:"0 24px 0 16px",minWidth:0,width:"100%",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"space-around"},a.isSize10&&{paddingLeft:"17px"},(a.isSize24||a.isSize28)&&{padding:"0 12px"}],primaryText:[o.primaryText,b.Z,{color:i.neutralPrimary,fontWeight:b.i.regular,fontSize:b.h.large},n&&{height:"16px",lineHeight:"16px",overflowX:"hidden"},a.isSize10&&{fontSize:b.h.small,lineHeight:D.size10},(a.isSize16||a.isSize24||a.isSize28||a.isSize32||a.isSize40)&&{fontSize:b.h.medium},a.isSize16&&{lineHeight:D.size28},(a.isSize24||a.isSize28||a.isSize32||a.isSize40)&&n&&{height:"18px"},a.isSize72&&{fontSize:b.h.xLarge},a.isSize100&&{fontSize:b.h.xLarge,fontWeight:b.i.semilight}],secondaryText:[o.secondaryText,b.Z,u,(a.isSize10||a.isSize16||a.isSize24||a.isSize28||a.isSize32)&&{display:"none"},a.isSize24&&n&&{height:"18px"},(a.isSize72||a.isSize100)&&{fontSize:b.h.medium},n&&{display:"block",height:"16px",lineHeight:"16px",overflowX:"hidden"}],tertiaryText:[o.tertiaryText,b.Z,u,{display:"none"},(a.isSize72||a.isSize100)&&{display:"block"}],optionalText:[o.optionalText,b.Z,u,{display:"none"},a.isSize100&&{display:"block"}],textContent:[o.textContent,b.Z]}}),void 0,{scope:"Persona"}),ah=Object(w.a)(),sh=function(e){function t(t){var n=e.call(this,t)||this;return n._classNames=ah(n.props.styles,{theme:n.props.theme,className:n.props.className}),n._getPersonaControl=function(e){var t=n.props,r=t.getPersonaProps,i=t.personaSize;return v.createElement(oh,m.a({imageInitials:e.imageInitials,imageUrl:e.imageUrl,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,text:e.personaName,size:i},r?r(e):null,{styles:{details:{flex:"1 0 auto"}}}))},n._getPersonaCoinControl=function(e){var t=n.props,r=t.getPersonaProps,i=t.personaSize;return v.createElement(he,m.a({imageInitials:e.imageInitials,imageUrl:e.imageUrl,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,text:e.personaName,size:i},r?r(e):null))},n._ariaDescriptionId=Object(Oe.c)(),n}return m.c(t,e),t.prototype.render=function(){var e=this.props.overflowButtonProps,t=this.props,n=t.chevronButtonProps,r=t.maxDisplayablePersonas,i=t.personas,o=t.overflowPersonas,a=t.showAddButton,s=this._classNames,u="number"===typeof r?Math.min(i.length,r):i.length;n&&!e&&(e=n);var l=o&&o.length>0,c=l?i:i.slice(0,u),d=(l?o:i.slice(u))||[];return v.createElement("div",{className:s.root},this.onRenderAriaDescription(),v.createElement("div",{className:s.itemContainer},a?this._getAddNewElement():null,v.createElement("ul",{className:s.members,role:"listbox"},this._onRenderVisiblePersonas(c,0===d.length&&1===i.length)),e?this._getOverflowElement(d):null))},t.prototype.onRenderAriaDescription=function(){var e=this.props.ariaDescription,t=this._classNames;return e&&v.createElement("span",{className:t.screenReaderOnly,id:this._ariaDescriptionId},e)},t.prototype._onRenderVisiblePersonas=function(e,t){var n=this,r=this.props,i=r.onRenderPersona,o=void 0===i?this._getPersonaControl:i,a=r.onRenderPersonaCoin,s=void 0===a?this._getPersonaCoinControl:a;return e.map((function(e,r){var i=t?o(e,n._getPersonaControl):s(e,n._getPersonaCoinControl);return v.createElement("li",{role:"option",key:(t?"persona":"personaCoin")+"-"+r,className:n._classNames.member},e.onClick?n._getElementWithOnClickEvent(i,e,r):n._getElementWithoutOnClickEvent(i,e,r))}))},t.prototype._getElementWithOnClickEvent=function(e,t,n){var r=t.keytipProps;return v.createElement(th,m.a({},Object(E.j)(t,E.e),this._getElementProps(t,n),{keytipProps:r,onClick:this._onPersonaClick.bind(this,t)}),e)},t.prototype._getElementWithoutOnClickEvent=function(e,t,n){return v.createElement("div",m.a({},Object(E.j)(t,E.e),this._getElementProps(t,n)),e)},t.prototype._getElementProps=function(e,t){var n=this._classNames;return{key:(e.imageUrl?"i":"")+t,"data-is-focusable":!0,role:"option",className:n.itemButton,title:e.personaName,onMouseMove:this._onPersonaMouseMove.bind(this,e),onMouseOut:this._onPersonaMouseOut.bind(this,e)}},t.prototype._getOverflowElement=function(e){switch(this.props.overflowButtonType){case zf.descriptive:return this._getDescriptiveOverflowElement(e);case zf.downArrow:return this._getIconElement("ChevronDown");case zf.more:return this._getIconElement("More");default:return null}},t.prototype._getDescriptiveOverflowElement=function(e){var t=this.props.personaSize;if(!e||e.length<1)return null;var n=e.map((function(e){return e.personaName})).join(", "),r=m.a({title:n},this.props.overflowButtonProps),i=Math.max(e.length,0),o=this._classNames;return v.createElement(th,m.a({},r,{ariaDescription:r.title,className:o.descriptiveOverflowButton}),v.createElement(he,{size:t,onRenderInitials:this._renderInitialsNotPictured(i),initialsColor:I.transparent}))},t.prototype._getIconElement=function(e){var t=this.props,n=t.overflowButtonProps,r=t.personaSize,i=this._classNames;return v.createElement(th,m.a({},n,{className:i.overflowButton}),v.createElement(he,{size:r,onRenderInitials:this._renderInitials(e,!0),initialsColor:I.transparent}))},t.prototype._getAddNewElement=function(){var e=this.props,t=e.addButtonProps,n=e.personaSize,r=this._classNames;return v.createElement(th,m.a({},t,{className:r.addButton}),v.createElement(he,{size:n,onRenderInitials:this._renderInitials("AddFriend")}))},t.prototype._onPersonaClick=function(e,t){e.onClick(t,e),t.preventDefault(),t.stopPropagation()},t.prototype._onPersonaMouseMove=function(e,t){e.onMouseMove&&e.onMouseMove(t,e)},t.prototype._onPersonaMouseOut=function(e,t){e.onMouseOut&&e.onMouseOut(t,e)},t.prototype._renderInitials=function(e,t){var n=this._classNames;return function(){return v.createElement(K,{iconName:e,className:t?n.overflowInitialsIcon:""})}},t.prototype._renderInitialsNotPictured=function(e){var t=this._classNames;return function(){return v.createElement("span",{className:t.overflowInitialsIcon},"+"+e)}},t.defaultProps={maxDisplayablePersonas:5,personas:[],overflowPersonas:[],personaSize:T.size32},t}(O.a),uh={root:"ms-Facepile",addButton:"ms-Facepile-addButton ms-Facepile-itemButton",descriptiveOverflowButton:"ms-Facepile-descriptiveOverflowButton ms-Facepile-itemButton",itemButton:"ms-Facepile-itemButton ms-Facepile-person",itemContainer:"ms-Facepile-itemContainer",members:"ms-Facepile-members",member:"ms-Facepile-member",overflowButton:"ms-Facepile-overflowButton ms-Facepile-itemButton"},lh=Object(S.a)(sh,(function(e){var t=e.className,n=e.theme,r=e.spacingAroundItemButton,i=void 0===r?2:r,o=n.palette,a=n.fonts,s=Object(b.N)(uh,n),u={textAlign:"center",padding:0,borderRadius:"50%",verticalAlign:"top",display:"inline",backgroundColor:"transparent",cursor:"pointer",border:"none",selectors:{"&::-moz-focus-inner":{padding:0,border:0}}};return{root:[s.root,n.fonts.medium,{width:"auto"},t],addButton:[s.addButton,Object(b.M)(n,{inset:-1}),u,{fontSize:a.medium.fontSize,color:o.white,backgroundColor:o.themePrimary,marginRight:2*i+"px",selectors:{"&:hover":{backgroundColor:o.themeDark},"&:focus":{backgroundColor:o.themeDark},"&:active":{backgroundColor:o.themeDarker},"&:disabled":{backgroundColor:o.neutralTertiaryAlt}}}],descriptiveOverflowButton:[s.descriptiveOverflowButton,Object(b.M)(n,{inset:-1}),u,{fontSize:a.small.fontSize,color:o.neutralSecondary,backgroundColor:o.neutralLight,marginLeft:2*i+"px"}],itemButton:[s.itemButton,u],itemContainer:[s.itemContainer,{display:"flex"}],members:[s.members,{display:"flex",overflow:"hidden",listStyleType:"none",padding:0,margin:"-"+i+"px"}],member:[s.member,{display:"inline-flex",flex:"0 0 auto",margin:i+"px"}],overflowButton:[s.overflowButton,Object(b.M)(n,{inset:-1}),u,{fontSize:a.medium.fontSize,color:o.neutralSecondary,backgroundColor:o.neutralLight,marginLeft:2*i+"px"}],overflowInitialsIcon:[{color:o.neutralPrimary}],screenReaderOnly:b.U}}),void 0,{scope:"Facepile"});Object(Ti.a)([{rawString:".callout_e8e64567 .ms-Suggestions-itemButton{padding:0px;border:none}.callout_e8e64567 .ms-Suggestions{min-width:300px}\n"}]);var ch="callout_e8e64567",dh=n(181);Object(Ti.a)([{rawString:".root_18d80577{min-width:260px}.suggestionsItem_18d80577{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative;overflow:hidden}.suggestionsItem_18d80577:hover{background:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:"}.suggestionsItem_18d80577:hover .closeButton_18d80577{display:block}.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577{background:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577:hover{background:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:"}@media screen and (-ms-high-contrast: active){.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577:hover{background:Highlight;color:HighlightText}}@media screen and (-ms-high-contrast: active){.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577{background:Highlight;color:HighlightText;-ms-high-contrast-adjust:none}}.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577 .closeButton_18d80577:hover{background:"},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#333333"},{rawString:"}@media screen and (-ms-high-contrast: active){.suggestionsItem_18d80577.suggestionsItemIsSuggested_18d80577 .itemButton_18d80577{color:HighlightText}}.suggestionsItem_18d80577 .closeButton_18d80577{display:none;color:"},{theme:"neutralSecondary",defaultValue:"#666666"},{rawString:"}.suggestionsItem_18d80577 .closeButton_18d80577:hover{background:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.actionButton_18d80577{background:none;background-color:transparent;border:0;cursor:pointer;margin:0;position:relative;border-top:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";height:40px;width:100%;font-size:12px}[dir='ltr'] .actionButton_18d80577{padding-left:8px}[dir='rtl'] .actionButton_18d80577{padding-right:8px}html[dir='ltr'] .actionButton_18d80577{text-align:left}html[dir='rtl'] .actionButton_18d80577{text-align:right}.actionButton_18d80577:hover{background-color:"},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:";cursor:pointer}.actionButton_18d80577:focus,.actionButton_18d80577:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.actionButton_18d80577 .ms-Button-icon{font-size:16px;width:25px}.actionButton_18d80577 .ms-Button-label{margin:0 4px 0 9px}html[dir='rtl'] .actionButton_18d80577 .ms-Button-label{margin:0 9px 0 4px}.buttonSelected_18d80577{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.suggestionsTitle_18d80577{padding:0 12px;color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";font-size:12px;line-height:40px;border-bottom:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.suggestionsContainer_18d80577{overflow-y:auto;overflow-x:hidden;max-height:300px;border-bottom:1px solid "},{theme:"neutralLight",defaultValue:"#eaeaea"},{rawString:"}.suggestionsNone_18d80577{text-align:center;color:#767676;font-size:12px;line-height:30px}.suggestionsSpinner_18d80577{margin:5px 0;white-space:nowrap;line-height:20px;font-size:12px}html[dir='ltr'] .suggestionsSpinner_18d80577{padding-left:14px}html[dir='rtl'] .suggestionsSpinner_18d80577{padding-right:14px}html[dir='ltr'] .suggestionsSpinner_18d80577{text-align:left}html[dir='rtl'] .suggestionsSpinner_18d80577{text-align:right}.suggestionsSpinner_18d80577 .ms-Spinner-circle{display:inline-block;vertical-align:middle}.suggestionsSpinner_18d80577 .ms-Spinner-label{display:inline-block;margin:0px 10px 0 16px;vertical-align:middle}html[dir='rtl'] .suggestionsSpinner_18d80577 .ms-Spinner-label{margin:0px 16px 0 10px}.itemButton_18d80577.itemButton_18d80577{width:100%;padding:0px;min-width:0;height:100%}@media screen and (-ms-high-contrast: active){.itemButton_18d80577.itemButton_18d80577{color:WindowText}}.itemButton_18d80577.itemButton_18d80577:hover{color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.closeButton_18d80577.closeButton_18d80577{padding:0 4px;height:auto;width:32px}@media screen and (-ms-high-contrast: active){.closeButton_18d80577.closeButton_18d80577{color:WindowText}}.closeButton_18d80577.closeButton_18d80577:hover{background:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c8c8"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#212121"},{rawString:"}.suggestionsAvailable_18d80577{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var fh="root_18d80577",hh="suggestionsItem_18d80577",ph="closeButton_18d80577",gh="suggestionsItemIsSuggested_18d80577",mh="itemButton_18d80577",vh="actionButton_18d80577",bh="buttonSelected_18d80577",yh="suggestionsTitle_18d80577",_h="suggestionsContainer_18d80577",xh="suggestionsNone_18d80577",Sh="suggestionsSpinner_18d80577",wh="suggestionsAvailable_18d80577",Ch=a,kh=Object(w.a)(),Eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.suggestionModel,r=t.RenderSuggestion,i=t.onClick,o=t.className,a=t.onRemoveItem,s=t.isSelectedOverride,u=t.removeButtonAriaLabel,l=t.styles,c=t.theme,d=l?kh(l,{theme:c,className:o,suggested:n.selected||s}):{root:Object(z.a)("ms-Suggestions-item",Ch.suggestionsItem,(e={},e["is-suggested "+Ch.suggestionsItemIsSuggested]=n.selected||s,e),o),itemButton:Object(z.a)("ms-Suggestions-itemButton",Ch.itemButton),closeButton:Object(z.a)("ms-Suggestions-closeButton",Ch.closeButton)};return v.createElement("div",{className:d.root},v.createElement(ii,{onClick:i,className:d.itemButton},r(n.item,this.props)),this.props.showRemoveButton?v.createElement(fr,{iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},title:u,ariaLabel:u,onClick:a,className:d.closeButton}):null)},t}(O.a);Object(Ti.a)([{rawString:".suggestionsContainer_54c57b9b{overflow-y:auto;overflow-x:hidden;max-height:300px}.suggestionsContainer_54c57b9b .ms-Suggestion-item:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";cursor:pointer}.suggestionsContainer_54c57b9b .is-suggested{background-color:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.suggestionsContainer_54c57b9b .is-suggested:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";cursor:pointer}\n"}]);var Oh="suggestionsContainer_54c57b9b",Th=s,Ph=function(e){function t(t){var n=e.call(this,t)||this;return n.SuggestionsItemOfProperType=Eh,n.currentIndex=-1,n}return m.c(t,e),t.prototype.nextSuggestion=function(){var e=this.props.suggestions;if(e&&e.length>0){if(-1===this.currentIndex)return this.setSelectedSuggestion(0),!0;if(this.currentIndex<e.length-1)return this.setSelectedSuggestion(this.currentIndex+1),!0;if(this.props.shouldLoopSelection&&this.currentIndex===e.length-1)return this.setSelectedSuggestion(0),!0}return!1},t.prototype.previousSuggestion=function(){var e=this.props.suggestions;if(e&&e.length>0){if(-1===this.currentIndex)return this.setSelectedSuggestion(e.length-1),!0;if(this.currentIndex>0)return this.setSelectedSuggestion(this.currentIndex-1),!0;if(this.props.shouldLoopSelection&&0===this.currentIndex)return this.setSelectedSuggestion(e.length-1),!0}return!1},Object.defineProperty(t.prototype,"selectedElement",{get:function(){return this._selectedElement},enumerable:!0,configurable:!0}),t.prototype.getCurrentItem=function(){return this.props.suggestions[this.currentIndex]},t.prototype.getSuggestionAtIndex=function(e){return this.props.suggestions[e]},t.prototype.hasSuggestionSelected=function(){return-1!==this.currentIndex&&this.currentIndex<this.props.suggestions.length},t.prototype.removeSuggestion=function(e){this.props.suggestions.splice(e,1)},t.prototype.deselectAllSuggestions=function(){this.currentIndex>-1&&this.props.suggestions[this.currentIndex]&&(this.props.suggestions[this.currentIndex].selected=!1,this.currentIndex=-1,this.forceUpdate())},t.prototype.setSelectedSuggestion=function(e){var t=this.props.suggestions;e>t.length-1||e<0?(this.currentIndex=0,this.currentSuggestion.selected=!1,this.currentSuggestion=t[0],this.currentSuggestion.selected=!0):(this.currentIndex>-1&&t[this.currentIndex]&&(t[this.currentIndex].selected=!1),t[e].selected=!0,this.currentIndex=e,this.currentSuggestion=t[e]),this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.scrollSelected()},t.prototype.render=function(){var e=this,t=this.props,n=t.onRenderSuggestion,r=t.suggestionsItemClassName,i=t.resultsMaximumNumber,o=t.showRemoveButtons,a=t.suggestionsContainerAriaLabel,s=this.SuggestionsItemOfProperType,u=this.props.suggestions;return i&&(u=u.slice(0,i)),v.createElement("div",{className:Object(z.a)("ms-Suggestions-container",Th.suggestionsContainer),id:"suggestion-list",role:"list","aria-label":a},u.map((function(t,i){return v.createElement("div",{ref:e._resolveRef(t.selected||i===e.currentIndex?"_selectedElement":""),key:t.item.key?t.item.key:i,id:"sug-"+i,role:"listitem","aria-label":t.ariaLabel},v.createElement(s,{id:"sug-item"+i,suggestionModel:t,RenderSuggestion:n,onClick:e._onClickTypedSuggestionsItem(t.item,i),className:r,showRemoveButton:o,onRemoveItem:e._onRemoveTypedSuggestionsItem(t.item,i),isSelectedOverride:i===e.currentIndex}))})))},t.prototype.scrollSelected=function(){this._selectedElement&&void 0!==this._selectedElement.scrollIntoView&&this._selectedElement.scrollIntoView(!1)},t.prototype._onClickTypedSuggestionsItem=function(e,t){var n=this;return function(r){n.props.onSuggestionClick(r,e,t)}},t.prototype._onRemoveTypedSuggestionsItem=function(e,t){var n=this;return function(r){(0,n.props.onSuggestionRemove)(r,e,t),r.stopPropagation()}},m.b([dh.a],t.prototype,"_onClickTypedSuggestionsItem",null),m.b([dh.a],t.prototype,"_onRemoveTypedSuggestionsItem",null),t}(O.a);Object(Ti.a)([{rawString:".root_084d4d9e{min-width:260px}.actionButton_084d4d9e{background:none;background-color:transparent;border:0;cursor:pointer;margin:0;padding:0px;position:relative;width:100%;font-size:12px}html[dir='ltr'] .actionButton_084d4d9e{text-align:left}html[dir='rtl'] .actionButton_084d4d9e{text-align:right}.actionButton_084d4d9e:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f4f4f4"},{rawString:";cursor:pointer}.actionButton_084d4d9e:focus,.actionButton_084d4d9e:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.actionButton_084d4d9e .ms-Button-icon{font-size:16px;width:25px}.actionButton_084d4d9e .ms-Button-label{margin:0 4px 0 9px}html[dir='rtl'] .actionButton_084d4d9e .ms-Button-label{margin:0 9px 0 4px}.buttonSelected_084d4d9e{background-color:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.buttonSelected_084d4d9e:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";cursor:pointer}.suggestionsTitle_084d4d9e{font-size:12px}.suggestionsSpinner_084d4d9e{margin:5px 0;white-space:nowrap;line-height:20px;font-size:12px}html[dir='ltr'] .suggestionsSpinner_084d4d9e{padding-left:14px}html[dir='rtl'] .suggestionsSpinner_084d4d9e{padding-right:14px}html[dir='ltr'] .suggestionsSpinner_084d4d9e{text-align:left}html[dir='rtl'] .suggestionsSpinner_084d4d9e{text-align:right}.suggestionsSpinner_084d4d9e .ms-Spinner-circle{display:inline-block;vertical-align:middle}.suggestionsSpinner_084d4d9e .ms-Spinner-label{display:inline-block;margin:0px 10px 0 16px;vertical-align:middle}html[dir='rtl'] .suggestionsSpinner_084d4d9e .ms-Spinner-label{margin:0px 16px 0 10px}.itemButton_084d4d9e{height:100%;width:100%;padding:7px 12px}@media screen and (-ms-high-contrast: active){.itemButton_084d4d9e{color:WindowText}}.screenReaderOnly_084d4d9e{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var Ih,Dh="root_084d4d9e",Ah="actionButton_084d4d9e",Mh="buttonSelected_084d4d9e",jh="suggestionsTitle_084d4d9e",Rh="suggestionsSpinner_084d4d9e",Fh="itemButton_084d4d9e",Nh="screenReaderOnly_084d4d9e",Lh=u;!function(e){e[e.header=0]="header",e[e.suggestion=1]="suggestion",e[e.footer=2]="footer"}(Ih||(Ih={}));var Bh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.renderItem,r=t.onExecute,i=t.isSelected,o=t.id,a=t.className;return r?v.createElement("div",{id:o,onClick:r,className:Object(z.a)("ms-Suggestions-sectionButton",a,Lh.actionButton,(e={},e["is-selected "+Lh.buttonSelected]=i,e))},n()):v.createElement("div",{id:o,className:Object(z.a)("ms-Suggestions-section",a,Lh.suggestionsTitle)},n())},t}(O.a),zh=function(e){function t(t){var n=e.call(this,t)||this;return n.SuggestionsOfProperType=Ph,n.state={selectedHeaderIndex:-1,selectedFooterIndex:-1,suggestions:t.suggestions},n}return m.c(t,e),t.prototype.componentDidMount=function(){this.resetSelectedItem()},t.prototype.componentDidUpdate=function(){this.scrollSelected()},t.prototype.componentWillReceiveProps=function(e){var t=this;e.suggestions&&this.setState({suggestions:e.suggestions},(function(){t.resetSelectedItem()}))},t.prototype.componentWillUnmount=function(){this._suggestions.deselectAllSuggestions()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.headerItemsProps,r=e.footerItemsProps;return v.createElement("div",{className:Object(z.a)("ms-Suggestions",t||"",Lh.root)},n&&this.renderHeaderItems(),this._renderSuggestions(),r&&this.renderFooterItems())},Object.defineProperty(t.prototype,"currentSuggestion",{get:function(){return this._suggestions&&this._suggestions.getCurrentItem()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSuggestionIndex",{get:function(){return this._suggestions?this._suggestions.currentIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedElement",{get:function(){return this._selectedElement?this._selectedElement:this._suggestions.selectedElement},enumerable:!0,configurable:!0}),t.prototype.hasSuggestionSelected=function(){return this._suggestions&&this._suggestions.hasSuggestionSelected()},t.prototype.hasSelection=function(){var e=this.state,t=e.selectedHeaderIndex,n=e.selectedFooterIndex;return-1!==t||this.hasSuggestionSelected()||-1!==n},t.prototype.executeSelectedAction=function(){var e=this.props,t=e.headerItemsProps,n=e.footerItemsProps,r=this.state,i=r.selectedHeaderIndex,o=r.selectedFooterIndex;if(t&&-1!==i&&i<t.length){var a=t[i];a.onExecute&&a.onExecute()}else if(this._suggestions.hasSuggestionSelected())this.props.completeSuggestion();else if(n&&-1!==o&&o<n.length){var s=n[o];s.onExecute&&s.onExecute()}},t.prototype.removeSuggestion=function(e){this._suggestions.removeSuggestion(e||this._suggestions.currentIndex)},t.prototype.handleKeyDown=function(e){var t=this.state,n=t.selectedHeaderIndex,r=t.selectedFooterIndex,i=!1;return e===ge.a.down?-1!==n||this._suggestions.hasSuggestionSelected()||-1!==r?-1!==n?(this.selectNextItem(Ih.header),i=!0):this._suggestions.hasSuggestionSelected()?(this.selectNextItem(Ih.suggestion),i=!0):-1!==r&&(this.selectNextItem(Ih.footer),i=!0):this.selectFirstItem():e===ge.a.up?-1!==n||this._suggestions.hasSuggestionSelected()||-1!==r?-1!==n?(this.selectPreviousItem(Ih.header),i=!0):this._suggestions.hasSuggestionSelected()?(this.selectPreviousItem(Ih.suggestion),i=!0):-1!==r&&(this.selectPreviousItem(Ih.footer),i=!0):this.selectLastItem():e!==ge.a.enter&&e!==ge.a.tab||this.hasSelection()&&(this.executeSelectedAction(),i=!0),i},t.prototype.scrollSelected=function(){this._selectedElement&&this._selectedElement.scrollIntoView(!1)},t.prototype.renderHeaderItems=function(){var e=this,t=this.props,n=t.headerItemsProps,r=t.suggestionsHeaderContainerAriaLabel,i=this.state.selectedHeaderIndex;return n?v.createElement("div",{className:Object(z.a)("ms-Suggestions-headerContainer",Lh.suggestionsContainer),id:"suggestionHeader-list",role:"list","aria-label":r},n.map((function(t,n){var r=-1!==i&&i===n;return t.shouldShow()?v.createElement("div",{ref:e._resolveRef(r?"_selectedElement":""),id:"sug-header"+n,key:"sug-header"+n,role:"listitem","aria-label":t.ariaLabel},v.createElement(Bh,{id:"sug-header-item"+n,isSelected:r,renderItem:t.renderItem,onExecute:t.onExecute,className:t.className})):null}))):null},t.prototype.renderFooterItems=function(){var e=this,t=this.props,n=t.footerItemsProps,r=t.suggestionsFooterContainerAriaLabel,i=this.state.selectedFooterIndex;return n?v.createElement("div",{className:Object(z.a)("ms-Suggestions-footerContainer",Lh.suggestionsContainer),id:"suggestionFooter-list",role:"list","aria-label":r},n.map((function(t,n){var r=-1!==i&&i===n;return t.shouldShow()?v.createElement("div",{ref:e._resolveRef(r?"_selectedElement":""),id:"sug-footer"+n,key:"sug-footer"+n,role:"listitem","aria-label":t.ariaLabel},v.createElement(Bh,{id:"sug-footer-item"+n,isSelected:r,renderItem:t.renderItem,onExecute:t.onExecute,className:t.className})):null}))):null},t.prototype._renderSuggestions=function(){var e=this.SuggestionsOfProperType;return v.createElement(e,m.a({ref:this._resolveRef("_suggestions")},this.props,{suggestions:this.state.suggestions}))},t.prototype.selectNextItem=function(e,t){if(e!==t){var n=void 0!==t?t:e;this._selectNextItemOfItemType(e,n===e?this._getCurrentIndexForType(e):void 0)||this.selectNextItem(this._getNextItemSectionType(e),n)}else this._selectNextItemOfItemType(e)},t.prototype.selectPreviousItem=function(e,t){if(e!==t){var n=void 0!==t?t:e;this._selectPreviousItemOfItemType(e,n===e?this._getCurrentIndexForType(e):void 0)||this.selectPreviousItem(this._getPreviousItemSectionType(e),n)}else this._selectPreviousItemOfItemType(e)},t.prototype.resetSelectedItem=function(){this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),this._suggestions.deselectAllSuggestions(),(void 0===this.props.shouldSelectFirstItem||this.props.shouldSelectFirstItem())&&this.selectFirstItem()},t.prototype.selectFirstItem=function(){this._selectNextItemOfItemType(Ih.header)||this._selectNextItemOfItemType(Ih.suggestion)||this._selectNextItemOfItemType(Ih.footer)},t.prototype.selectLastItem=function(){this._selectPreviousItemOfItemType(Ih.footer)||this._selectPreviousItemOfItemType(Ih.suggestion)||this._selectPreviousItemOfItemType(Ih.header)},t.prototype._selectNextItemOfItemType=function(e,t){if(void 0===t&&(t=-1),e===Ih.suggestion){if(this.state.suggestions.length>t+1)return this._suggestions.setSelectedSuggestion(t+1),this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),!0}else{var n=e===Ih.header,r=n?this.props.headerItemsProps:this.props.footerItemsProps;if(r&&r.length>t+1)for(var i=t+1;i<r.length;i++){var o=r[i];if(o.onExecute&&o.shouldShow())return this.setState({selectedHeaderIndex:n?i:-1}),this.setState({selectedFooterIndex:n?-1:i}),this._suggestions.deselectAllSuggestions(),!0}}return!1},t.prototype._selectPreviousItemOfItemType=function(e,t){if(e===Ih.suggestion){if((n=void 0!==t?t:this.state.suggestions.length)>0)return this._suggestions.setSelectedSuggestion(n-1),this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),!0}else{var n,r=e===Ih.header,i=r?this.props.headerItemsProps:this.props.footerItemsProps;if(i)if((n=void 0!==t?t:i.length)>0)for(var o=n-1;o>=0;o--){var a=i[o];if(a.onExecute&&a.shouldShow())return this.setState({selectedHeaderIndex:r?o:-1}),this.setState({selectedFooterIndex:r?-1:o}),this._suggestions.deselectAllSuggestions(),!0}}return!1},t.prototype._getCurrentIndexForType=function(e){switch(e){case Ih.header:return this.state.selectedHeaderIndex;case Ih.suggestion:return this._suggestions.currentIndex;case Ih.footer:return this.state.selectedFooterIndex}},t.prototype._getNextItemSectionType=function(e){switch(e){case Ih.header:return Ih.suggestion;case Ih.suggestion:return Ih.footer;case Ih.footer:return Ih.header}},t.prototype._getPreviousItemSectionType=function(e){switch(e){case Ih.header:return Ih.footer;case Ih.suggestion:return Ih.header;case Ih.footer:return Ih.suggestion}},t}(O.a),Uh=o,Hh=function(e){function t(t){var n=e.call(this,t)||this;return n.root=v.createRef(),n.suggestionsControl=v.createRef(),n.SuggestionsControlOfProperType=zh,n.isComponentMounted=!1,n.onQueryStringChanged=function(e){e!==n.state.queryString&&(n.setState({queryString:e}),n.props.onInputChanged&&n.props.onInputChanged(e),n.updateValue(e))},n.hidePicker=function(){n.props.onSuggestionsHidden&&n.isSuggestionsShown&&n.props.onSuggestionsHidden(),n.setState({suggestionsVisible:!1})},n.showPicker=function(e){void 0===e&&(e=!1),n.props.onSuggestionsShown&&!n.isSuggestionsShown&&n.props.onSuggestionsShown(),n.setState({suggestionsVisible:!0});var t=n.props.inputElement?n.props.inputElement.value:"";e&&n.updateValue(t)},n.completeSuggestion=function(){n.suggestionsControl.current&&n.suggestionsControl.current.hasSuggestionSelected()&&n.onChange(n.suggestionsControl.current.currentSuggestion.item)},n.onSuggestionClick=function(e,t,r){n.onChange(t),n._updateSuggestionsVisible(!1)},n.onSuggestionRemove=function(e,t,r){n.props.onRemoveSuggestion&&n.props.onRemoveSuggestion(t),n.suggestionsControl.current&&n.suggestionsControl.current.removeSuggestion(r)},n.onKeyDown=function(e){if(n.state.suggestionsVisible&&(!n.props.inputElement||n.props.inputElement.contains(e.target))){var t=e.which;switch(t){case ge.a.escape:n.hidePicker(),e.preventDefault(),e.stopPropagation();break;case ge.a.tab:case ge.a.enter:!e.shiftKey&&!e.ctrlKey&&n.suggestionsControl.current&&n.suggestionsControl.current.handleKeyDown(t)?(e.preventDefault(),e.stopPropagation()):n._onValidateInput();break;case ge.a.del:n.props.onRemoveSuggestion&&n.suggestionsControl.current&&n.suggestionsControl.current.hasSuggestionSelected&&n.suggestionsControl.current.currentSuggestion&&e.shiftKey&&(n.props.onRemoveSuggestion(n.suggestionsControl.current.currentSuggestion.item),n.suggestionsControl.current.removeSuggestion(),n.forceUpdate(),e.stopPropagation());break;case ge.a.up:case ge.a.down:n.suggestionsControl.current&&n.suggestionsControl.current.handleKeyDown(t)&&(e.preventDefault(),e.stopPropagation(),n._updateActiveDescendant())}}},n._onValidateInput=function(){if(n.state.queryString&&n.props.onValidateInput&&n.props.createGenericItem){var e=n.props.createGenericItem(n.state.queryString,n.props.onValidateInput(n.state.queryString)),t=n.suggestionStore.convertSuggestionsToSuggestionItems([e]);n.onChange(t[0].item)}},n.suggestionStore=t.suggestionsStore,n.state={queryString:"",didBind:!1},n}return m.c(t,e),Object.defineProperty(t.prototype,"inputText",{get:function(){return this.state.queryString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suggestions",{get:function(){return this.suggestionStore.suggestions},enumerable:!0,configurable:!0}),t.prototype.forceResolveSuggestion=function(){this.suggestionsControl.current&&this.suggestionsControl.current.hasSuggestionSelected()?this.completeSuggestion():this._onValidateInput()},Object.defineProperty(t.prototype,"currentSelectedSuggestionIndex",{get:function(){return this.suggestionsControl.current?this.suggestionsControl.current.currentSuggestionIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSuggestionsShown",{get:function(){return void 0!==this.state.suggestionsVisible&&this.state.suggestionsVisible},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._bindToInputElement(),this.isComponentMounted=!0,this._onResolveSuggestions=this._async.debounce(this._onResolveSuggestions,this.props.resolveDelay)},t.prototype.componentDidUpdate=function(){this._bindToInputElement()},t.prototype.componentWillUnmount=function(){this._unbindFromInputElement(),this.isComponentMounted=!1},t.prototype.componentWillReceiveProps=function(e){e.suggestionItems&&this.updateSuggestions(e.suggestionItems)},t.prototype.updateSuggestions=function(e,t){void 0===t&&(t=!1),this.suggestionStore.updateSuggestions(e),t&&this.forceUpdate()},t.prototype.render=function(){var e=this.props.className;return v.createElement("div",{ref:this.root,className:Object(z.a)("ms-BasePicker ms-BaseFloatingPicker",e||"")},this.renderSuggestions())},t.prototype.renderSuggestions=function(){var e=this.SuggestionsControlOfProperType;return this.state.suggestionsVisible?v.createElement(Tn,{className:Uh.callout,isBeakVisible:!1,gapSpace:5,target:this.props.inputElement,onDismiss:this.hidePicker,directionalHint:$e.bottomLeftEdge,directionalHintForRTL:$e.bottomRightEdge,calloutWidth:this.props.calloutWidth?this.props.calloutWidth:0},v.createElement(e,m.a({onRenderSuggestion:this.props.onRenderSuggestionsItem,onSuggestionClick:this.onSuggestionClick,onSuggestionRemove:this.onSuggestionRemove,suggestions:this.suggestionStore.getSuggestions(),componentRef:this.suggestionsControl,completeSuggestion:this.completeSuggestion,shouldLoopSelection:!1},this.props.pickerSuggestionsProps))):null},t.prototype.onSelectionChange=function(){this.forceUpdate()},t.prototype.updateValue=function(e){""===e?this.updateSuggestionWithZeroState():this._onResolveSuggestions(e)},t.prototype.updateSuggestionWithZeroState=function(){if(this.props.onZeroQuerySuggestion){var e=(0,this.props.onZeroQuerySuggestion)(this.props.selectedItems);this.updateSuggestionsList(e)}else this.hidePicker()},t.prototype.updateSuggestionsList=function(e){var t=this,n=e,r=e;if(Array.isArray(n))this.updateSuggestions(n,!0);else if(r&&r.then){var i=this.currentPromise=r;i.then((function(e){i===t.currentPromise&&t.isComponentMounted&&t.updateSuggestions(e,!0)}))}},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype._updateActiveDescendant=function(){if(this.props.inputElement&&this.suggestionsControl.current&&this.suggestionsControl.current.selectedElement){var e=this.suggestionsControl.current.selectedElement.getAttribute("id");e&&this.props.inputElement.setAttribute("aria-activedescendant",e)}},t.prototype._onResolveSuggestions=function(e){var t=this.props.onResolveSuggestions(e,this.props.selectedItems);this._updateSuggestionsVisible(!0),null!==t&&this.updateSuggestionsList(t)},t.prototype._updateSuggestionsVisible=function(e){e?this.showPicker():this.hidePicker()},t.prototype._bindToInputElement=function(){this.props.inputElement&&!this.state.didBind&&(this.props.inputElement.addEventListener("keydown",this.onKeyDown),this.setState({didBind:!0}))},t.prototype._unbindFromInputElement=function(){this.props.inputElement&&this.state.didBind&&(this.props.inputElement.removeEventListener("keydown",this.onKeyDown),this.setState({didBind:!1}))},t}(O.a);Object(Ti.a)([{rawString:".resultContent_77ff388a{display:table-row}.resultContent_77ff388a .resultItem_77ff388a{display:table-cell;vertical-align:bottom}.peoplePickerPersona_77ff388a{width:180px}.peoplePickerPersona_77ff388a .ms-Persona-details{width:100%}.peoplePicker_77ff388a .ms-BasePicker-text{min-height:40px}.peoplePickerPersonaContent_77ff388a{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:7px 12px}\n"}]);var Vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Hh),Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.defaultProps={onRenderSuggestionsItem:function(e,t){return n=m.a({},e),m.a({},t),v.createElement("div",{className:Object(z.a)("ms-PeoplePicker-personaContent","peoplePickerPersonaContent_77ff388a")},v.createElement(oh,m.a({presence:void 0!==n.presence?n.presence:P.none,size:T.size40,className:Object(z.a)("ms-PeoplePicker-Persona","peoplePickerPersona_77ff388a"),showSecondaryText:!0},n)));var n},createGenericItem:Gh},t}(Vh);function Gh(e,t){var n={key:e,primaryText:e,imageInitials:"!",isValid:t};return t||(n.imageInitials=Object(k.a)(e,Object(C.a)())),n}var Kh=function(){function e(e){var t=this;this._isSuggestionModel=function(e){return void 0!==e.item},this._ensureSuggestionModel=function(e){return t._isSuggestionModel(e)?e:{item:e,selected:!1,ariaLabel:void 0!==t.getAriaLabel?t.getAriaLabel(e):e.name||e.primaryText}},this.suggestions=[],this.getAriaLabel=e&&e.getAriaLabel}return e.prototype.updateSuggestions=function(e){e&&e.length>0?this.suggestions=this.convertSuggestionsToSuggestionItems(e):this.suggestions=[]},e.prototype.getSuggestions=function(){return this.suggestions},e.prototype.getSuggestionAtIndex=function(e){return this.suggestions[e]},e.prototype.removeSuggestion=function(e){this.suggestions.splice(e,1)},e.prototype.convertSuggestionsToSuggestionItems=function(e){return Array.isArray(e)?e.map(this._ensureSuggestionModel):[]},e}(),qh=n(67),Yh=n(58),Xh=m.a;function Zh(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e;if(i.isSlot){var o=v.Children.count(n);return 0===o?i(t):(n=v.Children.toArray(n),i(m.a({},t,{children:n})))}return v.createElement.apply(v,[e,t].concat(n))}function Qh(e,t){void 0===t&&(t={});var n=t.defaultProp,r=void 0===n?"children":n;return function(t,n,i){if(v.isValidElement(n))return n;if("function"===typeof n){return n((function(n,o){var a=ep(r,o);return a=tp(i,t,a),n(e,a)}))}n=ep(r,n);var o=tp(i,t,n);return v.createElement(e,m.a({},o))}}var $h=Object(y.b)((function(e){return Qh(e)}));function Jh(e,t){var n={},r=e,i=function(e){if(t.hasOwnProperty(e)){var i=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(i.length>0)throw new Error("Any module using getSlots must use withSlots. Please see withSlots javadoc for more info.");return np(t[e],n,r[e],r._defaultStyles&&r._defaultStyles[e])};i.isSlot=!0,n[e]=i}};for(var o in t)i(o);return n}function ep(e,t){return"string"!==typeof t&&"number"!==typeof t&&"boolean"!==typeof t||((n={})[e]=t,t=n),t;var n}function tp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r={},i=[],o=0,a=t;o<a.length;o++){var s=a[o];i.push(s&&s.className),Xh.apply(void 0,[r].concat(s))}return r.className=Object(b.Y)(e,i),r}function np(e,t,n,r){return void 0!==e.create?e.create(t,n,r):$h(e)(t,n,r)}function rp(e){var t=e.factoryOptions,n=(void 0===t?{}:t).defaultProp,r=function(t){return v.createElement(qh.a.Consumer,null,(function(n){var r=function(e,t,n){return Yh.a.getSettings(n||["theme","styles","tokens"],e,t.customizations)}(e.displayName,n,e.fields),i=function(n){var i=n?m.a({},t,n):t,o=i.theme||r.theme,a=function e(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];u&&(u="function"===typeof u?u(t,n):u,Array.isArray(u)&&(u=e.apply(void 0,[t,n].concat(u))),Xh.apply(void 0,[o].concat(u)))}return o}(i,o,e.tokens,r.tokens,i.tokens),s=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return b.F.apply(void 0,r.map((function(r){return"function"===typeof r?r(e,t,n):r})))}(i,o,a,e.styles,r.styles,i.styles),u=m.a({},i,{styles:s,tokens:a,_defaultStyles:s});return e.view(u)};return e.state?v.createElement(e.state,m.a({},t,{renderView:i})):i()}))};return r.displayName=e.displayName,n&&(r.create=Qh(r,{defaultProp:n})),Xh(r,e.statics),r}var ip=n(182),op=function(e){var t=e.scheme,n=e.theme,r=m.d(e,["scheme","theme"]);return v.createElement(ip.a,m.a({},r,{contextTransform:function(e){return Object(b.T)(e,t,n)}}))},ap=n(254);Object(ap.a)("@uifabric/foundation","0.8.2");var sp,up,lp=Object(w.a)(),cp=function(e){function t(t){var n=e.call(this,t)||this;return n._id=Object(Oe.c)(),n}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.columnCount,i=t.onRenderItem,o=t.positionInSet,a=t.setSize,s=t.styles,u=Object(E.j)(this.props,E.k,["onBlur, aria-posinset, aria-setsize"]),l=lp(s,{theme:this.props.theme}),c=Object(Ue.i)(n,r),d=v.createElement("table",m.a({},u,{"aria-posinset":o,"aria-setsize":a,id:this._id,role:"grid",className:l.root}),v.createElement("tbody",null,c.map((function(t,n){return v.createElement("tr",{role:"row",key:e._id+"-"+n+"-row"},t.map((function(t,n){return v.createElement("td",{role:"presentation",key:e._id+"-"+n+"-cell",className:l.tableCell},i(t,n))})))}))));return this.props.doNotContainWithinFocusZone?d:v.createElement(Le,{isCircularNavigation:this.props.shouldFocusCircularNavigate,className:l.focusedContainer,onBlur:this.props.onBlur},d)},t}(O.a),dp=Object(S.a)(cp,(function(e){return{root:{padding:2,outline:"none"},tableCell:{padding:0}}})),fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(){var e=t.props,n=e.onClick,r=e.disabled,i=e.item;n&&!r&&n(i)},t._onMouseEnter=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.item,a=n.onMouseEnter;a&&a(e)||!r||i||r(o)},t._onMouseMove=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.item,a=n.onMouseMove;a&&a(e)||!r||i||r(o)},t._onMouseLeave=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.onMouseLeave;o&&o(e)||!r||i||r()},t._onFocus=function(){var e=t.props,n=e.onFocus,r=e.disabled,i=e.item;n&&!r&&n(i)},t}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.item,r=t.id,i=t.className,o=t.role,a=t.selected,s=t.disabled,u=t.onRenderItem,l=t.cellDisabledStyle,c=t.cellIsSelectedStyle,d=t.index,f=t.label,h=t.getClassNames;return v.createElement(ii,{id:r,"data-index":d,"data-is-focusable":!0,disabled:s,className:Object(z.a)(i,(e={},e[""+c]=a,e[""+l]=s,e)),onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseMove:this._onMouseMove,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,role:o,"aria-selected":a,ariaLabel:f,title:f,getClassNames:h},u(n))},t.defaultProps={disabled:!1,id:Object(Oe.c)("gridCell")},t}(v.Component),hp={host:"ms-HoverCard-host"};!function(e){e[e.hover=0]="hover",e[e.hotKey=1]="hotKey"}(sp||(sp={})),function(e){e.plain="PlainCard",e.expanding="ExpandingCard"}(up||(up={}));var pp,gp={root:"ms-ExpandingCard-root",compactCard:"ms-ExpandingCard-compactCard",expandedCard:"ms-ExpandingCard-expandedCard",expandedCardScroll:"ms-ExpandingCard-expandedCardScrollRegion"};!function(e){e[e.compact=0]="compact",e[e.expanded=1]="expanded"}(pp||(pp={}));var mp=function(e){var t=e.gapSpace,n=void 0===t?0:t,r=e.directionalHint,i=void 0===r?$e.bottomLeftEdge:r,o=e.directionalHintFixed,a=e.targetElement,s=e.firstFocus,u=e.trapFocus,l=e.onLeave,c=e.className,d=e.finalHeight,f=e.content,h=m.a({},Object(E.j)(e,E.h),{className:c,target:a,isBeakVisible:!1,directionalHint:i,directionalHintFixed:o,finalHeight:d,minPagePadding:24,onDismiss:l,gapSpace:n});return v.createElement(v.Fragment,null,u?v.createElement(Oa,m.a({},h,{focusTrapProps:{forceFocusInsideTrap:!1,isClickableOutsideFocusTrap:!0,disableFirstFocus:!s}}),f):v.createElement(Tn,m.a({},h),f))},vp=Object(w.a)(),bp=function(e){function t(t){var n=e.call(this,t)||this;return n._expandedElem=v.createRef(),n._onKeyDown=function(e){e.which===ge.a.escape&&n.props.onLeave&&n.props.onLeave(e)},n._onRenderCompactCard=function(){return v.createElement("div",{className:n._classNames.compactCard},n.props.onRenderCompactCard(n.props.renderData))},n._onRenderExpandedCard=function(){return!n.state.firstFrameRendered&&n._async.requestAnimationFrame((function(){n.setState({firstFrameRendered:!0})})),v.createElement("div",{className:n._classNames.expandedCard,ref:n._expandedElem},v.createElement("div",{className:n._classNames.expandedCardScroll},n.props.onRenderExpandedCard&&n.props.onRenderExpandedCard(n.props.renderData)))},n._checkNeedsScroll=function(){var e=n.props.expandedCardHeight;n._async.requestAnimationFrame((function(){n._expandedElem.current&&n._expandedElem.current.scrollHeight>=e&&n.setState({needsScroll:!0})}))},n.state={firstFrameRendered:!1,needsScroll:!1},n}return m.c(t,e),t.prototype.componentDidMount=function(){this._checkNeedsScroll()},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.styles,n=e.compactCardHeight,r=e.expandedCardHeight,i=e.theme,o=e.mode,a=e.className,s=this.state,u=s.needsScroll,l=s.firstFrameRendered,c=n+r;this._classNames=vp(t,{theme:i,compactCardHeight:n,className:a,expandedCardHeight:r,needsScroll:u,expandedCardFirstFrameRendered:o===pp.expanded&&l});var d=v.createElement("div",{onMouseEnter:this.props.onEnter,onMouseLeave:this.props.onLeave,onKeyDown:this._onKeyDown},this._onRenderCompactCard(),this._onRenderExpandedCard());return v.createElement(mp,m.a({},this.props,{content:d,finalHeight:c,className:this._classNames.root}))},t.defaultProps={compactCardHeight:156,expandedCardHeight:384,directionalHintFixed:!0},t}(O.a),yp=Object(S.a)(bp,(function(e){var t,n=e.theme,r=e.needsScroll,i=e.expandedCardFirstFrameRendered,o=e.compactCardHeight,a=e.expandedCardHeight,s=e.className,u=n.palette,l=Object(b.N)(gp,n);return{root:[l.root,{width:"340px",pointerEvents:"none",boxShadow:"0 0 20px rgba(0, 0, 0, .2)",border:"none",selectors:(t={},t[b.j]={border:"1px solid WindowText"},t)},s],compactCard:[l.compactCard,{pointerEvents:"auto",position:"relative",height:o}],expandedCard:[l.expandedCard,{height:"1px",overflowY:"hidden",pointerEvents:"auto",transition:"height 0.467s cubic-bezier(0.5, 0, 0, 1)",selectors:{":before":{content:'""',position:"relative",display:"block",top:"0",left:"24px",width:"292px",height:"1px",backgroundColor:u.neutralLighter}}},i&&{height:a}],expandedCardScroll:[l.expandedCardScroll,r&&{height:"100%",boxSizing:"border-box",overflowY:"auto"}]}}),void 0,{scope:"ExpandingCard"}),_p={root:"ms-PlainCard-root"};var xp,Sp,wp=Object(w.a)(),Cp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onKeyDown=function(e){e.which===ge.a.escape&&t.props.onLeave&&t.props.onLeave(e)},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme,r=e.className;this._classNames=wp(t,{theme:n,className:r});var i=v.createElement("div",{onMouseEnter:this.props.onEnter,onMouseLeave:this.props.onLeave,onKeyDown:this._onKeyDown},this.props.onRenderPlainCard(this.props.renderData));return v.createElement(mp,m.a({},this.props,{content:i,className:this._classNames.root}))},t}(O.a),kp=Object(S.a)(Cp,(function(e){var t,n=e.theme,r=e.className;return{root:[Object(b.N)(_p,n).root,{pointerEvents:"auto",boxShadow:"0 0 20px rgba(0, 0, 0, .2)",border:"none",selectors:(t={},t[b.j]={border:"1px solid WindowText"},t)},r]}}),void 0,{scope:"PlainCard"}),Ep=Object(w.a)(),Op=function(e){function t(t){var n=e.call(this,t)||this;return n._hoverCard=Object(bn.a)(),n.dismiss=function(e){n._async.clearTimeout(n._openTimerId),n._async.clearTimeout(n._dismissTimerId),e?n._dismissTimerId=n._async.setTimeout((function(){n._setDismissedState()}),n.props.cardDismissDelay):n._setDismissedState()},n._cardOpen=function(e){n._shouldBlockHoverCard()||"keydown"===e.type&&e.which!==n.props.openHotKey||(n._async.clearTimeout(n._dismissTimerId),"mouseenter"===e.type&&(n._currentMouseTarget=e.currentTarget),n._executeCardOpen(e))},n._executeCardOpen=function(e){n._async.clearTimeout(n._openTimerId),n._openTimerId=n._async.setTimeout((function(){n.setState((function(t){return t.isHoverCardVisible?t:{isHoverCardVisible:!0,mode:pp.compact,openMode:"keydown"===e.type?sp.hotKey:sp.hover}}))}),n.props.cardOpenDelay)},n._cardDismiss=function(e,t){if(e){if(!(t instanceof MouseEvent))return;if("keydown"===t.type&&t.which!==ge.a.escape)return;n.props.sticky||n._currentMouseTarget!==t.currentTarget&&t.which!==ge.a.escape||n.dismiss(!0)}else{if(n.props.sticky&&!(t instanceof MouseEvent)&&t.nativeEvent instanceof MouseEvent&&"mouseleave"===t.type)return;n.dismiss(!0)}},n._setDismissedState=function(){n.setState({isHoverCardVisible:!1,mode:pp.compact,openMode:sp.hover})},n._instantOpenAsExpanded=function(e){n._async.clearTimeout(n._dismissTimerId),n.setState((function(e){return e.isHoverCardVisible?e:{isHoverCardVisible:!0,mode:pp.expanded}}))},n._setEventListeners=function(){var e=n.props,t=e.trapFocus,r=e.instantOpenOnClick,i=e.eventListenerTarget,o=i?n._getTargetElement(i):n._getTargetElement(n.props.target),a=n._nativeDismissEvent;o&&(n._events.on(o,"mouseenter",n._cardOpen),n._events.on(o,"mouseleave",a),t?n._events.on(o,"keydown",n._cardOpen):(n._events.on(o,"focus",n._cardOpen),n._events.on(o,"blur",a)),r?n._events.on(o,"click",n._instantOpenAsExpanded):(n._events.on(o,"mousedown",a),n._events.on(o,"keydown",a)))},n._nativeDismissEvent=n._cardDismiss.bind(n,!0),n._childDismissEvent=n._cardDismiss.bind(n,!1),n.state={isHoverCardVisible:!1,mode:pp.compact,openMode:sp.hover},n}return m.c(t,e),t.prototype.componentDidMount=function(){this._setEventListeners()},t.prototype.componentDidUpdate=function(e,t){var n=this;e.target!==this.props.target&&(this._events.off(),this._setEventListeners()),t.isHoverCardVisible!==this.state.isHoverCardVisible&&(this.state.isHoverCardVisible?(this._async.setTimeout((function(){n.setState({mode:pp.expanded},(function(){n.props.onCardExpand&&n.props.onCardExpand()}))}),this.props.expandedCardOpenDelay),this.props.onCardVisible&&this.props.onCardVisible()):(this.setState({mode:pp.compact}),this.props.onCardHide&&this.props.onCardHide()))},t.prototype.render=function(){var e=this.props,t=e.expandingCardProps,n=e.children,r=e.id,i=e.setAriaDescribedBy,o=void 0===i||i,a=e.styles,s=e.theme,u=e.className,l=e.type,c=e.plainCardProps,d=e.trapFocus,f=e.setInitialFocus,h=this.state,p=h.isHoverCardVisible,g=h.mode,b=h.openMode,y=r||Object(Oe.c)("hoverCard");this._classNames=Ep(a,{theme:s,className:u});var _=m.a({},Object(E.j)(this.props,E.h),{id:y,trapFocus:!!d,firstFocus:f||b===sp.hotKey,targetElement:this._getTargetElement(this.props.target),onEnter:this._cardOpen,onLeave:this._childDismissEvent}),x=m.a({},t,_,{mode:g}),S=m.a({},c,_);return v.createElement("div",{className:this._classNames.host,ref:this._hoverCard,"aria-describedby":o&&p?y:void 0,"data-is-focusable":!Boolean(this.props.target)},n,p&&(l===up.expanding?v.createElement(yp,m.a({},x)):v.createElement(kp,m.a({},S))))},t.prototype._getTargetElement=function(e){switch(typeof e){case"string":return Object(Pe.a)().querySelector(e);case"object":return e;default:return this._hoverCard.current||void 0}},t.prototype._shouldBlockHoverCard=function(){return!(!this.props.shouldBlockHoverCard||!this.props.shouldBlockHoverCard())},t.defaultProps={cardOpenDelay:500,cardDismissDelay:100,expandedCardOpenDelay:1500,instantOpenOnClick:!1,setInitialFocus:!1,openHotKey:ge.a.c,type:up.expanding},t}(O.a),Tp=Object(S.a)(Op,(function(e){var t=e.className,n=e.theme;return{host:[Object(b.N)(hp,n).host,t]}}),void 0,{scope:"HoverCard"}),Pp=function(e){var t=e.className,n=e.imageProps,r=Object(E.j)(e,E.k),i=e["aria-label"]?{}:{role:"presentation","aria-hidden":!n.alt&&!n["aria-labelledby"]};return v.createElement("div",m.a({},i,r,{className:Object(z.a)("ms-Icon",B.root,B.image,t)}),v.createElement(L,m.a({},n)))},Ip=n(140),Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.styles,r=e.theme,i=e.disabled,o=e.visible,a=Object(w.a)()(n,{theme:r,disabled:i,visible:o});return v.createElement("div",{className:a.container},v.createElement("span",{className:a.root},t))},t}(v.Component),Ap=function(e){return{container:[],root:[{border:"none",boxShadow:"none"}],beak:[],beakCurtain:[],calloutMain:[{backgroundColor:"transparent"}]}},Mp=function(e){return function(t){return Object(b.X)({container:[],root:[{border:"none",boxShadow:"none"}],beak:[],beakCurtain:[],calloutMain:[{backgroundColor:"transparent"}]},{root:[{marginLeft:e.x,marginTop:e.y}]})}},jp=Object(S.a)(Dp,(function(e){var t,n=e.theme,r=e.disabled,i=e.visible;return{container:[{backgroundColor:n.palette.neutralDark},r&&{opacity:.5,selectors:(t={},t[b.j]={color:"GrayText",opacity:1},t)},!i&&{visibility:"hidden"}],root:[n.fonts.medium,{textAlign:"center",paddingLeft:"3px",paddingRight:"3px",backgroundColor:n.palette.neutralDark,color:n.palette.neutralLight,minWidth:"11px",lineHeight:"17px",height:"17px",display:"inline-block"},r&&{color:n.palette.neutralTertiaryAlt}]}}),void 0,{scope:"KeytipContent"}),Rp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e,t=this.props,n=t.keySequences,r=t.offset,i=t.overflowSetSequence,o=this.props.calloutProps;return e=Ge(i?We(n,i):n),r&&(o=m.a({},o,{coverTarget:!0,directionalHint:$e.topLeftEdge})),o&&void 0!==o.directionalHint||(o=m.a({},o,{directionalHint:$e.bottomCenter})),v.createElement(Tn,m.a({},o,{isBeakVisible:!1,doNotLayer:!0,minPagePadding:0,styles:r?Mp(r):Ap,preventDismissOnScroll:!0,target:e}),v.createElement(jp,m.a({},this.props)))},t}(v.Component),Fp=function(e){return{root:[{zIndex:b.D.KeytipLayer}]}},Np=function(){function e(){this.nodeMap={},this.root={id:"ktp-layer-id",children:[],parent:"",keySequences:[]},this.nodeMap[this.root.id]=this.root}return e.prototype.addNode=function(e,t,n){var r=this._getFullSequence(e),i=Ve(r);r.pop();var o=this._getParentID(r),a=this._createNode(i,o,[],e,n);this.nodeMap[t]=a;var s=this.getNode(o);s&&s.children.push(i)},e.prototype.updateNode=function(e,t){var n=this._getFullSequence(e),r=Ve(n);n.pop();var i=this._getParentID(n),o=this.nodeMap[t],a=this.getNode(i);if(o){if(a&&o.id!==r){var s=a.children.indexOf(o.id);s>=0&&(a.children[s]=r)}o.id=r,o.keySequences=e.keySequences,o.overflowSetSequence=e.overflowSetSequence,o.onExecute=e.onExecute,o.onReturn=e.onReturn,o.hasDynamicChildren=e.hasDynamicChildren,o.hasMenu=e.hasMenu,o.parent=i,o.disabled=e.disabled}},e.prototype.removeNode=function(e,t){var n=this._getFullSequence(e),r=Ve(n);n.pop();var i=this._getParentID(n),o=this.getNode(i);o&&o.children.splice(o.children.indexOf(r),1),this.nodeMap[t]&&delete this.nodeMap[t]},e.prototype.getExactMatchedNode=function(e,t){var n=this,r=this.getNodes(t.children);return Object(Ue.d)(r,(function(t){return n._getNodeSequence(t)===e&&!t.disabled}))},e.prototype.getPartiallyMatchedNodes=function(e,t){var n=this;return this.getNodes(t.children).filter((function(t){return 0===n._getNodeSequence(t).indexOf(e)&&!t.disabled}))},e.prototype.getChildren=function(e){var t=this;if(!e&&!(e=this.currentKeytip))return[];var n=e.children;return Object.keys(this.nodeMap).reduce((function(e,r){return n.indexOf(t.nodeMap[r].id)>=0&&!t.nodeMap[r].persisted&&e.push(t.nodeMap[r].id),e}),[])},e.prototype.getNodes=function(e){var t=this;return Object.keys(this.nodeMap).reduce((function(n,r){return e.indexOf(t.nodeMap[r].id)>=0&&n.push(t.nodeMap[r]),n}),[])},e.prototype.getNode=function(e){var t=Object(Oe.g)(this.nodeMap);return Object(Ue.d)(t,(function(t){return t.id===e}))},e.prototype.isCurrentKeytipParent=function(e){if(this.currentKeytip){var t=e.keySequences.slice();e.overflowSetSequence&&(t=We(t,e.overflowSetSequence)),t.pop();var n=0===t.length?this.root.id:Ve(t),r=!1;if(this.currentKeytip.overflowSetSequence)r=Ve(this.currentKeytip.keySequences)===n;return r||this.currentKeytip.id===n}return!1},e.prototype._getParentID=function(e){return 0===e.length?this.root.id:Ve(e)},e.prototype._getFullSequence=function(e){var t=e.keySequences.slice();return e.overflowSetSequence&&(t=We(t,e.overflowSetSequence)),t},e.prototype._getNodeSequence=function(e){var t=e.keySequences.slice();return e.overflowSetSequence&&(t=We(t,e.overflowSetSequence)),t[t.length-1]},e.prototype._createNode=function(e,t,n,r,i){var o=this,a=r.keySequences,s=r.hasDynamicChildren,u=r.overflowSetSequence,l=r.hasMenu,c=r.onExecute,d=r.onReturn,f=r.disabled,h={id:e,keySequences:a,overflowSetSequence:u,parent:t,children:n,onExecute:c,onReturn:d,hasDynamicChildren:s,hasMenu:l,disabled:f,persisted:i};return h.children=Object.keys(this.nodeMap).reduce((function(t,n){return o.nodeMap[n].parent===e&&t.push(o.nodeMap[n].id),t}),[]),h},e}();function Lp(e,t){return!!Object(Ue.d)(e,(function(e){return function(e,t){if(e.key!==t.key)return!1;var n=e.modifierKeys,r=t.modifierKeys;if(!n&&r||n&&!r)return!1;if(n&&r){if(n.length!==r.length)return!1;n=n.sort(),r=r.sort();for(var i=0;i<n.length;i++)if(n[i]!==r[i])return!1}return!0}(e,t)}))}(Sp=xp||(xp={}))[Sp.shift=ge.a.shift]="shift",Sp[Sp.ctrl=ge.a.ctrl]="ctrl",Sp[Sp.alt=ge.a.alt]="alt",Sp[Sp.meta=ge.a.leftWindow]="meta";var Bp={key:Object(Je.a)()?"Control":"Meta",modifierKeys:[xp.alt]},zp=Bp,Up={key:"Escape"},Hp=Object(w.a)(),Vp=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._keytipManager=He.getInstance(),r._delayedKeytipQueue=[],r._keyHandled=!1,r._onDismiss=function(e){r.state.inKeytipMode&&r._exitKeytipMode(e)},r._onKeyDown=function(e){r._keyHandled=!1;var t=e.key;switch(t){case"Alt":break;case"Tab":case"Enter":case"Spacebar":case" ":case"ArrowUp":case"Up":case"ArrowDown":case"Down":case"ArrowLeft":case"Left":case"ArrowRight":case"Right":r.state.inKeytipMode&&(r._keyHandled=!0,r._exitKeytipMode(e));break;default:"Esc"===t?t="Escape":"OS"!==t&&"Win"!==t||(t="Meta");var n={key:t};n.modifierKeys=r._getModifierKey(t,e),r.processTransitionInput(n,e)}},r._onKeyPress=function(e){r.state.inKeytipMode&&!r._keyHandled&&(r.processInput(e.key.toLocaleLowerCase(),e),e.preventDefault(),e.stopPropagation())},r._onKeytipAdded=function(e){var t=e.keytip,n=e.uniqueID;if(r._keytipTree.addNode(t,n),r._setKeytips(),r._keytipTree.isCurrentKeytipParent(t)&&(r._addKeytipToQueue(Ve(t.keySequences)),r._keytipTree.currentKeytip&&r._keytipTree.currentKeytip.hasDynamicChildren&&r._keytipTree.currentKeytip.children.indexOf(t.id)<0&&(r._keytipTree.currentKeytip=r._keytipTree.getNode(r._keytipTree.currentKeytip.id))),r._newCurrentKeytipSequences&&Object(Ue.b)(t.keySequences,r._newCurrentKeytipSequences)&&r._triggerKeytipImmediately(t),r._isCurrentKeytipAnAlias(t)){var i=t.keySequences;t.overflowSetSequence&&(i=We(i,t.overflowSetSequence)),r._keytipTree.currentKeytip=r._keytipTree.getNode(Ve(i))}},r._onKeytipUpdated=function(e){var t=e.keytip,n=e.uniqueID;r._keytipTree.updateNode(t,n),r._setKeytips()},r._onKeytipRemoved=function(e){var t=e.keytip,n=e.uniqueID;r._removeKeytipFromQueue(Ve(t.keySequences)),r._keytipTree.removeNode(t,n),r._setKeytips()},r._onPersistedKeytipAdded=function(e){var t=e.keytip,n=e.uniqueID;r._keytipTree.addNode(t,n,!0)},r._onPersistedKeytipRemoved=function(e){var t=e.keytip,n=e.uniqueID;r._keytipTree.removeNode(t,n)},r._onPersistedKeytipExecute=function(e){r._persistedKeytipExecute(e.overflowButtonSequences,e.keytipSequences)},r._setInKeytipMode=function(e){r.setState({inKeytipMode:e}),r._keytipManager.inKeytipMode=e},r._warnIfDuplicateKeytips=function(){var e=r._getDuplicateIds(r._keytipTree.getChildren());e.length&&Object(Ur.b)("Duplicate keytips found for "+e.join(", "))},r._getDuplicateIds=function(e){var t={};return e.filter((function(e){return t[e]=t[e]?t[e]+1:1,2===t[e]}))};var i=r._keytipManager.getKeytips().slice();r.state={inKeytipMode:!1,keytips:i,visibleKeytips:r._getVisibleKeytips(i)},r._keytipTree=new Np;for(var o=0,a=r._keytipManager.keytips.concat(r._keytipManager.persistedKeytips);o<a.length;o++){var s=a[o];r._keytipTree.addNode(s.keytip,s.uniqueID)}return r._currentSequence="",r._events.on(r._keytipManager,je.KEYTIP_ADDED,r._onKeytipAdded),r._events.on(r._keytipManager,je.KEYTIP_UPDATED,r._onKeytipUpdated),r._events.on(r._keytipManager,je.KEYTIP_REMOVED,r._onKeytipRemoved),r._events.on(r._keytipManager,je.PERSISTED_KEYTIP_ADDED,r._onPersistedKeytipAdded),r._events.on(r._keytipManager,je.PERSISTED_KEYTIP_REMOVED,r._onPersistedKeytipRemoved),r._events.on(r._keytipManager,je.PERSISTED_KEYTIP_EXECUTE,r._onPersistedKeytipExecute),r}return m.c(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.content,r=t.styles,i=this.state,o=i.keytips,a=i.visibleKeytips;return this._classNames=Hp(r,{}),v.createElement(On,{styles:Fp},v.createElement("span",{id:"ktp-layer-id",className:this._classNames.innerContent},n+", "),o&&o.map((function(t,n){return v.createElement("span",{key:n,id:Ve(t.keySequences),className:e._classNames.innerContent},t.keySequences.join(", "))})),a&&a.map((function(e){return v.createElement(Rp,m.a({key:Ve(e.keySequences)},e))})))},t.prototype.componentDidMount=function(){this._events.on(window,"mouseup",this._onDismiss,!0),this._events.on(window,"pointerup",this._onDismiss,!0),this._events.on(window,"resize",this._onDismiss),this._events.on(window,"keydown",this._onKeyDown,!0),this._events.on(window,"keypress",this._onKeyPress,!0),this._events.on(window,"scroll",this._onDismiss,!0),this._events.on(this._keytipManager,je.ENTER_KEYTIP_MODE,this._enterKeytipMode),this._events.on(this._keytipManager,je.EXIT_KEYTIP_MODE,this._exitKeytipMode)},t.prototype.componentWillUnmount=function(){this._events.off(window,"mouseup",this._onDismiss,!0),this._events.off(window,"pointerup",this._onDismiss,!0),this._events.off(window,"resize",this._onDismiss),this._events.off(window,"keydown",this._onKeyDown,!0),this._events.off(window,"keypress",this._onKeyPress,!0),this._events.off(window,"scroll",this._onDismiss,!0),this._events.off(this._keytipManager,je.KEYTIP_ADDED,this._onKeytipAdded),this._events.off(this._keytipManager,je.KEYTIP_UPDATED,this._onKeytipUpdated),this._events.off(this._keytipManager,je.KEYTIP_REMOVED,this._onKeytipRemoved),this._events.off(this._keytipManager,je.PERSISTED_KEYTIP_ADDED,this._onPersistedKeytipAdded),this._events.off(this._keytipManager,je.PERSISTED_KEYTIP_REMOVED,this._onPersistedKeytipRemoved),this._events.off(this._keytipManager,je.PERSISTED_KEYTIP_EXECUTE,this._onPersistedKeytipExecute),this._events.off(this._keytipManager,je.ENTER_KEYTIP_MODE,this._enterKeytipMode),this._events.off(this._keytipManager,je.EXIT_KEYTIP_MODE,this._exitKeytipMode)},t.prototype.getCurrentSequence=function(){return this._currentSequence},t.prototype.getKeytipTree=function(){return this._keytipTree},t.prototype.processTransitionInput=function(e,t){var n=this._keytipTree.currentKeytip;Lp(this.props.keytipExitSequences,e)&&n?(this._keyHandled=!0,this._exitKeytipMode(t)):Lp(this.props.keytipReturnSequences,e)?n&&(this._keyHandled=!0,n.id===this._keytipTree.root.id?this._exitKeytipMode(t):(n.onReturn&&n.onReturn(this._getKtpExecuteTarget(n),this._getKtpTarget(n)),this._currentSequence="",this._keytipTree.currentKeytip=this._keytipTree.getNode(n.parent),this.showKeytips(this._keytipTree.getChildren()),this._warnIfDuplicateKeytips())):Lp(this.props.keytipStartSequences,e)&&!n&&(this._keyHandled=!0,this._enterKeytipMode(),this._warnIfDuplicateKeytips())},t.prototype.processInput=function(e,t){var n=this._currentSequence+e,r=this._keytipTree.currentKeytip;if(r){var i=this._keytipTree.getExactMatchedNode(n,r);if(i){this._keytipTree.currentKeytip=r=i;var o=this._keytipTree.getChildren();return r.onExecute&&(r.onExecute(this._getKtpExecuteTarget(r),this._getKtpTarget(r)),r=this._keytipTree.currentKeytip),0!==o.length||r.hasDynamicChildren||r.hasMenu?(this.showKeytips(o),this._warnIfDuplicateKeytips()):this._exitKeytipMode(t),void(this._currentSequence="")}var a=this._keytipTree.getPartiallyMatchedNodes(n,r);if(a.length>0){var s=a.filter((function(e){return!e.persisted})).map((function(e){return e.id}));this.showKeytips(s),this._currentSequence=n}}},t.prototype.showKeytips=function(e){for(var t=0,n=this._keytipManager.getKeytips();t<n.length;t++){var r=n[t],i=Ve(r.keySequences);e.indexOf(i)>=0||r.overflowSetSequence&&e.indexOf(Ve(We(r.keySequences,r.overflowSetSequence)))>=0?r.visible=!0:r.visible=!1}this._setKeytips()},t.prototype._enterKeytipMode=function(){this._keytipManager.shouldEnterKeytipMode&&(this._keytipTree.currentKeytip=this._keytipTree.root,this.showKeytips(this._keytipTree.getChildren()),this._setInKeytipMode(!0),this.props.onEnterKeytipMode&&this.props.onEnterKeytipMode())},t.prototype._exitKeytipMode=function(e){this._keytipTree.currentKeytip=void 0,this._currentSequence="",this.showKeytips([]),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedKeytipQueue=[],this._setInKeytipMode(!1),this.props.onExitKeytipMode&&this.props.onExitKeytipMode(e)},t.prototype._setKeytips=function(e){void 0===e&&(e=this._keytipManager.getKeytips()),this.setState({keytips:e,visibleKeytips:this._getVisibleKeytips(e)})},t.prototype._persistedKeytipExecute=function(e,t){this._newCurrentKeytipSequences=t;var n=this._keytipTree.getNode(Ve(e));n&&n.onExecute&&n.onExecute(this._getKtpExecuteTarget(n),this._getKtpTarget(n))},t.prototype._getVisibleKeytips=function(e){var t={};return e.filter((function(e){var n=Ve(e.keySequences);return t[n]=t[n]?t[n]+1:1,e.visible&&1===t[n]}))},t.prototype._getModifierKey=function(e,t){var n=[];return t.altKey&&"Alt"!==e&&n.push(xp.alt),t.ctrlKey&&"Control"!==e&&n.push(xp.ctrl),t.shiftKey&&"Shift"!==e&&n.push(xp.shift),t.metaKey&&"Meta"!==e&&n.push(xp.meta),n.length?n:void 0},t.prototype._triggerKeytipImmediately=function(e){var t=e.keySequences.slice();if(e.overflowSetSequence&&(t=We(t,e.overflowSetSequence)),this._keytipTree.currentKeytip=this._keytipTree.getNode(Ve(t)),this._keytipTree.currentKeytip){var n=this._keytipTree.getChildren();n.length&&this.showKeytips(n),this._keytipTree.currentKeytip.onExecute&&this._keytipTree.currentKeytip.onExecute(this._getKtpExecuteTarget(this._keytipTree.currentKeytip),this._getKtpTarget(this._keytipTree.currentKeytip))}this._newCurrentKeytipSequences=void 0},t.prototype._addKeytipToQueue=function(e){var t=this;this._delayedKeytipQueue.push(e),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedQueueTimeout=this._async.setTimeout((function(){t._delayedKeytipQueue.length&&(t.showKeytips(t._delayedKeytipQueue),t._delayedKeytipQueue=[])}),300)},t.prototype._removeKeytipFromQueue=function(e){var t=this,n=this._delayedKeytipQueue.indexOf(e);n>=0&&(this._delayedKeytipQueue.splice(n,1),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedQueueTimeout=this._async.setTimeout((function(){t._delayedKeytipQueue.length&&(t.showKeytips(t._delayedKeytipQueue),t._delayedKeytipQueue=[])}),300))},t.prototype._getKtpExecuteTarget=function(e){return Object(Pe.a)().querySelector('[data-ktp-execute-target="'+e.id+'"]')},t.prototype._getKtpTarget=function(e){return Object(Pe.a)().querySelector(Ge(e.keySequences))},t.prototype._isCurrentKeytipAnAlias=function(e){var t=this._keytipTree.currentKeytip;return!(!t||!t.overflowSetSequence&&!t.persisted||!Object(Ue.b)(e.keySequences,t.keySequences))},t.defaultProps={keytipStartSequences:[Bp],keytipExitSequences:[zp],keytipReturnSequences:[Up],content:""},t}(O.a),Wp=Object(S.a)(Vp,(function(e){return{innerContent:[{position:"absolute",width:0,height:0,margin:0,padding:0,border:0,overflow:"hidden",visibility:"hidden"}]}}),void 0,{scope:"KeytipLayer"});Object(ap.a)("office-ui-fabric-react","6.204.3");var Gp,Kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentDidMount=function(){wn(this.props.id)},t.prototype.componentWillUnmount=function(){wn(this.props.id)},t.prototype.render=function(){return v.createElement("div",m.a({},this.props,{className:Object(z.a)("ms-LayerHost",this.props.className)}))},t}(v.Component),qp=n(183),Yp=n(184),Xp=Object(w.a)(),Zp=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._onMouseDown=function(e){var t=n.props,r=t.isEnabled,i=t.onShouldStartSelection;n._isMouseEventOnScrollbar(e)||n._isInSelectionToggle(e)||n._isTouch||!r||n._isDragStartInSelection(e)||i&&!i(e)||n._scrollableSurface&&0===e.button&&n._root.current&&(n._selectedIndicies={},n._preservedIndicies=void 0,n._events.on(window,"mousemove",n._onAsyncMouseMove),n._events.on(n._scrollableParent,"scroll",n._onAsyncMouseMove),n._events.on(window,"click",n._onMouseUp,!0),n._autoScroll=new qp.a(n._root.current),n._scrollTop=n._scrollableSurface.scrollTop,n._rootRect=n._root.current.getBoundingClientRect(),n._onMouseMove(e))},n._onTouchStart=function(e){n._isTouch=!0,n._async.setTimeout((function(){n._isTouch=!1}),0)},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._isTouch=!0,n._async.setTimeout((function(){n._isTouch=!1}),0))},n.state={dragRect:void 0},n}return m.c(t,e),t.prototype.componentDidMount=function(){this._scrollableParent=Object(gt.e)(this._root.current),this._scrollableSurface=this._scrollableParent===window?document.body:this._scrollableParent;var e=this.props.isDraggingConstrainedToRoot?this._root.current:this._scrollableSurface;this._events.on(e,"mousedown",this._onMouseDown),this._events.on(e,"touchstart",this._onTouchStart,!0),this._events.on(e,"pointerdown",this._onPointerDown,!0)},t.prototype.componentWillUnmount=function(){this._autoScroll&&this._autoScroll.dispose()},t.prototype.render=function(){var e=this.props,t=e.rootProps,n=e.children,r=e.theme,i=e.className,o=e.styles,a=this.state.dragRect,s=Xp(o,{theme:r,className:i});return v.createElement("div",m.a({},t,{className:s.root,ref:this._root}),n,a&&v.createElement("div",{className:s.dragMask}),a&&v.createElement("div",{className:s.box,style:a},v.createElement("div",{className:s.boxFill})))},t.prototype._isMouseEventOnScrollbar=function(e){var t=e.target,n=t.offsetWidth-t.clientWidth;if(n){var r=t.getBoundingClientRect();if(Object(C.a)()){if(e.clientX<r.left+n)return!0}else if(e.clientX>r.left+t.clientWidth)return!0;if(e.clientY>r.top+t.clientHeight)return!0}return!1},t.prototype._getRootRect=function(){return{left:this._rootRect.left,top:this._rootRect.top+(this._scrollTop-this._scrollableSurface.scrollTop),width:this._rootRect.width,height:this._rootRect.height}},t.prototype._onAsyncMouseMove=function(e){var t=this;this._async.requestAnimationFrame((function(){t._onMouseMove(e)})),e.stopPropagation(),e.preventDefault()},t.prototype._onMouseMove=function(e){if(this._autoScroll){void 0!==e.clientX&&(this._lastMouseEvent=e);var t=this._getRootRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};if(this._dragOrigin||(this._dragOrigin=n),void 0!==e.buttons&&0===e.buttons)this._onMouseUp(e);else if(this.state.dragRect||Object(Yp.c)(this._dragOrigin,n)>5){if(!this.state.dragRect){var r=this.props.selection;e.shiftKey||r.setAllSelected(!1),this._preservedIndicies=r&&r.getSelectedIndices&&r.getSelectedIndices()}var i=this.props.isDraggingConstrainedToRoot?{x:Math.max(0,Math.min(t.width,this._lastMouseEvent.clientX-t.left)),y:Math.max(0,Math.min(t.height,this._lastMouseEvent.clientY-t.top))}:{x:this._lastMouseEvent.clientX-t.left,y:this._lastMouseEvent.clientY-t.top},o={left:Math.min(this._dragOrigin.x,i.x),top:Math.min(this._dragOrigin.y,i.y),width:Math.abs(i.x-this._dragOrigin.x),height:Math.abs(i.y-this._dragOrigin.y)};this._evaluateSelection(o,t),this.setState({dragRect:o})}return!1}},t.prototype._onMouseUp=function(e){this._events.off(window),this._events.off(this._scrollableParent,"scroll"),this._autoScroll&&this._autoScroll.dispose(),this._autoScroll=this._dragOrigin=this._lastMouseEvent=this._selectedIndicies=this._itemRectCache=void 0,this.state.dragRect&&(this.setState({dragRect:void 0}),e.preventDefault(),e.stopPropagation())},t.prototype._isPointInRectangle=function(e,t){return e.top<t.y&&e.bottom>t.y&&e.left<t.x&&e.right>t.x},t.prototype._isDragStartInSelection=function(e){var t=this.props.selection;if(!this._root.current||t&&0===t.getSelectedCount())return!1;for(var n=this._root.current.querySelectorAll("[data-selection-index]"),r=0;r<n.length;r++){var i=n[r],o=Number(i.getAttribute("data-selection-index"));if(t.isIndexSelected(o)){var a=i.getBoundingClientRect();if(this._isPointInRectangle(a,{x:e.clientX,y:e.clientY}))return!0}}return!1},t.prototype._isInSelectionToggle=function(e){for(var t=e.target;t&&t!==this._root.current;){if("true"===t.getAttribute("data-selection-toggle"))return!0;t=t.parentElement}return!1},t.prototype._evaluateSelection=function(e,t){if(e&&this._root.current){var n=this.props.selection,r=this._root.current.querySelectorAll("[data-selection-index]");this._itemRectCache||(this._itemRectCache={});for(var i=0;i<r.length;i++){var o=r[i],a=o.getAttribute("data-selection-index"),s=this._itemRectCache[a];s||(s={left:(s=o.getBoundingClientRect()).left-t.left,top:s.top-t.top,width:s.width,height:s.height,right:s.left-t.left+s.width,bottom:s.top-t.top+s.height}).width>0&&s.height>0&&(this._itemRectCache[a]=s),s.top<e.top+e.height&&s.bottom>e.top&&s.left<e.left+e.width&&s.right>e.left?this._selectedIndicies[a]=!0:delete this._selectedIndicies[a]}var u=this._allSelectedIndices||{};for(var a in this._allSelectedIndices={},this._selectedIndicies)this._selectedIndicies.hasOwnProperty(a)&&(this._allSelectedIndices[a]=!0);if(this._preservedIndicies)for(var l=0,c=this._preservedIndicies;l<c.length;l++){a=c[l];this._allSelectedIndices[a]=!0}var d=!1;for(var a in this._allSelectedIndices)if(this._allSelectedIndices[a]!==u[a]){d=!0;break}if(!d)for(var a in u)if(this._allSelectedIndices[a]!==u[a]){d=!0;break}if(d){n.setChangeEvents(!1),n.setAllSelected(!1);for(var f=0,h=Object.keys(this._allSelectedIndices);f<h.length;f++){a=h[f];n.setIndexSelected(Number(a),!0,!1)}n.setChangeEvents(!0)}}},t.defaultProps={rootTagName:"div",rootProps:{},isEnabled:!0},t}(O.a),Qp=Object(S.a)(Zp,(function(e){var t,n,r,i=e.theme,o=e.className,a=i.palette;return{root:[o,{position:"relative",cursor:"default"}],dragMask:[{position:"absolute",background:"rgba(255, 0, 0, 0)",left:0,top:0,right:0,bottom:0,selectors:(t={},t[b.j]={background:"none",backgroundColor:"transparent"},t)}],box:[{position:"absolute",boxSizing:"border-box",border:"1px solid "+a.themePrimary,pointerEvents:"none",zIndex:10,selectors:(n={},n[b.j]={borderColor:"Highlight"},n)}],boxFill:[{position:"absolute",boxSizing:"border-box",backgroundColor:a.themePrimary,opacity:.1,left:0,top:0,right:0,bottom:0,selectors:(r={},r[b.j]={background:"none",backgroundColor:"transparent"},r)}]}}),void 0,{scope:"MarqueeSelection"});!function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning",e[e.remove=9e4]="remove"}(Gp||(Gp={}));var $p,Jp=Object(w.a)(),eg=function(e){function t(t){var n,r=e.call(this,t)||this;return r.ICON_MAP=((n={})[Gp.info]="Info",n[Gp.warning]="Info",n[Gp.error]="ErrorBadge",n[Gp.blocked]="Blocked2",n[Gp.remove]="Blocked",n[Gp.severeWarning]="Warning",n[Gp.success]="Completed",n),r._onClick=function(e){r.setState({expandSingleLine:!r.state.expandSingleLine})},r.state={labelId:Object(Oe.c)("MessageBar"),showContent:!1,expandSingleLine:!1},r}return m.c(t,e),t.prototype.render=function(){var e=this.props.isMultiline;return this._classNames=this._getClassNames(),e?this._renderMultiLine():this._renderSingleLine()},t.prototype._getActionsDiv=function(){return this.props.actions?v.createElement("div",{className:this._classNames.actions},this.props.actions):null},t.prototype._getDismissDiv=function(){return this.props.onDismiss?v.createElement(fr,{disabled:!1,className:this._classNames.dismissal,onClick:this.props.onDismiss,iconProps:{iconName:"Clear"},ariaLabel:this.props.dismissButtonAriaLabel}):null},t.prototype._getDismissSingleLine=function(){return this.props.onDismiss?v.createElement("div",{className:this._classNames.dismissSingleLine},this._getDismissDiv()):null},t.prototype._getExpandSingleLine=function(){return!this.props.actions&&this.props.truncated?v.createElement("div",{className:this._classNames.expandSingleLine},v.createElement(fr,{disabled:!1,className:this._classNames.expand,onClick:this._onClick,iconProps:{iconName:this.state.expandSingleLine?"DoubleChevronUp":"DoubleChevronDown"},ariaLabel:this.props.overflowButtonAriaLabel,"aria-expanded":this.state.expandSingleLine,"aria-controls":this.state.labelId})):null},t.prototype._getIconSpan=function(){return v.createElement("div",{className:this._classNames.iconContainer,"aria-hidden":!0},v.createElement(K,{iconName:this.ICON_MAP[this.props.messageBarType],className:this._classNames.icon}))},t.prototype._renderMultiLine=function(){var e=this.props.theme;return v.createElement("div",{style:{background:e.semanticColors.bodyBackground}},v.createElement("div",{className:this._classNames.root},v.createElement("div",{className:this._classNames.content},this._getIconSpan(),this._renderInnerText(),this._getDismissDiv()),this._getActionsDiv()))},t.prototype._renderSingleLine=function(){var e=this.props.theme;return v.createElement("div",{style:{background:e.semanticColors.bodyBackground}},v.createElement("div",{className:this._classNames.root},v.createElement("div",{className:this._classNames.content},this._getIconSpan(),this._renderInnerText(),this._getExpandSingleLine(),this._getActionsDiv(),this._getDismissSingleLine())))},t.prototype._renderInnerText=function(){var e=Object(E.j)(this.props,E.k,["className"]);return v.createElement("div",{className:this._classNames.text,id:this.state.labelId},v.createElement("span",m.a({className:this._classNames.innerText,role:"status","aria-live":this._getAnnouncementPriority()},e),v.createElement(be.a,null,v.createElement("span",null,this.props.children))))},t.prototype._getClassNames=function(){var e=this.props,t=e.theme,n=e.className,r=e.messageBarType,i=e.onDismiss,o=e.actions,a=e.truncated,s=e.isMultiline,u=this.state.expandSingleLine;return Jp(this.props.styles,{theme:t,messageBarType:r||Gp.info,onDismiss:void 0!==i,actions:void 0!==o,truncated:a,isMultiline:s,expandSingleLine:u,className:n})},t.prototype._getAnnouncementPriority=function(){switch(this.props.messageBarType){case Gp.blocked:case Gp.error:case Gp.severeWarning:return"assertive"}return"polite"},t.defaultProps={messageBarType:Gp.info,onDismiss:void 0,isMultiline:!0},t}(O.a),tg={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},ng=function(e,t,n){switch(e){case Gp.error:case Gp.blocked:return n.errorBackground;case Gp.severeWarning:return n.blockingBackground;case Gp.success:return n.successBackground;case Gp.warning:return n.warningBackground}return t.neutralLighter},rg=function(e,t,n){switch(e){case Gp.error:case Gp.blocked:case Gp.severeWarning:return n.errorText;case Gp.success:return t.green;case Gp.warning:return n.warningText}return t.neutralSecondary},ig=Object(S.a)(eg,(function(e){var t,n,r,i,o,a,s,u,l,c,d,f,h=e.theme,p=e.className,g=e.messageBarType,v=e.onDismiss,y=e.actions,_=e.truncated,x=e.isMultiline,S=e.expandSingleLine,w=h.semanticColors,C=h.palette,k=h.fonts,E=Object(b.R)(0,b.r),O=Object(b.N)(tg,h),T={fontSize:12,height:12,lineHeight:"12px",color:C.neutralPrimary,selectors:(t={},t[b.j]={MsHighContrastAdjust:"none",color:"window"},t)},P={display:"flex",selectors:{"& .ms-Button-icon":T}},I=[Object(b.M)(h,{inset:1,highContrastStyle:{outlineOffset:"-4px",outlineColor:"Window"},borderColor:"transparent"}),{flexShrink:0,margin:8,marginLeft:0,selectors:(n={"& .ms-Button-icon":T},n[E]={margin:"0px 0px 0px 8px"},n)}],D=Object(b.M)(h,{borderColor:C.black});return{root:[O.root,h.fonts.medium,g===Gp.error&&O.error,g===Gp.blocked&&O.blocked,g===Gp.severeWarning&&O.severeWarning,g===Gp.success&&O.success,g===Gp.warning&&O.warning,x?O.multiline:O.singleline,!x&&v&&O.dismissalSingleLine,!x&&_&&O.expandingSingleLine,{background:ng(g,C,w),color:C.neutralPrimary,minHeight:32,width:"100%",boxSizing:"border-box",display:"flex",wordBreak:"break-word",selectors:(r={"& .ms-Link":m.a({color:C.themeDark},k.small)},r[b.j]={background:"windowText",color:"Window"},r)},x&&{flexDirection:"column"},!x&&{selectors:(i={},i[E]={flexDirection:"column"},i)},_&&{flexDirection:"column",selectors:{"& .ms-Button-icon":T}},p],content:[O.content,{display:"flex",lineHeight:"normal",width:"100%",boxSizing:"border-box"},!x&&{selectors:(o={},o[E]={flexDirection:"row"},o)},(_||x)&&{flexDirection:"row"}],iconContainer:[O.iconContainer,{fontSize:16,minWidth:16,minHeight:16,display:"flex",color:C.neutralSecondary,flexShrink:0,margin:16,marginRight:0,selectors:(a={},a[E]={margin:"8px 0px 8px 8px"},a)}],icon:{color:rg(g,C,w),selectors:(s={},s[b.j]={MsHighContrastAdjust:"none",color:"window"},s)},text:[O.text,m.a({minWidth:0,display:"flex",flexGrow:1,margin:"16px 8px"},k.small,{selectors:(u={},u[E]={margin:"8px 0px 8px 8px"},u[b.j]={MsHighContrastAdjust:"none",color:"window"},u)}),!v&&{marginRight:16,selectors:(l={},l[E]={marginRight:8},l)},x&&y&&{marginBottom:8,selectors:(c={},c[E]={marginBottom:0},c)},!x&&y&&{selectors:(d={},d[E]={marginBottom:0},d)}],innerText:[O.innerText,{lineHeight:16,selectors:{"& span":{selectors:{"& a":{paddingLeft:4}}}}},_&&{overflow:"visible",whiteSpace:"pre-wrap"},!x&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!x&&!_&&{selectors:(f={},f[E]={overflow:"visible",whiteSpace:"pre-wrap"},f)},S&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:[O.dismissSingleLine,P],expandSingleLine:[O.expandSingleLine,P],dismissal:[O.dismissal,I,D],expand:[O.expand,I,D],actions:[x?O.actions:O.actionsSingleline,{display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"8px 8px 8px 0",selectors:{"& button:nth-child(n+2)":{marginLeft:8}}},x&&{margin:"0px 12px 12px 0",selectors:{"& button:nth-child(n+2)":{marginLeft:12}}}]}}),void 0,{scope:"MessageBar"}),og={root:"ms-Nav",linkText:"ms-Nav-linkText",compositeLink:"ms-Nav-compositeLink",link:"ms-Nav-link",chevronButton:"ms-Nav-chevronButton",chevronIcon:"ms-Nav-chevron",navItem:"ms-Nav-navItem",navItems:"ms-Nav-navItems",group:"ms-Nav-group",groupContent:"ms-Nav-groupContent"},ag={textContainer:{overflow:"hidden"},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"36px"}};function sg(e){return!!e&&!/^[a-z0-9+-.]:\/\//i.test(e)}var ug,lg=Object(w.a)(),cg=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderLink=function(e){var t=n.props,r=t.styles,i=t.groups,o=t.theme,a=lg(r,{theme:o,groups:i});return v.createElement("div",{className:a.linkText},e.name)},n._renderGroup=function(e,t){var r=n.props,i=r.styles,o=r.groups,a=r.theme,s=r.onRenderGroupHeader,u=void 0===s?n._renderGroupHeader:s,l=lg(i,{theme:a,isGroup:!0,isExpanded:n._isGroupExpanded(e),groups:o});return v.createElement("div",{key:t,className:l.group},e.name?u(e,n._renderGroupHeader):null,v.createElement("div",{className:l.groupContent},n._renderLinks(e.links,0)))},n._renderGroupHeader=function(e){var t=n.props,r=t.styles,i=t.groups,o=t.theme,a=t.expandButtonAriaLabel,s=lg(r,{theme:o,isGroup:!0,isExpanded:n._isGroupExpanded(e),groups:i});return v.createElement("button",{className:s.chevronButton,onClick:n._onGroupHeaderClicked.bind(n,e),"aria-label":a,"aria-expanded":n._isGroupExpanded(e)},v.createElement(K,{className:s.chevronIcon,iconName:"ChevronDown"}),e.name)},n.state={isGroupCollapsed:{},isLinkExpandStateChanged:!1,selectedKey:t.initialSelectedKey||t.selectedKey},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.groups,r=e.className,i=e.isOnTop,o=e.theme;if(!n)return null;var a=n.map(this._renderGroup),s=lg(t,{theme:o,className:r,isOnTop:i,groups:n});return v.createElement(Le,{direction:le.vertical},v.createElement("nav",{role:"navigation",className:s.root,"aria-label":this.props.ariaLabel},a))},Object.defineProperty(t.prototype,"selectedKey",{get:function(){return this.state.selectedKey},enumerable:!0,configurable:!0}),t.prototype._renderNavLink=function(e,t,n){var r=this.props,i=r.styles,o=r.groups,a=r.theme,s=r.onRenderLink,u=void 0===s?this._onRenderLink:s,l=r.linkAs,c=void 0===l?Qr:l,d=r.selectedAriaLabel,f=e.icon||e.iconProps,h=this._isLinkSelected(e),p=lg(i,{theme:a,isSelected:h,isDisabled:e.disabled,isButtonEntry:e.onClick&&!e.forceAnchor,leftPadding:14*n+3+(f?0:24),groups:o}),g=e.url&&e.target&&!sg(e.url)?"noopener noreferrer":void 0,m=h&&d?d:void 0;return v.createElement(c,{className:p.link,styles:ag,href:e.url||(e.forceAnchor?"javascript:":void 0),iconProps:e.iconProps||{iconName:e.icon},onClick:e.onClick?this._onNavButtonLinkClicked.bind(this,e):this._onNavAnchorLinkClicked.bind(this,e),title:e.title||e.name,target:e.target,rel:g,disabled:e.disabled,"aria-label":e.ariaLabel&&m?e.ariaLabel+" "+m:m||(e.ariaLabel?e.ariaLabel:void 0)},u(e,this._onRenderLink))},t.prototype._renderCompositeLink=function(e,t,n){var r=m.a({},Object(E.j)(e,E.h,["onClick"])),i=this.props,o=i.expandButtonAriaLabel,a=i.styles,s=i.groups,u=i.theme,l=lg(a,{theme:u,isExpanded:!!e.isExpanded,isSelected:this._isLinkSelected(e),isLink:!0,isDisabled:e.disabled,position:14*n+1,groups:s}),c=o?e.name+" "+o:e.name;return v.createElement("div",m.a({},r,{key:e.key||t,className:l.compositeLink}),e.links&&e.links.length>0?v.createElement("button",{className:l.chevronButton,onClick:this._onLinkExpandClicked.bind(this,e),"aria-label":c,"aria-expanded":e.isExpanded?"true":"false"},v.createElement(K,{className:l.chevronIcon,iconName:"ChevronDown"})):null,this._renderNavLink(e,t,n))},t.prototype._renderLink=function(e,t,n){var r=this.props,i=r.styles,o=r.groups,a=r.theme,s=lg(i,{theme:a,groups:o});return v.createElement("li",{key:e.key||t,role:"listitem",className:s.navItem},this._renderCompositeLink(e,t,n),e.isExpanded?this._renderLinks(e.links,++n):null)},t.prototype._renderLinks=function(e,t){var n=this;if(!e||!e.length)return null;var r=e.map((function(e,r){return n._renderLink(e,r,t)})),i=this.props,o=i.styles,a=i.groups,s=i.theme,u=lg(o,{theme:s,groups:a});return v.createElement("ul",{role:"list",className:u.navItems},r)},t.prototype._onGroupHeaderClicked=function(e,t){e.onHeaderClick&&e.onHeaderClick(t,this._isGroupExpanded(e)),this._toggleCollapsed(e),t.preventDefault(),t.stopPropagation()},t.prototype._onLinkExpandClicked=function(e,t){var n=this.props.onLinkExpandClick;n&&n(t,e),t.defaultPrevented||(e.isExpanded=!e.isExpanded,this.setState({isLinkExpandStateChanged:!0})),t.preventDefault(),t.stopPropagation()},t.prototype._onNavAnchorLinkClicked=function(e,t){this.props.onLinkClick&&this.props.onLinkClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._onNavButtonLinkClicked=function(e,t){e.onClick&&e.onClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._isLinkSelected=function(e){if(void 0!==this.props.selectedKey)return e.key===this.props.selectedKey;if(void 0!==this.state.selectedKey)return e.key===this.state.selectedKey;if("undefined"===typeof Object(F.a)()||!e.url)return!1;($p=$p||document.createElement("a")).href=e.url||"";var t=$p.href;return location.href===t||(location.protocol+"//"+location.host+location.pathname===t||!!location.hash&&(location.hash===e.url||($p.href=location.hash.substring(1),$p.href===t)))},t.prototype._isGroupExpanded=function(e){return e.name&&this.state.isGroupCollapsed.hasOwnProperty(e.name)?!this.state.isGroupCollapsed[e.name]:void 0===e.collapseByDefault||!e.collapseByDefault},t.prototype._toggleCollapsed=function(e){if(e.name){var t=m.a({},this.state.isGroupCollapsed,((n={})[e.name]=this._isGroupExpanded(e),n));this.setState({isGroupCollapsed:t})}var n},t.defaultProps={groups:null},t}(v.Component),dg=Object(S.a)(cg,(function(e){var t=e.className,n=e.theme,r=e.isOnTop,i=e.isExpanded,o=e.isGroup,a=e.isLink,s=e.isSelected,u=e.isDisabled,l=e.isButtonEntry,c=e.navHeight,d=void 0===c?36:c,f=e.position,h=e.leftPadding,p=void 0===h?20:h,g=e.leftPaddingExpanded,m=void 0===g?28:g,v=e.rightPadding,y=void 0===v?20:v,_=n.palette,x=n.semanticColors,S=Object(b.N)(og,n);return{root:[S.root,t,n.fonts.medium,{overflowY:"auto",userSelect:"none",WebkitOverflowScrolling:"touch"},r&&[{position:"absolute"},b.a.slideRightIn40]],linkText:[S.linkText,{margin:"0 4px",overflow:"hidden",verticalAlign:"middle",textAlign:"left",textOverflow:"ellipsis"}],compositeLink:[S.compositeLink,{display:"block",position:"relative",color:x.bodyText,backgroundColor:x.bodyBackground},i&&"is-expanded",s&&"is-selected",u&&"is-disabled",u&&{color:x.disabledText}],link:[S.link,Object(b.M)(n),{display:"block",position:"relative",height:d+"px",width:"100%",lineHeight:d+"px",textDecoration:"none",cursor:"pointer",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingLeft:p,paddingRight:y,color:x.bodyText,selectors:u?{}:{".ms-Nav-compositeLink:hover &":{backgroundColor:_.neutralLighterAlt,color:x.bodyText}}},s&&{color:_.themePrimary,backgroundColor:_.neutralLighter,selectors:{"&:after":{borderLeft:"2px solid "+_.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}},u&&{color:x.disabledText},l&&{color:_.themePrimary}],chevronButton:[S.chevronButton,Object(b.M)(n),{display:"block",fontWeight:b.i.regular,fontSize:b.h.small,textAlign:"left",lineHeight:d+"px",margin:"5px 0",padding:"0px, "+y+"px, 0px, "+m+"px",border:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",cursor:"pointer",color:x.bodyText,backgroundColor:"transparent",selectors:{"&:visited":{color:"inherit"},"&:hover":{color:x.bodyText,backgroundColor:_.neutralLighterAlt},"$compositeLink:hover &":{color:x.bodyText,backgroundColor:_.neutralLighterAlt}}},o&&[{width:"100%",height:d+"px",borderBottom:"1px solid "+x.bodyDivider},b.e.large],a&&[{display:"block",width:m-2+"px",height:d-2+"px",position:"absolute",top:"1px",left:f+"px",zIndex:b.D.Nav,padding:0,margin:0}],s&&{color:_.themePrimary,backgroundColor:_.neutralLighterAlt,selectors:{"&:after":{borderLeft:"2px solid "+_.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}}],chevronIcon:[S.chevronIcon,{position:"absolute",left:"8px",height:d+"px",lineHeight:d+"px",fontSize:"12px",transition:"transform .1s linear"},i&&{transform:"rotate(-180deg)"},a&&{top:0}],navItem:[S.navItem,{padding:0}],navItems:[S.navItems,{listStyleType:"none",padding:0}],group:[S.group,i&&"is-expanded"],groupContent:[S.groupContent,{display:"none",marginBottom:"40px"},b.a.slideDownIn20,i&&{display:"block"}]}}),void 0,{scope:"Nav"});!function(e){e[e.none=0]="none",e[e.forceResolve=1]="forceResolve",e[e.searchMore=2]="searchMore"}(ug||(ug={}));var fg={root:"ms-Suggestions-item",itemButton:"ms-Suggestions-itemButton",closeButton:"ms-Suggestions-closeButton",isSuggested:"is-suggested"};var hg,pg=a,gg=Object(w.a)(),mg=Object(S.a)(Eh,(function(e){var t,n,r,i=e.className,o=e.theme,a=e.suggested,s=o.palette,u=Object(b.N)(fg,o);return{root:[u.root,{display:"flex",alignItems:"stretch",boxSizing:"border-box",width:"100%",position:"relative",selectors:{"&:hover":{background:s.neutralLighter},"&:hover .ms-Suggestions-closeButton":{display:"block"}}},i],itemButton:[u.itemButton,{width:"100%",padding:0,border:"none",height:"100%",minWidth:0,overflow:"hidden",selectors:(t={},t[b.j]={color:"WindowText",selectors:{":hover":{background:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"}}},t[":hover"]={color:s.neutralDark},t)},a&&[u.isSuggested,{background:s.neutralLight,selectors:(n={":hover":{background:s.neutralTertiaryAlt}},n[b.j]={background:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},n)}]],closeButton:[u.closeButton,{display:"none",color:s.neutralSecondary,padding:"0 4px",height:"auto",width:32,selectors:(r={":hover, :active":{background:s.neutralTertiaryAlt,color:s.neutralDark}},r[b.j]={color:"WindowText"},r)},a&&{selectors:{":hover, :active":{background:s.neutralTertiary,color:s.neutralPrimary}}}]}}),void 0,{scope:"SuggestionItem"}),vg=function(e){function t(t){var n=e.call(this,t)||this;return n._forceResolveButton=v.createRef(),n._searchForMoreButton=v.createRef(),n._selectedElement=v.createRef(),n.tryHandleKeyDown=function(e,t){var r=!1,i=null,o=n.state.selectedActionType,a=n.props.suggestions.length;if(e===ge.a.down)switch(o){case ug.forceResolve:a>0?(n._refocusOnSuggestions(e),i=ug.none):i=n._searchForMoreButton.current?ug.searchMore:ug.forceResolve;break;case ug.searchMore:n._forceResolveButton.current?i=ug.forceResolve:a>0?(n._refocusOnSuggestions(e),i=ug.none):i=ug.searchMore;break;case ug.none:-1===t&&n._forceResolveButton.current&&(i=ug.forceResolve)}else if(e===ge.a.up)switch(o){case ug.forceResolve:n._searchForMoreButton.current?i=ug.searchMore:a>0&&(n._refocusOnSuggestions(e),i=ug.none);break;case ug.searchMore:a>0?(n._refocusOnSuggestions(e),i=ug.none):n._forceResolveButton.current&&(i=ug.forceResolve);break;case ug.none:-1===t&&n._searchForMoreButton.current&&(i=ug.searchMore)}return null!==i&&(n.setState({selectedActionType:i}),r=!0),r},n._getMoreResults=function(){n.props.onGetMoreResults&&n.props.onGetMoreResults()},n._forceResolve=function(){n.props.createGenericItem&&n.props.createGenericItem()},n._shouldShowForceResolve=function(){return!!n.props.showForceResolve&&n.props.showForceResolve()},n._onClickTypedSuggestionsItem=function(e,t){return function(r){n.props.onSuggestionClick(r,e,t)}},n._refocusOnSuggestions=function(e){"function"===typeof n.props.refocusSuggestions&&n.props.refocusSuggestions(e)},n._onRemoveTypedSuggestionsItem=function(e,t){return function(r){(0,n.props.onSuggestionRemove)(r,e,t),r.stopPropagation()}},n.state={selectedActionType:ug.none},n}return m.c(t,e),t.prototype.componentDidMount=function(){this.scrollSelected(),this.activeSelectedElement=this._selectedElement?this._selectedElement.current:null},t.prototype.componentDidUpdate=function(){this._selectedElement.current&&this.activeSelectedElement!==this._selectedElement.current&&(this.scrollSelected(),this.activeSelectedElement=this._selectedElement.current)},t.prototype.render=function(){var e=this,t=this.props,n=t.forceResolveText,r=t.mostRecentlyUsedHeaderText,i=t.searchForMoreText,o=t.className,a=t.moreSuggestionsAvailable,s=t.noResultsFoundText,u=t.suggestions,l=t.isLoading,c=t.isSearching,d=t.loadingText,f=t.onRenderNoResultFound,h=t.searchingText,p=t.isMostRecentlyUsedVisible,g=t.resultsMaximumNumber,b=t.resultsFooterFull,y=t.resultsFooter,_=t.isResultsFooterVisible,x=void 0===_||_,S=t.suggestionsAvailableAlertText,w=t.suggestionsHeaderText,C=t.suggestionsClassName,k=t.theme,E=t.styles;this._classNames=E?gg(E,{theme:k,className:o,suggestionsClassName:C,forceResolveButtonSelected:this.state.selectedActionType===ug.forceResolve,searchForMoreButtonSelected:this.state.selectedActionType===ug.searchMore}):{root:Object(z.a)("ms-Suggestions",o,pg.root),title:Object(z.a)("ms-Suggestions-title",pg.suggestionsTitle),searchForMoreButton:Object(z.a)("ms-SearchMore-button",pg.actionButton,(A={},A["is-selected "+pg.buttonSelected]=this.state.selectedActionType===ug.searchMore,A)),forceResolveButton:Object(z.a)("ms-forceResolve-button",pg.actionButton,(M={},M["is-selected "+pg.buttonSelected]=this.state.selectedActionType===ug.forceResolve,M)),suggestionsAvailable:Object(z.a)("ms-Suggestions-suggestionsAvailable",pg.suggestionsAvailable),suggestionsContainer:Object(z.a)("ms-Suggestions-container",pg.suggestionsContainer,C),noSuggestions:Object(z.a)("ms-Suggestions-none",pg.suggestionsNone)};var O=this._classNames.subComponentStyles?this._classNames.subComponentStyles.spinner:void 0,T=E?{styles:O}:{className:Object(z.a)("ms-Suggestions-spinner",pg.suggestionsSpinner)},P=function(){return s?v.createElement("div",{role:"alert",className:e._classNames.noSuggestions},s):null},I=w;p&&r&&(I=r);var D=void 0;x&&(D=u.length>=g?b:y);var A,M,j=(!u||!u.length)&&!l;return v.createElement("div",{className:this._classNames.root},I?v.createElement("div",{className:this._classNames.title},I):null,n&&this._shouldShowForceResolve()&&v.createElement(ii,{componentRef:this._forceResolveButton,className:this._classNames.forceResolveButton,onClick:this._forceResolve},n),l&&v.createElement(ac,m.a({},T,{label:d})),j?f?f(void 0,P):P():this._renderSuggestions(),i&&a&&v.createElement(ii,{componentRef:this._searchForMoreButton,className:this._classNames.searchForMoreButton,iconProps:{iconName:"Search"},onClick:this._getMoreResults},i),c?v.createElement(ac,m.a({},T,{label:h})):null,!D||a||p||c?null:v.createElement("div",{className:this._classNames.title},D(this.props)),v.createElement("span",{role:"alert","aria-live":"polite",className:this._classNames.suggestionsAvailable},!l&&!c&&u&&u.length>0&&S?S:null))},t.prototype.hasSuggestedAction=function(){return void 0!==this._searchForMoreButton.current||void 0!==this._forceResolveButton.current},t.prototype.hasSuggestedActionSelected=function(){return this.state.selectedActionType!==ug.none},t.prototype.executeSelectedAction=function(){switch(this.state.selectedActionType){case ug.forceResolve:this._forceResolve();break;case ug.searchMore:this._getMoreResults()}},t.prototype.focusAboveSuggestions=function(){this._forceResolveButton.current?this.setState({selectedActionType:ug.forceResolve}):this._searchForMoreButton.current&&this.setState({selectedActionType:ug.searchMore})},t.prototype.focusBelowSuggestions=function(){this._searchForMoreButton.current?this.setState({selectedActionType:ug.searchMore}):this._forceResolveButton.current&&this.setState({selectedActionType:ug.forceResolve})},t.prototype.focusSearchForMoreButton=function(){this._searchForMoreButton.current&&this._searchForMoreButton.current.focus()},t.prototype.scrollSelected=function(){this._selectedElement.current&&void 0!==this._selectedElement.current.scrollIntoView&&this._selectedElement.current.scrollIntoView(!1)},t.prototype._renderSuggestions=function(){var e=this,t=this.props,n=t.onRenderSuggestion,r=t.removeSuggestionAriaLabel,i=t.suggestionsItemClassName,o=t.resultsMaximumNumber,a=t.showRemoveButtons,s=t.suggestionsContainerAriaLabel,u=t.suggestionsListId,l=this.props.suggestions,c=mg,d=-1;return l.some((function(e,t){return!!e.selected&&(d=t,!0)})),o&&(l=d>=o?l.slice(d-o+1,d+1):l.slice(0,o)),0===l.length?null:v.createElement("div",{className:this._classNames.suggestionsContainer,id:u,role:"listbox","aria-label":s},l.map((function(t,o){return v.createElement("div",{ref:t.selected?e._selectedElement:void 0,key:t.item.key?t.item.key:o,id:"sug-"+o,"aria-selected":t.selected,role:"option","aria-label":t.ariaLabel},v.createElement(c,{suggestionModel:t,RenderSuggestion:n,onClick:e._onClickTypedSuggestionsItem(t.item,o),className:i,showRemoveButton:a,removeButtonAriaLabel:r,onRemoveItem:e._onRemoveTypedSuggestionsItem(t.item,o)}))})))},t}(O.a),bg=function(){function e(){var e=this;this._isSuggestionModel=function(e){return void 0!==e.item},this._ensureSuggestionModel=function(t){return e._isSuggestionModel(t)?t:{item:t,selected:!1,ariaLabel:t.name||t.primaryText}},this.suggestions=[],this.currentIndex=-1}return e.prototype.updateSuggestions=function(e,t){e&&e.length>0?(this.suggestions=this.convertSuggestionsToSuggestionItems(e),this.currentIndex=t||0,-1===t?this.currentSuggestion=void 0:void 0!==t&&(this.suggestions[t].selected=!0,this.currentSuggestion=this.suggestions[t])):(this.suggestions=[],this.currentIndex=-1,this.currentSuggestion=void 0)},e.prototype.nextSuggestion=function(){if(this.suggestions&&this.suggestions.length){if(this.currentIndex<this.suggestions.length-1)return this.setSelectedSuggestion(this.currentIndex+1),!0;if(this.currentIndex===this.suggestions.length-1)return this.setSelectedSuggestion(0),!0}return!1},e.prototype.previousSuggestion=function(){if(this.suggestions&&this.suggestions.length){if(this.currentIndex>0)return this.setSelectedSuggestion(this.currentIndex-1),!0;if(0===this.currentIndex)return this.setSelectedSuggestion(this.suggestions.length-1),!0}return!1},e.prototype.getSuggestions=function(){return this.suggestions},e.prototype.getCurrentItem=function(){return this.currentSuggestion},e.prototype.getSuggestionAtIndex=function(e){return this.suggestions[e]},e.prototype.hasSelectedSuggestion=function(){return!!this.currentSuggestion},e.prototype.removeSuggestion=function(e){this.suggestions.splice(e,1)},e.prototype.createGenericSuggestion=function(e){var t=this.convertSuggestionsToSuggestionItems([e])[0];this.currentSuggestion=t},e.prototype.convertSuggestionsToSuggestionItems=function(e){return Array.isArray(e)?e.map(this._ensureSuggestionModel):[]},e.prototype.deselectAllSuggestions=function(){this.currentIndex>-1&&(this.suggestions[this.currentIndex].selected=!1,this.currentIndex=-1)},e.prototype.setSelectedSuggestion=function(e){e>this.suggestions.length-1||e<0?(this.currentIndex=0,this.currentSuggestion.selected=!1,this.currentSuggestion=this.suggestions[0],this.currentSuggestion.selected=!0):(this.currentIndex>-1&&(this.suggestions[this.currentIndex].selected=!1),this.suggestions[e].selected=!0,this.currentIndex=e,this.currentSuggestion=this.suggestions[e])},e}(),yg={root:"ms-Suggestions",suggestionsContainer:"ms-Suggestions-container",title:"ms-Suggestions-title",forceResolveButton:"ms-forceResolve-button",searchForMoreButton:"ms-SearchMore-button",spinner:"ms-Suggestions-spinner",noSuggestions:"ms-Suggestions-none",suggestionsAvailable:"ms-Suggestions-suggestionsAvailable",isSelected:"is-selected"};function _g(e){var t=e.className,n=e.suggestionsClassName,r=e.theme,i=e.forceResolveButtonSelected,o=e.searchForMoreButtonSelected,a=r.palette,s=Object(b.N)(yg,r),u={background:"none",backgroundColor:"transparent",border:0,cursor:"pointer",margin:0,paddingLeft:8,position:"relative",borderTop:"1px solid "+a.neutralLight,height:40,textAlign:"left",width:"100%",fontSize:b.h.small,selectors:{":hover":{backgroundColor:a.neutralLight,cursor:"pointer"},":focus, :active":{backgroundColor:a.themeLight},".ms-Button-icon":{fontSize:b.h.icon,width:25},".ms-Button-label":{margin:"0 4px 0 9px"}}},l={backgroundColor:a.themeLight};return{root:[s.root,{minWidth:260},t],suggestionsContainer:[s.suggestionsContainer,{overflowY:"auto",overflowX:"hidden",maxHeight:300,borderBottom:"1px solid "+a.neutralLight},n],title:[s.title,{padding:"0 12px",fontSize:b.h.small,color:a.themePrimary,lineHeight:40,borderBottom:"1px solid "+a.neutralLight}],forceResolveButton:[s.forceResolveButton,u,i&&[s.isSelected,l]],searchForMoreButton:[s.searchForMoreButton,u,o&&[s.isSelected,l]],noSuggestions:[s.noSuggestions,{textAlign:"center",color:a.neutralSecondary,fontSize:b.h.small,lineHeight:30}],suggestionsAvailable:[s.suggestionsAvailable,b.U],subComponentStyles:{spinner:{root:[s.spinner,{margin:"5px 0",paddingLeft:14,textAlign:"left",whiteSpace:"nowrap",lineHeight:20,fontSize:b.h.small}],circle:{display:"inline-block",verticalAlign:"middle"},label:{display:"inline-block",verticalAlign:"middle",margin:"0 10px 0 16px"}}}}}!function(e){e[e.valid=0]="valid",e[e.warning=1]="warning",e[e.invalid=2]="invalid"}(hg||(hg={})),Object(Ti.a)([{rawString:".pickerText_de6ce0eb{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid "},{theme:"neutralTertiary",defaultValue:"#a6a6a6"},{rawString:";min-width:180px;min-height:30px}.pickerText_de6ce0eb:hover{border-color:"},{theme:"inputBorderHovered",defaultValue:"#333333"},{rawString:"}.pickerText_de6ce0eb.inputFocused_de6ce0eb{border-color:"},{theme:"inputFocusBorderAlt",defaultValue:"#0078d4"},{rawString:"}.pickerInput_de6ce0eb{height:34px;border:none;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;padding:0 6px 0px;-ms-flex-item-align:end;align-self:flex-end}.pickerItems_de6ce0eb{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.screenReaderOnly_de6ce0eb{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var xg="pickerText_de6ce0eb",Sg="inputFocused_de6ce0eb",wg="pickerInput_de6ce0eb",Cg="pickerItems_de6ce0eb",kg="screenReaderOnly_de6ce0eb",Eg=l,Og=Object(w.a)();var Tg=function(e){function t(t){var n,r=e.call(this,t)||this;r.root=v.createRef(),r.input=v.createRef(),r.focusZone=v.createRef(),r.suggestionElement=v.createRef(),r.SuggestionOfProperType=vg,r._styledSuggestions=(n=r.SuggestionOfProperType,Object(S.a)(n,_g,void 0,{scope:"Suggestions"})),r.dismissSuggestions=function(e){var t=function(){r.props.onDismiss&&r.props.onDismiss(e,r.suggestionStore.currentSuggestion?r.suggestionStore.currentSuggestion.item:void 0),(!e||e&&!e.defaultPrevented)&&r.canAddItems()&&r.suggestionStore.hasSelectedSuggestion()&&r.state.suggestedDisplayValue&&r.addItemByIndex(0)};r.currentPromise?r.currentPromise.then((function(){return t()})):t(),r.setState({suggestionsVisible:!1})},r.refocusSuggestions=function(e){r.resetFocus(),r.suggestionStore.suggestions&&r.suggestionStore.suggestions.length>0&&(e===ge.a.up?r.suggestionStore.setSelectedSuggestion(r.suggestionStore.suggestions.length-1):e===ge.a.down&&r.suggestionStore.setSelectedSuggestion(0))},r.onInputChange=function(e){r.updateValue(e),r.setState({moreSuggestionsAvailable:!0,isMostRecentlyUsedVisible:!1})},r.onSuggestionClick=function(e,t,n){r.addItemByIndex(n),r.setState({suggestionsVisible:!1})},r.onSuggestionRemove=function(e,t,n){r.props.onRemoveSuggestion&&r.props.onRemoveSuggestion(t),r.suggestionStore.removeSuggestion(n)},r.onInputFocus=function(e){r.state.isFocused||(r.setState({isFocused:!0}),r.selection.setAllSelected(!1),r.input.current&&""===r.input.current.value&&r.props.onEmptyInputFocus?(r.onEmptyInputFocus(),r.setState({isMostRecentlyUsedVisible:!0,moreSuggestionsAvailable:!1,suggestionsVisible:!0})):r.input.current&&r.input.current.value&&r.setState({isMostRecentlyUsedVisible:!1,suggestionsVisible:!0}),r.props.inputProps&&r.props.inputProps.onFocus&&r.props.inputProps.onFocus(e))},r.onInputBlur=function(e){r.props.inputProps&&r.props.inputProps.onBlur&&r.props.inputProps.onBlur(e)},r.onBlur=function(e){if(r.state.isFocused){var t=e.relatedTarget;null===e.relatedTarget&&(t=document.activeElement),t&&!Object(Ie.a)(r.root.current,t)&&(r.setState({isFocused:!1}),r.props.onBlur&&r.props.onBlur(e))}},r.onKeyDown=function(e){var t=e.which;switch(t){case ge.a.escape:r.state.suggestionsVisible&&(r.setState({suggestionsVisible:!1}),e.preventDefault(),e.stopPropagation());break;case ge.a.tab:case ge.a.enter:r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedActionSelected()?r.suggestionElement.current.executeSelectedAction():!e.shiftKey&&r.suggestionStore.hasSelectedSuggestion()&&r.state.suggestionsVisible?(r.completeSuggestion(),e.preventDefault(),e.stopPropagation()):r._onValidateInput();break;case ge.a.backspace:r.props.disabled||r.onBackspace(e),e.stopPropagation();break;case ge.a.del:r.props.disabled||(r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&-1!==r.suggestionStore.currentIndex?(r.props.onRemoveSuggestion&&r.props.onRemoveSuggestion(r.suggestionStore.currentSuggestion.item),r.suggestionStore.removeSuggestion(r.suggestionStore.currentIndex),r.forceUpdate()):r.onBackspace(e)),e.stopPropagation();break;case ge.a.up:r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&(r.suggestionElement.current&&r.suggestionElement.current.tryHandleKeyDown(t,r.suggestionStore.currentIndex)?(e.preventDefault(),e.stopPropagation()):r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedAction()&&0===r.suggestionStore.currentIndex?(e.preventDefault(),e.stopPropagation(),r.suggestionElement.current.focusAboveSuggestions(),r.suggestionStore.deselectAllSuggestions(),r.forceUpdate()):r.suggestionStore.previousSuggestion()&&(e.preventDefault(),e.stopPropagation(),r.onSuggestionSelect()));break;case ge.a.down:r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&(r.suggestionElement.current&&r.suggestionElement.current.tryHandleKeyDown(t,r.suggestionStore.currentIndex)?(e.preventDefault(),e.stopPropagation()):r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedAction()&&r.suggestionStore.currentIndex+1===r.suggestionStore.suggestions.length?(e.preventDefault(),e.stopPropagation(),r.suggestionElement.current.focusBelowSuggestions(),r.suggestionStore.deselectAllSuggestions(),r.forceUpdate()):r.suggestionStore.nextSuggestion()&&(e.preventDefault(),e.stopPropagation(),r.onSuggestionSelect()))}},r.onItemChange=function(e,t){var n=r.state.items;if(t>=0){var i=n;i[t]=e,r._updateSelectedItems(i)}},r.onGetMoreResults=function(){r.setState({isSearching:!0},(function(){if(r.props.onGetMoreResults&&r.input.current){var e=r.props.onGetMoreResults(r.input.current.value,r.state.items),t=e,n=e;Array.isArray(t)?(r.updateSuggestions(t),r.setState({isSearching:!1})):n.then&&n.then((function(e){r.updateSuggestions(e),r.setState({isSearching:!1})}))}else r.setState({isSearching:!1});r.input.current&&r.input.current.focus(),r.setState({moreSuggestionsAvailable:!1,isResultsFooterVisible:!0})}))},r.addItemByIndex=function(e){r.addItem(r.suggestionStore.getSuggestionAtIndex(e).item),r.input.current&&r.input.current.clear(),r.updateValue("")},r.addItem=function(e){var t=r.props.onItemSelected?r.props.onItemSelected(e):e;if(null!==t){var n=t,i=t;if(i&&i.then)i.then((function(e){var t=r.state.items.concat([e]);r._updateSelectedItems(t)}));else{var o=r.state.items.concat([n]);r._updateSelectedItems(o)}r.setState({suggestedDisplayValue:""})}},r.removeItem=function(e,t){var n=r.state.items,i=n.indexOf(e);if(i>=0){var o=n.slice(0,i).concat(n.slice(i+1));r._updateSelectedItems(o,t?i:void 0)}},r.removeItems=function(e){var t=r.state.items,n=t.filter((function(t){return-1===e.indexOf(t)})),i=e[0],o=t.indexOf(i);r._updateSelectedItems(n,o)},r._isFocusZoneInnerKeystroke=function(e){if(r.state.suggestionsVisible)switch(e.which){case ge.a.up:case ge.a.down:return!0}return e.which===ge.a.enter};var i=t.selectedItems||t.defaultSelectedItems||[];return r._id=Object(Oe.c)(),r._ariaMap={selectedItems:"selected-items-"+r._id,selectedSuggestionAlert:"selected-suggestion-alert-"+r._id,suggestionList:"suggestion-list-"+r._id},r.suggestionStore=new bg,r.selection=new ll({onSelectionChanged:function(){return r.onSelectionChange()}}),r.selection.setItems(i),r.state={items:i,suggestedDisplayValue:"",isMostRecentlyUsedVisible:!1,moreSuggestionsAvailable:!1,isFocused:!1,isSearching:!1,selectedIndices:[]},r}return m.c(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!0,configurable:!0}),t.prototype.componentWillUpdate=function(e,t){t.items&&t.items!==this.state.items&&this.selection.setItems(t.items)},t.prototype.componentDidMount=function(){this.selection.setItems(this.state.items),this._onResolveSuggestions=this._async.debounce(this._onResolveSuggestions,this.props.resolveDelay)},t.prototype.componentWillReceiveProps=function(e){var t,n=this,r=e.selectedItems;r&&(r.length<this.state.items.length&&(t=this.state.items.indexOf(this.selection.getSelection()[0])),this.setState({items:e.selectedItems},(function(){n.state.isFocused&&n.resetFocus(t)})))},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.currentPromise&&(this.currentPromise=void 0)},t.prototype.focus=function(){this.focusZone.current&&this.focusZone.current.focus()},t.prototype.focusInput=function(){this.input.current&&this.input.current.focus()},t.prototype.completeSuggestion=function(){this.suggestionStore.hasSelectedSuggestion()&&this.input.current&&(this.addItem(this.suggestionStore.currentSuggestion.item),this.updateValue(""),this.input.current.clear())},t.prototype.render=function(){var e=this.state,t=e.suggestedDisplayValue,n=e.isFocused,r=e.items,i=this.props,o=i.className,a=i.inputProps,s=i.disabled,u=i.theme,l=i.styles,c=this.props.enableSelectedSuggestionAlert?this._ariaMap.selectedSuggestionAlert:"",d=this.state.suggestionsVisible?this._ariaMap.suggestionList:"",f=l?Og(l,{theme:u,className:o,isFocused:n,disabled:s,inputClassName:a&&a.className}):{root:Object(z.a)("ms-BasePicker",o||""),text:Object(z.a)("ms-BasePicker-text",Eg.pickerText,this.state.isFocused&&Eg.inputFocused),itemsWrapper:Eg.pickerItems,input:Object(z.a)("ms-BasePicker-input",Eg.pickerInput,a&&a.className),screenReaderText:Eg.screenReaderOnly};return v.createElement("div",{ref:this.root,className:f.root,onKeyDown:this.onKeyDown,onBlur:this.onBlur},v.createElement(Le,{componentRef:this.focusZone,direction:le.bidirectional,isInnerZoneKeystroke:this._isFocusZoneInnerKeystroke},this.getSuggestionsAlert(f.screenReaderText),v.createElement(vl,{selection:this.selection,selectionMode:qu.multiple},v.createElement("div",{className:f.text},r.length>0&&v.createElement("span",{id:this._ariaMap.selectedItems,className:f.itemsWrapper,role:"list"},this.renderItems()),this.canAddItems()&&v.createElement(me,m.a({spellCheck:!1},a,{className:f.input,componentRef:this.input,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onInputValueChange:this.onInputChange,suggestedDisplayValue:t,"aria-activedescendant":this.getActiveDescendant(),"aria-expanded":!!this.state.suggestionsVisible,"aria-haspopup":"true","aria-describedby":r.length>0?this._ariaMap.selectedItems:void 0,autoCapitalize:"off",autoComplete:"off",role:"combobox",disabled:s,"aria-controls":d+" "+c||void 0,"aria-owns":d||void 0,"aria-autocomplete":"both",onInputChange:this.props.onInputChange}))))),this.renderSuggestions())},t.prototype.canAddItems=function(){var e=this.state.items,t=this.props.itemLimit;return void 0===t||e.length<t},t.prototype.renderSuggestions=function(){var e=this._styledSuggestions;return this.state.suggestionsVisible&&this.input?v.createElement(Tn,m.a({isBeakVisible:!1,gapSpace:5,target:this.input.current?this.input.current.inputElement:void 0,onDismiss:this.dismissSuggestions,directionalHint:$e.bottomLeftEdge,directionalHintForRTL:$e.bottomRightEdge},this.props.pickerCalloutProps),v.createElement(e,m.a({onRenderSuggestion:this.props.onRenderSuggestionsItem,onSuggestionClick:this.onSuggestionClick,onSuggestionRemove:this.onSuggestionRemove,suggestions:this.suggestionStore.getSuggestions(),componentRef:this.suggestionElement,onGetMoreResults:this.onGetMoreResults,moreSuggestionsAvailable:this.state.moreSuggestionsAvailable,isLoading:this.state.suggestionsLoading,isSearching:this.state.isSearching,isMostRecentlyUsedVisible:this.state.isMostRecentlyUsedVisible,isResultsFooterVisible:this.state.isResultsFooterVisible,refocusSuggestions:this.refocusSuggestions,removeSuggestionAriaLabel:this.props.removeButtonAriaLabel,suggestionsListId:this._ariaMap.suggestionList},this.props.pickerSuggestionsProps))):null},t.prototype.renderItems=function(){var e=this,t=this.props,n=t.disabled,r=t.removeButtonAriaLabel,i=this.props.onRenderItem,o=this.state,a=o.items,s=o.selectedIndices;return a.map((function(t,o){return i({item:t,index:o,key:t.key?t.key:o,selected:-1!==s.indexOf(o),onRemoveItem:function(){return e.removeItem(t,!0)},disabled:n,onItemChange:e.onItemChange,removeButtonAriaLabel:r})}))},t.prototype.resetFocus=function(e){var t=this.state.items;if(t.length&&e>=0){var n=this.root.current&&this.root.current.querySelectorAll("[data-selection-index]")[Math.min(e,t.length-1)];n&&this.focusZone.current&&this.focusZone.current.focusElement(n)}else this.canAddItems()?this.input.current&&this.input.current.focus():this.resetFocus(t.length-1)},t.prototype.onSuggestionSelect=function(){if(this.suggestionStore.currentSuggestion){var e=this.input.current?this.input.current.value:"",t=this._getTextFromItem(this.suggestionStore.currentSuggestion.item,e);this.setState({suggestedDisplayValue:t})}},t.prototype.onSelectionChange=function(){this.setState({selectedIndices:this.selection.getSelectedIndices()})},t.prototype.updateSuggestions=function(e){this.suggestionStore.updateSuggestions(e,0),this.forceUpdate()},t.prototype.onEmptyInputFocus=function(){var e=(0,this.props.onEmptyInputFocus)(this.state.items);this.updateSuggestionsList(e)},t.prototype.updateValue=function(e){this._onResolveSuggestions(e)},t.prototype.updateSuggestionsList=function(e,t){var n=this,r=e,i=e;if(Array.isArray(r))this._updateAndResolveValue(t,r);else if(i&&i.then){this.setState({suggestionsLoading:!0}),this.suggestionStore.updateSuggestions([]),void 0!==t?this.setState({suggestionsVisible:!!this.input.current&&(""!==this.input.current.value&&this.input.current.inputElement===document.activeElement)}):this.setState({suggestionsVisible:!!this.input.current&&this.input.current.inputElement===document.activeElement});var o=this.currentPromise=i;o.then((function(e){o===n.currentPromise&&n._updateAndResolveValue(t,e)}))}},t.prototype.resolveNewValue=function(e,t){var n=this;this.updateSuggestions(t);var r=void 0;this.suggestionStore.currentSuggestion&&(r=this._getTextFromItem(this.suggestionStore.currentSuggestion.item,e)),this.setState({suggestedDisplayValue:r,suggestionsVisible:!!this.input.current&&(""!==this.input.current.value&&this.input.current.inputElement===document.activeElement)},(function(){return n.setState({suggestionsLoading:!1})}))},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.onBackspace=function(e){(this.state.items.length&&!this.input.current||this.input.current&&!this.input.current.isValueSelected&&0===this.input.current.cursorLocation)&&(this.selection.getSelectedCount()>0?this.removeItems(this.selection.getSelection()):this.removeItem(this.state.items[this.state.items.length-1]))},t.prototype.getActiveDescendant=function(){var e=this.suggestionStore.currentIndex;return e>-1&&!this.state.suggestionsLoading?"sug-"+e:void 0},t.prototype.getSuggestionsAlert=function(e){void 0===e&&(e=Eg.screenReaderOnly);var t=this.suggestionStore.currentIndex;if(this.props.enableSelectedSuggestionAlert){var n=t>-1?this.suggestionStore.getSuggestionAtIndex(this.suggestionStore.currentIndex):void 0,r=n?n.ariaLabel:void 0;return v.createElement("div",{className:e,role:"alert",id:this._ariaMap.selectedSuggestionAlert,"aria-live":"assertive"},r," ")}},t.prototype._updateAndResolveValue=function(e,t){void 0!==e?this.resolveNewValue(e,t):(this.suggestionStore.updateSuggestions(t,-1),this.state.suggestionsLoading&&this.setState({suggestionsLoading:!1}))},t.prototype._updateSelectedItems=function(e,t){var n=this;this.props.selectedItems?this.onChange(e):this.setState({items:e},(function(){n._onSelectedItemsUpdated(e,t)}))},t.prototype._onSelectedItemsUpdated=function(e,t){this.resetFocus(t),this.onChange(e)},t.prototype._onResolveSuggestions=function(e){var t=this.props.onResolveSuggestions(e,this.state.items);null!==t&&this.updateSuggestionsList(t,e)},t.prototype._onValidateInput=function(){if(this.props.onValidateInput&&this.input.current&&this.props.onValidateInput(this.input.current.value)!==hg.invalid&&this.props.createGenericItem){var e=this.props.createGenericItem(this.input.current.value,this.props.onValidateInput(this.input.current.value));this.suggestionStore.createGenericSuggestion(e),this.completeSuggestion()}},t.prototype._getTextFromItem=function(e,t){return this.props.getTextFromItem?this.props.getTextFromItem(e,t):""},t}(O.a),Pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.prototype.render=function(){var e=this.state,t=e.suggestedDisplayValue,n=e.isFocused,r=this.props,i=r.className,o=r.inputProps,a=r.disabled,s=r.theme,u=r.styles,l=this.props.enableSelectedSuggestionAlert?this._ariaMap.selectedSuggestionAlert:"",c=this.state.suggestionsVisible?this._ariaMap.suggestionList:"",d=u?Og(u,{theme:s,className:i,isFocused:n,inputClassName:o&&o.className}):{root:Object(z.a)("ms-BasePicker",i||""),text:Object(z.a)("ms-BasePicker-text",Eg.pickerText,this.state.isFocused&&Eg.inputFocused),input:Object(z.a)("ms-BasePicker-input",Eg.pickerInput,o&&o.className),screenReaderText:Eg.screenReaderOnly};return v.createElement("div",{ref:this.root,onBlur:this.onBlur},v.createElement("div",{className:d.root,onKeyDown:this.onKeyDown},this.getSuggestionsAlert(d.screenReaderText),v.createElement("div",{className:d.text},v.createElement(me,m.a({},o,{className:d.input,componentRef:this.input,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onInputValueChange:this.onInputChange,suggestedDisplayValue:t,"aria-activedescendant":this.getActiveDescendant(),"aria-expanded":!!this.state.suggestionsVisible,"aria-haspopup":"true",autoCapitalize:"off",autoComplete:"off",role:"combobox",disabled:a,"aria-controls":c+" "+l||void 0,"aria-owns":c||void 0,onInputChange:this.props.onInputChange})))),this.renderSuggestions(),v.createElement(vl,{selection:this.selection,selectionMode:qu.single},v.createElement(Le,{componentRef:this.focusZone,className:"ms-BasePicker-selectedItems",isCircularNavigation:!0,direction:le.bidirectional,isInnerZoneKeystroke:this._isFocusZoneInnerKeystroke,id:this._ariaMap.selectedItems},this.renderItems())))},t.prototype.onBackspace=function(e){},t}(Tg),Ig={root:"ms-PickerPersona-container",itemContent:"ms-PickerItem-content",removeButton:"ms-PickerItem-removeButton",isSelected:"is-selected",isInvalid:"is-invalid"};var Dg=Object(w.a)(),Ag=function(e){var t=e.item,n=e.onRemoveItem,r=e.index,i=e.selected,o=e.removeButtonAriaLabel,a=e.styles,s=e.theme,u=e.className,l=e.disabled,c=Object(Oe.c)(),d=Dg(a,{theme:s,className:u,selected:i,disabled:l,invalid:t.ValidationState===hg.warning}),f=d.subComponentStyles?d.subComponentStyles.persona:void 0,h=d.subComponentStyles?d.subComponentStyles.personaCoin:void 0;return v.createElement("div",{className:d.root,"data-is-focusable":!l,"data-is-sub-focuszone":!0,"data-selection-index":r,role:"listitem","aria-labelledby":"selectedItemPersona-"+c},v.createElement("div",{className:d.itemContent,id:"selectedItemPersona-"+c},v.createElement(oh,m.a({size:T.size24,styles:f,coinProps:{styles:h}},t))),v.createElement(fr,{onClick:n,disabled:l,iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},className:d.removeButton,ariaLabel:o}))},Mg=Object(S.a)(Ag,(function(e){var t,n,r,i,o,a,s=e.className,u=e.theme,l=e.selected,c=e.invalid,d=e.disabled,f=u.palette,h=u.semanticColors,p=Object(b.N)(Ig,u),g=[l&&!c&&!d&&{color:f.white,selectors:(t={},t[b.j]={color:"HighlightText"},t)},(c&&!l||c&&l&&d)&&{color:f.redDark,borderBottom:"2px dotted "+f.redDark,selectors:{"$root:hover &":{color:f.redDark}}},c&&l&&!d&&{color:f.white,borderBottom:"2px dotted "+f.white},d&&{selectors:(n={},n[b.j]={color:"GrayText"},n)}],m=[c&&{fontSize:20}];return{root:[p.root,Object(b.M)(u,{inset:-2}),{borderRadius:15,display:"inline-flex",alignItems:"center",background:f.neutralLighter,margin:"1px 2px",cursor:"default",userSelect:"none",maxWidth:300,verticalAlign:"middle",minWidth:0,selectors:(r={":hover":{background:l||d?"":f.neutralLight}},r[b.j]=[{border:"1px solid WindowText"},d&&{borderColor:"GrayText"}],r)},l&&!d&&[p.isSelected,{background:f.themePrimary,selectors:(i={},i[b.j]={borderColor:"HighLight",background:"Highlight",MsHighContrastAdjust:"none"},i)}],c&&[p.isInvalid],c&&l&&!d&&{background:f.redDark},s],itemContent:[p.itemContent,{flex:"0 1 auto",minWidth:0,maxWidth:"100%",overflow:"hidden"}],removeButton:[p.removeButton,{borderRadius:15,flex:"0 0 auto",width:24,height:24,flexBasis:24,selectors:{":hover":{background:f.neutralTertiaryAlt,color:f.neutralDark}}},l&&[{color:f.white,selectors:(o={":hover":{color:f.white,background:f.themeDark}},o[b.j]={color:"HighlightText"},o)},c&&{selectors:{":hover":{background:f.red}}}],d&&{selectors:(a={},a["."+rr.msButtonIcon]={color:h.buttonText},a)}],subComponentStyles:{persona:{primaryText:g},personaCoin:{initials:m}}}}),void 0,{scope:"PeoplePickerItem"}),jg={root:"ms-PeoplePicker-personaContent",personaWrapper:"ms-PeoplePicker-Persona"};var Rg=Object(w.a)(),Fg=function(e){var t=e.personaProps,n=e.suggestionsProps,r=e.compact,i=e.styles,o=e.theme,a=e.className,s=Rg(i,{theme:o,className:n&&n.suggestionsItemClassName||a}),u=s.subComponentStyles&&s.subComponentStyles.persona?s.subComponentStyles.persona:void 0;return v.createElement("div",{className:s.root},v.createElement(oh,m.a({size:T.size24,styles:u,className:s.personaWrapper,showSecondaryText:!r},t)))},Ng=Object(S.a)(Fg,(function(e){var t,n,r,i=e.className,o=e.theme,a=Object(b.N)(jg,o),s={selectors:(t={},t["."+fg.isSuggested+" &"]={selectors:(n={},n[b.j]={color:"HighlightText"},n)},t["."+a.root+":hover &"]={selectors:(r={},r[b.j]={color:"HighlightText"},r)},t)};return{root:[a.root,{width:"100%",padding:"4px 12px"},i],personaWrapper:[a.personaWrapper,{width:180}],subComponentStyles:{persona:{primaryText:s,secondaryText:s}}}}),void 0,{scope:"PeoplePickerItemSuggestion"}),Lg={root:"ms-BasePicker",text:"ms-BasePicker-text",itemsWrapper:"ms-BasePicker-itemsWrapper",input:"ms-BasePicker-input"};function Bg(e){var t=e.className,n=e.theme,r=e.isFocused,i=e.inputClassName,o=e.disabled;if(!n)throw new Error("theme is undefined or null in base BasePicker getStyles function.");var a,s=n.semanticColors,u=s.inputBorder,l=s.inputBorderHovered,c=s.inputFocusBorderAlt,d=Object(b.N)(Lg,n);return{root:[d.root,t],text:[d.text,{display:"flex",position:"relative",flexWrap:"wrap",alignItems:"center",boxSizing:"border-box",minWidth:180,minHeight:30,border:"1px solid "+u},!r&&!o&&{selectors:{":hover":{borderColor:l}}},r&&!o&&{borderColor:c},o&&{borderColor:"transparent",selectors:(a={":after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(218, 218, 218, 0.29)"}},a[b.j]={borderColor:"GrayText",selectors:{":after":{background:"none"}}},a)}],itemsWrapper:[d.itemsWrapper,{display:"flex",flexWrap:"wrap",maxWidth:"100%"}],input:[d.input,{height:30,border:"none",flexGrow:1,outline:"none",padding:"0 6px 0",alignSelf:"flex-end",selectors:{"::-ms-clear":{display:"none"}}},i],screenReaderText:b.U}}var zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Tg),Ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Pg),Hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.defaultProps={onRenderItem:function(e){return v.createElement(Mg,m.a({},e))},onRenderSuggestionsItem:function(e,t){return v.createElement(Ng,{personaProps:e,suggestionsProps:t})},createGenericItem:Gg},t}(zg),Vg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.defaultProps={onRenderItem:function(e){return v.createElement(Mg,m.a({},e))},onRenderSuggestionsItem:function(e,t){return v.createElement(Ng,{personaProps:e,suggestionsProps:t,compact:!0})},createGenericItem:Gg},t}(zg),Wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.defaultProps={onRenderItem:function(e){return v.createElement(Mg,m.a({},e))},onRenderSuggestionsItem:function(e,t){return v.createElement(Ng,{personaProps:e,suggestionsProps:t})},createGenericItem:Gg},t}(Ug);function Gg(e,t){var n={key:e,primaryText:e,imageInitials:"!",ValidationState:t};return t!==hg.warning&&(n.imageInitials=Object(k.a)(e,Object(C.a)())),n}var Kg=Object(S.a)(Hg,Bg,void 0,{scope:"NormalPeoplePicker"}),qg=Object(S.a)(Vg,Bg,void 0,{scope:"CompactPeoplePicker"}),Yg=Object(S.a)(Wg,Bg,void 0,{scope:"ListPeoplePickerBase"}),Xg={root:"ms-TagItem",text:"ms-TagItem-text",close:"ms-TagItem-close",isSelected:"is-selected"};var Zg=Object(w.a)(),Qg=function(e){var t=e.theme,n=e.styles,r=e.selected,i=e.disabled,o=e.enableTagFocusInDisabledPicker,a=e.children,s=e.className,u=e.index,l=e.onRemoveItem,c=e.removeButtonAriaLabel,d=Zg(n,{theme:t,className:s,selected:r,disabled:i});return v.createElement("div",{className:d.root,role:"listitem",key:u,"data-selection-index":u,"data-is-focusable":(o||!i)&&!0},v.createElement("span",{className:d.text,"aria-label":a},a),v.createElement(fr,{onClick:l,disabled:i,iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},className:d.close,ariaLabel:c}))},$g=Object(S.a)(Qg,(function(e){var t,n,r,i,o,a=e.className,s=e.theme,u=e.selected,l=e.disabled,c=s.palette,d=Object(b.N)(Xg,s);return{root:[d.root,Object(b.M)(s),{boxSizing:"content-box",flexShrink:"1",margin:2,height:26,lineHeight:26,cursor:"default",userSelect:"none",display:"flex",flexWrap:"nowrap",maxWidth:300,background:!u||l?c.neutralLighter:c.themePrimary,selectors:(t={":hover":[!l&&!u&&{background:c.neutralLight,selectors:{".ms-TagItem-close":{color:c.neutralPrimary}}},l&&{background:c.neutralLighter},u&&!l&&{background:c.themePrimary}]},t[b.j]={border:"1px solid "+(u?"WindowFrame":"WindowText")},t)},l&&{selectors:(n={},n[b.j]={borderColor:"GrayText"},n)},u&&!l&&[d.isSelected,{color:c.white}],a],text:[d.text,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:30,margin:"0 8px"},l&&{selectors:(r={},r[b.j]={color:"GrayText"},r)}],close:[d.close,{color:c.neutralSecondary,width:30,height:"100%",flex:"0 0 auto",selectors:{":hover":{background:c.neutralQuaternaryAlt,color:c.neutralPrimary}}},u&&{color:c.white,selectors:(i={":hover":{color:c.white,background:c.themeDark}},i[b.j]={color:"HighlightText"},i)},l&&{selectors:(o={},o["."+rr.msButtonIcon]={color:c.neutralSecondary},o)}]}}),void 0,{scope:"TagItem"}),Jg={suggestionTextOverflow:"ms-TagItem-TextOverflow"};var em,tm,nm=Object(w.a)(),rm=function(e){var t=e.styles,n=e.theme,r=e.children,i=nm(t,{theme:n});return v.createElement("div",{className:i.suggestionTextOverflow}," ",r," ")},im=Object(S.a)(rm,(function(e){var t=e.className,n=e.theme;return{suggestionTextOverflow:[Object(b.N)(Jg,n).suggestionTextOverflow,{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"60vw",padding:"6px 12px 7px",whiteSpace:"nowrap"},t]}}),void 0,{scope:"TagItemSuggestion"}),om=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t.defaultProps={onRenderItem:function(e){return v.createElement($g,m.a({},e),e.item.name)},onRenderSuggestionsItem:function(e){return v.createElement(im,null,e.name)}},t}(Tg),am=Object(S.a)(om,Bg,void 0,{scope:"TagPicker"}),sm=function(e){function t(t){var n=e.call(this,t)||this;return n._warnDeprecations({linkText:"headerText"}),n}return m.c(t,e),t.prototype.render=function(){return v.createElement("div",m.a({},Object(E.j)(this.props,E.h)),this.props.children)},t}(O.a);!function(e){e[e.links=0]="links",e[e.tabs=1]="tabs"}(em||(em={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(tm||(tm={}));var um,lm=Object(w.a)(),cm=v.createElement(sm,null).type,dm=function(e){function t(t){var n=e.call(this,t)||this;n._focusZone=v.createRef(),n._renderPivotLink=function(e,t,r){var i,o=t.itemKey,a=t.headerButtonProps,s=e.keyToTabIdMapping[o],u=t.onRenderItemLink,l=r===o;i=u?u(t,n._renderLinkContent):n._renderLinkContent(t);var c=t.headerText||"";return c+=t.itemCount?" ("+t.itemCount+")":"",c+=t.itemIcon?" xx":"",v.createElement(ii,m.a({},a,{id:s,key:o,className:l?n._classNames.linkIsSelected:n._classNames.link,onClick:n._onLinkClick.bind(n,o),onKeyPress:n._onKeyPress.bind(n,o),ariaLabel:t.ariaLabel,role:"tab","aria-selected":l,name:t.headerText,keytipProps:t.keytipProps,"data-content":c}),i)},n._renderLinkContent=function(e){var t=e.itemCount,r=e.itemIcon,i=e.headerText,o=n._classNames;return v.createElement("span",{className:o.linkContent},void 0!==r&&v.createElement("span",{className:o.icon},v.createElement(K,{iconName:r})),void 0!==i&&v.createElement("span",{className:o.text}," ",e.headerText),void 0!==t&&v.createElement("span",{className:o.count}," (",t,")"))},n._warnDeprecations({initialSelectedKey:"defaultSelectedKey",initialSelectedIndex:"defaultSelectedIndex"}),n._pivotId=Object(Oe.c)("Pivot");var r,i=n._getPivotLinks(t).links,o=t.defaultSelectedKey,a=void 0===o?t.initialSelectedKey:o,s=t.defaultSelectedIndex,u=void 0===s?t.initialSelectedIndex:s;return a?r=a:"number"===typeof u?r=i[u].itemKey:i.length&&(r=i[0].itemKey),n.state={selectedKey:r},n}return m.c(t,e),t.prototype.focus=function(){this._focusZone.current&&this._focusZone.current.focus()},t.prototype.render=function(){var e=this._getPivotLinks(this.props),t=this._getSelectedKey(e),n=Object(E.j)(this.props,E.h);return this._classNames=this._getClassNames(this.props),v.createElement("div",m.a({},n),this._renderPivotLinks(e,t),t&&this._renderPivotItem(e,t))},t.prototype._getSelectedKey=function(e){var t=this.props.selectedKey;if(this._isKeyValid(e,t)||null===t)return t;var n=this.state.selectedKey;return this._isKeyValid(e,n)?n:e.links.length?e.links[0].itemKey:void 0},t.prototype._renderPivotLinks=function(e,t){var n=this,r=e.links.map((function(r){return n._renderPivotLink(e,r,t)}));return v.createElement(Le,{componentRef:this._focusZone,direction:le.horizontal},v.createElement("div",{className:this._classNames.root,role:"tablist"},r))},t.prototype._renderPivotItem=function(e,t){if(this.props.headersOnly||!t)return null;var n=e.keyToIndexMapping[t],r=e.keyToTabIdMapping[t];return v.createElement("div",{role:"tabpanel","aria-labelledby":r,className:this._classNames.itemContainer},v.Children.toArray(this.props.children)[n])},t.prototype._getPivotLinks=function(e){var t=this,n={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return v.Children.map(v.Children.toArray(e.children),(function(e,r){if("object"===typeof e&&e.type===cm){var i=e,o=i.props,a=o.linkText,s=m.d(o,["linkText"]),u=i.props.itemKey||r.toString();n.links.push(m.a({headerText:a},s,{itemKey:u})),n.keyToIndexMapping[u]=r,n.keyToTabIdMapping[u]=t._getTabId(u,r)}else Object(Ur.b)("The children of a Pivot component must be of type PivotItem to be rendered.")})),n},t.prototype._getTabId=function(e,t){return this.props.getTabId?this.props.getTabId(e,t):this._pivotId+"-Tab"+t},t.prototype._isKeyValid=function(e,t){return void 0!==t&&null!==t&&void 0!==e.keyToIndexMapping[t]},t.prototype._onLinkClick=function(e,t){t.preventDefault(),this._updateSelectedItem(e,t)},t.prototype._onKeyPress=function(e,t){t.which===ge.a.enter&&(t.preventDefault(),this._updateSelectedItem(e))},t.prototype._updateSelectedItem=function(e,t){this.setState({selectedKey:e});var n=this._getPivotLinks(this.props);if(this.props.onLinkClick&&n.keyToIndexMapping[e]>=0){var r=n.keyToIndexMapping[e],i=v.Children.toArray(this.props.children)[r];"object"===typeof i&&i.type===cm&&this.props.onLinkClick(i,t)}},t.prototype._getClassNames=function(e){var t=e.theme,n=e.linkSize===tm.large,r=e.linkFormat===em.tabs;return lm(e.styles,{theme:t,rootIsLarge:n,rootIsTabs:r})},t}(O.a),fm={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text"},hm=function(e){var t,n,r=e.rootIsLarge,i=e.rootIsTabs,o=e.theme,a=o.palette,s=o.semanticColors;return[{color:s.actionLink,display:"inline-block",fontSize:b.h.medium,fontWeight:b.i.regular,lineHeight:"40px",marginRight:"8px",padding:"0 8px",textAlign:"center",position:"relative",backgroundColor:"transparent",border:0,selectors:(t={":before":{backgroundColor:"transparent",bottom:0,content:'""',height:"2px",left:"8px",position:"absolute",right:"8px",transition:"background-color "+b.c.durationValue2+" "+b.c.easeFunction2},":after":{color:"transparent",content:"attr(data-content)",display:"block",fontWeight:b.i.bold,height:"1px",overflow:"hidden",visibility:"hidden"},":hover":{color:s.actionLinkHovered,cursor:"pointer"},":focus":{outline:"none"}},t["."+jn.a+" &:focus"]={outline:"1px solid "+s.focusBorder},t["."+jn.a+" &:focus:after"]={content:"attr(data-content)",position:"relative",border:0},t)},r&&{fontSize:b.h.large},i&&[{marginRight:0,height:"40px",lineHeight:"40px",backgroundColor:a.neutralLighter,padding:"0 10px",verticalAlign:"top",selectors:(n={":focus":{outlineOffset:"-1px"}},n["."+jn.a+" &:focus::before"]={height:"auto",background:"transparent",transition:"none"},n)}]]},pm=Object(S.a)(dm,(function(e){var t,n,r,i=e.className,o=e.rootIsLarge,a=e.rootIsTabs,s=e.theme,u=s.palette,l=s.semanticColors,c=Object(b.N)(fm,s);return{root:[c.root,s.fonts.medium,b.ab,{fontSize:b.h.medium,fontWeight:b.i.regular,position:"relative",color:u.themePrimary,whiteSpace:"nowrap"},o&&c.rootIsLarge,a&&c.rootIsTabs,i],link:[c.link].concat(hm(e),[{selectors:{":hover::before":{boxSizing:"border-box",borderBottom:"2px solid transparent"}}},a&&{selectors:{"&:hover, &:focus":{color:u.black},":active":{backgroundColor:u.themePrimary}}}]),linkIsSelected:[c.link,c.linkIsSelected].concat(hm(e),[{fontWeight:b.i.semibold,selectors:(t={":before":{boxSizing:"border-box",borderBottom:"2px solid "+l.inputBackgroundChecked,selectors:(n={},n[b.j]={borderBottomColor:"Highlight"},n)}},t[b.j]={color:"Highlight"},t)},a&&{backgroundColor:u.themePrimary,color:u.white,fontWeight:b.i.semilight,selectors:(r={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:"auto"},"&:active, &:hover":{color:u.white}},r[b.j]={fontWeight:b.i.semibold,color:"HighlightText",background:"Highlight",MsHighContrastAdjust:"none"},r)}]),linkContent:[c.linkContent],text:[c.text,{display:"inline-block",verticalAlign:"top"}],count:[c.count,{marginLeft:"4px",display:"inline-block",verticalAlign:"top"}],icon:[c.icon,{selectors:{"& + $text":{marginLeft:"4px"}}}]}}),void 0,{scope:"Pivot"}),gm=Object(w.a)(),mm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderProgress=function(e){var n=t.props,r=n.ariaValueText,i=n.barHeight,o=n.className,a=n.styles,s=n.theme,u="number"===typeof t.props.percentComplete?Math.min(100,Math.max(0,100*t.props.percentComplete)):void 0,l=gm(a,{theme:s,className:o,barHeight:i,indeterminate:void 0===u}),c={width:void 0!==u?u+"%":void 0,transition:void 0!==u&&u<.01?"none":void 0},d=void 0!==u?0:void 0,f=void 0!==u?100:void 0,h=void 0!==u?Math.floor(u):void 0;return v.createElement("div",{className:l.itemProgress},v.createElement("div",{className:l.progressTrack}),v.createElement("div",{className:l.progressBar,style:c,role:"progressbar","aria-valuemin":d,"aria-valuemax":f,"aria-valuenow":h,"aria-valuetext":r}))},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.barHeight,n=e.className,r=e.label,i=void 0===r?this.props.title:r,o=e.description,a=e.styles,s=e.theme,u=e.progressHidden,l=e.onRenderProgress,c=void 0===l?this._onRenderProgress:l,d="number"===typeof this.props.percentComplete?Math.min(100,Math.max(0,100*this.props.percentComplete)):void 0,f=gm(a,{theme:s,className:n,barHeight:t,indeterminate:void 0===d});return v.createElement("div",{className:f.root},i?v.createElement("div",{className:f.itemName},i):null,u?null:c(m.a({},this.props,{percentComplete:d}),this._onRenderProgress),o?v.createElement("div",{className:f.itemDescription},o):null)},t.defaultProps={label:"",description:"",width:180},t}(v.Component),vm={root:"ms-ProgressIndicator",itemName:"ms-ProgressIndicator-itemName",itemDescription:"ms-ProgressIndicator-itemDescription",itemProgress:"ms-ProgressIndicator-itemProgress",progressTrack:"ms-ProgressIndicator-progressTrack",progressBar:"ms-ProgressIndicator-progressBar"},bm=Object(b.V)({"0%":{left:"-30%"},"100%":{left:"100%"}}),ym=Object(b.V)({"100%":{right:"-30%"},"0%":{right:"100%"}}),_m=Object(S.a)(mm,(function(e){var t,n,r=Object(C.a)(),i=e.className,o=e.indeterminate,a=e.theme,s=e.barHeight,u=void 0===s?2:s,l=a.palette,c=a.semanticColors,d=Object(b.N)(vm,a),f=l.neutralLight;return{root:[d.root,a.fonts.medium,{fontWeight:b.i.regular},i],itemName:[d.itemName,b.Z,{color:c.bodyText,fontSize:b.h.medium,paddingTop:4,lineHeight:20}],itemDescription:[d.itemDescription,{color:c.bodySubtext,fontSize:b.h.xSmall,lineHeight:18}],itemProgress:[d.itemProgress,{position:"relative",overflow:"hidden",height:u,padding:"8px 0"}],progressTrack:[d.progressTrack,{position:"absolute",width:"100%",height:u,backgroundColor:f,selectors:(t={},t[b.j]={borderBottom:"1px solid WindowText"},t)}],progressBar:[{backgroundColor:l.themePrimary,height:u,position:"absolute",transition:"width .3s ease",width:0,selectors:(n={},n[b.j]={backgroundColor:"WindowText"},n)},o?{position:"absolute",minWidth:"33%",background:"linear-gradient(to right, "+f+" 0%, "+l.themePrimary+" 50%, "+f+" 100%)",animation:(r?ym:bm)+" 3s infinite"}:{transition:"width .15s linear"},d.progressBar]}}),void 0,{scope:"ProgressIndicator"}),xm={root:"ms-RatingStar-root",rootIsSmall:"ms-RatingStar-root--small",rootIsLarge:"ms-RatingStar-root--large",ratingStar:"ms-RatingStar-container",ratingStarBack:"ms-RatingStar-back",ratingStarFront:"ms-RatingStar-front",ratingButton:"ms-Rating-button",ratingStarIsSmall:"ms-Rating--small",ratingStartIsLarge:"ms-Rating--large",labelText:"ms-Rating-labelText",ratingFocusZone:"ms-Rating-focuszone"};function Sm(e,t){return{color:e,selectors:(n={},n[b.j]={color:t},n)};var n}!function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(um||(um={}));var wm=Object(w.a)(),Cm=function(e){var t=e.icon||"FavoriteStarFill";return v.createElement("div",{className:e.classNames.ratingStar,key:e.id},v.createElement(K,{className:e.classNames.ratingStarBack,iconName:t}),!e.disabled&&v.createElement(K,{className:e.classNames.ratingStarFront,iconName:t,style:{width:e.fillPercentage+"%"}}))},km=function(e){function t(t){var n=e.call(this,t)||this;return n._warnDeprecations({onChanged:"onChange"}),n._id=Object(Oe.c)("Rating"),n._min=n.props.allowZeroStars?0:1,void 0!==n.props.min&&1!==n.props.min&&(n._min=n.props.min),n._labelId=Object(Oe.c)("RatingLabel"),n.state={rating:n._getInitialValue(t)},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){"undefined"!==typeof e.rating&&e.rating!==this.state.rating&&this.setState({rating:this._getClampedRating(e.rating)})},t.prototype.render=function(){var e,t,n,r=this._id,i=[],o=[],a=this.props,s=a.disabled,u=a.getAriaLabel,l=a.styles,c=a.max,d=a.rating,f=a.readOnly,h=a.size,p=a.theme,g=a.icon,b=void 0===g?"FavoriteStarFill":g,y=a.unselectedIcon,_=void 0===y?"FavoriteStar":y,x=Object(E.j)(this.props,E.h);this._classNames=wm(l,{disabled:s,readOnly:f,theme:p});for(var S=this._min;S<=c;S++)if(0!==S){var w=this._getFillingPercentage(S),C={fillPercentage:w,disabled:!!s,readOnly:!!f,classNames:this._classNames,icon:w>0?b:_};o.push(this._getStarId(S-1)),i.push(v.createElement("button",m.a({className:Object(z.a)(this._classNames.ratingButton,(e={},e[this._classNames.ratingStarIsLarge]=h===um.Large,e[this._classNames.ratingStarIsSmall]=h!==um.Large,e)),id:o[S-1],key:S},S===Math.ceil(this.state.rating)?{"data-is-current":!0}:{},{onFocus:this._onFocus.bind(this,S),onClick:this._onFocus.bind(this,S),disabled:!(!s&&!f),role:"presentation",type:"button"}),this._getLabel(S),v.createElement(Cm,m.a({key:S+"rating"},C))))}return v.createElement("div",m.a({className:Object(z.a)("ms-Rating-star",this._classNames.root,(t={},t[this._classNames.rootIsLarge]=h===um.Large,t[this._classNames.rootIsSmall]=h!==um.Large,t)),"aria-label":u?u(this.state.rating?this.state.rating:0,this.props.max):"",id:r},x),v.createElement(Le,{direction:le.horizontal,tabIndex:f?0:-1,className:Object(z.a)(this._classNames.ratingFocusZone,(n={},n[this._classNames.rootIsLarge]=h===um.Large,n[this._classNames.rootIsSmall]=h!==um.Large,n)),"data-is-focusable":!!f,defaultActiveElement:d?o[d-1]&&"#"+o[d-1]:void 0},i))},t.prototype._getStarId=function(e){return this._id+"-star-"+e},t.prototype._onFocus=function(e,t){if(this.state.rating!==e){this.setState({rating:e});var n=this.props,r=n.onChange,i=n.onChanged;r&&r(t,e),i&&i(e)}},t.prototype._getLabel=function(e){var t=this.props.ariaLabelFormat||"";return v.createElement("span",{id:this._labelId+"-"+e,className:this._classNames.labelText},Object(si.a)(t,e,this.props.max))},t.prototype._getInitialValue=function(e){return"undefined"===typeof e.rating?this._min:null!==e.rating?this._getClampedRating(e.rating):void 0},t.prototype._getClampedRating=function(e){return Math.min(Math.max(e,this._min),this.props.max)},t.prototype._getFillingPercentage=function(e){var t=Math.ceil(this.state.rating),n=100;return e===this.state.rating?n=100:e===t?n=this.state.rating%1*100:e>t&&(n=0),n},t.defaultProps={min:1,max:5},t}(O.a),Em=Object(S.a)(km,(function(e){var t=e.disabled,n=e.readOnly,r=e.theme,i=r.semanticColors,o=r.palette,a=Object(b.N)(xm,r),s=o.neutralTertiary,u=o.themePrimary,l=o.themeDark,c=i.bodyTextChecked,d=i.disabledBodySubtext;return{root:[a.root,r.fonts.medium,!t&&!n&&{selectors:{"&:hover":{selectors:{".ms-RatingStar-back":Sm(c,"Highlight")}}}}],rootIsSmall:[a.rootIsSmall,{height:"32px"}],rootIsLarge:[a.rootIsLarge,{height:"36px"}],ratingStar:[a.ratingStar,{display:"inline-block",position:"relative",height:"inherit"}],ratingStarBack:[a.ratingStarBack,{color:s,width:"100%"},t&&Sm(d,"GrayText")],ratingStarFront:[a.ratingStarFront,{position:"absolute",height:"100 %",left:"0",top:"0",textAlign:"center",verticalAlign:"middle",overflow:"hidden"},Sm(c,"Highlight")],ratingButton:[Object(b.M)(r),a.ratingButton,{backgroundColor:"transparent",padding:"8px 2px",boxSizing:"content-box",margin:"0px",border:"none",cursor:"pointer",selectors:{"&:disabled":{cursor:"default"},"&[disabled]":{cursor:"default"}}},!t&&!n&&{selectors:{"&:hover ~ .ms-Rating-button":{selectors:{".ms-RatingStar-back":Sm(s,"WindowText"),".ms-RatingStar-front":Sm(s,"WindowText")}},"&:hover":{selectors:{".ms-RatingStar-back":{color:u},".ms-RatingStar-front":{color:l}}}}},t&&{cursor:"default"}],ratingStarIsSmall:[a.ratingStarIsSmall,{fontSize:"16px",lineHeight:"16px",height:"16px"}],ratingStarIsLarge:[a.ratingStartIsLarge,{fontSize:"20px",lineHeight:"20px",height:"20px"}],labelText:[a.labelText,b.U],ratingFocusZone:[a.ratingFocusZone,{display:"inline-block"}]}}),void 0,{scope:"Rating"}),Om=Object(w.a)(),Tm=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._stickyAboveRef=v.createRef(),n._stickyBelowRef=v.createRef(),n._contentContainer=v.createRef(),n.subscribe=function(e){n._subscribers.add(e)},n.unsubscribe=function(e){n._subscribers.delete(e)},n.addSticky=function(e){n._stickies.add(e),n.contentContainer&&(e.setDistanceFromTop(n.contentContainer),n.sortSticky(e))},n.removeSticky=function(e){n._stickies.delete(e),n._removeStickyFromContainers(e),n.notifySubscribers()},n.sortSticky=function(e,t){n.stickyAbove&&n.stickyBelow&&(t&&n._removeStickyFromContainers(e),e.canStickyTop&&e.stickyContentTop&&n._addToStickyContainer(e,n.stickyAbove,e.stickyContentTop),e.canStickyBottom&&e.stickyContentBottom&&n._addToStickyContainer(e,n.stickyBelow,e.stickyContentBottom))},n.updateStickyRefHeights=function(){var e=n._stickies,t=0,r=0;e.forEach((function(e){var i=e.state,o=i.isStickyTop,a=i.isStickyBottom;e.nonStickyContent&&(o&&(t+=e.nonStickyContent.offsetHeight),a&&(r+=e.nonStickyContent.offsetHeight),n._checkStickyStatus(e))})),n.setState({stickyTopHeight:t,stickyBottomHeight:r})},n.notifySubscribers=function(){n.contentContainer&&n._subscribers.forEach((function(e){e(n.contentContainer,n.stickyBelow)}))},n.getScrollPosition=function(){return n.contentContainer?n.contentContainer.scrollTop:0},n.syncScrollSticky=function(e){e&&n.contentContainer&&e.syncScroll(n.contentContainer)},n._addToStickyContainer=function(e,t,r){if(t.children.length){if(!t.contains(r)){var i=[].slice.call(t.children),o=[];n._stickies.forEach((function(r){(t===n.stickyAbove&&e.canStickyTop||e.canStickyBottom)&&o.push(r)}));var a=o.sort((function(e,t){return(e.state.distanceFromTop||0)-(t.state.distanceFromTop||0)})).filter((function(e){var r=t===n.stickyAbove?e.stickyContentTop:e.stickyContentBottom;if(r)return i.indexOf(r)>-1})),s=void 0;for(var u in a)if((a[u].state.distanceFromTop||0)>=(e.state.distanceFromTop||0)){s=a[u];break}var l=null;s&&(l=t===n.stickyAbove?s.stickyContentTop:s.stickyContentBottom),t.insertBefore(r,l)}}else t.appendChild(r)},n._removeStickyFromContainers=function(e){n.stickyAbove&&e.stickyContentTop&&n.stickyAbove.contains(e.stickyContentTop)&&n.stickyAbove.removeChild(e.stickyContentTop),n.stickyBelow&&e.stickyContentBottom&&n.stickyBelow.contains(e.stickyContentBottom)&&n.stickyBelow.removeChild(e.stickyContentBottom)},n._onWindowResize=function(){var e=n._getScrollbarWidth(),t=n._getScrollbarHeight();n.setState({scrollbarWidth:e,scrollbarHeight:t}),n.notifySubscribers()},n._getStickyContainerStyle=function(e,t){return m.a({height:e},Object(C.a)()?{right:"0",left:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"}:{left:"0",right:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"},t?{top:"0"}:{bottom:(n.state.scrollbarHeight||n._getScrollbarHeight()||0)+"px"})},n._onScroll=function(){var e=n.contentContainer;e&&n._stickies.forEach((function(t){t.syncScroll(e)})),n._notifyThrottled()},n._subscribers=new Set,n._stickies=new Set,n.state={stickyTopHeight:0,stickyBottomHeight:0,scrollbarWidth:0,scrollbarHeight:0},n._notifyThrottled=n._async.throttle(n.notifySubscribers,50),n}return m.c(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyAbove",{get:function(){return this._stickyAboveRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyBelow",{get:function(){return this._stickyBelowRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentContainer",{get:function(){return this._contentContainer.current},enumerable:!0,configurable:!0}),t.prototype.getChildContext=function(){return{scrollablePane:{subscribe:this.subscribe,unsubscribe:this.unsubscribe,addSticky:this.addSticky,removeSticky:this.removeSticky,updateStickyRefHeights:this.updateStickyRefHeights,sortSticky:this.sortSticky,notifySubscribers:this.notifySubscribers,syncScrollSticky:this.syncScrollSticky}}},t.prototype.componentDidMount=function(){var e=this,t=this.props.initialScrollPosition;this._events.on(this.contentContainer,"scroll",this._onScroll),this._events.on(window,"resize",this._onWindowResize),this.contentContainer&&t&&(this.contentContainer.scrollTop=t),this.setStickiesDistanceFromTop(),this._stickies.forEach((function(t){e.sortSticky(t)})),this.notifySubscribers(),"MutationObserver"in window&&(this._mutationObserver=new MutationObserver((function(t){var n=e._getScrollbarHeight();if(n!==e.state.scrollbarHeight&&e.setState({scrollbarHeight:n}),e.notifySubscribers(),t.some(function(e){return null!==this.stickyAbove&&null!==this.stickyBelow&&(this.stickyAbove.contains(e.target)||this.stickyBelow.contains(e.target))}.bind(e)))e.updateStickyRefHeights();else{var r=[];e._stickies.forEach((function(e){e.root&&e.root.contains(t[0].target)&&r.push(e)})),r.length&&r.forEach((function(e){e.forceUpdate()}))}})),this.root&&this._mutationObserver.observe(this.root,{childList:!0,attributes:!0,subtree:!0,characterData:!0}))},t.prototype.componentWillUnmount=function(){this._events.off(this.contentContainer),this._events.off(window),this._mutationObserver&&this._mutationObserver.disconnect()},t.prototype.shouldComponentUpdate=function(e,t){return this.props.children!==e.children||this.props.initialScrollPosition!==e.initialScrollPosition||this.props.className!==e.className||this.state.stickyTopHeight!==t.stickyTopHeight||this.state.stickyBottomHeight!==t.stickyBottomHeight||this.state.scrollbarWidth!==t.scrollbarWidth||this.state.scrollbarHeight!==t.scrollbarHeight},t.prototype.componentDidUpdate=function(e,t){var n=this.props.initialScrollPosition;this.contentContainer&&"number"===typeof n&&e.initialScrollPosition!==n&&(this.contentContainer.scrollTop=n),t.stickyTopHeight===this.state.stickyTopHeight&&t.stickyBottomHeight===this.state.stickyBottomHeight||this.notifySubscribers(),this._async.setTimeout(this._onWindowResize,0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.theme,r=e.styles,i=this.state,o=i.stickyTopHeight,a=i.stickyBottomHeight,s=Om(r,{theme:n,className:t,scrollbarVisibility:this.props.scrollbarVisibility});return v.createElement("div",m.a({},Object(E.j)(this.props,E.h),{ref:this._root,className:s.root}),v.createElement("div",{ref:this._contentContainer,className:s.contentContainer,"data-is-scrollable":!0},this.props.children),v.createElement("div",{ref:this._stickyAboveRef,className:s.stickyAbove,style:this._getStickyContainerStyle(o,!0)}),v.createElement("div",{className:s.stickyBelow,style:this._getStickyContainerStyle(a,!1)},v.createElement("div",{ref:this._stickyBelowRef,className:s.stickyBelowItems})))},t.prototype.setStickiesDistanceFromTop=function(){var e=this;this.contentContainer&&this._stickies.forEach((function(t){t.setDistanceFromTop(e.contentContainer)}))},t.prototype.forceLayoutUpdate=function(){this._onWindowResize()},t.prototype._checkStickyStatus=function(e){this.stickyAbove&&this.stickyBelow&&this.contentContainer&&e.nonStickyContent&&(e.state.isStickyTop||e.state.isStickyBottom?(e.state.isStickyTop&&!this.stickyAbove.contains(e.nonStickyContent)&&e.stickyContentTop&&e.addSticky(e.stickyContentTop),e.state.isStickyBottom&&!this.stickyBelow.contains(e.nonStickyContent)&&e.stickyContentBottom&&e.addSticky(e.stickyContentBottom)):this.contentContainer.contains(e.nonStickyContent)||e.resetSticky())},t.prototype._getScrollbarWidth=function(){var e=this.contentContainer;return e?e.offsetWidth-e.clientWidth:0},t.prototype._getScrollbarHeight=function(){var e=this.contentContainer;return e?e.offsetHeight-e.clientHeight:0},t.childContextTypes={scrollablePane:hr.object},t}(O.a),Pm={root:"ms-ScrollablePane",contentContainer:"ms-ScrollablePane--contentContainer"},Im=Object(S.a)(Tm,(function(e){var t,n,r=e.className,i=e.theme,o=Object(b.N)(Pm,i),a={position:"absolute",pointerEvents:"auto"},s={position:"absolute",top:0,right:0,bottom:0,left:0,WebkitOverflowScrolling:"touch"};return{root:[o.root,i.fonts.medium,s,r],contentContainer:[o.contentContainer,{overflowY:"always"===e.scrollbarVisibility?"scroll":"auto"},s],stickyAbove:[{top:0,selectors:(t={},t[b.j]={borderBottom:"1px solid WindowText"},t)},a],stickyBelow:[{bottom:0,selectors:(n={},n[b.j]={borderTop:"1px solid WindowText"},n)},a],stickyBelowItems:[{bottom:0},a,{width:"100%"}]}}),void 0,{scope:"ScrollablePane"}),Dm={auto:"auto",always:"always"},Am=Object(w.a)(),Mm=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=v.createRef(),n._inputElement=v.createRef(),n._onClickFocus=function(){var e=n._inputElement.current;e&&(n.focus(),e.selectionStart=e.selectionEnd=0)},n._onFocusCapture=function(e){n.setState({hasFocus:!0}),n._events.on(e.currentTarget,"blur",n._onBlur,!0),n.props.onFocus&&n.props.onFocus(e)},n._onClearClick=function(e){var t=n.props.clearButtonProps;t&&t.onClick&&t.onClick(e),e.defaultPrevented||n._onClear(e)},n._onKeyDown=function(e){switch(e.which){case ge.a.escape:n.props.onEscape&&n.props.onEscape(e),e.defaultPrevented||n._onClear(e);break;case ge.a.enter:if(n.props.onSearch){n.props.onSearch(n.state.value);break}return;default:if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.defaultPrevented)return}e.preventDefault(),e.stopPropagation()},n._onBlur=function(e){n._events.off(n._rootElement.current,"blur"),n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e)},n._onInputChange=function(e){var t=e.target.value;t!==n._latestValue&&(n._latestValue=t,n.setState({value:t}),n._callOnChange(t))},n._warnDeprecations({labelText:"placeholder",defaultValue:"value"}),n._latestValue=t.value||"",n.state={value:n._latestValue,hasFocus:!1,id:Object(Oe.c)("SearchBox")},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.value&&(this._latestValue=e.value,this.setState({value:e.value||""}))},t.prototype.render=function(){var e=this.props,t=e.ariaLabel,n=e.placeholder,r=e.className,i=e.disabled,o=e.underlined,a=e.styles,s=e.labelText,u=e.theme,l=e.clearButtonProps,c=e.disableAnimation,d=e.iconProps,f=this.state,h=f.value,p=f.hasFocus,g=f.id,b=void 0===s?n:s,y=Am(a,{theme:u,className:r,underlined:o,hasFocus:p,disabled:i,hasInput:h.length>0,disableAnimation:c}),_=Object(E.j)(this.props,E.o,["id","className","placeholder","onFocus","onBlur","value"]);return v.createElement("div",{ref:this._rootElement,className:y.root,onFocusCapture:this._onFocusCapture},v.createElement("div",{className:y.iconContainer,onClick:this._onClickFocus,"aria-hidden":!0},v.createElement(K,m.a({iconName:"Search"},d,{className:y.icon}))),v.createElement("input",m.a({},_,{id:g,className:y.field,placeholder:b,onChange:this._onInputChange,onInput:this._onInputChange,onKeyDown:this._onKeyDown,value:h,disabled:i,"aria-label":t||n,ref:this._inputElement})),h.length>0&&v.createElement("div",{className:y.clearButton},v.createElement(fr,m.a({styles:{root:{height:"auto"},icon:{fontSize:"12px"}},iconProps:{iconName:"Clear"}},l,{onClick:this._onClearClick}))))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.hasFocus=function(){return!!this.state.hasFocus},t.prototype._onClear=function(e){this.props.onClear&&this.props.onClear(e),e.defaultPrevented||(this._latestValue="",this.setState({value:""}),this._callOnChange(""),e.stopPropagation(),e.preventDefault(),this.focus())},t.prototype._callOnChange=function(e){var t=this.props,n=t.onChange,r=t.onChanged;r&&r(e),n&&n(e)},t.defaultProps={disableAnimation:!1,clearButtonProps:{ariaLabel:"Clear text"}},t}(O.a);var jm=Object(S.a)(Mm,(function(e){var t,n,r,i=e.theme,o=e.underlined,a=e.disabled,s=e.hasFocus,u=e.className,l=e.hasInput,c=e.disableAnimation,d=i.palette,f=i.fonts,h=i.semanticColors,p={color:h.inputPlaceholderText,opacity:1};return{root:["ms-SearchBox",f.medium,b.ab,{color:d.neutralPrimary,backgroundColor:h.inputBackground,display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",padding:"1px 0 1px 4px",border:"1px solid "+d.neutralTertiary,height:32,selectors:(t={},t[b.j]={border:"1px solid WindowText"},t[":hover"]={borderColor:d.neutralDark,selectors:(n={},n[b.j]={borderColor:"Highlight"},n)},t[":hover $iconContainer"]={color:d.themeDark},t)},s&&["is-active",{borderColor:d.themePrimary,selectors:(r={":hover":{borderColor:d.themePrimary}},r[b.j]={borderColor:"Highlight"},r)}],a&&["is-disabled",{borderColor:d.neutralLighter,backgroundColor:d.neutralLighter,pointerEvents:"none",cursor:"default"}],o&&["is-underlined",{borderWidth:"0 0 1px 0",padding:"1px 0 1px 8px"}],o&&a&&{backgroundColor:"transparent"},l&&"can-clear",u],iconContainer:["ms-SearchBox-iconContainer",{display:"flex",flexDirection:"column",justifyContent:"center",flexShrink:0,fontSize:16,width:32,textAlign:"center",color:d.themePrimary,cursor:"text"},s&&{width:4},a&&{color:d.neutralTertiary},!c&&{transition:"width "+b.c.durationValue1}],icon:["ms-SearchBox-icon",{opacity:1},s&&{opacity:0},!c&&{transition:"opacity "+b.c.durationValue1+" 0s"}],clearButton:["ms-SearchBox-clearButton",{display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",flexBasis:"32px",flexShrink:0,padding:1,color:d.themePrimary}],field:["ms-SearchBox-field",b.ab,Object(b.Q)(p),{backgroundColor:"transparent",border:"none",outline:"none",fontWeight:"inherit",fontFamily:"inherit",fontSize:"inherit",color:d.neutralPrimary,flex:"1 1 0px",minWidth:"0px",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:.5,selectors:{"::-ms-clear":{display:"none"}}},a&&{color:d.neutralTertiary}]}}),void 0,{scope:"SearchBox"}),Rm=function(e){function t(t){var n=e.call(this,t)||this;n.addItems=function(e){var t=n.props.onItemSelected?n.props.onItemSelected(e):e,r=t,i=t;if(i&&i.then)i.then((function(e){var t=n.state.items.concat(e);n.updateItems(t)}));else{var o=n.state.items.concat(r);n.updateItems(o)}},n.removeItemAt=function(e){var t=n.state.items;if(n._canRemoveItem(t[e])&&e>-1){n.props.onItemsDeleted&&n.props.onItemsDeleted([t[e]]);var r=t.slice(0,e).concat(t.slice(e+1));n.updateItems(r)}},n.removeItem=function(e){var t=n.state.items.indexOf(e);n.removeItemAt(t)},n.replaceItem=function(e,t){var r=n.state.items,i=r.indexOf(e);if(i>-1){var o=r.slice(0,i).concat(t).concat(r.slice(i+1));n.updateItems(o)}},n.removeItems=function(e){var t=n.state.items,r=e.filter((function(e){return n._canRemoveItem(e)})),i=t.filter((function(e){return-1===r.indexOf(e)})),o=r[0],a=t.indexOf(o);n.props.onItemsDeleted&&n.props.onItemsDeleted(r),n.updateItems(i,a)},n.onCopy=function(e){if(n.props.onCopyItems&&n.selection.getSelectedCount()>0){var t=n.selection.getSelection();n.copyItems(t)}},n.renderItems=function(){var e=n.props.removeButtonAriaLabel,t=n.props.onRenderItem;return n.state.items.map((function(r,i){return t({item:r,index:i,key:r.key?r.key:i,selected:n.selection.isIndexSelected(i),onRemoveItem:function(){return n.removeItem(r)},onItemChange:n.onItemChange,removeButtonAriaLabel:e,onCopyItem:function(e){return n.copyItems([e])}})}))},n.onSelectionChanged=function(){n.forceUpdate()},n.onItemChange=function(e,t){var r=n.state.items;if(t>=0){var i=r;i[t]=e,n.updateItems(i)}};var r=t.selectedItems||t.defaultSelectedItems||[];return n.state={items:r},n.selection=n.props.selection?n.props.selection:new ll({onSelectionChanged:n.onSelectionChanged}),n}return m.c(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!0,configurable:!0}),t.prototype.removeSelectedItems=function(){this.state.items.length&&this.selection.getSelectedCount()>0&&this.removeItems(this.selection.getSelection())},t.prototype.updateItems=function(e,t){var n=this;this.props.selectedItems?this.onChange(e):this.setState({items:e},(function(){n._onSelectedItemsUpdated(e,t)}))},t.prototype.hasSelectedItems=function(){return this.selection.getSelectedCount()>0},t.prototype.unselectAll=function(){this.selection.setAllSelected(!1)},t.prototype.highlightedItems=function(){return this.selection.getSelection()},t.prototype.componentWillUpdate=function(e,t){t.items&&t.items!==this.state.items&&this.selection.setItems(t.items)},t.prototype.componentDidMount=function(){this.selection.setItems(this.state.items)},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedItems;t&&this.setState({items:t}),e.selection&&(this.selection=e.selection)},t.prototype.render=function(){return this.renderItems()},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.copyItems=function(e){if(this.props.onCopyItems){var t=this.props.onCopyItems(e),n=document.createElement("input");document.body.appendChild(n);try{if(n.value=t,n.select(),!document.execCommand("copy"))throw new Error}catch(r){}finally{document.body.removeChild(n)}}},t.prototype._onSelectedItemsUpdated=function(e,t){this.onChange(e)},t.prototype._canRemoveItem=function(e){return!this.props.canRemoveItem||this.props.canRemoveItem(e)},t}(O.a);Object(Ti.a)([{rawString:".personaContainer_59642838{border-radius:15px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:"},{theme:"themeLighterAlt",defaultValue:"#eff6fc"},{rawString:";margin:4px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;position:relative}.personaContainer_59642838::-moz-focus-inner{border:0}.personaContainer_59642838{outline:transparent}.personaContainer_59642838{position:relative}.ms-Fabric--isFocusVisible .personaContainer_59642838:focus:after{content:'';position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;pointer-events:none;border:1px solid "},{theme:"focusBorder",defaultValue:"#666666"},{rawString:"}.personaContainer_59642838 .ms-Persona-primaryText{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";font-size:14px;font-weight:400}.personaContainer_59642838 .ms-Persona-primaryText.hover_59642838{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_59642838 .ms-Persona-primaryText{color:HighlightText}}.personaContainer_59642838 .actionButton_59642838:hover{background:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.personaContainer_59642838 .actionButton_59642838 .ms-Button-icon{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_59642838 .actionButton_59642838 .ms-Button-icon{color:HighlightText}}.personaContainer_59642838:hover{background:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.personaContainer_59642838:hover .ms-Persona-primaryText{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";font-size:14px;font-weight:400}@media screen and (-ms-high-contrast: active){.personaContainer_59642838:hover .ms-Persona-primaryText{color:HighlightText}}.personaContainer_59642838.personaContainerIsSelected_59642838{background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.personaContainer_59642838.personaContainerIsSelected_59642838 .ms-Persona-primaryText{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_59642838.personaContainerIsSelected_59642838 .ms-Persona-primaryText{color:HighlightText}}.personaContainer_59642838.personaContainerIsSelected_59642838 .actionButton_59642838{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.personaContainer_59642838.personaContainerIsSelected_59642838 .actionButton_59642838 .ms-Button-icon{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}.personaContainer_59642838.personaContainerIsSelected_59642838 .actionButton_59642838 .ms-Button-icon:hover{background:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_59642838.personaContainerIsSelected_59642838 .actionButton_59642838 .ms-Button-icon{color:HighlightText}}@media screen and (-ms-high-contrast: active){.personaContainer_59642838.personaContainerIsSelected_59642838{border-color:Highlight;background:Highlight;-ms-high-contrast-adjust:none}}.personaContainer_59642838.validationError_59642838 .ms-Persona-primaryText{color:"},{theme:"red",defaultValue:"#e81123"},{rawString:"}.personaContainer_59642838.validationError_59642838 .ms-Persona-initials{font-size:20px}@media screen and (-ms-high-contrast: active){.personaContainer_59642838{border:1px solid WindowText}}.personaContainer_59642838 .itemContent_59642838{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;min-width:0px;max-width:100%}.personaContainer_59642838 .removeButton_59642838{border-radius:15px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:33px;height:33px;-ms-flex-preferred-size:32px;flex-basis:32px}.personaContainer_59642838 .expandButton_59642838{border-radius:15px 0px 0px 15px;height:33px;width:44px;padding-right:16px;position:inherit;display:-webkit-box;display:-ms-flexbox;display:flex;margin-right:-17px}.personaContainer_59642838 .personaWrapper_59642838{position:relative;display:inherit}.personaContainer_59642838 .personaWrapper_59642838 .ms-Persona-details{padding:0px 8px}.personaContainer_59642838 .personaDetails_59642838{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.itemContainer_59642838{display:inline-block;vertical-align:top}\n"}]);var Fm="personaContainer_59642838",Nm="hover_59642838",Lm="actionButton_59642838",Bm="personaContainerIsSelected_59642838",zm="validationError_59642838",Um="itemContent_59642838",Hm="removeButton_59642838",Vm="expandButton_59642838",Wm="personaWrapper_59642838",Gm="personaDetails_59642838",Km="itemContainer_59642838",qm=c,Ym=function(e){function t(t){var n=e.call(this,t)||this;return n.persona=v.createRef(),n.state={contextualMenuVisible:!1},n}return m.c(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.item,i=n.onExpandItem,o=n.onRemoveItem,a=n.removeButtonAriaLabel,s=n.index,u=n.selected,l=Object(Oe.c)();return v.createElement("div",{ref:this.persona,className:Object(z.a)("ms-PickerPersona-container",qm.personaContainer,(e={},e["is-selected "+qm.personaContainerIsSelected]=u,e),(t={},t["is-invalid "+qm.validationError]=!r.isValid,t)),"data-is-focusable":!0,"data-is-sub-focuszone":!0,"data-selection-index":s,role:"listitem","aria-labelledby":"selectedItemPersona-"+l},v.createElement("div",{hidden:!r.canExpand||void 0===i},v.createElement(fr,{onClick:this._onClickIconButton(i),iconProps:{iconName:"Add",style:{fontSize:"14px"}},className:Object(z.a)("ms-PickerItem-removeButton",qm.expandButton,qm.actionButton),ariaLabel:a})),v.createElement("div",{className:Object(z.a)(qm.personaWrapper)},v.createElement("div",{className:Object(z.a)("ms-PickerItem-content",qm.itemContent),id:"selectedItemPersona-"+l},v.createElement(oh,m.a({},r,{onRenderCoin:this.props.renderPersonaCoin,onRenderPrimaryText:this.props.renderPrimaryText,size:T.size32}))),v.createElement(fr,{onClick:this._onClickIconButton(o),iconProps:{iconName:"Cancel",style:{fontSize:"14px"}},className:Object(z.a)("ms-PickerItem-removeButton",qm.removeButton,qm.actionButton),ariaLabel:a})))},t.prototype._onClickIconButton=function(e){return function(t){t.stopPropagation(),t.preventDefault(),e&&e()}},t}(O.a),Xm=function(e){function t(t){var n=e.call(this,t)||this;return n.itemElement=v.createRef(),n._onClick=function(e){e.preventDefault(),n.props.beginEditing&&!n.props.item.isValid?n.props.beginEditing(n.props.item):n.setState({contextualMenuVisible:!0})},n._onCloseContextualMenu=function(e){n.setState({contextualMenuVisible:!1})},n.state={contextualMenuVisible:!1},n}return m.c(t,e),t.prototype.render=function(){return v.createElement("div",{ref:this.itemElement,onContextMenu:this._onClick},this.props.renderedItem,this.state.contextualMenuVisible?v.createElement(nr,{items:this.props.menuItems,shouldFocusOnMount:!0,target:this.itemElement.current,onDismiss:this._onCloseContextualMenu,directionalHint:$e.bottomLeftEdge}):null)},t}(O.a);Object(Ti.a)([{rawString:".editingInput_aec7d74f{border:0px;outline:none;width:100%}.editingInput_aec7d74f::-ms-clear{display:none}.editingContainer_aec7d74f{margin:4px}\n"}]);var Zm,Qm,$m="editingInput_aec7d74f",Jm="editingContainer_aec7d74f",ev=d,tv=function(e){function t(t){var n=e.call(this,t)||this;return n._editingFloatingPicker=v.createRef(),n._renderEditingSuggestions=function(){var e=n.props.onRenderFloatingPicker,t=n.props.floatingPickerProps;return e&&t?v.createElement(e,m.a({componentRef:n._editingFloatingPicker,onChange:n._onSuggestionSelected,inputElement:n._editingInput,selectedItems:[]},t)):v.createElement(v.Fragment,null)},n._resolveInputRef=function(e){n._editingInput=e,n.forceUpdate((function(){n._editingInput.focus()}))},n._onInputClick=function(){n._editingFloatingPicker.current&&n._editingFloatingPicker.current.showPicker(!0)},n._onInputBlur=function(e){if(n._editingFloatingPicker.current&&null!==e.relatedTarget){var t=e.relatedTarget;-1===t.className.indexOf("ms-Suggestions-itemButton")&&-1===t.className.indexOf("ms-Suggestions-sectionButton")&&n._editingFloatingPicker.current.forceResolveSuggestion()}},n._onInputChange=function(e){var t=e.target.value;""===t?n.props.onRemoveItem&&n.props.onRemoveItem():n._editingFloatingPicker.current&&n._editingFloatingPicker.current.onQueryStringChanged(t)},n._onSuggestionSelected=function(e){n.props.onEditingComplete(n.props.item,e)},n.state={contextualMenuVisible:!1},n}return m.c(t,e),t.prototype.componentDidMount=function(){var e=(0,this.props.getEditingItemText)(this.props.item);this._editingFloatingPicker.current&&this._editingFloatingPicker.current.onQueryStringChanged(e),this._editingInput.value=e,this._editingInput.focus()},t.prototype.render=function(){var e=Object(Oe.c)(),t=Object(E.j)(this.props,E.o);return v.createElement("div",{"aria-labelledby":"editingItemPersona-"+e,className:Object(z.a)("ms-EditingItem",ev.editingContainer)},v.createElement("input",m.a({},t,{ref:this._resolveInputRef,autoCapitalize:"off",autoComplete:"off",onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onBlur:this._onInputBlur,onClick:this._onInputClick,"data-lpignore":!0,className:ev.editingInput,id:e})),this._renderEditingSuggestions())},t.prototype._onInputKeyDown=function(e){e.which!==ge.a.backspace&&e.which!==ge.a.del||e.stopPropagation()},t}(O.a),nv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(Rm),rv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItems=function(){return t.state.items.map((function(e,n){return t._renderItem(e,n)}))},t._beginEditing=function(e){e.isEditing=!0,t.forceUpdate()},t._completeEditing=function(e,n){e.isEditing=!1,t.replaceItem(e,n)},t}return m.c(t,e),t.prototype._renderItem=function(e,t){var n=this,r=this.props.removeButtonAriaLabel,i=this.props.onExpandGroup,o={item:e,index:t,key:e.key?e.key:t,selected:this.selection.isIndexSelected(t),onRemoveItem:function(){return n.removeItem(e)},onItemChange:this.onItemChange,removeButtonAriaLabel:r,onCopyItem:function(e){return n.copyItems([e])},onExpandItem:i?function(){return i(e)}:void 0,menuItems:this._createMenuItems(e)},a=o.menuItems.length>0;if(e.isEditing&&a)return v.createElement(tv,m.a({},o,{onRenderFloatingPicker:this.props.onRenderFloatingPicker,floatingPickerProps:this.props.floatingPickerProps,onEditingComplete:this._completeEditing,getEditingItemText:this.props.getEditingItemText}));var s=(0,this.props.onRenderItem)(o);return a?v.createElement(Xm,{key:o.key,renderedItem:s,beginEditing:this._beginEditing,menuItems:this._createMenuItems(o.item),item:o.item}):s},t.prototype._createMenuItems=function(e){var t=this,n=[];return this.props.editMenuItemText&&this.props.getEditingItemText&&n.push({key:"Edit",text:this.props.editMenuItemText,onClick:function(e,n){t._beginEditing(n.data)},data:e}),this.props.removeMenuItemText&&n.push({key:"Remove",text:this.props.removeMenuItemText,onClick:function(e,n){t.removeItem(n.data)},data:e}),this.props.copyMenuItemText&&n.push({key:"Copy",text:this.props.copyMenuItemText,onClick:function(e,n){t.props.onCopyItems&&t.copyItems([n.data])},data:e}),n},t.defaultProps={onRenderItem:function(e){return v.createElement(Ym,m.a({},e))}},t}(nv),iv=Object(w.a)(),ov=function(e){var t=e.styles,n=e.theme,r=e.className,i=e.vertical,o=e.alignContent,a=iv(t,{theme:n,className:r,alignContent:o,vertical:i});return v.createElement("div",{className:a.root},v.createElement("div",{className:a.content,role:"separator","aria-orientation":i?"vertical":"horizontal"},e.children))},av=Object(S.a)(ov,(function(e){var t=e.theme,n=e.alignContent,r=e.vertical,i=e.className,o="start"===n,a="center"===n,s="end"===n;return{root:[t.fonts.medium,{position:"relative"},n&&{textAlign:n},!n&&{textAlign:"center"},r&&(a||!n)&&{verticalAlign:"middle"},r&&o&&{verticalAlign:"top"},r&&s&&{verticalAlign:"bottom"},r&&{padding:"0 4px",height:"inherit",display:"table-cell",zIndex:1,selectors:{":after":{backgroundColor:t.palette.neutralLighter,width:"1px",content:'""',position:"absolute",top:"0",bottom:"0",left:"50%",right:"0",zIndex:-1}}},!r&&{padding:"4px 0",selectors:{":before":{backgroundColor:t.palette.neutralLighter,height:"1px",content:'""',display:"block",position:"absolute",top:"50%",bottom:"0",left:"0",right:"0"}}},i],content:[{position:"relative",display:"inline-block",padding:"0 12px",color:t.semanticColors.bodyText,background:t.semanticColors.bodyBackground},r&&{padding:"12px 0"}]}}),void 0,{scope:"Separator"}),sv={root:"ms-Shimmer-container",shimmerWrapper:"ms-Shimmer-shimmerWrapper",dataWrapper:"ms-Shimmer-dataWrapper"},uv=Object(b.V)({"0%":{backgroundPosition:"-1000%"},"100%":{backgroundPosition:"1000%"}}),lv=Object(b.V)({"100%":{backgroundPosition:"-1000%"},"0%":{backgroundPosition:"1000%"}});!function(e){e[e.line=1]="line",e[e.circle=2]="circle",e[e.gap=3]="gap"}(Zm||(Zm={})),function(e){e[e.line=16]="line",e[e.gap=16]="gap",e[e.circle=24]="circle"}(Qm||(Qm={}));var cv=Object(w.a)(),dv=function(e){function t(t){return e.call(this,t)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.styles,r=e.width,i=e.borderStyle,o=e.theme;return this._classNames=cv(n,{theme:o,height:t,borderStyle:i}),v.createElement("div",{style:{width:r||"100%",minWidth:"number"===typeof r?r+"px":"auto"},className:this._classNames.root},v.createElement("svg",{width:"2",height:"2",className:this._classNames.topLeftCorner},v.createElement("path",{d:"M0 2 A 2 2, 0, 0, 1, 2 0 L 0 0 Z"})),v.createElement("svg",{width:"2",height:"2",className:this._classNames.topRightCorner},v.createElement("path",{d:"M0 0 A 2 2, 0, 0, 1, 2 2 L 2 0 Z"})),v.createElement("svg",{width:"2",height:"2",className:this._classNames.bottomRightCorner},v.createElement("path",{d:"M2 0 A 2 2, 0, 0, 1, 0 2 L 2 2 Z"})),v.createElement("svg",{width:"2",height:"2",className:this._classNames.bottomLeftCorner},v.createElement("path",{d:"M2 2 A 2 2, 0, 0, 1, 0 0 L 0 2 Z"})))},t}(O.a),fv={root:"ms-ShimmerLine-root",topLeftCorner:"ms-ShimmerLine-topLeftCorner",topRightCorner:"ms-ShimmerLine-topRightCorner",bottomLeftCorner:"ms-ShimmerLine-bottomLeftCorner",bottomRightCorner:"ms-ShimmerLine-bottomRightCorner"};var hv=Object(S.a)(dv,(function(e){var t,n=e.height,r=e.borderStyle,i=e.theme,o=i.palette,a=Object(b.N)(fv,i),s=r||{},u={position:"absolute",fill:o.white};return{root:[a.root,i.fonts.medium,{height:n+"px",boxSizing:"content-box",position:"relative",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:o.white,selectors:(t={},t[b.j]={borderColor:"Window",selectors:{"> *":{fill:"Window"}}},t)},s],topLeftCorner:[a.topLeftCorner,{top:"0",left:"0"},u],topRightCorner:[a.topRightCorner,{top:"0",right:"0"},u],bottomRightCorner:[a.bottomRightCorner,{bottom:"0",right:"0"},u],bottomLeftCorner:[a.bottomLeftCorner,{bottom:"0",left:"0"},u]}}),void 0,{scope:"ShimmerLine"}),pv=Object(w.a)(),gv=function(e){function t(t){return e.call(this,t)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.styles,r=e.width,i=e.borderStyle,o=e.theme;return this._classNames=pv(n,{theme:o,height:t,borderStyle:i}),v.createElement("div",{style:{width:r||"10px",minWidth:"number"===typeof r?r+"px":"auto"},className:this._classNames.root})},t}(O.a),mv={root:"ms-ShimmerGap-root"};var vv=Object(S.a)(gv,(function(e){var t,n=e.height,r=e.borderStyle,i=e.theme,o=i.palette,a=r||{};return{root:[Object(b.N)(mv,i).root,i.fonts.medium,{backgroundColor:o.white,height:n+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:o.white,selectors:(t={},t[b.j]={backgroundColor:"Window",borderColor:"Window"},t)},a]}}),void 0,{scope:"ShimmerGap"}),bv={root:"ms-ShimmerCircle-root",svg:"ms-ShimmerCircle-svg"};var yv=Object(w.a)(),_v=function(e){function t(t){return e.call(this,t)||this}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.height,n=e.styles,r=e.borderStyle,i=e.theme;return this._classNames=yv(n,{theme:i,height:t,borderStyle:r}),v.createElement("div",{className:this._classNames.root},v.createElement("svg",{viewBox:"0 0 10 10",width:t,height:t,className:this._classNames.svg},v.createElement("path",{d:"M0,0 L10,0 L10,10 L0,10 L0,0 Z M0,5 C0,7.76142375 2.23857625,10 5,10 C7.76142375,10 10,7.76142375 10,5 C10,2.23857625 7.76142375,2.22044605e-16 5,0 C2.23857625,-2.22044605e-16 0,2.23857625 0,5 L0,5 Z"})))},t}(O.a),xv=Object(S.a)(_v,(function(e){var t,n,r=e.height,i=e.borderStyle,o=e.theme,a=o.palette,s=Object(b.N)(bv,o),u=i||{};return{root:[s.root,o.fonts.medium,{width:r+"px",height:r+"px",minWidth:r+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:a.white,selectors:(t={},t[b.j]={borderColor:"Window"},t)},u],svg:[s.svg,{display:"block",fill:a.white,selectors:(n={},n[b.j]={fill:"Window"},n)}]}}),void 0,{scope:"ShimmerCircle"}),Sv=Object(w.a)(),wv=function(e){function t(t){var n=e.call(this,t)||this;return n._getRenderedElements=function(e,t){return e?e.map((function(e,r){e.type;var i=m.d(e,["type"]);switch(e.type){case Zm.circle:return v.createElement(xv,m.a({key:r},i,{styles:n._getStyles(e,t)}));case Zm.gap:return v.createElement(vv,m.a({key:r},i,{styles:n._getStyles(e,t)}));case Zm.line:return v.createElement(hv,m.a({key:r},i,{styles:n._getStyles(e,t)}))}})):v.createElement(hv,{height:Qm.line,styles:{root:[{borderWidth:"0px"}]}})},n._getStyles=function(e,t){var r,i=n.props.backgroundColor,o=e.verticalAlign,a=e.type,s=e.height,u=t&&s?t-s:0;if(o&&"center"!==o?o&&"top"===o?r={borderBottomWidth:(u||0)+"px",borderTopWidth:"0px"}:o&&"bottom"===o&&(r={borderBottomWidth:"0px",borderTopWidth:(u||0)+"px"}):r={borderBottomWidth:(u?Math.floor(u/2):0)+"px",borderTopWidth:(u?Math.ceil(u/2):0)+"px"},i)switch(a){case Zm.circle:return{root:m.a({},r,{borderColor:i}),svg:{fill:i}};case Zm.gap:return{root:m.a({},r,{borderColor:i,backgroundColor:i})};case Zm.line:return{root:m.a({},r,{borderColor:i}),topLeftCorner:{fill:i},topRightCorner:{fill:i},bottomLeftCorner:{fill:i},bottomRightCorner:{fill:i}}}return{root:m.a({},r)}},n._findMaxElementHeight=function(e){return e.map((function(e){switch(e.type){case Zm.circle:e.height||(e.height=Qm.circle);case Zm.line:e.height||(e.height=Qm.line);case Zm.gap:e.height||(e.height=Qm.gap)}return e})).reduce((function(e,t){return t.height&&t.height>e?t.height:e}),0)},n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.width,r=e.shimmerElements,i=e.rowHeight,o=e.flexWrap,a=e.theme;this._classNames=Sv(t,{theme:a,flexWrap:o});var s=i||this._findMaxElementHeight(r||[]);return v.createElement("div",{style:{width:n||"auto"},className:this._classNames.root},this._getRenderedElements(r,s))},t.defaultProps={flexWrap:!1},t}(O.a),Cv={root:"ms-ShimmerElementsGroup-root"};var kv,Ev=Object(S.a)(wv,(function(e){var t=e.flexWrap,n=e.theme;return{root:[Object(b.N)(Cv,n).root,n.fonts.medium,{display:"flex",alignItems:"center",flexWrap:t?"wrap":"nowrap"}]}}),void 0,{scope:"ShimmerElementsGroup"}),Ov=Object(w.a)(),Tv=function(e){function t(t){var n=e.call(this,t)||this;return n.state={contentLoaded:t.isDataLoaded},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.isDataLoaded;void 0!==this._lastTimeoutId&&(this._async.clearTimeout(this._lastTimeoutId),this._lastTimeoutId=void 0),n?this._lastTimeoutId=this._async.setTimeout((function(){t.setState({contentLoaded:n}),t._lastTimeoutId=void 0}),200):this.setState({contentLoaded:n})},t.prototype.render=function(){var e=this.props,t=e.styles,n=e.shimmerElements,r=e.children,i=e.isDataLoaded,o=e.width,a=e.className,s=e.customElementsGroup,u=e.theme,l=e.ariaLabel,c=e.shimmerColors,d=this.state.contentLoaded;this._classNames=Ov(t,{theme:u,isDataLoaded:i,className:a,transitionAnimationInterval:200,shimmerColor:c&&c.shimmer,shimmerWaveColor:c&&c.shimmerWave});var f=Object(E.j)(this.props,E.h);return v.createElement("div",m.a({},f,{className:this._classNames.root}),!d&&v.createElement("div",{style:{width:o||"100%"},className:this._classNames.shimmerWrapper},s||v.createElement(Ev,{shimmerElements:n,backgroundColor:c&&c.background})),r&&v.createElement("div",{className:this._classNames.dataWrapper},r),l&&!i&&v.createElement("div",{role:"status","aria-live":"polite"},v.createElement(be.a,null,v.createElement("div",{className:this._classNames.screenReaderText},l))))},t.defaultProps={isDataLoaded:!1},t}(O.a),Pv=Object(S.a)(Tv,(function(e){var t,n=e.isDataLoaded,r=e.className,i=e.theme,o=e.transitionAnimationInterval,a=e.shimmerColor,s=e.shimmerWaveColor,u=i.palette,l=Object(b.N)(sv,i),c=Object(C.a)();return{root:[l.root,i.fonts.medium,{position:"relative",height:"auto"},r],shimmerWrapper:[l.shimmerWrapper,{background:(a||u.neutralLighter)+"\n                    linear-gradient(\n                      to right,\n                      "+(a||u.neutralLighter)+" 0%,\n                      "+(s||u.neutralLight)+" 50%,\n                      "+(a||u.neutralLighter)+" 100%)\n                    0 0 / 90% 100%\n                    no-repeat",animationDuration:"2s",animationTimingFunction:"ease-in-out",animationDirection:"normal",animationIterationCount:"infinite",animationName:c?lv:uv,transition:"opacity "+o+"ms",selectors:(t={},t[b.j]={background:"WindowText\n                        linear-gradient(\n                          to right,\n                          transparent 0%,\n                          Window 50%,\n                          transparent 100%)\n                        0 0 / 90% 100%\n                        no-repeat"},t)},n&&{opacity:"0",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}],dataWrapper:[l.dataWrapper,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",opacity:"0",background:"none",backgroundColor:"transparent",border:"none",transition:"opacity "+o+"ms"},n&&{opacity:"1",position:"static"}],screenReaderText:b.U}}),void 0,{scope:"Shimmer"}),Iv=Object(w.a)(),Dv=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderShimmerPlaceholder=function(e,t){var r=n.props.onRenderCustomPlaceholder,i=r?r(t):n._renderDefaultShimmerPlaceholder(t);return v.createElement(Pv,{customElementsGroup:i})},n._renderDefaultShimmerPlaceholder=function(e){var t=e.columns,n=e.compact,r=e.selectionMode,i=e.checkboxVisibility,o=e.cellStyleProps,a=void 0===o?_l:o,s=n?xl.compactRowHeight:xl.rowHeight+1,u=[];return r!==qu.none&&i!==ml.hidden&&u.push(v.createElement(Ev,{key:"checkboxGap",shimmerElements:[{type:Zm.gap,width:"40px",height:s}]})),t.map((function(e,t){var n=[],r=a.cellLeftPadding+a.cellRightPadding+e.calculatedWidth+(e.isPadded?a.cellExtraRightPadding:0);n.push({type:Zm.gap,width:a.cellLeftPadding,height:s}),e.isIconOnly?(n.push({type:Zm.line,width:e.calculatedWidth,height:e.calculatedWidth}),n.push({type:Zm.gap,width:a.cellRightPadding,height:s})):(n.push({type:Zm.line,width:.95*e.calculatedWidth,height:7}),n.push({type:Zm.gap,width:a.cellRightPadding+(e.calculatedWidth-.95*e.calculatedWidth)+(e.isPadded?a.cellExtraRightPadding:0),height:s})),u.push(v.createElement(Ev,{key:t,width:r+"px",shimmerElements:n}))})),u.push(v.createElement(Ev,{key:"endGap",width:"100%",shimmerElements:[{type:Zm.gap,width:"100%",height:s}]})),v.createElement("div",{style:{display:"flex"}},u)},n._shimmerItems=t.shimmerLines?new Array(t.shimmerLines):new Array(10),n}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.detailsListStyles,n=e.enableShimmer,r=e.items,i=e.listProps,o=(e.onRenderCustomPlaceholder,e.removeFadingOverlay),a=(e.shimmerLines,e.styles),s=e.theme,u=m.d(e,["detailsListStyles","enableShimmer","items","listProps","onRenderCustomPlaceholder","removeFadingOverlay","shimmerLines","styles","theme"]),l=i&&i.className;this._classNames=Iv(a,{theme:s,className:l,enableShimmer:n});var c=m.a({},i,{className:n&&!o?this._classNames.root:l});return v.createElement(jc,m.a({},u,{items:n?this._shimmerItems:r,onRenderMissingItem:this._onRenderShimmerPlaceholder,listProps:c,styles:t}))},t}(O.a),Av=Object(S.a)(Dv,(function(e){var t=e.theme,n=e.className,r=e.enableShimmer,i=t.semanticColors,o={position:"relative",selectors:{":after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,backgroundImage:"linear-gradient(to bottom,\n                          transparent 30%,\n                          "+t.palette.whiteTranslucent40+" 65%,\n                          "+i.listBackground+" 100%)"}}};return{root:[r&&o,n]}}),void 0,{scope:"ShimmeredDetailsList"});!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next"}(kv||(kv={}));var Mv,jv=Object(w.a)(),Rv=1e3,Fv=function(e){function t(t){var n=e.call(this,t)||this;n._sliderLine=v.createRef(),n._thumb=v.createRef(),n._onKeyDownTimer=-1,n._getAriaValueText=function(e){if(n.props.ariaValueText&&void 0!==e)return n.props.ariaValueText(e)},n._onMouseDownOrTouchStart=function(e){"mousedown"===e.type?(n._events.on(window,"mousemove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"mouseup",n._onMouseUpOrTouchEnd,!0)):"touchstart"===e.type&&(n._events.on(window,"touchmove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"touchend",n._onMouseUpOrTouchEnd,!0)),n._onMouseMoveOrTouchMove(e,!0)},n._onMouseMoveOrTouchMove=function(e,t){if(n._sliderLine.current){var r,i,o,a=n.props,s=a.max,u=a.min,l=a.step,c=(s-u)/l,d=n._sliderLine.current.getBoundingClientRect(),f=(n.props.vertical?d.height:d.width)/c;if(n.props.vertical){var h=n._getPosition(e,n.props.vertical);r=(d.bottom-h)/f}else{var p=n._getPosition(e,n.props.vertical);r=(Object(C.a)()?d.right-p:p-d.left)/f}r>Math.floor(c)?o=i=s:r<0?o=i=u:(o=u+l*r,i=u+l*Math.round(r)),n._updateValue(i,o),t||(e.preventDefault(),e.stopPropagation())}},n._onMouseUpOrTouchEnd=function(e){n.setState({renderedValue:n.state.value}),n.props.onChanged&&n.props.onChanged(e,n.state.value),n._events.off()},n._onKeyDown=function(e){var t=n.state.value,r=n.props,i=r.max,o=r.min,a=r.step,s=0;switch(e.which){case Object(C.b)(ge.a.left):case ge.a.down:s=-a,n._clearOnKeyDownTimer(),n._setOnKeyDownTimer(e);break;case Object(C.b)(ge.a.right):case ge.a.up:s=a,n._clearOnKeyDownTimer(),n._setOnKeyDownTimer(e);break;case ge.a.home:t=o;break;case ge.a.end:t=i;break;default:return}var u=Math.min(i,Math.max(o,t+s));n._updateValue(u,u),e.preventDefault(),e.stopPropagation()},n._clearOnKeyDownTimer=function(){n._async.clearTimeout(n._onKeyDownTimer)},n._setOnKeyDownTimer=function(e){n._onKeyDownTimer=n._async.setTimeout((function(){n.props.onChanged&&n.props.onChanged(e,n.state.value)}),Rv)},n._warnMutuallyExclusive({value:"defaultValue"}),n._id=Object(Oe.c)("Slider");var r=void 0!==t.value?t.value:void 0!==t.defaultValue?t.defaultValue:t.min;return n.state={value:r,renderedValue:r},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){if(void 0!==e.value){var t=Math.max(e.min,Math.min(e.max,e.value));this.setState({value:t,renderedValue:t})}},t.prototype.render=function(){var e,t,n,r,i,o=this.props,a=o.ariaLabel,s=o.className,u=o.disabled,l=o.label,c=o.max,d=o.min,f=o.showValue,h=o.buttonProps,p=o.vertical,g=o.valueFormat,b=o.styles,y=o.theme,_=o.originFromZero,x=this.state,S=x.value,w=x.renderedValue,C=d===c?0:(w-d)/(c-d)*100,k=d>=0?0:-d/(c-d)*100,O=p?"height":"width",T=u?{}:{onMouseDown:this._onMouseDownOrTouchStart},P=u?{}:{onTouchStart:this._onMouseDownOrTouchStart},I=u?{}:{onKeyDown:this._onKeyDown},D=jv(b,{className:s,disabled:u,vertical:p,showTransitions:w===S,showValue:f,theme:y}),A=h?Object(E.j)(h,E.h):void 0;return v.createElement("div",{className:D.root},l&&v.createElement(Ba,m.a({className:D.titleLabel},a?{}:{htmlFor:this._id}),l),v.createElement("div",{className:D.container},v.createElement("div",m.a({"aria-valuenow":S,"aria-valuemin":d,"aria-valuemax":c,"aria-valuetext":this._getAriaValueText(S),"aria-label":a||l,"aria-disabled":u},T,P,I,A,{className:Object(z.a)(D.slideBox,h.className),id:this._id,role:"slider",tabIndex:u?void 0:0,"data-is-focusable":!u}),v.createElement("div",{ref:this._sliderLine,className:D.line},_&&v.createElement("span",{className:Object(z.a)(D.zeroTick),style:this._getStyleUsingOffsetPercent(p,k)}),v.createElement("span",{ref:this._thumb,className:D.thumb,style:this._getStyleUsingOffsetPercent(p,C)}),_?v.createElement(v.Fragment,null,v.createElement("span",{className:Object(z.a)(D.lineContainer,D.inactiveSection),style:(e={},e[O]=Math.min(C,k)+"%",e)}),v.createElement("span",{className:Object(z.a)(D.lineContainer,D.activeSection),style:(t={},t[O]=Math.abs(k-C)+"%",t)}),v.createElement("span",{className:Object(z.a)(D.lineContainer,D.inactiveSection),style:(n={},n[O]=Math.min(100-C,100-k)+"%",n)})):v.createElement(v.Fragment,null,v.createElement("span",{className:Object(z.a)(D.lineContainer,D.activeSection),style:(r={},r[O]=C+"%",r)}),v.createElement("span",{className:Object(z.a)(D.lineContainer,D.inactiveSection),style:(i={},i[O]=100-C+"%",i)})))),f&&v.createElement(Ba,{className:D.valueLabel},g?g(S):S)))},t.prototype.focus=function(){this._thumb.current&&this._thumb.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype._getStyleUsingOffsetPercent=function(e,t){var n;return(n={})[e?"bottom":Object(C.a)()?"right":"left"]=t+"%",n},t.prototype._getPosition=function(e,t){var n;switch(e.type){case"mousedown":case"mousemove":n=t?e.clientY:e.clientX;break;case"touchstart":case"touchmove":n=t?e.touches[0].clientY:e.touches[0].clientX}return n},t.prototype._updateValue=function(e,t){var n=this,r=this.props.step,i=0;if(isFinite(r))for(;Math.round(r*Math.pow(10,i))/Math.pow(10,i)!==r;)i++;var o=parseFloat(e.toFixed(i)),a=o!==this.state.value;this.setState({value:o,renderedValue:t},(function(){a&&n.props.onChange&&n.props.onChange(n.state.value)}))},t.defaultProps={step:1,min:0,max:10,showValue:!0,disabled:!1,vertical:!1,buttonProps:{},originFromZero:!1},t}(O.a),Nv={root:"ms-Slider",enabled:"ms-Slider-enabled",disabled:"ms-Slider-disabled",row:"ms-Slider-row",column:"ms-Slider-column",container:"ms-Slider-container",slideBox:"ms-Slider-slideBox",line:"ms-Slider-line",thumb:"ms-Slider-thumb",activeSection:"ms-Slider-active",inactiveSection:"ms-Slider-inactive",valueLabel:"ms-Slider-value",showValue:"ms-Slider-showValue",showTransitions:"ms-Slider-showTransitions",zeroTick:"ms-Slider-zeroTick"},Lv=Object(S.a)(Fv,(function(e){var t,n,r,i,o,a,s,u,l,c,d,f=e.className,h=e.titleLabelClassName,p=e.theme,g=Object(b.N)(Nv,p),m=!e.disabled&&{backgroundColor:p.palette.themePrimary,selectors:(t={},t[b.j]={backgroundColor:"Highlight"},t)},v=!e.disabled&&{backgroundColor:p.palette.themeLight,selectors:(n={},n[b.j]={borderColor:"Highlight"},n)},y=!e.disabled&&{border:"2px solid "+p.palette.themePrimary,selectors:(r={},r[b.j]={borderColor:"Highlight"},r)},_=!e.disabled&&{backgroundColor:p.palette.themeLight,selectors:(i={},i[b.j]={backgroundColor:"Highlight"},i)};return{root:[g.root,p.fonts.medium,{userSelect:"none"},e.vertical&&{marginRight:8}].concat([e.disabled?void 0:g.enabled],[e.disabled?g.disabled:void 0],[e.vertical?void 0:g.row],[e.vertical?g.column:void 0],[f]),titleLabel:[{padding:0},h],container:[g.container,{display:"flex",flexWrap:"nowrap",alignItems:"center"},e.vertical&&{flexDirection:"column",height:"100%",textAlign:"center",margin:"8px 0"}],slideBox:[g.slideBox,Object(b.M)(p),{background:"transparent",border:"none",flexGrow:1,lineHeight:28,display:"flex",alignItems:"center",selectors:{":active $activeSection":m,":hover $activeSection":m,":active $inactiveSection":v,":hover $inactiveSection":v,":active $thumb":y,":hover $thumb":y,":active $zeroTick":_,":hover $zeroTick":_,$thumb:[{borderWidth:2,borderStyle:"solid",borderColor:p.palette.neutralSecondary,borderRadius:10,boxSizing:"border-box",background:p.palette.white,display:"block",width:16,height:16,position:"absolute"},e.vertical?{left:-6,margin:"0 auto",transform:"translateY(8px)"}:{top:-6,transform:Object(C.a)()?"translateX(50%)":"translateX(-50%)"},e.showTransitions&&{transition:"left "+b.c.durationValue3+" "+b.c.easeFunction1},e.disabled&&{borderColor:p.palette.neutralTertiaryAlt,selectors:(o={},o[b.j]={borderColor:"GrayText"},o)}]}},e.vertical?{height:"100%",width:28,padding:"8px 0"}:{height:28,width:"auto",padding:"0 8px"}].concat([e.showValue?g.showValue:void 0],[e.showTransitions?g.showTransitions:void 0]),thumb:[g.thumb],line:[g.line,{display:"flex",position:"relative",selectors:{$lineContainer:[{borderRadius:4,boxSizing:"border-box"},e.vertical?{width:4,height:"100%"}:{height:4,width:"100%"}]}},e.vertical?{height:"100%",width:4,margin:"0 auto",flexDirection:"column-reverse"}:{width:"100%"}],lineContainer:[{}],activeSection:[g.activeSection,{background:p.palette.neutralSecondary,selectors:(a={},a[b.j]={backgroundColor:"WindowText"},a)},e.showTransitions&&{transition:"width "+b.c.durationValue3+" "+b.c.easeFunction1},e.disabled&&{background:p.palette.neutralTertiaryAlt,selectors:(s={},s[b.j]={backgroundColor:"GrayText",borderColor:"GrayText"},s)}],inactiveSection:[g.inactiveSection,{background:p.palette.neutralTertiaryAlt,selectors:(u={},u[b.j]={border:"1px solid WindowText"},u)},e.showTransitions&&{transition:"width "+b.c.durationValue3+" "+b.c.easeFunction1},e.disabled&&{background:p.palette.neutralLight,selectors:(l={},l[b.j]={borderColor:"GrayText"},l)}],zeroTick:[g.zeroTick,{position:"absolute",background:p.palette.neutralTertiaryAlt,selectors:(c={},c[b.j]={backgroundColor:"WindowText"},c)},e.disabled&&{background:p.palette.neutralLight,selectors:(d={},d[b.j]={backgroundColor:"GrayText"},d)},e.vertical?{width:"16px",height:"1px",transform:Object(C.a)()?"translateX(6px)":"translateX(-6px)"}:{width:"1px",height:"16px",transform:"translateY(-6px)"}],valueLabel:[g.valueLabel,{flexShrink:1,width:30,lineHeight:"1"},e.vertical?{margin:"0 auto",whiteSpace:"nowrap",width:40}:{margin:"0 8px",whiteSpace:"nowrap",width:40}]}}),void 0,{scope:"Slider"}),Bv=Object(y.b)((function(e){var t,n=e.semanticColors,r=n.disabledText;return{backgroundColor:n.disabledBackground,borderColor:"transparent",pointerEvents:"none",cursor:"default",color:r,selectors:(t={},t[b.j]={color:"GrayText"},t)}})),zv=Object(y.b)((function(e,t,n){var r,i,o,a=e.semanticColors,s=a.buttonText,u=a.buttonTextHovered,l=a.buttonTextChecked,c=a.buttonBackgroundHovered,d=a.buttonBackgroundChecked,f={root:{outline:"none",display:"block",height:"50%",width:"14px",padding:"0",backgroundColor:"transparent",textAlign:"center",cursor:"default",color:s},rootHovered:{backgroundColor:c,color:u},rootChecked:{backgroundColor:d,color:l,selectors:(r={},r[b.j]={backgroundColor:"Highlight",color:"HighlightText"},r)},rootPressed:{backgroundColor:d,color:l,selectors:(i={},i[b.j]={backgroundColor:"Highlight",color:"HighlightText"},i)},rootDisabled:{opacity:.5,selectors:(o={},o[b.j]={color:"GrayText",opacity:1},o)},icon:{fontSize:"6px",marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0"}};return Object(b.F)(f,{},n)})),Uv=Object(y.b)((function(e,t){var n,r,i,o,a=e.palette,s=e.semanticColors,u=s.inputBorder,l=s.inputBorderHovered,c=s.inputFocusBorderAlt,d=s.disabledText,f=s.bodyText,h=a.white,p=a.themePrimary,g=s.disabledText,m={root:{outline:"none",fontSize:b.h.medium,width:"100%",minWidth:"86px"},labelWrapper:{display:"inline-flex"},labelWrapperStart:{float:"left",marginRight:"10px"},labelWrapperEnd:{float:"right",marginLeft:"10px"},labelWrapperTop:{marginBottom:"10px"},labelWrapperBottom:{marginTop:"10px"},icon:{padding:"2px 5px",fontSize:"20px"},iconDisabled:{color:g},label:{pointerEvents:"none",padding:"2px 0"},labelDisabled:{cursor:"default",color:d,selectors:(n={},n[b.j]={color:"GrayText"},n)},spinButtonWrapper:{display:"flex",boxSizing:"border-box",height:"32px",minWidth:"86px",borderWidth:"1px",borderStyle:"solid",borderColor:u},spinButtonWrapperTopBottom:{width:"100%"},spinButtonWrapperHovered:{borderColor:l,outline:"2px dashed transparent",selectors:(r={},r[b.j]={borderColor:"Highlight",outline:"none"},r)},spinButtonWrapperFocused:{borderColor:c,outline:"2px dashed transparent",selectors:(i={},i[b.j]={borderColor:"Highlight",outline:"none"},i)},spinButtonWrapperDisabled:Bv(e),input:{boxSizing:"border-box",boxShadow:"none",borderStyle:"none",marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0",fontSize:b.h.medium,color:f,height:"100%",padding:"0 12px",outline:"0",textOverflow:"ellipsis",display:"block",float:"left",width:"calc(100% - 14px)",minWidth:"72px",overflow:"hidden",cursor:"text",userSelect:"text"},inputTextSelected:{backgroundColor:p,color:h,selectors:(o={},o[b.j]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},o)},inputDisabled:Bv(e),arrowButtonsContainer:{outline:"none",fontSize:"12px",display:"block",float:"left",height:"100%",cursor:"default",padding:"0",boxSizing:"border-box"},arrowButtonsContainerDisabled:Bv(e)};return Object(b.F)(m,t)})),Hv=Object(y.b)((function(e,t,n,r,i,o){return void 0===i&&(i=ft.start),void 0===o&&(o=void 0),{root:Object(b.Y)(e.root,o),labelWrapper:Object(b.Y)(e.labelWrapper,Vv(i,e)),icon:Object(b.Y)(e.icon,t&&e.iconDisabled),label:Object(b.Y)(e.label,t&&e.labelDisabled),spinButtonWrapper:Object(b.Y)(e.spinButtonWrapper,Wv(i,e),!t&&[{selectors:{":hover":e.spinButtonWrapperHovered}},n&&{selectors:{"&&":e.spinButtonWrapperFocused}}],t&&e.spinButtonWrapperDisabled),input:Object(b.Y)("ms-spinButton-input",e.input,!t&&{selectors:{"::selection":e.inputTextSelected}},t&&e.inputDisabled),arrowBox:Object(b.Y)(e.arrowButtonsContainer,t&&e.arrowButtonsContainerDisabled)}}));function Vv(e,t){switch(e){case ft.start:return t.labelWrapperStart;case ft.end:return t.labelWrapperEnd;case ft.top:return t.labelWrapperTop;case ft.bottom:return t.labelWrapperBottom}}function Wv(e,t){switch(e){case ft.top:case ft.bottom:return t.spinButtonWrapperTopBottom;default:return{}}}!function(e){e[e.down=-1]="down",e[e.notSpinning=0]="notSpinning",e[e.up=1]="up"}(Mv||(Mv={}));var Gv,Kv=function(e){function t(t){var n=e.call(this,t)||this;n._input=v.createRef(),n._initialStepDelay=400,n._stepDelay=75,n._onFocus=function(e){n._input.current&&((n._spinningByMouse||n.state.keyboardSpinDirection!==Mv.notSpinning)&&n._stop(),n._input.current.select(),n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(e))},n._onBlur=function(e){n._validate(e),n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur(e)},n._onValidate=function(e,t){return n.props.onValidate?n.props.onValidate(e,t):n._defaultOnValidate(e)},n._calculatePrecision=function(e){var t=e.precision;return void 0===t?Math.max(Object(Yp.a)(e.step),0):t},n._defaultOnValidate=function(e){if(null===e||0===e.trim().length||isNaN(Number(e)))return n._lastValidValue;var t=Math.min(n.props.max,Math.max(n.props.min,Number(e)));return String(t)},n._onIncrement=function(e){return n.props.onIncrement?n.props.onIncrement(e):n._defaultOnIncrement(e)},n._defaultOnIncrement=function(e){var t=n.props,r=t.max,i=t.step,o=Math.min(Number(e)+Number(i),r);return o=Object(Yp.d)(o,n._precision),String(o)},n._onDecrement=function(e){return n.props.onDecrement?n.props.onDecrement(e):n._defaultOnDecrement(e)},n._defaultOnDecrement=function(e){var t=n.props,r=t.min,i=t.step,o=Math.max(Number(e)-Number(i),r);return o=Object(Yp.d)(o,n._precision),String(o)},n._validate=function(e){if(void 0!==n.state.value&&void 0!==n._valueToValidate&&n._valueToValidate!==n._lastValidValue){var t=n._onValidate(n._valueToValidate,e);t&&(n._lastValidValue=t,n._valueToValidate=void 0,n.setState({value:t}))}},n._onInputChange=function(e){var t=e.target.value;n._valueToValidate=t,n.setState({value:t})},n._updateValue=function(e,t,r){var i=r(n.state.value);i&&(n._lastValidValue=i,n.setState({value:i})),n._spinningByMouse!==e&&(n._spinningByMouse=e),e&&(n._currentStepFunctionHandle=n._async.setTimeout((function(){n._updateValue(e,n._stepDelay,r)}),t))},n._stop=function(){n._currentStepFunctionHandle>=0&&(n._async.clearTimeout(n._currentStepFunctionHandle),n._currentStepFunctionHandle=-1),(n._spinningByMouse||n.state.keyboardSpinDirection!==Mv.notSpinning)&&(n._spinningByMouse=!1,n.setState({keyboardSpinDirection:Mv.notSpinning}))},n._handleKeyDown=function(e){if(e.which!==ge.a.up&&e.which!==ge.a.down&&e.which!==ge.a.enter||(e.preventDefault(),e.stopPropagation()),n.props.disabled)n._stop();else{var t=Mv.notSpinning;switch(e.which){case ge.a.up:t=Mv.up,n._updateValue(!1,n._initialStepDelay,n._onIncrement);break;case ge.a.down:t=Mv.down,n._updateValue(!1,n._initialStepDelay,n._onDecrement);break;case ge.a.enter:case ge.a.tab:n._validate(e);break;case ge.a.escape:n.state.value!==n._lastValidValue&&n.setState({value:n._lastValidValue})}n.state.keyboardSpinDirection!==t&&n.setState({keyboardSpinDirection:t})}},n._handleKeyUp=function(e){(n.props.disabled||e.which===ge.a.up||e.which===ge.a.down)&&n._stop()},n._onIncrementMouseDown=function(){n._updateValue(!0,n._initialStepDelay,n._onIncrement)},n._onDecrementMouseDown=function(){n._updateValue(!0,n._initialStepDelay,n._onDecrement)},n._warnMutuallyExclusive({value:"defaultValue"});var r=t.value||t.defaultValue||String(t.min)||"0";return n._lastValidValue=r,n._precision=n._calculatePrecision(n.props),n.state={isFocused:!1,value:r,keyboardSpinDirection:Mv.notSpinning},n._currentStepFunctionHandle=-1,n._labelId=Object(Oe.c)("Label"),n._inputId=Object(Oe.c)("input"),n._spinningByMouse=!1,n._valueToValidate=void 0,n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){this._lastValidValue=this.state.value;var t=e.value?e.value:String(e.min);e.defaultValue&&(t=String(Math.max(e.min,Math.min(e.max,Number(e.defaultValue))))),void 0!==e.value&&this.setState({value:t}),this._precision=this._calculatePrecision(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,r=t.label,i=t.min,o=t.max,a=t.labelPosition,s=t.iconProps,u=t.incrementButtonIcon,l=t.incrementButtonAriaLabel,c=t.decrementButtonIcon,d=t.decrementButtonAriaLabel,f=t.title,h=t.ariaLabel,p=t.ariaDescribedBy,g=t.styles,b=t.upArrowButtonStyles,y=t.downArrowButtonStyles,_=t.theme,x=t.ariaPositionInSet,S=t.ariaSetSize,w=t.ariaValueNow,C=t.ariaValueText,k=t.keytipProps,E=t.className,O=this.state,T=O.isFocused,P=O.value,I=O.keyboardSpinDirection,D=this.props.getClassNames?this.props.getClassNames(_,!!n,!!T,I,a,E):Hv(Uv(_,g),!!n,!!T,I,a,E);return v.createElement("div",{className:D.root},a!==ft.bottom&&v.createElement("div",{className:D.labelWrapper},s&&v.createElement(K,m.a({},s,{className:D.icon,"aria-hidden":"true"})),r&&v.createElement(Ba,{id:this._labelId,htmlFor:this._inputId,className:D.label},r)),v.createElement(qe,{keytipProps:k,disabled:n},(function(t){return v.createElement("div",{className:D.spinButtonWrapper,title:f&&f,"aria-label":h&&h,"aria-posinset":x,"aria-setsize":S,"data-ktp-target":t["data-ktp-target"]},v.createElement("input",{value:P,id:e._inputId,onChange:e._onChange,onInput:e._onInputChange,className:D.input,type:"text",autoComplete:"off",role:"spinbutton","aria-labelledby":r&&e._labelId,"aria-valuenow":isNaN(Number(w))?isNaN(Number(P))?void 0:Number(P):w,"aria-valuetext":C||(isNaN(Number(P))?P:void 0),"aria-valuemin":i,"aria-valuemax":o,"aria-describedby":Object(Be.a)(p,t["aria-describedby"]),onBlur:e._onBlur,ref:e._input,onFocus:e._onFocus,onKeyDown:e._handleKeyDown,onKeyUp:e._handleKeyUp,readOnly:n,"aria-disabled":n,"data-lpignore":!0,"data-ktp-execute-target":t["data-ktp-execute-target"]}),v.createElement("span",{className:D.arrowBox},v.createElement(fr,{styles:zv(_,!0,b),className:"ms-UpButton",checked:I===Mv.up,disabled:n,iconProps:u,onMouseDown:e._onIncrementMouseDown,onMouseLeave:e._stop,onMouseUp:e._stop,tabIndex:-1,ariaLabel:l,"data-is-focusable":!1}),v.createElement(fr,{styles:zv(_,!1,y),className:"ms-DownButton",checked:I===Mv.down,disabled:n,iconProps:c,onMouseDown:e._onDecrementMouseDown,onMouseLeave:e._stop,onMouseUp:e._stop,tabIndex:-1,ariaLabel:d,"data-is-focusable":!1})))})),a===ft.bottom&&v.createElement("div",{className:D.labelWrapper},s&&v.createElement(K,{iconName:s.iconName,className:D.icon,"aria-hidden":"true"}),r&&v.createElement(Ba,{id:this._labelId,htmlFor:this._inputId,className:D.label},r)))},t.prototype.focus=function(){this._input.current&&this._input.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){return void 0===this.props.value?this.state.value:this.props.value},enumerable:!0,configurable:!0}),t.prototype._onChange=function(){},t.defaultProps={step:1,min:0,max:100,disabled:!1,labelPosition:ft.start,label:"",incrementButtonIcon:{iconName:"ChevronUpSmall"},decrementButtonIcon:{iconName:"ChevronDownSmall"}},t=m.b([Object(xn.a)("SpinButton",["theme","styles"],!0)],t)}(O.a),qv={root:"ms-StackItem"},Yv={start:"flex-start",end:"flex-end"},Xv=rp({displayName:"StackItem",styles:function(e,t,n){var r=e.grow,i=e.shrink,o=e.disableShrink,a=e.align,s=e.verticalFill,u=e.order,l=e.className,c=Object(b.N)(qv,t);return{root:[t.fonts.medium,c.root,{margin:n.margin,height:s?"100%":"auto",width:"auto"},r&&{flexGrow:!0===r?1:r},(o||!r&&!i)&&{flexShrink:0},i&&!o&&{flexShrink:1},a&&{alignSelf:Yv[a]||a},u&&{order:u},l]}},view:function(e){var t=e.children;return v.Children.count(t)<1?null:Zh(Jh(e,{root:"div"}).root,null,t)}}),Zv=Xv,Qv=function(e,t){return t.spacing.hasOwnProperty(e)?t.spacing[e]:e},$v=function(e){var t=parseFloat(e),n=isNaN(t)?0:t,r=isNaN(t)?"":t.toString();return{value:n,unit:e.substring(r.toString().length)||"px"}},Jv=function(e,t){if(void 0===e||"number"===typeof e||""===e)return e;var n=e.split(" ");return n.length<2?Qv(e,t):n.reduce((function(e,n){return Qv(e,t)+" "+Qv(n,t)}))},eb={start:"flex-start",end:"flex-end"},tb={root:"ms-Stack",inner:"ms-Stack-inner"},nb=Zh(Zv,null).type,rb=rp({displayName:"Stack",styles:function(e,t,n){var r,i,o,a,s,u,l,c=e.verticalFill,d=e.maxWidth,f=e.maxHeight,h=e.horizontal,p=e.reversed,g=e.gap,v=e.grow,y=e.wrap,_=e.padding,x=e.horizontalAlign,S=e.verticalAlign,w=e.disableShrink,C=e.className,k=Object(b.N)(tb,t),E=function(e,t){if(void 0===e||""===e)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if("number"===typeof e)return{rowGap:{value:e,unit:"px"},columnGap:{value:e,unit:"px"}};var n=e.split(" ");if(n.length>2)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(2===n.length)return{rowGap:$v(Qv(n[0],t)),columnGap:$v(Qv(n[1],t))};var r=$v(Qv(e,t));return{rowGap:r,columnGap:r}}(n&&n.childrenGap?n.childrenGap:g,t),O=E.rowGap,T=E.columnGap,P=""+-.5*T.value+T.unit,I=""+-.5*O.value+O.unit,D={textOverflow:"ellipsis"},A={"> *:not(.ms-StackItem)":{flexShrink:w?0:1}};return y?{root:[k.root,{flexWrap:"wrap",maxWidth:d,maxHeight:f,width:"auto",overflow:"visible",height:"100%"},x&&(r={},r[h?"justifyContent":"alignItems"]=eb[x]||x,r),S&&(i={},i[h?"alignItems":"justifyContent"]=eb[S]||S,i),C,{display:"flex"},h&&{height:c?"100%":"auto"}],inner:[k.inner,{display:"flex",flexWrap:"wrap",marginLeft:P,marginRight:P,marginTop:I,marginBottom:I,overflow:"visible",boxSizing:"border-box",padding:Jv(_,t),width:0===T.value?"100%":"calc(100% + "+T.value+T.unit+")",maxWidth:"100vw",selectors:m.a({"> *":m.a({margin:""+.5*O.value+O.unit+" "+.5*T.value+T.unit},D)},A)},x&&(o={},o[h?"justifyContent":"alignItems"]=eb[x]||x,o),S&&(a={},a[h?"alignItems":"justifyContent"]=eb[S]||S,a),h&&{flexDirection:p?"row-reverse":"row",height:0===O.value?"100%":"calc(100% + "+O.value+O.unit+")",selectors:{"> *":{maxWidth:0===T.value?"100%":"calc(100% - "+T.value+T.unit+")"}}},!h&&{flexDirection:p?"column-reverse":"column",height:"calc(100% + "+O.value+O.unit+")",selectors:{"> *":{maxHeight:0===O.value?"100%":"calc(100% - "+O.value+O.unit+")"}}}]}:{root:[k.root,{display:"flex",flexDirection:h?p?"row-reverse":"row":p?"column-reverse":"column",flexWrap:"nowrap",width:"auto",height:c?"100%":"auto",maxWidth:d,maxHeight:f,padding:Jv(_,t),boxSizing:"border-box",selectors:m.a((s={"> *":D},s[p?"> *:not(:last-child)":"> *:not(:first-child)"]=[h&&{marginLeft:""+T.value+T.unit},!h&&{marginTop:""+O.value+O.unit}],s),A)},v&&{flexGrow:!0===v?1:v,overflow:"hidden"},x&&(u={},u[h?"justifyContent":"alignItems"]=eb[x]||x,u),S&&(l={},l[h?"alignItems":"justifyContent"]=eb[S]||S,l),C]}},view:function(e){var t=e.as,n=void 0===t?"div":t,r=e.disableShrink,i=e.wrap,o=m.d(e,["as","disableShrink","wrap"]),a=v.Children.map(e.children,(function(e,t){if(!e)return null;if(e.type===nb){var n={shrink:!r};return v.cloneElement(e,m.a({},n,e.props))}return e})),s=Object(E.j)(o,E.k),u=Jh(e,{root:n,inner:"div"});return Zh(u.root,m.a({},s),i?Zh(u.inner,null,a):a)},statics:{Item:Zv}});!function(e){e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(Gv||(Gv={}));var ib=function(e){function t(t){var n=e.call(this,t)||this;return n._root=v.createRef(),n._stickyContentTop=v.createRef(),n._stickyContentBottom=v.createRef(),n._nonStickyContent=v.createRef(),n._placeHolder=v.createRef(),n.syncScroll=function(e){var t=n.nonStickyContent;t&&n.props.isScrollSynced&&(t.scrollLeft=e.scrollLeft)},n._onScrollEvent=function(e,t){if(n.root&&n.nonStickyContent){var r=n._getNonStickyDistanceFromTop(e),i=!1,o=!1;if(n.canStickyTop)i=r-n._getStickyDistanceFromTop()<e.scrollTop;n.canStickyBottom&&e.clientHeight-t.offsetHeight<=r&&(o=r-Math.floor(e.scrollTop)>=n._getStickyDistanceFromTopForFooter(e,t)),document.activeElement&&n.nonStickyContent.contains(document.activeElement)&&(n.state.isStickyTop!==i||n.state.isStickyBottom!==o)?n._activeElement=document.activeElement:n._activeElement=void 0,n.setState({isStickyTop:n.canStickyTop&&i,isStickyBottom:o,distanceFromTop:r})}},n._getStickyDistanceFromTop=function(){var e=0;return n.stickyContentTop&&(e=n.stickyContentTop.offsetTop),e},n._getStickyDistanceFromTopForFooter=function(e,t){var r=0;return n.stickyContentBottom&&(r=e.clientHeight-t.offsetHeight+n.stickyContentBottom.offsetTop),r},n._getNonStickyDistanceFromTop=function(e){var t=0,r=n.root;if(r){for(;r&&r.offsetParent!==e;)t+=r.offsetTop,r=r.offsetParent;r&&r.offsetParent===e&&(t+=r.offsetTop)}return t},n.state={isStickyTop:!1,isStickyBottom:!1,distanceFromTop:void 0},n._activeElement=void 0,n}return m.c(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeHolder.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentTop",{get:function(){return this._stickyContentTop.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentBottom",{get:function(){return this._stickyContentBottom.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonStickyContent",{get:function(){return this._nonStickyContent.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyTop",{get:function(){return this.props.stickyPosition===Gv.Both||this.props.stickyPosition===Gv.Header},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyBottom",{get:function(){return this.props.stickyPosition===Gv.Both||this.props.stickyPosition===Gv.Footer},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this.context.scrollablePane;e&&(e.subscribe(this._onScrollEvent),e.addSticky(this))},t.prototype.componentWillUnmount=function(){var e=this.context.scrollablePane;e&&(e.unsubscribe(this._onScrollEvent),e.removeSticky(this))},t.prototype.componentDidUpdate=function(e,t){var n=this.context.scrollablePane;if(n){var r=this.state,i=r.isStickyBottom,o=r.isStickyTop,a=r.distanceFromTop,s=!1;t.distanceFromTop!==a&&(n.sortSticky(this,!0),s=!0),t.isStickyTop===o&&t.isStickyBottom===i||(this._activeElement&&this._activeElement.focus(),n.updateStickyRefHeights(),s=!0),s&&n.syncScrollSticky(this)}},t.prototype.shouldComponentUpdate=function(e,t){if(!this.context.scrollablePane)return!0;var n=this.state,r=n.isStickyTop,i=n.isStickyBottom,o=n.distanceFromTop;return r!==t.isStickyTop||i!==t.isStickyBottom||this.props.stickyPosition!==e.stickyPosition||this.props.children!==e.children||o!==t.distanceFromTop||ob(this._nonStickyContent,this._stickyContentTop)||ob(this._nonStickyContent,this._stickyContentBottom)||ob(this._nonStickyContent,this._placeHolder)},t.prototype.render=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom,r=this.props,i=r.stickyClassName,o=r.children;return this.context.scrollablePane?v.createElement("div",{ref:this._root},this.canStickyTop&&v.createElement("div",{ref:this._stickyContentTop,"aria-hidden":!t,style:{pointerEvents:t?"auto":"none"}},v.createElement("div",{style:this._getStickyPlaceholderHeight(t)})),this.canStickyBottom&&v.createElement("div",{ref:this._stickyContentBottom,"aria-hidden":!n,style:{pointerEvents:n?"auto":"none"}},v.createElement("div",{style:this._getStickyPlaceholderHeight(n)})),v.createElement("div",{style:this._getNonStickyPlaceholderHeightAndWidth(),ref:this._placeHolder},v.createElement("div",{ref:this._nonStickyContent,className:t||n?i:void 0,style:this._getContentStyles(t||n)},o))):v.createElement("div",null,this.props.children)},t.prototype.addSticky=function(e){this.nonStickyContent&&e.appendChild(this.nonStickyContent)},t.prototype.resetSticky=function(){this.nonStickyContent&&this.placeholder&&this.placeholder.appendChild(this.nonStickyContent)},t.prototype.setDistanceFromTop=function(e){var t=this._getNonStickyDistanceFromTop(e);this.setState({distanceFromTop:t})},t.prototype._getContentStyles=function(e){return{backgroundColor:this.props.stickyBackgroundColor||this._getBackground(),overflow:e?"hidden":""}},t.prototype._getStickyPlaceholderHeight=function(e){var t=this.nonStickyContent?this.nonStickyContent.offsetHeight:0;return{visibility:e?"hidden":"visible",height:e?0:t}},t.prototype._getNonStickyPlaceholderHeightAndWidth=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom;if(t||n){var r=0,i=0;return this.nonStickyContent&&this.nonStickyContent.firstElementChild&&(r=this.nonStickyContent.offsetHeight,i=this.nonStickyContent.firstElementChild.scrollWidth+(this.nonStickyContent.firstElementChild.offsetWidth-this.nonStickyContent.firstElementChild.clientWidth)),{height:r,width:i}}return{}},t.prototype._getBackground=function(){if(this.root){for(var e=this.root;"rgba(0, 0, 0, 0)"===window.getComputedStyle(e).getPropertyValue("background-color")||"transparent"===window.getComputedStyle(e).getPropertyValue("background-color");){if("HTML"===e.tagName)return;e.parentElement&&(e=e.parentElement)}return window.getComputedStyle(e).getPropertyValue("background-color")}},t.defaultProps={stickyPosition:Gv.Both,isScrollSynced:!0},t.contextTypes={scrollablePane:hr.object},t}(O.a);function ob(e,t){return e&&t&&e.current&&t.current&&e.current.offsetHeight!==t.current.offsetHeight}var ab=Object(w.a)(),sb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.c(t,e),t}(fp),ub=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderColorOption=function(e){return v.createElement("svg",{className:t._classNames.svg,viewBox:"0 0 20 20",fill:Rs(e.color).str},t.props.circle?v.createElement("circle",{cx:"50%",cy:"50%",r:"50%"}):v.createElement("rect",{width:"100%",height:"100%"}))},t._getClassNames=function(e,n,r,i,o,a,s,u,l){var c=Zr(e);return Object(b.X)(t._classNames,{root:["ms-Button",c.root,r,n,s&&["is-checked",c.rootChecked],a&&["is-disabled",c.rootDisabled],!a&&!s&&{selectors:{":hover":c.rootHovered,":focus":c.rootFocused,":active":c.rootPressed}},a&&s&&[c.rootCheckedDisabled],!a&&s&&{selectors:{":hover":c.rootCheckedHovered,":active":c.rootCheckedPressed}}],flexContainer:["ms-Button-flexContainer",c.flexContainer]})},t}return m.c(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.id,r=e.selected,i=e.disabled,o=e.styles,a=e.theme,s=e.circle,u=e.color,l=e.onClick,c=e.onHover,d=e.onFocus,f=e.onMouseEnter,h=e.onMouseMove,p=e.onMouseLeave,g=e.onWheel,m=e.onKeyDown,b=e.height,y=e.width,_=e.borderWidth;return this._classNames=ab(o,{theme:a,disabled:i,selected:r,circle:s,isWhite:this._isWhiteCell(u),height:b,width:y,borderWidth:_}),v.createElement(sb,{item:t,id:n+"-"+t.id+"-"+t.index,key:t.id,disabled:i,role:"gridcell",onRenderItem:this._onRenderColorOption,selected:r,onClick:l,onHover:c,onFocus:d,label:t.label,className:this._classNames.colorCell,getClassNames:this._getClassNames,index:t.index,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onWheel:g,onKeyDown:m})},t.prototype._isWhiteCell=function(e){return"ffffff"===Rs(e).hex},t.defaultProps={circle:!0,disabled:!1,selected:!1},t}(v.Component),lb=Object(S.a)(ub,(function(e){var t,n,r,i,o=e.theme,a=e.disabled,s=e.selected,u=e.circle,l=e.isWhite,c=e.height,d=void 0===c?20:c,f=e.width,h=void 0===f?20:f,p=e.borderWidth,g=o.semanticColors,m=p||(h<24?2:4);return{colorCell:[{backgroundColor:g.bodyBackground,padding:0,position:"relative",boxSizing:"border-box",display:"inline-block",cursor:"pointer",userSelect:"none",border:"none",height:d,width:h},!u&&{selectors:(t={},t["."+jn.a+" &:focus::after"]={outlineOffset:m-1+"px"},t)},u&&{borderRadius:"50%",selectors:(n={},n["."+jn.a+" &:focus::after"]={outline:"none",borderColor:g.focusBorder,borderRadius:"50%",left:-m,right:-m,top:-m,bottom:-m,selectors:(r={},r[b.j]={outline:"1px solid ButtonText"},r)},n)},s&&{padding:2,border:m+"px solid "+o.palette.neutralTertiaryAlt},!s&&{selectors:(i={},i["&:hover, &:active, &:focus"]={backgroundColor:g.bodyBackground,padding:2,border:m+"px solid "+o.palette.neutralLight},i["&:focus"]={borderColor:g.bodyBackground,padding:0,selectors:{":hover":{borderColor:o.palette.neutralLight,padding:2}}},i)},a&&{color:g.disabledBodyText,pointerEvents:"none",opacity:.3},l&&!s&&{backgroundColor:g.bodyDivider,padding:1}],svg:[{width:"100%",height:"100%"},u&&{borderRadius:"50%"}]}}),void 0,{scope:"ColorPickerGridCell"}),cb=Object(w.a)(),db=function(e){function t(t){var n,r=e.call(this,t)||this;return r.navigationIdleDelay=250,r._onSwatchColorPickerBlur=function(){r.props.onCellFocused&&(r._cellFocused=!1,r.props.onCellFocused())},r._renderOption=function(e){var t=r._id;return v.createElement(lb,{item:e,id:t,color:e.color,styles:r.props.getColorGridCellStyles,disabled:r.props.disabled,onClick:r._onCellClick,onHover:r._onGridCellHovered,onFocus:r._onGridCellFocused,selected:void 0!==r.state.selectedIndex&&r.state.selectedIndex===e.index,circle:"circle"===r.props.cellShape,label:e.label,onMouseEnter:r._onMouseEnter,onMouseMove:r._onMouseMove,onMouseLeave:r._onMouseLeave,onWheel:r._onWheel,onKeyDown:r._onKeyDown,height:r.props.cellHeight,width:r.props.cellWidth,borderWidth:r.props.cellBorderWidth})},r._onMouseEnter=function(e){return r.props.focusOnHover?(r.isNavigationIdle&&!r.props.disabled&&e.currentTarget.focus(),!0):!(r.isNavigationIdle&&!r.props.disabled)},r._onMouseMove=function(e){if(!r.props.focusOnHover)return!(r.isNavigationIdle&&!r.props.disabled);var t=e.currentTarget;return!r.isNavigationIdle||document&&t===document.activeElement||t.focus(),!0},r._onMouseLeave=function(e){var t=r.props.mouseLeaveParentSelector;if(r.props.focusOnHover&&t&&r.isNavigationIdle&&!r.props.disabled)for(var n=document.querySelectorAll(t),i=0;i<n.length;i+=1)if(n[i].contains(e.currentTarget)){if(n[i].setActive)try{n[i].setActive()}catch(o){}else n[i].focus();break}},r._onWheel=function(){r.setNavigationTimeout()},r._onKeyDown=function(e){e.which!==ge.a.up&&e.which!==ge.a.down&&e.which!==ge.a.left&&e.which!==ge.a.right||r.setNavigationTimeout()},r.setNavigationTimeout=function(){r.isNavigationIdle||void 0===r.navigationIdleTimeoutId?r.isNavigationIdle=!1:(r.async.clearTimeout(r.navigationIdleTimeoutId),r.navigationIdleTimeoutId=void 0),r.navigationIdleTimeoutId=r.async.setTimeout((function(){r.isNavigationIdle=!0}),r.navigationIdleDelay)},r._onGridCellHovered=function(e){var t=r.props.onCellHovered;if(t)return e?t(e.id,e.color):t()},r._onGridCellFocused=function(e){var t=r.props.onCellFocused;if(t)return e?(r._cellFocused=!0,t(e.id,e.color)):(r._cellFocused=!1,t())},r._onCellClick=function(e){if(!r.props.disabled){var t=e.index;t>=0&&t!==r.state.selectedIndex&&(r.props.onCellFocused&&r._cellFocused&&(r._cellFocused=!1,r.props.onCellFocused()),r.props.onColorChanged&&r.props.onColorChanged(e.id,e.color),!0!==r.props.isControlled&&r.setState({selectedIndex:t}))}},r._id=t.id||Object(Oe.c)("swatchColorPicker"),r.isNavigationIdle=!0,r.async=new ht.a(r),t.selectedId&&(n=r._getSelectedIndex(t.colorCells,t.selectedId)),r.state={selectedIndex:n},r}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==e.selectedId&&this.setState({selectedIndex:this._getSelectedIndex(e.colorCells,e.selectedId)})},t.prototype.componentWillUnmount=function(){this.props.onCellFocused&&this._cellFocused&&(this._cellFocused=!1,this.props.onCellFocused())},t.prototype.render=function(){var e=this.props,t=e.colorCells,n=e.columnCount,r=e.positionInSet,i=e.setSize,o=e.shouldFocusCircularNavigate,a=e.className,s=e.doNotContainWithinFocusZone,u=e.styles,l=e.cellMargin,c=cb(u,{theme:this.props.theme,className:a,cellMargin:l});return t.length<1||n<1?null:v.createElement(dp,m.a({},this.props,{items:t.map((function(e,t){return m.a({},e,{index:t})})),columnCount:n,onRenderItem:this._renderOption,positionInSet:r&&r,setSize:i&&i,shouldFocusCircularNavigate:o,doNotContainWithinFocusZone:s,onBlur:this._onSwatchColorPickerBlur,theme:this.props.theme,styles:function(e){return{root:c.root,tableCell:c.tableCell,focusedContainer:c.focusedContainer}}}))},t.prototype._getSelectedIndex=function(e,t){var n=Object(Ue.e)(e,(function(e){return e.id===t}));return n>=0?n:void 0},t.defaultProps={cellShape:"circle",disabled:!1,shouldFocusCircularNavigate:!0,cellMargin:10},t}(v.Component),fb={focusedContainer:"ms-swatchColorPickerBodyContainer"},hb=Object(S.a)(db,(function(e){var t=e.className,n=e.theme;return{root:{margin:"8px 0",borderCollapse:"collapse"},tableCell:{padding:e.cellMargin/2},focusedContainer:[Object(b.N)(fb,n).focusedContainer,{clear:"both",display:"block",minWidth:"180px"},t]}}),void 0,{scope:"SwatchColorPicker"}),pb=Object(w.a)(),gb=function(e){function t(t){var n=e.call(this,t)||this;return n.rootElement=v.createRef(),n._onKeyDown=function(e){n.props.onDismiss&&e.which===ge.a.escape&&n.props.onDismiss()},n.state={},n}return m.c(t,e),t.prototype.componentDidMount=function(){this.props.onDismiss&&document.addEventListener("keydown",this._onKeyDown,!1)},t.prototype.componentWillUnmount=function(){this.props.onDismiss&&document.removeEventListener("keydown",this._onKeyDown)},t.prototype.focus=function(){this.rootElement.current&&this.rootElement.current.focus()},t.prototype.render=function(){var e,t,n,r,i,o=this.props,a=o.children,s=o.illustrationImage,u=o.primaryButtonProps,l=o.secondaryButtonProps,c=o.headline,d=o.hasCondensedHeadline,f=o.hasCloseIcon,h=o.onDismiss,p=o.closeButtonAriaLabel,g=o.hasSmallHeadline,b=o.isWide,y=o.styles,_=o.theme,x=o.ariaDescribedBy,S=o.ariaLabelledBy,w=o.footerContent,C=pb(y,{theme:_,hasCondensedHeadline:d,hasSmallHeadline:g,isWide:b,primaryButtonClassName:u?u.className:void 0,secondaryButtonClassName:l?l.className:void 0});if(s&&s.src&&(e=v.createElement("div",{className:C.imageContent},v.createElement(L,m.a({},s)))),c){var k="string"===typeof c?"p":"div";t=v.createElement("div",{className:C.header},v.createElement(k,{className:C.headline,id:S},c))}if(a){var E="string"===typeof a?"p":"div";n=v.createElement("div",{className:C.body},v.createElement(E,{className:C.subText,id:x},a))}return(u||l||w)&&(r=v.createElement("div",{className:C.footer},u&&v.createElement(ei,m.a({},u,{className:C.primaryButton})),l&&v.createElement(Xr,m.a({},l,{className:C.secondaryButton})),w&&v.createElement("span",null,w))),f&&(i=v.createElement(fr,{className:C.closeButton,iconProps:{iconName:"Cancel"},title:p,ariaLabel:p,onClick:h})),v.createElement("div",{className:C.content,ref:this.rootElement,role:"dialog",tabIndex:-1,"aria-labelledby":S,"aria-describedby":x,"data-is-focusable":!0},e,v.createElement("div",{className:C.bodyContent},t,n,r),i)},t.defaultProps={hasCondensedHeadline:!1,imageProps:{imageFit:h.cover,width:364,height:130}},t}(O.a),mb={root:"ms-TeachingBubble",body:"ms-TeachingBubble-body",bodyContent:"ms-TeachingBubble-bodycontent",closeButton:"ms-TeachingBubble-closebutton",content:"ms-TeachingBubble-content",footer:"ms-TeachingBubble-footer",header:"ms-TeachingBubble-header",headerIsCondensed:"ms-TeachingBubble-header--condensed",headerIsSmall:"ms-TeachingBubble-header--small",headerIsLarge:"ms-TeachingBubble-header--large",headline:"ms-TeachingBubble-headline",image:"ms-TeachingBubble-image",primaryButton:"ms-TeachingBubble-primaryButton",secondaryButton:"ms-TeachingBubble-secondaryButton",subText:"ms-TeachingBubble-subText",button:"ms-Button",buttonLabel:"ms-Button-label"},vb=Object(b.V)({"0%":{opacity:0,animationTimingFunction:b.c.easeFunction1,transform:"scale3d(.90,.90,.90)"},"100%":{opacity:1,transform:"scale3d(1,1,1)"}}),bb=function(e){return[{display:"block",maxWidth:364,border:0,outline:"transparent",boxShadow:"none !important",width:"calc(100% + 1px)",animationName:""+vb,animationDuration:"300ms",animationTimingFunction:"linear",animationFillMode:"both"},e&&{maxWidth:"456px"}]},yb=function(e,t,n){return t?[e.headerIsCondensed]:n?[e.headerIsSmall,{selectors:{":not(:last-child)":{marginBottom:"14px"}}}]:[e.headerIsLarge,{selectors:{":not(:last-child)":{marginBottom:"14px"}}}]},_b=function(e){var t,n,r=e.calloutClassName,i=e.hasCondensedHeadline,o=e.hasSmallHeadline,a=e.isWide,s=e.primaryButtonClassName,u=e.secondaryButtonClassName,l=e.theme,c=!i&&!o,d=l.palette,f=Object(b.N)(mb,l);return{root:[f.root,l.fonts.medium,r],body:[f.body,{selectors:{":not(:last-child)":{marginBottom:"20px"}}}],bodyContent:[f.bodyContent,{padding:"20px"},a&&{maxWidth:"302px"}],closeButton:[f.closeButton,{position:"absolute",right:0,top:0,color:d.white,fontSize:b.h.small,selectors:{":hover":{background:"transparent"}}}],content:[f.content].concat(bb(a),[a&&{display:"flex"}]),footer:[f.footer,{display:"flex",alignItems:"center",color:d.white,selectors:{"> *:not(:first-child)":{marginLeft:"20px"}}}],header:[f.header].concat(yb(f,i,o),[(i||o)&&[b.e.medium,{marginRight:"10px",fontWeight:b.i.semibold}]]),headline:[f.headline,{margin:0,color:d.white},c&&[b.e.xxLarge,{fontWeight:b.i.light}]],imageContent:[f.header,f.image,a&&{display:"flex",alignItems:"center",paddingLeft:"20px",maxWidth:"154px"}],primaryButton:[f.primaryButton,s,{backgroundColor:d.white,borderColor:d.white,whiteSpace:"nowrap",selectors:(t={},t["."+f.buttonLabel]=[b.e.medium,{color:d.themePrimary}],t[":hover"]={backgroundColor:d.themeLighter,borderColor:d.themeLighter},t[":focus"]={backgroundColor:d.themeLighter,borderColor:d.white},t[":active"]={backgroundColor:d.white,borderColor:d.white},t)}],secondaryButton:[f.secondaryButton,u,{backgroundColor:d.themePrimary,borderColor:d.white,whiteSpace:"nowrap",selectors:(n={},n["."+f.buttonLabel]=[b.e.medium,{color:d.white}],n["&:hover, &:focus"]={backgroundColor:d.themeDarkAlt,borderColor:d.white},n[":active"]={backgroundColor:d.themePrimary,borderColor:d.white},n)}],subText:[f.subText,{margin:0,fontSize:b.h.medium,color:d.white,fontWeight:b.i.semilight}],subComponentStyles:{callout:{root:bb(a).concat([l.fonts.medium]),beak:[{background:d.themePrimary}],calloutMain:[{background:d.themePrimary}]}}}},xb=Object(S.a)(gb,_b,void 0,{scope:"TeachingBubbleContent"}),Sb=Object(w.a)(),wb=function(e){function t(t){var n=e.call(this,t)||this;return n.rootElement=v.createRef(),n.state={},n._defaultCalloutProps={beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1,directionalHint:$e.rightCenter},n}return m.c(t,e),t.prototype.focus=function(){this.rootElement.current&&this.rootElement.current.focus()},t.prototype.render=function(){var e=this.props,t=e.calloutProps,n=e.targetElement,r=e.onDismiss,i=e.isWide,o=e.styles,a=e.theme,s=e.target,u=m.a({},this._defaultCalloutProps,t),l={theme:a,isWide:i,calloutClassName:u?u.className:void 0},c=Sb(o,l),d=c.subComponentStyles?c.subComponentStyles.callout:void 0;return v.createElement(Tn,m.a({target:s||n,onDismiss:r},u,{className:c.root,styles:d,hideOverflow:!0}),v.createElement("div",{ref:this.rootElement},v.createElement(xb,m.a({},this.props))))},t.defaultProps={calloutProps:{beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1,directionalHint:$e.rightCenter}},t}(O.a),Cb=Object(S.a)(wb,_b,void 0,{scope:"TeachingBubble"}),kb=function(e){if(!e.children)return null;e.block,e.className;var t=e.as,n=void 0===t?"span":t,r=(e.variant,e.nowrap,m.d(e,["block","className","as","variant","nowrap"]));return Zh(Jh(e,{root:n}).root,m.a({},Object(E.j)(r,E.k)))},Eb=function(e,t){var n=e.as,r=e.className,i=e.block,o=e.nowrap,a=e.variant,s=t.fonts[a||"medium"];return{root:[t.fonts.medium,{display:i?"td"===n?"table-cell":"block":"inline",fontFamily:s&&s.fontFamily||"inherit",fontSize:s&&s.fontSize||"inherit",fontWeight:s&&s.fontWeight||"inherit",color:s&&s.color||"inherit",mozOsxFontSmoothing:s&&s.MozOsxFontSmoothing,webkitFontSmoothing:s&&s.WebkitFontSmoothing},o&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},r]}},Ob=rp({displayName:"Text",styles:Eb,view:kb}),Tb={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};function Pb(e,t){if(void 0===t&&(t=Tb),!e)return[];for(var n=[],r=0,i=0;i+r<e.length;i++){var o=e.charAt(i+r);if("\\"===o)r++;else{var a=t[o];a&&n.push({displayIndex:i,format:a})}}return n}function Ib(e,t,n){var r=e;if(!r)return"";r=r.replace(/\\/g,"");var i=0;t.length>0&&(i=t[0].displayIndex-1);for(var o=0,a=t;o<a.length;o++){var s=a[o],u=" ";s.value?(u=s.value,s.displayIndex>i&&(i=s.displayIndex)):n&&(u=n),r=r.slice(0,s.displayIndex)+u+r.slice(s.displayIndex+1)}return n||(r=r.slice(0,i+1)),r}function Db(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t)return e[n].displayIndex;return e[e.length-1].displayIndex}function Ab(e,t,n){for(var r=0;r<e.length;r++)if(e[r].displayIndex>=t){if(e[r].displayIndex>=t+n)break;e[r].value=void 0}return e}function Mb(e,t,n){for(var r=0,i=0,o=!1,a=0;a<e.length&&r<n.length;a++)if(e[a].displayIndex>=t)for(o=!0,i=e[a].displayIndex;r<n.length;){if(e[a].format.test(n.charAt(r))){e[a].value=n.charAt(r++),a+1<e.length?i=e[a+1].displayIndex:i++;break}r++}return o?i:t}var jb,Rb,Fb,Nb="_",Lb=function(e){function t(t){var n=e.call(this,t)||this;return n._skipComponentRefResolution=!0,n._textField=v.createRef(),Object(Ee.a)(n),n._maskCharData=Pb(t.mask,t.maskFormat),void 0!==t.value&&n.setValue(t.value),n._isFocused=!1,n._moveCursorOnMouseUp=!1,n.state={displayValue:Ib(t.mask,n._maskCharData,t.maskChar)},n}return m.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.mask===this.props.mask&&e.value===this.props.value||(this._maskCharData=Pb(e.mask,e.maskFormat),void 0!==e.value&&this.setValue(e.value),this.setState({displayValue:Ib(e.mask,this._maskCharData,e.maskChar)}))},t.prototype.componentDidUpdate=function(){void 0!==this.state.maskCursorPosition&&this._textField.current&&this._textField.current.setSelectionRange(this.state.maskCursorPosition,this.state.maskCursorPosition)},t.prototype.render=function(){return v.createElement(pu,m.a({},this.props,{onFocus:this._onFocus,onBlur:this._onBlur,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onChange:this._onInputChange,onBeforeChange:this._onBeforeChange,onKeyDown:this._onKeyDown,onPaste:this._onPaste,value:this.state.displayValue,componentRef:this._textField}))},Object.defineProperty(t.prototype,"value",{get:function(){for(var e="",t=0;t<this._maskCharData.length;t++){if(!this._maskCharData[t].value)return;e+=this._maskCharData[t].value}return e},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e){for(var t=0,n=0;t<e.length&&n<this._maskCharData.length;){var r=e[t];this._maskCharData[n].format.test(r)&&(this._maskCharData[n].value=r,n++),t++}},t.prototype.focus=function(){var e=this._textField.current;e&&e.focus()},t.prototype.blur=function(){var e=this._textField.current;e&&e.blur()},t.prototype.select=function(){var e=this._textField.current;e&&e.select()},t.prototype.setSelectionStart=function(e){var t=this._textField.current;t&&t.setSelectionStart(e)},t.prototype.setSelectionEnd=function(e){var t=this._textField.current;t&&t.setSelectionEnd(e)},t.prototype.setSelectionRange=function(e,t){var n=this._textField.current;n&&n.setSelectionRange(e,t)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){var e=this._textField.current;return e&&null!==e.selectionStart?e.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){var e=this._textField.current;return e&&e.selectionEnd?e.selectionEnd:-1},enumerable:!0,configurable:!0}),t.prototype._onFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this._isFocused=!0;for(var t=0;t<this._maskCharData.length;t++)if(!this._maskCharData[t].value){this.setState({maskCursorPosition:this._maskCharData[t].displayIndex});break}},t.prototype._onBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this._isFocused=!1,this._moveCursorOnMouseUp=!0},t.prototype._onMouseDown=function(e){this.props.onMouseDown&&this.props.onMouseDown(e),this._isFocused||(this._moveCursorOnMouseUp=!0)},t.prototype._onMouseUp=function(e){if(this.props.onMouseUp&&this.props.onMouseUp(e),this._moveCursorOnMouseUp){this._moveCursorOnMouseUp=!1;for(var t=0;t<this._maskCharData.length;t++)if(!this._maskCharData[t].value){this.setState({maskCursorPosition:this._maskCharData[t].displayIndex});break}}},t.prototype._onBeforeChange=function(e){var t=this._textField.current;this.props.onBeforeChange&&this.props.onBeforeChange(e),null===this._changeSelectionData&&t&&(this._changeSelectionData={changeType:"default",selectionStart:null!==t.selectionStart?t.selectionStart:-1,selectionEnd:null!==t.selectionEnd?t.selectionEnd:-1})},t.prototype._onInputChange=function(e,t){if(this._changeSelectionData){var n=this.state.displayValue,r=0,i=this._changeSelectionData,o=i.changeType,a=i.selectionStart,s=i.selectionEnd;if("textPasted"===o){var u=s-a,l=t.length+u-n.length,c=a,d=t.substr(c,l);u&&(this._maskCharData=Ab(this._maskCharData,a,u)),r=Mb(this._maskCharData,c,d)}else if("delete"===o||"backspace"===o){var f="delete"===o;(l=s-a)?(this._maskCharData=Ab(this._maskCharData,a,l),r=Db(this._maskCharData,a)):f?(this._maskCharData=function(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t){e[n].value=void 0;break}return e}(this._maskCharData,a),r=Db(this._maskCharData,a)):(this._maskCharData=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t){e[n].value=void 0;break}return e}(this._maskCharData,a),r=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t)return e[n].displayIndex;return e[0].displayIndex}(this._maskCharData,a))}else if(t.length>n.length){c=s-(l=t.length-n.length);var h=t.substr(c,l);r=Mb(this._maskCharData,c,h)}else if(t.length<=n.length){l=1;var p=n.length+l-t.length;c=s-l,h=t.substr(c,l);this._maskCharData=Ab(this._maskCharData,c,p),r=Mb(this._maskCharData,c,h)}this._changeSelectionData=null;var g=Ib(this.props.mask,this._maskCharData,this.props.maskChar);this.setState({displayValue:g,maskCursorPosition:r}),this.props.onChange&&this.props.onChange(e,g),this.props.onChanged&&this.props.onChanged(g)}},t.prototype._onKeyDown=function(e){var t=this._textField.current;if(this.props.onKeyDown&&this.props.onKeyDown(e),this._changeSelectionData=null,t&&t.value){var n=e.keyCode,r=e.ctrlKey,i=e.metaKey;if(r||i)return;if(n===ge.a.backspace||n===ge.a.del){var o=e.target.selectionStart,a=e.target.selectionEnd;if(!(n===ge.a.backspace&&a&&a>0)&&!(n===ge.a.del&&null!==o&&o<t.value.length))return;this._changeSelectionData={changeType:n===ge.a.backspace?"backspace":"delete",selectionStart:null!==o?o:-1,selectionEnd:null!==a?a:-1}}}},t.prototype._onPaste=function(e){this.props.onPaste&&this.props.onPaste(e);var t=e.target.selectionStart,n=e.target.selectionEnd;this._changeSelectionData={changeType:"textPasted",selectionStart:null!==t?t:-1,selectionEnd:null!==n?n:-1}},t.defaultProps={maskChar:Nb,maskFormat:Tb},m.b([dh.a],t.prototype,"_onFocus",null),m.b([dh.a],t.prototype,"_onBlur",null),m.b([dh.a],t.prototype,"_onMouseDown",null),m.b([dh.a],t.prototype,"_onMouseUp",null),m.b([dh.a],t.prototype,"_onBeforeChange",null),m.b([dh.a],t.prototype,"_onInputChange",null),m.b([dh.a],t.prototype,"_onKeyDown",null),m.b([dh.a],t.prototype,"_onPaste",null),t}(v.Component),Bb=function(){function e(){}return e.setSlot=function(t,n,r,i,o){if(void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=!0),t.color||!t.value)if(o){var a=void 0;if("string"===typeof n){if(!(a=Rs(n)))throw"color is invalid in setSlot(): "+n}else a=n;e._setSlot(t,a,r,i,o)}else t.color&&e._setSlot(t,t.color,r,i,o)},e.insureSlots=function(t,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(!i.inherits&&!i.value){if(!i.color)throw"A color slot rule that does not inherit must provide its own color.";e._setSlot(i,i.color,n,!1,!1)}}},e.getThemeAsJson=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[r.name]=r.color?r.color.str:r.value||""}return t},e.getThemeAsCode=function(e){var t="";for(var n in t+="loadTheme({\n  palette: {\n",e)if(e.hasOwnProperty(n)){var r=e[n],i=r.name.charAt(0).toLowerCase()+r.name.slice(1),o=r.color?"#"+r.color.hex:r.value||"";t+=Object(si.a)("    {0}: '{1}',\n",i,o)}return t+="  }\n});"},e.getThemeAsSass=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=r.name.charAt(0).toLowerCase()+r.name.slice(1);t+=Object(si.a)('${0}Color: "[theme: {1}, default: {2}]";\n',i,i,r.color?r.color.str:r.value||"")}return t},e.getThemeForPowerShell=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r.value)continue;var i=r.name.charAt(0).toLowerCase()+r.name.slice(1),o=r.color?"#"+r.color.hex:r.value||"";r.color&&r.color.a&&100!==r.color.a&&(o+=String(r.color.a.toString(16))),t+=Object(si.a)('"{0}" = "{1}";\n',i,o)}return"@{\n"+t+"}"},e._setSlot=function(t,n,r,i,o){if(void 0===o&&(o=!0),(t.color||!t.value)&&(o||!t.color||!t.isCustomized||!t.inherits)){!o&&t.isCustomized||i||!t.inherits||!eu(t.asShade)?(t.color=n,t.isCustomized=!0):(t.isBackgroundShade?t.color=au(n,t.asShade,r):t.color=ou(n,t.asShade,r),t.isCustomized=!1);for(var a=0,s=t.dependentRules;a<s.length;a++){var u=s[a];e._setSlot(u,t.color,r,!1,o)}}},e}();function zb(){var e={};function t(t,n,r,i){void 0===i&&(i=!1);var o=e[jb[n]],a={name:t,inherits:o,asShade:r,isCustomized:!1,isBackgroundShade:i,dependentRules:[]};e[t]=a,o.dependentRules.push(a)}return Object(Oe.d)(jb,(function(t){e[t]={name:t,isCustomized:!0,dependentRules:[]},Object(Oe.d)(Gs,(function(n,r){if(n!==Gs[Gs.Unshaded]){var i=e[t],o={name:t+n,inherits:e[t],asShade:r,isCustomized:!1,isBackgroundShade:t===jb[jb.backgroundColor],dependentRules:[]};e[t+n]=o,i.dependentRules.push(o)}}))})),e[jb[jb.primaryColor]].color=Rs("#0078d4"),e[jb[jb.backgroundColor]].color=Rs("#fff"),e[jb[jb.foregroundColor]].color=Rs("#333"),e[jb[jb.primaryColor]+Gs[Gs.Shade1]].color=Rs("#eff6fc"),e[jb[jb.primaryColor]+Gs[Gs.Shade2]].color=Rs("#deecf9"),e[jb[jb.primaryColor]+Gs[Gs.Shade3]].color=Rs("#c7e0f4"),e[jb[jb.primaryColor]+Gs[Gs.Shade4]].color=Rs("#71afe5"),e[jb[jb.primaryColor]+Gs[Gs.Shade5]].color=Rs("#2b88d8"),e[jb[jb.primaryColor]+Gs[Gs.Shade6]].color=Rs("#106ebe"),e[jb[jb.primaryColor]+Gs[Gs.Shade7]].color=Rs("#005a9e"),e[jb[jb.primaryColor]+Gs[Gs.Shade8]].color=Rs("#004578"),e[jb[jb.foregroundColor]+Gs[Gs.Shade1]].color=Rs("#eaeaea"),e[jb[jb.foregroundColor]+Gs[Gs.Shade2]].color=Rs("#c8c8c8"),e[jb[jb.foregroundColor]+Gs[Gs.Shade3]].color=Rs("#a6a6a6"),e[jb[jb.foregroundColor]+Gs[Gs.Shade4]].color=Rs("#767676"),e[jb[jb.foregroundColor]+Gs[Gs.Shade5]].color=Rs("#666666"),e[jb[jb.foregroundColor]+Gs[Gs.Shade6]].color=Rs("#3c3c3c"),e[jb[jb.foregroundColor]+Gs[Gs.Shade7]].color=Rs("#212121"),e[jb[jb.foregroundColor]+Gs[Gs.Shade8]].color=Rs("#000000"),t(Rb[Rb.themePrimary],jb.primaryColor,Gs.Unshaded),t(Rb[Rb.themeLighterAlt],jb.primaryColor,Gs.Shade1),t(Rb[Rb.themeLighter],jb.primaryColor,Gs.Shade2),t(Rb[Rb.themeLight],jb.primaryColor,Gs.Shade3),t(Rb[Rb.themeTertiary],jb.primaryColor,Gs.Shade4),t(Rb[Rb.themeSecondary],jb.primaryColor,Gs.Shade5),t(Rb[Rb.themeDarkAlt],jb.primaryColor,Gs.Shade6),t(Rb[Rb.themeDark],jb.primaryColor,Gs.Shade7),t(Rb[Rb.themeDarker],jb.primaryColor,Gs.Shade8),t(Rb[Rb.neutralLighterAlt],jb.backgroundColor,Gs.Shade1,!0),t(Rb[Rb.neutralLighter],jb.backgroundColor,Gs.Shade2,!0),t(Rb[Rb.neutralLight],jb.backgroundColor,Gs.Shade3,!0),t(Rb[Rb.neutralQuaternaryAlt],jb.backgroundColor,Gs.Shade4,!0),t(Rb[Rb.neutralQuaternary],jb.backgroundColor,Gs.Shade5,!0),t(Rb[Rb.neutralTertiaryAlt],jb.backgroundColor,Gs.Shade6,!0),t(Rb[Rb.neutralTertiary],jb.foregroundColor,Gs.Shade3),t(Rb[Rb.neutralSecondary],jb.foregroundColor,Gs.Shade4),t(Rb[Rb.neutralPrimaryAlt],jb.foregroundColor,Gs.Shade5),t(Rb[Rb.neutralPrimary],jb.foregroundColor,Gs.Unshaded),t(Rb[Rb.neutralDark],jb.foregroundColor,Gs.Shade7),t(Rb[Rb.black],jb.foregroundColor,Gs.Shade8),t(Rb[Rb.white],jb.backgroundColor,Gs.Unshaded,!0),e[Rb[Rb.themeLighterAlt]].color=Rs("#eff6fc"),e[Rb[Rb.themeLighter]].color=Rs("#deecf9"),e[Rb[Rb.themeLight]].color=Rs("#c7e0f4"),e[Rb[Rb.themeTertiary]].color=Rs("#71afe5"),e[Rb[Rb.themeSecondary]].color=Rs("#2b88d8"),e[Rb[Rb.themeDarkAlt]].color=Rs("#106ebe"),e[Rb[Rb.themeDark]].color=Rs("#005a9e"),e[Rb[Rb.themeDarker]].color=Rs("#004578"),e[Rb[Rb.themeLighterAlt]].isCustomized=!0,e[Rb[Rb.themeLighter]].isCustomized=!0,e[Rb[Rb.themeLight]].isCustomized=!0,e[Rb[Rb.themeTertiary]].isCustomized=!0,e[Rb[Rb.themeSecondary]].isCustomized=!0,e[Rb[Rb.themeDarkAlt]].isCustomized=!0,e[Rb[Rb.themeDark]].isCustomized=!0,e[Rb[Rb.themeDarker]].isCustomized=!0,e}!function(e){e[e.primaryColor=0]="primaryColor",e[e.backgroundColor=1]="backgroundColor",e[e.foregroundColor=2]="foregroundColor"}(jb||(jb={})),function(e){e[e.themePrimary=0]="themePrimary",e[e.themeLighterAlt=1]="themeLighterAlt",e[e.themeLighter=2]="themeLighter",e[e.themeLight=3]="themeLight",e[e.themeTertiary=4]="themeTertiary",e[e.themeSecondary=5]="themeSecondary",e[e.themeDarkAlt=6]="themeDarkAlt",e[e.themeDark=7]="themeDark",e[e.themeDarker=8]="themeDarker",e[e.neutralLighterAlt=9]="neutralLighterAlt",e[e.neutralLighter=10]="neutralLighter",e[e.neutralLight=11]="neutralLight",e[e.neutralQuaternaryAlt=12]="neutralQuaternaryAlt",e[e.neutralQuaternary=13]="neutralQuaternary",e[e.neutralTertiaryAlt=14]="neutralTertiaryAlt",e[e.neutralTertiary=15]="neutralTertiary",e[e.neutralSecondary=16]="neutralSecondary",e[e.neutralPrimaryAlt=17]="neutralPrimaryAlt",e[e.neutralPrimary=18]="neutralPrimary",e[e.neutralDark=19]="neutralDark",e[e.black=20]="black",e[e.white=21]="white"}(Rb||(Rb={})),function(e){e[e.bodyBackground=0]="bodyBackground",e[e.bodyText=1]="bodyText",e[e.disabledBackground=2]="disabledBackground",e[e.disabledText=3]="disabledText"}(Fb||(Fb={}));var Ub=Object(w.a)(),Hb=function(e){function t(t){var n=e.call(this,t)||this;return n._toggleButton=v.createRef(),n._onClick=function(e){var t=n.props,r=t.disabled,i=t.checked,o=t.onChange,a=t.onChanged,s=t.onClick,u=n.state.checked;r||(void 0===i&&n.setState({checked:!u}),o&&o(e,!u),a&&a(!u),s&&s(e))},n._warnMutuallyExclusive({checked:"defaultChecked"}),n._warnDeprecations({onAriaLabel:"ariaLabel",offAriaLabel:void 0,onChanged:"onChange"}),n.state={checked:!(!t.checked&&!t.defaultChecked)},n._id=t.id||Object(Oe.c)("Toggle"),n}return m.c(t,e),Object.defineProperty(t.prototype,"checked",{get:function(){return this.state.checked},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&this.setState({checked:!!e.checked})},t.prototype.render=function(){var e=this,t=this.props,n=t.as,r=void 0===n?"div":n,i=t.className,o=t.theme,a=t.disabled,s=t.keytipProps,u=t.label,l=t.ariaLabel,c=t.onAriaLabel,d=t.offAriaLabel,f=t.offText,h=t.onText,p=t.styles,g=t.inlineLabel,b=this.state.checked,y=b?h:f,_=b?c:d,x=Object(E.j)(this.props,E.o,["defaultChecked"]),S=Ub(p,{theme:o,className:i,disabled:a,checked:b,inlineLabel:g,onOffMissing:!h&&!f}),w=this._id+"-label",C=this._id+"-stateText",k=void 0;return l||_||(u?k=w:y&&(k=C)),v.createElement(r,{className:S.root,hidden:x.hidden},u&&v.createElement(Ba,{htmlFor:this._id,className:S.label,id:w},u),v.createElement("div",{className:S.container},v.createElement(qe,{keytipProps:s,ariaDescribedBy:x["aria-describedby"],disabled:a},(function(t){return v.createElement("button",m.a({},x,t,{className:S.pill,disabled:a,id:e._id,type:"button",role:"switch",ref:e._toggleButton,"aria-disabled":a,"aria-checked":b,"aria-label":l||_,"data-is-focusable":!0,onChange:e._noop,onClick:e._onClick,"aria-labelledby":k}),v.createElement("div",{className:S.thumb}))})),y&&v.createElement(Ba,{htmlFor:this._id,className:S.text,id:C},y)))},t.prototype.focus=function(){this._toggleButton.current&&this._toggleButton.current.focus()},t.prototype._noop=function(){},t}(O.a),Vb=Object(S.a)(Hb,(function(e){var t,n,r,i,o,a,s,u=e.theme,l=e.className,c=e.disabled,d=e.checked,f=e.inlineLabel,h=e.onOffMissing,p=u.semanticColors,g=p.bodyBackground,m=p.inputBackgroundChecked,v=p.inputBackgroundCheckedHovered,y=p.disabledBodySubtext,_=p.inputBorderHovered,x=p.inputForegroundChecked,S=p.disabledBodySubtext,w=p.disabledBackground,C=p.smallInputBorder,k=p.inputBorderHovered,E=p.disabledBodySubtext,O=p.disabledText;return{root:["ms-Toggle",d&&"is-checked",!c&&"is-enabled",c&&"is-disabled",u.fonts.medium,{marginBottom:"8px"},f&&{display:"flex",alignItems:"center"},l],label:["ms-Toggle-label",c&&{color:O,selectors:(t={},t[b.j]={color:"GrayText"},t)},f&&!h&&{marginRight:16},h&&f&&{order:1,marginLeft:16}],container:["ms-Toggle-innerContainer",{display:"inline-flex",position:"relative"}],pill:["ms-Toggle-background",Object(b.M)(u,{inset:-3}),{fontSize:"20px",boxSizing:"border-box",width:"2.2em",height:"1em",borderRadius:"1em",transition:"all 0.1s ease",borderWidth:"1px",borderStyle:"solid",background:g,borderColor:C,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 .2em"},!c&&[!d&&{selectors:{":hover":[{borderColor:k}],":hover .ms-Toggle-thumb":[{selectors:(n={},n[b.j]={borderColor:"Highlight"},n)}]}},d&&[{background:m,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(r={":hover":[{backgroundColor:v,borderColor:"transparent",selectors:(i={},i[b.j]={backgroundColor:"Highlight"},i)}]},r[b.j]={backgroundColor:"WindowText"},r)}]],c&&[{cursor:"default"},!d&&[{borderColor:E}],d&&[{backgroundColor:y,borderColor:"transparent",justifyContent:"flex-end"}]],!c&&{selectors:{"&:hover":{selectors:(o={},o[b.j]={borderColor:"Highlight"},o)}}}],thumb:["ms-Toggle-thumb",{width:".5em",height:".5em",borderRadius:".5em",transition:"all 0.1s ease",backgroundColor:_,borderColor:"transparent",borderWidth:".28em",borderStyle:"solid",boxSizing:"border-box"},!c&&d&&[{backgroundColor:x,selectors:(a={},a[b.j]={backgroundColor:"Window",borderColor:"Window"},a)}],c&&[!d&&[{backgroundColor:S}],d&&[{backgroundColor:w}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 8px",userSelect:"none"}}},c&&{selectors:{"&&":{color:O,selectors:(s={},s[b.j]={color:"GrayText"},s)}}}]}}),void 0,{scope:"Toggle"}),Wb=n(52)},function(e,t,n){"use strict";n.r(t),n.d(t,"ArcLayer",(function(){return b})),n.d(t,"IconLayer",(function(){return L})),n.d(t,"LineLayer",(function(){return Y})),n.d(t,"PointCloudLayer",(function(){return ae})),n.d(t,"ScatterplotLayer",(function(){return ve})),n.d(t,"ScreenGridLayer",(function(){return De})),n.d(t,"GridLayer",(function(){return rt})),n.d(t,"GridCellLayer",(function(){return He})),n.d(t,"HexagonLayer",(function(){return It})),n.d(t,"HexagonCellLayer",(function(){return pt})),n.d(t,"PathLayer",(function(){return Qt})),n.d(t,"PolygonLayer",(function(){return Ln})),n.d(t,"GeoJsonLayer",(function(){return $n})),n.d(t,"TextLayer",(function(){return kr})),n.d(t,"ContourLayer",(function(){return Ai})),n.d(t,"_SolidPolygonLayer",(function(){return In})),n.d(t,"_MultiIconLayer",(function(){return ar}));var r=n(17),i=n(11),o=n.n(i),a=n(8),s="#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=a.fp64.fp64LowPart,m=[0,0,0,255],v={fp64:!1,getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getSourceColor:{type:"accessor",value:m},getTargetColor:{type:"accessor",value:m},getStrokeWidth:{type:"accessor",value:1},widthScale:{type:"number",value:1,min:0},strokeWidth:{deprecatedFor:"getStrokeWidth"}},b=function(e){function t(){return l(this,t),d(this,h(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return this.use64bitProjection()?{vs:"#define SHADER_NAME arc-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\n\nattribute vec4 instancePositions;\nattribute vec4 instancePositions64Low;\n\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\n\nvarying vec4 vColor;\n\nvec2 paraboloid_fp64(vec2 source[2], vec2 target[2], float ratio) {\n\n  vec2 x[2];\n  vec2_mix_fp64(source, target, ratio, x);\n  vec2 center[2];\n  vec2_mix_fp64(source, target, 0.5, center);\n\n  vec2 dSourceCenter = vec2_distance_fp64(source, center);\n  vec2 dXCenter = vec2_distance_fp64(x, center);\n  return mul_fp64(sum_fp64(dSourceCenter, dXCenter), sub_fp64(dSourceCenter, dXCenter));\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths * widthScale / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvoid get_pos_fp64(vec2 source[2], vec2 target[2], float segmentRatio, out vec2 position[4]) {\n\n  vec2 vertex_height = paraboloid_fp64(source, target, segmentRatio);\n\n  vec2 position_temp[2];\n\n  vec2_mix_fp64(source, target, segmentRatio, position_temp);\n\n  position[0] = position_temp[0];\n  position[1] = position_temp[1];\n\n  if (vertex_height.x < 0.0 || (vertex_height.x == 0.0 && vertex_height.y <= 0.0)) {\n    vertex_height = vec2(0.0, 0.0);\n  }\n\n  position[2] = sqrt_fp64(vertex_height);\n  position[3] = vec2(1.0, 0.0);\n}\n\nvoid main(void) {\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instancePositions.xy, instancePositions64Low.xy, projected_source_coord);\n  project_position_fp64(instancePositions.zw, instancePositions64Low.zw, projected_target_coord);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec2 curr_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, segmentRatio,\n    curr_pos_modelspace);\n\n  vec2 next_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, nextSegmentRatio,\n    next_pos_modelspace);\n\n  vec4 curr_pos_clipspace = project_to_clipspace_fp64(curr_pos_modelspace);\n  vec4 next_pos_clipspace = project_to_clipspace_fp64(next_pos_modelspace);\n\n  vec2 offset = getExtrusionOffset(next_pos_clipspace.xy - curr_pos_clipspace.xy, positions.y);\n\n  gl_Position = curr_pos_clipspace + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:s,modules:["project64","picking"]}:{vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec4 instancePositions;\nattribute vec4 instancePositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\n\nvarying vec4 vColor;\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths * widthScale / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\n\nvoid main(void) {\n  vec2 source = project_position(vec3(instancePositions.xy, 0.0), instancePositions64Low.xy).xy;\n  vec2 target = project_position(vec3(instancePositions.zw, 0.0), instancePositions64Low.zw).xy;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec3 currPos = getPos(source, target, segmentRatio);\n  vec3 nextPos = getPos(source, target, nextSegmentRatio);\n  vec4 curr = project_to_clipspace(vec4(currPos, 1.0));\n  vec4 next = project_to_clipspace(vec4(nextPos, 1.0));\n\n  // extrude\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y);\n  gl_Position = curr + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:s,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:4,transition:!0,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions},instancePositions64Low:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions64Low},instanceSourceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getSourceColor",defaultValue:m},instanceTargetColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getTargetColor",defaultValue:m},instanceWidths:{size:1,transition:!0,accessor:"getStrokeWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(f(h(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}this.state.model.setUniforms({widthScale:n.widthScale})}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<50;n++)t=t.concat([n,-1,0,n,1,0]);var r=new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLE_STRIP,attributes:{positions:new Float32Array(t)}}),isInstanced:!0,shaderCache:this.context.shaderCache}));return r.setUniforms({numSegments:50}),r}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getSourcePosition,i=t.getTargetPosition,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var d,f=n[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value,p=r(h),g=i(h);o[s+0]=p[0],o[s+1]=p[1],o[s+2]=g[0],o[s+3]=g[1],s+=a}}catch(m){l=!0,c=m}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}},{key:"calculateInstancePositions64Low",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getSourcePosition,o=n.getTargetPosition,a=e.value,s=e.size,u=0,l=!0,c=!1,d=void 0;try{for(var f,h=r[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value,m=i(p),v=o(p);a[u+0]=g(m[0]),a[u+1]=g(m[1]),a[u+2]=g(v[0]),a[u+3]=g(v[1]),u+=s}}catch(b){c=!0,d=b}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}}else e.value=new Float32Array(4)}}])&&c(n.prototype,r),i&&c(n,i),t}(r.Layer);b.layerName="ArcLayer",b.defaultProps=v;function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=o.a.LINEAR_MIPMAP_LINEAR,w=o.a.LINEAR,C=function(){};function k(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],o=i.icon,a=i.xOffset;e[o.url]=Object.assign({},o,{x:a,y:n})}}function E(e){for(var t=e.icons,n=e.buffer,r=e.maxCanvasWidth,i=0,o=0,a=0,s=[],u={},l=0;l<t.length;l++){var c=t[l];if(!u[c.url]){var d=c.height,f=c.width;i+f+n>r&&(k(u,s,o),i=0,o=a+o+n,a=0,s=[]),s.push({icon:c,xOffset:i}),i=i+f+n,a=Math.max(a,d)}}var h;return s.length>0&&k(u,s,o),{mapping:u,canvasHeight:(h=a+o+n,Math.pow(2,Math.ceil(Math.log2(h))))}}var O=function(){function e(t,n){var r=n.onUpdate,i=void 0===r?C:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.onUpdate=i,this._getIcon=null,this._mapping={},this._texture=null,this._autoPacking=!1,this._canvas=null}var t,n,r;return t=e,(n=[{key:"getTexture",value:function(){return this._texture}},{key:"getIconMapping",value:function(e){var t=this._getIcon(e),n=this._autoPacking?t.url:t;return this._mapping[n]||{}}},{key:"setProps",value:function(e){var t=e.autoPacking,n=e.iconAtlas,r=e.iconMapping,i=e.data,o=e.getIcon;void 0!==t&&(this._autoPacking=t),o&&(this._getIcon=o),r&&(this._mapping=r),n&&this._updateIconAtlas(n),this._autoPacking&&(i||o)&&(this._canvas=this._canvas||document.createElement("canvas"),this._updateAutoPacking({data:i,buffer:4,maxCanvasWidth:1024}))}},{key:"_updateIconAtlas",value:function(e){var t,n=this;if(e instanceof a.Texture2D)e.setParameters((_(t={},o.a.TEXTURE_MIN_FILTER,S),_(t,o.a.TEXTURE_MAG_FILTER,w),t)),this._texture=e,this.onUpdate();else if("string"===typeof e){var r;Object(a.loadTextures)(this.gl,{urls:[e],parameters:(r={},_(r,o.a.TEXTURE_MIN_FILTER,S),_(r,o.a.TEXTURE_MAG_FILTER,w),r)}).then((function(e){var t=y(e,1)[0];n._texture=t,n.onUpdate()}))}}},{key:"_updateAutoPacking",value:function(e){var t=e.data,n=e.buffer,r=e.maxCanvasWidth,i=Object.values(function(e,t){if(!e||!t)return null;var n={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=t(a.value);if(!u)throw new Error("Icon is missing.");if(!u.url)throw new Error("Icon url is missing.");n[u.url]||(n[u.url]=u)}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,this._getIcon)||{});if(i.length>0){var o=E({icons:i,buffer:n,maxCanvasWidth:r}),s=o.mapping,u=o.canvasHeight;this._mapping=s,this._texture=new a.Texture2D(this.gl,{width:r,height:u}),this.onUpdate(),this._loadImages(i)}}},{key:"_loadImages",value:function(e){var t=this,n=this._canvas.getContext("2d"),r=this._texture.height,i=!0,s=!1,u=void 0;try{for(var l,c=function(){var e=l.value;Object(a.loadImages)({urls:[e.url]}).then((function(i){var a,s=y(i,1)[0],u=t._mapping[e.url],l=u.x,c=u.y,d=u.width,f=u.height,h=function(e,t,n,r){var i=t.naturalWidth,o=t.naturalHeight;return n===i&&r===o?t:(e.canvas.height=r,e.canvas.width=n,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,i,o,0,0,n,r),e.canvas)}(n,s,d,f);t._texture.setSubImageData({data:h,x:l,y:r-c-f,width:d,height:f,parameters:(a={},_(a,o.a.TEXTURE_MIN_FILTER,S),_(a,o.a.TEXTURE_MAG_FILTER,w),_(a,o.a.UNPACK_FLIP_Y_WEBGL,!0),a)}),t._texture.generateMipmap(),t.onUpdate()}))},d=e[Symbol.iterator]();!(i=(l=d.next()).done);i=!0)c()}catch(f){s=!0,u=f}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}}}])&&x(t.prototype,n),r&&x(t,r),e}();function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t,n){return(A="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=a.fp64.fp64LowPart,F=[0,0,0,255],N={iconAtlas:null,iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},fp64:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:F},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0}},L=function(e){function t(){return P(this,t),D(this,M(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return{vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","picking"]}}},{key:"initializeState",value:function(){var e=this;this.state={iconManager:new O(this.context.gl,{onUpdate:function(){return e._onUpdate()}})},this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",update:this.calculateInstanceOffsets},instanceIconFrames:{size:4,accessor:"getIcon",update:this.calculateInstanceIconFrames},instanceColorModes:{size:1,type:o.a.UNSIGNED_BYTE,accessor:"getIcon",update:this.calculateInstanceColorMode},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:F},instanceAngles:{size:1,transition:!0,accessor:"getAngle",defaultValue:0}})}},{key:"updateState",value:function(e){var n=e.oldProps,r=e.props,i=e.changeFlags;A(M(t.prototype),"updateState",this).call(this,{props:r,oldProps:n,changeFlags:i});var o=this.getAttributeManager(),a=this.state.iconManager,s=r.iconAtlas,u=r.iconMapping,l=r.data,c=r.getIcon,d=!1;if(s?(n.iconAtlas!==r.iconAtlas&&a.setProps({iconAtlas:s,autoPacking:!1}),n.iconMapping!==r.iconMapping&&(a.setProps({iconMapping:u}),d=!0)):a.setProps({autoPacking:!0}),(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&(a.setProps({data:l,getIcon:c}),d=!0),d&&(o.invalidate("instanceOffsets"),o.invalidate("instanceIconFrames"),o.invalidate("instanceColorModes")),r.fp64!==n.fp64){var f=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(f)}),o.invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.sizeScale,r=this.state.iconManager.getTexture();r&&this.state.model.render(Object.assign({},t,{iconsTexture:r,iconsTextureDim:[r.width,r.height],sizeScale:n}))}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getPosition,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=i(c.value);o[a++]=R(f[0]),o[a++]=R(f[1])}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}else e.value=new Float32Array(2)}},{key:"calculateInstanceOffsets",value:function(e){var t=this.props.data,n=this.state.iconManager,r=e.value,i=0,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,d=n.getIconMapping(c);r[i++]=d.width/2-d.anchorX||0,r[i++]=d.height/2-d.anchorY||0}}catch(f){a=!0,s=f}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}},{key:"calculateInstanceColorMode",value:function(e){var t=this.props.data,n=this.state.iconManager,r=e.value,i=0,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,d=n.getIconMapping(c).mask;r[i++]=d?1:0}}catch(f){a=!0,s=f}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}},{key:"calculateInstanceIconFrames",value:function(e){var t=this.props.data,n=this.state.iconManager,r=e.value,i=0,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,d=n.getIconMapping(c);r[i++]=d.x||0,r[i++]=d.y||0,r[i++]=d.width||0,r[i++]=d.height||0}}catch(f){a=!0,s=f}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}}])&&I(n.prototype,r),i&&I(n,i),t}(r.Layer);L.layerName="IconLayer",L.defaultProps=N;function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t,n){return(V="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=a.fp64.fp64LowPart,q={fp64:!1,getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getColor:{type:"accessor",value:[0,0,0,255]},getStrokeWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getStrokeWidth"}},Y=function(e){function t(){return z(this,t),H(this,W(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceSourceTargetPositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * instanceWidths / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec4 source = project_position_to_clipspace(instanceSourcePositions, instanceSourceTargetPositions64xyLow.xy, vec3(0.));\n  vec4 target = project_position_to_clipspace(instanceTargetPositions, instanceSourceTargetPositions64xyLow.zw, vec3(0.));\n\n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n\n  // extrude\n  vec2 offset = getExtrusionOffset(target.xy - source.xy, positions.y);\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,transition:!0,accessor:"getTargetPosition"},instanceSourceTargetPositions64xyLow:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstanceSourceTargetPositions64xyLow},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getStrokeWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(V(W(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLE_STRIP,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstanceSourceTargetPositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getSourcePosition,o=n.getTargetPosition,a=e.value,s=e.size,u=0,l=!0,c=!1,d=void 0;try{for(var f,h=r[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value,g=i(p),m=o(p);a[u+0]=K(g[0]),a[u+1]=K(g[1]),a[u+2]=K(m[0]),a[u+3]=K(m[1]),u+=s}}catch(v){c=!0,d=v}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}}else e.value=new Float32Array(4)}}])&&U(n.prototype,r),i&&U(n,i),t}(r.Layer);Y.layerName="LineLayer",Y.defaultProps=q;function X(e){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==X(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e,t,n){return(J="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=a.fp64.fp64LowPart,re=[0,0,0,255],ie=[0,0,1],oe={radiusPixels:{type:"number",min:0,value:10},fp64:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getNormal:{type:"accessor",value:ie},getColor:{type:"accessor",value:re},lightSettings:{}},ae=function(e){function t(){return Z(this,t),$(this,ee(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(e){return{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  // Find the center of the point and add the current vertex\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.), position_worldspace);\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  // Apply lighting\n  float lightWeight = lighting_getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    project_normal(instanceNormals));\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","lighting","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:ie},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:re}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(J(ee(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.radiusPixels;this.state.model.render(Object.assign({},t,{radiusPixels:n}))}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<3;n++){var r=n/3*Math.PI*2;t.push(2*Math.cos(r),2*Math.sin(r),0)}return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLES,attributes:{positions:new Float32Array(t)}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getPosition,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=i(c.value);o[a++]=ne(f[0]),o[a++]=ne(f[1])}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}else e.value=new Float32Array(2)}}])&&Q(n.prototype,r),i&&Q(n,i),t}(r.Layer);ae.layerName="PointCloudLayer",ae.defaultProps=oe;function se(e){return(se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==se(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e,t,n){return(de="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=a.fp64.fp64LowPart,ge=[0,0,0,255],me={radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,fp64:!1,filled:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:ge},getLineColor:{type:"accessor",value:ge},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},ve=function(e){function t(){return ue(this,t),ce(this,fe(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(e){return{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidth = clamp(\n    project_scale(lineWidthScale * instanceLineWidths), \n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  innerUnitRadius = 1.0 - stroked * lineWidth / outerRadiusPixels;\n  \n  vec3 offset = positions * outerRadiusPixels;\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, offset);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity) / 255.;\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity) / 255.;\n  \n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  } \n  if (distToCenter > innerUnitRadius) {\n    gl_FragColor = vLineColor;\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:4,transition:!0,type:o.a.UNSIGNED_BYTE,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:o.a.UNSIGNED_BYTE,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(de(fe(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusScale,i=n.radiusMinPixels,o=n.radiusMaxPixels,a=n.stroked,s=n.filled,u=n.lineWidthScale,l=n.lineWidthMinPixels,c=n.lineWidthMaxPixels;this.state.model.render(Object.assign({},t,{stroked:a?1:0,filled:s,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,lineWidthScale:u,lineWidthMinPixels:l,lineWidthMaxPixels:c}))}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getPosition,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=i(c.value);o[a++]=pe(f[0]),o[a++]=pe(f[1])}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}else e.value=new Float32Array(2)}}])&&le(n.prototype,r),i&&le(n,i),t}(r.Layer);ve.layerName="ScatterplotLayer",ve.defaultProps=me;function be(e){return(be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return!t||"object"!==be(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e,t,n){return(Se="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=r.experimental.count,Ee=r.experimental.defaultColorRange,Oe=[0,0,0,0],Te=[0,255,0,255],Pe=["minColor","maxColor","colorRange","colorDomain"],Ie={cellSizePixels:{value:100,min:1},cellMarginPixels:{value:2,min:0,max:5},colorDomain:null,colorRange:Ee,getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:function(e){return[1,0,0]}},gpuAggregation:!0,aggregation:"SUM"},De=function(e){function t(){return ye(this,t),xe(this,we(t).apply(this,arguments))}var n,i,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,e),n=t,(i=[{key:"getShaders",value:function(){var e=Object(a.isWebGL2)(this.context.gl)?{vs:"#version 300 es\n#define SHADER_NAME screen-grid-layer-vertex-shader\n#define RANGE_COUNT 6\n\nin vec3 vertices;\nin vec3 instancePositions;\nin vec4 instanceCounts;\nin vec3 instancePickingColors;\n\nlayout(std140) uniform;\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform AggregationData\n{\n  vec4 maxCount;\n} aggregationData;\n\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\n\nout vec4 vColor;\nout float vSampleCount;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= domain.x && value <= domain.y) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  outColor = outColor / 255.;\n  return outColor;\n}\n\nvoid main(void) {\n  vSampleCount = instanceCounts.a;\n\n  float weight = instanceCounts.r ;\n  float maxWeight = aggregationData.maxCount.r;\n  float step = weight / maxWeight;\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\n\n  vec2 domain = colorDomain;\n  float domainMaxValid = float(colorDomain.y != 0.);\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\n\n  float rangeMinMax = float(shouldUseMinMax);\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + vertices * cellScale, 1.);\n}\n",fs:"#version 300 es\n#define SHADER_NAME screen-grid-layer-fragment-shader\n\nprecision highp float;\n\nin vec4 vColor;\nin float vSampleCount;\nout vec4 fragColor;\n\nvoid main(void) {\n  if (vSampleCount <= 0.0) {\n    discard;\n  }\n  fragColor = vColor;\n\n  fragColor = picking_filterColor(fragColor);\n}\n"}:{vs:"#define SHADER_NAME screen-grid-layer-vertex-shader-webgl1\n#define RANGE_COUNT 6\n\nattribute vec3 vertices;\nattribute vec3 instancePositions;\nattribute vec4 instanceCounts;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform float maxWeight;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= domain.x && value <= domain.y) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  outColor = outColor / 255.;\n  return outColor;\n}\n\nvoid main(void) {\n  vSampleCount = instanceCounts.a;\n\n  float weight = instanceCounts.r;\n  float step = weight / maxWeight;\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\n\n  vec2 domain = colorDomain;\n  float domainMaxValid = float(colorDomain.y != 0.);\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\n\n  float rangeMinMax = float(shouldUseMinMax);\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + vertices * cellScale, 1.);\n}\n",fs:"#define SHADER_NAME screen-grid-layer-fragment-shader-webgl1\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvoid main(void) {\n  if (vSampleCount <= 0.0) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  gl_FragColor = picking_filterColor(gl_FragColor);\n}\n"};return e.modules=["picking"],e}},{key:"initializeState",value:function(){var e=this.getAttributeManager(),t=this.context.gl;e.addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCounts:{size:4,transition:!0,accessor:["getPosition","getWeight"],update:this.calculateInstanceCounts,noAlloc:!0}});var n={id:"".concat(this.id,"-aggregator"),shaderCache:this.context.shaderCache},i=this._getMaxCountBuffer(t),o={color:{size:1,operation:r.AGGREGATION_OPERATION.SUM,needMax:!0,maxBuffer:i}};this.setState({model:this._getModel(t),gpuGridAggregator:new r._GPUGridAggregator(t,n),maxBuffer:i,weights:o,aggregationResults:null}),this._setupUniformBuffer()}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){Se(we(t.prototype),"updateState",this).call(this,e),this._updateUniforms(e),e.changeFlags.dataChanged&&this._processData();var n=this._getAggregationChangeFlags(e);n&&this._updateAggregation(n)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.context.gl,r=this.props.parameters,i=void 0===r?{}:r,s=this.props.minColor||Oe,u=this.props.maxColor||Te,l=this.props.colorDomain||[1,0],c=this.state,d=c.model,f=c.maxBuffer,h=c.cellScale,p=c.shouldUseMinMax,g=c.colorRange,m=c.maxWeight,v={minColor:s,maxColor:u,cellScale:h,colorRange:g,colorDomain:l,shouldUseMinMax:p};Object(a.isWebGL2)(n)?f.bind({target:o.a.UNIFORM_BUFFER}):v.maxWeight=m,t=Object.assign(v,t),d.draw({uniforms:t,parameters:Object.assign({depthTest:!1,depthMask:!1},i)}),Object(a.isWebGL2)(n)&&f.unbind()}},{key:"calculateInstancePositions",value:function(e,t){for(var n=t.numInstances,r=this.context.viewport,i=r.width,o=r.height,a=this.props.cellSizePixels,s=this.state.numCol,u=e.value,l=e.size,c=0;c<n;c++){var d=c%s,f=Math.floor(c/s);u[c*l+0]=d*a/i*2-1,u[c*l+1]=1-f*a/o*2,u[c*l+2]=0}}},{key:"calculateInstanceCounts",value:function(e,t){t.numInstances;var n=this.state.aggregationBuffer;e.update({buffer:n})}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,t.index);if(n>=0){var i=this.state.aggregationResults;i.aggregationData=i.aggregationData||this.state.aggregationBuffer.getData(),i.maxData=i.maxData||this.state.maxBuffer.getData();var o=i.aggregationData,a=i.maxData;t.object=r._GPUGridAggregator.getAggregationData({aggregationData:o,maxData:a,pixelIndex:n})}return t}},{key:"_getAggregationChangeFlags",value:function(e){var t=e.oldProps,n=e.props,r=e.changeFlags,i=n.cellSizePixels!==t.cellSizePixels||n.cellMarginPixels!==t.cellMarginPixels,o=r.dataChanged||n.aggregation!==t.aggregation,a=r.viewportChanged;return i||o||a?{cellSizeChanged:i,dataChanged:o,viewportChanged:a}:null}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLE_FAN,attributes:{vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"_getMaxCountBuffer",value:function(e){return new a.Buffer(e,{bytes:16,size:4,index:0})}},{key:"_processData",value:function(){var e=this.props,t=e.data,n=e.getPosition,i=e.getWeight,o=ke(t),a=new Float64Array(2*o),s=new Float32Array(3*o),u=this.state.weights,l=Object(r.createIterable)(t),c=l.iterable,d=l.objectInfo,f=!0,h=!1,p=void 0;try{for(var g,m=c[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;d.index++;var b=n(v,d),y=i(v,d),_=d.index;a[2*_]=b[0],a[2*_+1]=b[1],Array.isArray(y)?(s[3*_]=y[0],s[3*_+1]=y[1],s[3*_+2]=y[2]):s[3*_]=y}}catch(x){h=!0,p=x}finally{try{f||null==m.return||m.return()}finally{if(h)throw p}}u.color.values=s,this.setState({positions:a})}},{key:"_setupUniformBuffer",value:function(){var e=this.context.gl;if(Object(a.isWebGL2)(e)){var t=this.state.model.program.handle,n=e.getUniformBlockIndex(t,"AggregationData");e.uniformBlockBinding(t,n,0)}}},{key:"_shouldUseMinMax",value:function(){var e=this.props,t=e.minColor,n=e.maxColor,i=e.colorDomain,o=e.colorRange;return t||n?(r.log.deprecated("ScreenGridLayer props: minColor and maxColor","colorRange, colorDomain")(),!0):!i&&!o}},{key:"_updateAggregation",value:function(e){var t=this.getAttributeManager();(e.cellSizeChanged||e.viewportChanged)&&(this._updateGridParams(),t.invalidateAll());var n=this.props,i=n.cellSizePixels,o=n.gpuAggregation,a=this.state,s=a.positions,u=a.weights,l=this.context.viewport;u.color.operation=r.AGGREGATION_OPERATION[this.props.aggregation.toUpperCase()]||r.AGGREGATION_OPERATION.SUM;var c=!1,d=null;this.context.viewport instanceof r.WebMercatorViewport?c=!0:(c=!1,d=l.pixelProjectionMatrix);var f=this.state.gpuGridAggregator.run({positions:s,weights:u,cellSize:[i,i],viewport:l,changeFlags:e,useGPU:o,projectPoints:c,gridTransformMatrix:d}),h=f.color.maxData&&Number.isFinite(f.color.maxData[0])?f.color.maxData[0]:0,p={aggregationData:f.color.aggregationData,maxData:f.color.maxData};this.setState({aggregationResults:p,maxWeight:h}),t.invalidate("instanceCounts")}},{key:"_updateUniforms",value:function(e){var t=e.oldProps,n=e.props,r=e.changeFlags,i={};if(Pe.some((function(e){return t[e]!==n[e]}))&&(i.shouldUseMinMax=this._shouldUseMinMax()),t.colorRange!==n.colorRange){var o=[];n.colorRange.forEach((function(e){o.push(e[0],e[1],e[2],e[3]||255)})),i.colorRange=o}if(t.cellMarginPixels!==n.cellMarginPixels||t.cellSizePixels!==n.cellSizePixels||r.viewportChanged){var a=this.context.viewport,s=a.width,u=a.height,l=this.props,c=l.cellSizePixels,d=l.cellMarginPixels,f=c>d?d:0;i.cellScale=new Float32Array([(c-f)/s*2,-(c-f)/u*2,1])}this.setState(i)}},{key:"_updateGridParams",value:function(){var e=this.context.viewport,t=e.width,n=e.height,r=this.props.cellSizePixels,i=this.context.gl,s=Math.ceil(t/r),u=Math.ceil(n/r),l=s*u,c=4*l*4,d=this.state.aggregationBuffer;d&&d.delete(),d=new a.Buffer(i,{size:4,bytes:c,type:o.a.FLOAT,instanced:1}),this.state.weights.color.aggregationBuffer=d,this.setState({numCol:s,numRow:u,numInstances:l,aggregationBuffer:d})}}])&&_e(n.prototype,i),s&&_e(n,s),t}(r.Layer);De.layerName="ScreenGridLayer",De.defaultProps=Ie;function Ae(e){return(Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e,t,n){return(Fe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=a.fp64.fp64LowPart,ze=[255,0,255,255],Ue={cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},extruded:!0,fp64:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getElevation:{type:"accessor",value:1e3},getColor:{type:"accessor",value:ze},lightSettings:{}},He=function(e){function t(){return Me(this,t),Re(this,Ne(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME grid-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceElevations;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instanceElevations < 0.0);\n  float finalCellSize = project_scale(cellSize) * mix(1.0, 0.0, noRender);\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = instanceElevations  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale;\n  }\n\n  // cube geometry vertics are between -1 to 1, scale and transform it to between 0, 1\n  vec3 extrudedPosition = vec3(instancePositions.xy, elevation);\n  vec2 extrudedPosition64xyLow = instancePositions64xyLow;\n  vec3 offset = vec3(\n    (positions.x * coverage + 1.0) / 2.0 * finalCellSize,\n    (positions.y * coverage - 1.0) / 2.0 * finalCellSize,\n    1.0);\n\n  // extrude positions\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(extrudedPosition, extrudedPosition64xyLow, offset, position_worldspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = lighting_getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME grid-cell-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","lighting","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:ze}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(Fe(Ne(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.CubeGeometry,isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.cellSize,i=n.extruded,o=n.elevationScale,a=n.coverage;this.state.model.render(Object.assign({},t,{cellSize:r,extruded:i,elevationScale:o,coverage:a}))}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getPosition,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=i(c.value);o[a++]=Be(f[0]),o[a++]=Be(f[1])}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}else e.value=new Float32Array(2)}}])&&je(n.prototype,r),i&&je(n,i),t}(r.Layer);He.layerName="GridCellLayer",He.defaultProps=Ue;function Ve(e,t,n){var r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=1/0,o=-1/0,a=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;e=r(d)[1],Number.isFinite(e)&&(i=e<i?e:i,o=e>o?e:o)}}catch(E){s=!0,u=E}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}var f=(i+o)/2,h=We(n,f);if(h.xOffset<=0||h.yOffset<=0)return{gridHash:{},gridOffset:h};var p={},g=!0,m=!1,v=void 0;try{for(var b,y=t[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){var _=b.value,x=r(_)[1],S=r(_)[0];if(Number.isFinite(x)&&Number.isFinite(S)){var w=Math.floor((x+90)/h.yOffset),C=Math.floor((S+180)/h.xOffset),k="".concat(w,"-").concat(C);p[k]=p[k]||{count:0,points:[]},p[k].count+=1,p[k].points.push(_)}}}catch(E){m=!0,v=E}finally{try{g||null==y.return||y.return()}finally{if(m)throw v}}return{gridHash:p,gridOffset:h}}(e,t,n),i=r.gridHash,o=r.gridOffset;return{gridOffset:o,layerData:function(e,t){return Object.keys(e).reduce((function(n,r,i){var o=r.split("-"),a=parseInt(o[0],10),s=parseInt(o[1],10);return n.push(Object.assign({index:i,position:[t.xOffset*s-180,t.yOffset*a-90]},e[r])),n}),[])}(i,o)}}function We(e,t){var n;return{yOffset:e/6378e3*(180/Math.PI),xOffset:(n=t,e/6378e3*(180/Math.PI)/Math.cos(n*Math.PI/180))}}function Ge(e){return(Ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==Ge(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=r.experimental.BinSorter,$e=r.experimental.defaultColorRange,Je=r.experimental.getQuantizeScale,et=r.experimental.getLinearScale;function tt(){}var nt={colorDomain:null,colorRange:$e,getColorValue:{type:"accessor",value:function(e){return e.length}},lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},onSetColorDomain:tt,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:function(e){return e.length}},elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:1,onSetElevationDomain:tt,cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:function(e){return e.position}},extruded:!1,fp64:!1,lightSettings:{}},rt=function(e){function t(){return Ke(this,t),Ye(this,Xe(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,e),n=t,(r=[{key:"initializeState",value:function(){this.state={layerData:[],sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:tt,elevationScaleFunc:tt,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function(e){var t=this,n=e.oldProps,r=e.props,i=e.changeFlags,o=this.needsReProjectPoints(n,r,i);i.dataChanged||o?this.getLayerData():(this.getDimensionChanges(n,r)||[]).forEach((function(e){return"function"===typeof e&&e.apply(t)}))}},{key:"needsReProjectPoints",value:function(e,t,n){return e.cellSize!==t.cellSize||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPosition)}},{key:"getDimensionUpdaters",value:function(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function(e,t){var n=this.state.dimensionUpdaters,r=[];for(var i in n){var o=n[i].find((function(n){return n.triggers.some((function(n){return e[n]!==t[n]}))}));o&&r.push(o.updater)}return r.length?r:null}},{key:"getPickingInfo",value:function(e){var t=e.info,n=this.state,r=n.sortedColorBins,i=n.sortedElevationBins,o=null;if(t.picked&&t.index>-1){var a=this.state.layerData[t.index],s=r.binMap[a.index]&&r.binMap[a.index].value,u=i.binMap[a.index]&&i.binMap[a.index].value;o=Object.assign({colorValue:s,elevationValue:u},a)}return Object.assign(t,{picked:Boolean(o),object:o})}},{key:"getUpdateTriggers",value:function(){var e=this,t=this.state.dimensionUpdaters,n={},r=function(r){n[r]={};var i=!0,o=!1,a=void 0;try{for(var s,u=t[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0)s.value.triggers.forEach((function(t){n[r][t]=e.props[t]}))}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}};for(var i in t)r(i);return n}},{key:"getLayerData",value:function(){var e=this.props,t=Ve(e.data,e.cellSize,e.getPosition).layerData;this.setState({layerData:t}),this.getSortedBins()}},{key:"getValueDomain",value:function(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function(){var e=this.props.getColorValue,t=new Qe(this.state.layerData||[],e);this.setState({sortedColorBins:t}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function(){var e=this.props.getElevationValue,t=new Qe(this.state.layerData||[],e);this.setState({sortedElevationBins:t}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function(){var e=this.props,t=e.lowerPercentile,n=e.upperPercentile,r=e.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([t,n]),"function"===typeof r&&r(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function(){var e=this.props,t=e.elevationLowerPercentile,n=e.elevationUpperPercentile,r=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([t,n]),"function"===typeof r&&r(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function(){var e=this.props.colorRange,t=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=Je(t,e)}},{key:"getElevationScale",value:function(){var e=this.props.elevationRange,t=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=et(t,e)}},{key:"_onGetSublayerColor",value:function(e){var t=this.state,n=t.sortedColorBins,r=t.colorScaleFunc,i=t.colorValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.colorDomain||i,s=o>=a[0]&&o<=a[a.length-1]?r(o):[0,0,0,0];return s[3]=Number.isFinite(s[3])?s[3]:255,s}},{key:"_onGetSublayerElevation",value:function(e){var t=this.state,n=t.sortedElevationBins,r=t.elevationScaleFunc,i=t.elevationValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.elevationDomain||i;return o>=a[0]&&o<=a[a.length-1]?r(o):-1}},{key:"renderLayers",value:function(){var e=this.props,t=e.elevationScale,n=e.fp64,r=e.extruded,i=e.cellSize,o=e.coverage,a=e.lightSettings,s=e.transitions;return new(this.getSubLayerClass("grid-cell",He))({fp64:n,cellSize:i,coverage:o,lightSettings:a,elevationScale:t,extruded:r,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:s&&{getColor:s.getColorValue,getElevation:s.getElevationValue}},this.getSubLayerProps({id:"grid-cell",updateTriggers:this.getUpdateTriggers()}),{data:this.state.layerData})}}])&&qe(n.prototype,r),i&&qe(n,i),t}(r.CompositeLayer);rt.layerName="GridLayer",rt.defaultProps=nt;function it(e){return(it="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return!t||"object"!==it(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(e,t,n){return(ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=a.fp64.fp64LowPart,ft=[255,0,255,255],ht={hexagonVertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},extruded:!0,fp64:!1,getCentroid:{type:"accessor",value:function(e){return e.centroid}},getColor:{type:"accessor",value:ft},getElevation:{type:"accessor",value:1e3},lightSettings:{}},pt=function(e){function t(){return ot(this,t),st(this,lt(t).apply(this,arguments))}var n,i,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,e),n=t,(i=[{key:"getShaders",value:function(){return{vs:"\n#define SHADER_NAME hexagon-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec2 instancePositions;\nattribute float instanceElevations;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = instanceElevations * (positions.z + 0.5) *\n      ELEVATION_SCALE * elevationScale;\n  }\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instanceElevations < 0.0);\n  float dotRadius = project_scale(radius) * mix(coverage, 0.0, noRender);\n\n  // project center of hexagon\n  vec3 centroidPosition = vec3(instancePositions, elevation);\n  vec2 centroidPosition64xyLow = instancePositions64xyLow;\n  vec3 offset = vec3(rotationMatrix * positions.xy * dotRadius, 0.);\n\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64xyLow, offset, position_worldspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = vec3(rotationMatrix * normals.xy, normals.z);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = lighting_getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // opacity-multiplied instance color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME hexagon-cell-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","lighting","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:2,transition:!0,accessor:"getCentroid"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instancePositions64xyLow:{size:2,accessor:"getCentroid",update:this.calculateInstancePositions64xyLow},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:ft}})}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(ut(lt(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)}),this.getAttributeManager().invalidateAll()}n.hexagonVertices===r.hexagonVertices&&n.radius===r.radius&&n.angle===r.angle||this.updateRadiusAngle()}},{key:"updateRadiusAngle",value:function(){var e=this.props,t=e.angle,n=e.radius,i=this.props.hexagonVertices;if(Array.isArray(i)){i.length<6&&r.log.error("HexagonCellLayer: hexagonVertices needs to be an array of 6 points")();var o=this.props.hexagonVertices,a=o[0],s=o[3],u=this.context.viewport.getDistanceScales().pixelsPerMeter,l=this.projectFlat(a),c=this.projectFlat(s),d=l[0]-c[0],f=l[1]-c[1],h=Math.sqrt(d*d+f*f);t=Math.acos(d/h)*-Math.sign(f)+Math.PI/2,n=h/2/u[0]}this.setState({angle:t,radius:n})}},{key:"getCylinderGeometry",value:function(e){return new a.CylinderGeometry({radius:e,topRadius:e,bottomRadius:e,topCap:!0,bottomCap:!0,height:1,verticalAxis:"z",nradial:6,nvertical:1})}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:this.getCylinderGeometry(1),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.elevationScale,i=n.extruded,o=n.coverage,a=this.state,s=a.radius,u=a.angle;this.state.model.render(Object.assign({},t,{radius:s,angle:u,extruded:i,coverage:o,elevationScale:r}))}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.use64bitPositions();if(e.constant=!t,t){var n=this.props,r=n.data,i=n.getCentroid,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=i(c.value);o[a++]=dt(f[0]),o[a++]=dt(f[1])}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}else e.value=new Float32Array(2)}}])&&at(n.prototype,i),s&&at(n,s),t}(r.Layer);pt.layerName="HexagonCellLayer",pt.defaultProps=ht;var gt=Math.PI/3,mt=[0,gt,2*gt,3*gt,4*gt,5*gt];function vt(e){return e[0]}function bt(e){return e[1]}function yt(e){return(yt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t){return!t||"object"!==yt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kt=r.experimental.BinSorter,Et=r.experimental.getQuantizeScale,Ot=r.experimental.getLinearScale;function Tt(){}var Pt={colorDomain:null,colorRange:r.experimental.defaultColorRange,getColorValue:{type:"accessor",value:function(e){return e.length}},lowerPercentile:{type:"number",value:0,min:0,max:100},upperPercentile:{type:"number",value:100,min:0,max:100},onSetColorDomain:Tt,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:function(e){return e.length}},elevationLowerPercentile:{type:"number",value:0,min:0,max:100},elevationUpperPercentile:{type:"number",value:100,min:0,max:100},elevationScale:{type:"number",min:0,value:1},onSetElevationDomain:Tt,radius:{type:"number",value:1e3,min:1},coverage:{type:"number",min:0,max:1,value:1},extruded:!1,hexagonAggregator:function(e,t){var n=e.data,r=e.radius,i=e.getPosition,o=function(e,t){var n=t.getDistanceScales().pixelsPerMeter;return e*n[0]}(r,t),a=[],s=!0,u=!1,l=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=c.value;a.push(Object.assign({screenCoord:t.projectFlat(i(f))},f))}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}return{hexagons:function(){var e,t,n,r=0,i=0,o=1,a=1,s=vt,u=bt;function l(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,l=e[r],r,e))&&!isNaN(d=+u.call(null,l,r,e))){var l,c,d,f=Math.round(d/=n),h=Math.round(c=c/t-(1&f)/2),p=d-f;if(3*Math.abs(p)>1){var g=c-h,m=h+(c<h?-1:1)/2,v=f+(d<f?-1:1),b=c-m,y=d-v;g*g+p*p>b*b+y*y&&(h=m+(1&f?1:-1)/2,f=v)}var _=h+"-"+f,x=i[_];x?x.push(l):(o.push(x=i[_]=[l]),x.x=(h+(1&f)/2)*t,x.y=f*n)}return o}function c(e){var t=0,n=0;return mt.map((function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]}))}return l.hexagon=function(t){return"m"+c(null==t?e:+t).join("l")+"z"},l.centers=function(){for(var s=[],u=Math.round(i/n),l=Math.round(r/t),c=u*n;c<a+e;c+=n,++u)for(var d=l*t+(1&u)*t/2;d<o+t/2;d+=t)s.push([d,c]);return s},l.mesh=function(){var t=c(e).slice(0,4).join("l");return l.centers().map((function(e){return"M"+e+"m"+t})).join("")},l.x=function(e){return arguments.length?(s=e,l):s},l.y=function(e){return arguments.length?(u=e,l):u},l.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(gt),n=1.5*e,l):e},l.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],l):[o-r,a-i]},l.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],l):[[r,i],[o,a]]},l.radius(1)}().radius(o).x((function(e){return e.screenCoord[0]})).y((function(e){return e.screenCoord[1]}))(a).map((function(e,n){return{centroid:t.unprojectFlat([e.x,e.y]),points:e,index:n}}))}},getPosition:{type:"accessor",value:function(e){return e.position}},fp64:!1,lightSettings:{}},It=function(e){function t(){return _t(this,t),St(this,wt(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,e),n=t,(i=[{key:"initializeState",value:function(){this.state={hexagons:[],hexagonVertices:null,sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:Tt,elevationScaleFunc:Tt,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function(e){var t=this,n=e.oldProps,r=e.props,i=e.changeFlags,o=this.getDimensionChanges(n,r);i.dataChanged||this.needsReProjectPoints(n,r)?this.getHexagons():o&&o.forEach((function(e){return"function"===typeof e&&e.apply(t)}))}},{key:"needsReProjectPoints",value:function(e,t){return e.radius!==t.radius||e.hexagonAggregator!==t.hexagonAggregator}},{key:"getDimensionUpdaters",value:function(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function(e,t){var n=this.state.dimensionUpdaters,r=[];for(var i in n){var o=n[i].find((function(n){return n.triggers.some((function(n){return e[n]!==t[n]}))}));o&&r.push(o.updater)}return r.length?r:null}},{key:"getHexagons",value:function(){var e=this.props.hexagonAggregator,t=this.context.viewport,n=e(this.props,t),r=n.hexagons,i=n.hexagonVertices;this.setState({hexagons:r,hexagonVertices:i}),this.getSortedBins()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=this.state,r=n.sortedColorBins,i=n.sortedElevationBins,o=null;if(t.picked&&t.index>-1){var a=this.state.hexagons[t.index],s=r.binMap[a.index]&&r.binMap[a.index].value,u=i.binMap[a.index]&&i.binMap[a.index].value;o=Object.assign({colorValue:s,elevationValue:u},a)}return Object.assign(t,{picked:Boolean(o),object:o})}},{key:"getUpdateTriggers",value:function(){var e=this,t=this.state.dimensionUpdaters,n={},r=function(r){n[r]={};var i=!0,o=!1,a=void 0;try{for(var s,u=t[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0)s.value.triggers.forEach((function(t){n[r][t]=e.props[t]}))}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}};for(var i in t)r(i);return n}},{key:"getValueDomain",value:function(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function(){var e=this.props.getColorValue,t=new kt(this.state.hexagons||[],e);this.setState({sortedColorBins:t}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function(){var e=this.props.getElevationValue,t=new kt(this.state.hexagons||[],e);this.setState({sortedElevationBins:t}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function(){var e=this.props,t=e.lowerPercentile,n=e.upperPercentile,i=e.onSetColorDomain;t>n&&r.log.warn("HexagonLayer: lowerPercentile is bigger than upperPercentile")(),this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([t,n]),"function"===typeof i&&i(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function(){var e=this.props,t=e.elevationLowerPercentile,n=e.elevationUpperPercentile,r=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([t,n]),"function"===typeof r&&r(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function(){var e=this.props.colorRange,t=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=Et(t,e)}},{key:"getElevationScale",value:function(){var e=this.props.elevationRange,t=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=Ot(t,e)}},{key:"_onGetSublayerColor",value:function(e){var t=this.state,n=t.sortedColorBins,r=t.colorScaleFunc,i=t.colorValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.colorDomain||i,s=o>=a[0]&&o<=a[a.length-1]?r(o):[0,0,0,0];return s[3]=Number.isFinite(s[3])?s[3]:255,s}},{key:"_onGetSublayerElevation",value:function(e){var t=this.state,n=t.sortedElevationBins,r=t.elevationScaleFunc,i=t.elevationValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.elevationDomain||i;return o>=a[0]&&o<=a[a.length-1]?r(o):-1}},{key:"renderLayers",value:function(){var e=this.props,t=e.radius,n=e.elevationScale,r=e.extruded,i=e.coverage,o=e.lightSettings,a=e.fp64,s=e.transitions;return new(this.getSubLayerClass("hexagon-cell",pt))({fp64:a,radius:t,elevationScale:n,angle:Math.PI/2,extruded:r,coverage:i,lightSettings:o,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:s&&{getColor:s.getColorValue,getElevation:s.getElevationValue}},this.getSubLayerProps({id:"hexagon-cell",updateTriggers:this.getUpdateTriggers()}),{data:this.state.hexagons,hexagonVertices:this.state.hexagonVertices})}}])&&xt(n.prototype,i),o&&xt(n,o),t}(r.CompositeLayer);function Dt(e){return(Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return!t||"object"!==Dt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}It.layerName="HexagonLayer",It.defaultProps=Pt;var Ft=r.experimental.Tesselator,Nt=a.fp64.fp64LowPart,Lt=[0,0,0,255],Bt=function(e){function t(e){var n=e.data,r=e.getGeometry,i=e.positionFormat,o=e.fp64;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mt(this,jt(t).call(this,{data:n,getGeometry:r,fp64:o,positionFormat:i,attributes:{startPositions:{size:3},endPositions:{size:3},leftDeltas:{size:3},rightDeltas:{size:3},startEndPositions64XyLow:{size:4,fp64Only:!0}}}))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(t,e),n=t,(r=[{key:"get",value:function(e,t,n){if(this.attributes[e])return this.attributes[e];switch(e){case"strokeWidths":return this._updateAttribute({target:t,size:1,getValue:function(e){return[n(e)]}});case"dashArrays":return this._updateAttribute({target:t,size:2,getValue:n});case"colors":return this._updateAttribute({target:t,size:4,getValue:function(e){var t=n(e);return 4===t.length?t:(Lt[0]=t[0],Lt[1]=t[1],Lt[2]=t[2],Lt)}});case"pickingColors":return this._updateAttribute({target:t,size:3,getValue:function(e,t){return n(t)}});default:return null}}},{key:"getGeometrySize",value:function(e){return Math.max(0,this.getPathLength(e)-1)}},{key:"updateGeometryAttributes",value:function(e,t){var n=this.attributes,r=n.startPositions,i=n.endPositions,o=n.leftDeltas,a=n.rightDeltas,s=n.startEndPositions64XyLow,u=this.fp64,l=t.geometrySize+1;if(!(l<2))for(var c,d=this.isClosed(e),f=this.getPointOnPath(e,0),h=this.getPointOnPath(e,1),p=d?this.getPointOnPath(e,l-2):f,g=t.vertexStart,m=1;m<l;g++,m++)c=m+1<l?this.getPointOnPath(e,m+1):d?this.getPointOnPath(e,1):h,r[3*g]=f[0],r[3*g+1]=f[1],r[3*g+2]=f[2]||0,i[3*g]=h[0],i[3*g+1]=h[1],i[3*g+2]=h[2]||0,o[3*g]=f[0]-p[0],o[3*g+1]=f[1]-p[1],o[3*g+2]=f[2]-p[2]||0,a[3*g]=c[0]-h[0],a[3*g+1]=c[1]-h[1],a[3*g+2]=c[2]-h[2]||0,u&&(s[4*g]=Nt(f[0]),s[4*g+1]=Nt(f[1]),s[4*g+2]=Nt(h[0]),s[4*g+3]=Nt(h[1])),p=f,f=h,h=c}},{key:"getPathLength",value:function(e){return Number.isFinite(e[0])?e.length/this.positionSize:e.length}},{key:"getPointOnPath",value:function(e,t){if(Number.isFinite(e[0])){var n=this.positionSize;return[e[t*n],e[t*n+1],3===n?e[t*n+2]:0]}return e[t]}},{key:"isClosed",value:function(e){var t=this.getPathLength(e),n=this.getPointOnPath(e,0),r=this.getPointOnPath(e,t-1);return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]}}])&&At(n.prototype,r),i&&At(n,i),t}(Ft),zt="#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float jointType;\nuniform float miterLimit;\nuniform float alignMode;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\n// mod doesn't work correctly for negative numbers\nfloat mod2(float a, float b) {\n  return a - floor(a / b) * b;\n}\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n\n// if given position is in the gap part of the dashed line\n// dashArray.x: solid stroke length, relative to width\n// dashArray.y: gap length, relative to width\n// alignMode:\n// 0 - no adjustment\n// o----     ----     ----     ---- o----     -o----     ----     o\n// 1 - stretch to fit, draw half dash at each end for nicer joints\n// o--    ----    ----    ----    --o--      --o--     ----     --o\nbool dash_isFragInGap() {\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n\n  float unitLength = solidLength + gapLength;\n\n  if (unitLength == 0.0) {\n    return false;\n  }\n\n  unitLength = mix(\n    unitLength,\n    vPathLength / round(vPathLength / unitLength),\n    alignMode\n  );\n\n  float offset = alignMode * solidLength / 2.0;\n\n  return gapLength > 0.0 &&\n    vPathPosition.y >= 0.0 &&\n    vPathPosition.y <= vPathLength &&\n    mod2(vPathPosition.y + offset, unitLength) > solidLength;\n}\n\nvoid main(void) {\n  // if joint is rounded, test distance from the corner\n  if (jointType > 0.0 && vMiterLength > 0.0 && length(vCornerOffset) > 1.0) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 0., 1.);\n    // return;\n    discard;\n  }\n  if (jointType == 0.0 && vMiterLength > miterLimit) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 0., 1., 1.);\n    // return;\n    discard;\n  }\n  if (vColor.a == 0.0 || dash_isFragInGap()) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 1., 1.);\n    // return;\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";function Ut(e){return(Ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Ut(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e,t,n){return(Gt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=[0,0,0,255],Xt={widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},rounded:!1,miterLimit:{type:"number",min:0,value:4},fp64:!1,dashJustified:!1,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:Yt},getWidth:{type:"accessor",value:1},getDashArray:{type:"accessor",value:[0,0]}},Zt={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},Qt=function(e){function t(){return Ht(this,t),Wt(this,Kt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return this.use64bitProjection()?{vs:"\n#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec4 instanceStartEndPositions64xyLow;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\nvec3 lineJoin(vec2 prevPoint64[2], vec2 currPoint64[2], vec2 nextPoint64[2]) {\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  vec2 deltaA64[2];\n  vec2 deltaB64[2];\n\n  vec2_sub_fp64(currPoint64, prevPoint64, deltaA64);\n  vec2_sub_fp64(nextPoint64, currPoint64, deltaB64);\n\n  vec2 lengthA64 = vec2_length_fp64(deltaA64);\n  vec2 lengthB64 = vec2_length_fp64(deltaB64);\n\n  vec2 deltaA = vec2(deltaA64[0].x, deltaA64[1].x);\n  vec2 deltaB = vec2(deltaB64[0].x, deltaB64[1].x);\n\n  float lenA = lengthA64.x;\n  float lenB = lengthB64.x;\n\n  vec2 offsetVec;\n  float offsetScale;\n  float offsetDirection;\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA / width > EPSILON ? lenA : 0.0;\n  lenB = lenB / width > EPSILON ? lenB : 0.0;\n  vec2 dirA = lenA > 0. ? deltaA / lenA : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? deltaB / lenB : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = mix(perpB, perpA, positions.x);\n  float L = mix(lenB, lenA, positions.x);\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = mix(\n    flipIfTrue(turnsRight == (positions.y > 0.0)),\n    0.0,\n    positions.z\n  );\n\n  offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  // do not bevel if line segment is too short\n  cornerPosition *= float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n  // trim if inside corner extends further than the line segment\n  offsetScale = mix(\n    offsetScale,\n    min(offsetScale, L / width / max(cosHalfA, EPSILON)),\n    float(cornerPosition < 0.0)\n  );\n\n  vMiterLength = mix(\n    offsetScale * cornerPosition,\n    mix(offsetScale, 0.0, cornerPosition),\n    step(0.0, cornerPosition)\n  ) - sinHalfA * jointType;\n  offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n  offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // using a small number as the limit for determining if the lenA or lenB is 0\n  float isStartCap = step(lenA, 1.0e-5);\n  float isEndCap = step(lenB, 1.0e-5);\n  float isCap = max(isStartCap, isEndCap);\n\n  // 0: center, 1: side\n  cornerPosition = isCap * (1.0 - positions.z);\n\n  // start of path: use next - curr\n  offsetVec = mix(offsetVec, mix(dirB, perpB, cornerPosition), isStartCap);\n  // end of path: use curr - prev\n  offsetVec = mix(offsetVec, mix(dirA, perpA, cornerPosition), isEndCap);\n\n  // extend out a triangle to envelope the round cap\n  offsetScale = mix(\n    offsetScale,\n    mix(4.0 * jointType, 1.0, cornerPosition),\n    isCap\n  );\n  vMiterLength = mix(vMiterLength, 1.0 - cornerPosition, isCap);\n\n  offsetDirection = mix(\n    offsetDirection,\n    mix(flipIfTrue(isStartCap > 0.), positions.y, cornerPosition),\n    isCap\n  );\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  float isEnd = positions.x;\n  vec2 offsetFromStartOfPath = mix(vCornerOffset, vCornerOffset + deltaA / width, isEnd);\n  vec2 dir = mix(dirB, dirA, isEnd);\n  vPathPosition = vec2(\n    positions.y + positions.z * offsetDirection,\n    dot(offsetFromStartOfPath, dir)\n  );\n\n  return vec3(vCornerOffset * width, 0.0);\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  // Calculate current position 64bit\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec2 currPosition64xyLow = mix(instanceStartEndPositions64xyLow.xy, instanceStartEndPositions64xyLow.zw, isEnd);\n  vec2 projected_curr_position[2];\n  project_position_fp64(currPosition.xy, currPosition64xyLow, projected_curr_position);\n  float projected_curr_position_z = project_scale(currPosition.z);\n\n  // Calculate previous position\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd) + instanceStartPositions;\n\n  // Calculate prev position 64bit\n\n  vec2 projected_prev_position[2];\n  project_position_fp64(prevPosition.xy, instanceStartEndPositions64xyLow.xy, projected_prev_position);\n\n  // Calculate next positions\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd) + instanceEndPositions;\n\n  // Calculate next position 64bit\n\n  vec2 projected_next_position[2];\n  project_position_fp64(nextPosition.xy, instanceStartEndPositions64xyLow.zw, projected_next_position);\n\n  vec3 pos = lineJoin(projected_prev_position, projected_curr_position, projected_next_position);\n  vec2 vertex_pos_modelspace[4];\n\n  vertex_pos_modelspace[0] = sum_fp64(vec2(pos.x, 0.0), projected_curr_position[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vec2(pos.y, 0.0), projected_curr_position[1]);\n  vertex_pos_modelspace[2] = vec2(pos.z + projected_curr_position_z, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n}\n",fs:zt,modules:["project64","picking"]}:{vs:"#define SHADER_NAME path-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec4 instanceStartEndPositions64xyLow;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  float relativePosition, bool isEnd, bool isJoint,\n  float width\n) {\n  vec2 deltaA = currPoint.xy - prevPoint.xy;\n  vec2 deltaB = nextPoint.xy - currPoint.xy;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA / width > EPSILON ? lenA : 0.0;\n  lenB = lenB / width > EPSILON ? lenB : 0.0;\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  float offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  float cornerPosition = isJoint ?\n    0.0 :\n    flipIfTrue(turnsRight == (relativePosition > 0.0));\n\n  // do not bevel if line segment is too short\n  cornerPosition *=\n    float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n\n  // trim if inside corner extends further than the line segment\n  if (cornerPosition < 0.0) {\n    offsetScale = min(offsetScale, L / width / max(cosHalfA, EPSILON));\n  }\n\n  vMiterLength = cornerPosition >= 0.0 ?\n    mix(offsetScale, 0.0, cornerPosition) :\n    offsetScale * cornerPosition;\n  vMiterLength -= sinHalfA * jointType;\n\n  float offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // TODO - This has an issue. len is always positive because it is length.\n  // Step returns zero if -lenA<0, so practically this is a comparison of\n  // lenA with zero, with lots of problems because of the -lenA. Can we use EPSILON?\n  bool isStartCap = step(0.0, -lenA) > 0.5;\n  bool isEndCap = step(0.0, -lenB) > 0.5;\n  bool isCap = isStartCap || isEndCap;\n\n  // 0: center, 1: side\n  cornerPosition = isCap ? (1.0 - positions.z) : 0.;\n\n  // start of path: use next - curr\n  if (isStartCap) {\n    offsetVec = mix(dirB, perpB, cornerPosition);\n  }\n\n  // end of path: use curr - prev\n  if (isEndCap) {\n    offsetVec = mix(dirA, perpA, cornerPosition);\n  }\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetScale = mix(4.0 * jointType, 1.0, cornerPosition);\n    vMiterLength = 1.0 - cornerPosition;\n    offsetDirection = mix(flipIfTrue(isStartCap), positions.y, cornerPosition);\n  }\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  // vec2 offsetFromStartOfPath = isEnd ? vCornerOffset + deltaA / width : vCornerOffset;\n  vec2 offsetFromStartOfPath = vCornerOffset;\n  if (isEnd) {\n    offsetFromStartOfPath += deltaA / width;\n  }\n  vec2 dir = isEnd ? dirA : dirB;\n  vPathPosition = vec2(\n    positions.y + positions.z * offsetDirection,\n    dot(offsetFromStartOfPath, dir)\n  );\n\n  return currPoint + vec3(vCornerOffset * width, 0.0);\n}\n\n// calculate line join positions\n// extract params from attributes and uniforms\nvec3 lineJoin(vec3 prevPoint, vec3 currPoint, vec3 nextPoint) {\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n\n  float relativePosition = positions.y;\n  bool isEnd = positions.x > EPSILON;\n  bool isJoint = positions.z > EPSILON;\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  return lineJoin(\n    prevPoint, currPoint, nextPoint,\n    relativePosition, isEnd, isJoint,\n    width\n  );\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = instanceStartPositions;\n  vec2 prevPosition64xyLow = instanceStartEndPositions64xyLow.xy;\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_AUTO_OFFSET) {\n    // In auto offset mode, add delta to low part of the positions for better precision\n    prevPosition64xyLow += mix(-instanceLeftDeltas, vec3(0.0), isEnd).xy;\n  } else {\n    prevPosition += mix(-instanceLeftDeltas, vec3(0.0), isEnd);\n  }\n  prevPosition = project_position(prevPosition, prevPosition64xyLow);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec2 currPosition64xyLow = mix(instanceStartEndPositions64xyLow.xy, instanceStartEndPositions64xyLow.zw, isEnd);\n  currPosition = project_position(currPosition, currPosition64xyLow);\n\n  vec3 nextPosition = instanceEndPositions;\n  vec2 nextPosition64xyLow = instanceStartEndPositions64xyLow.zw;\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_AUTO_OFFSET) {\n    // In auto offset mode, add delta to low part of the positions for better precision\n    nextPosition64xyLow += mix(vec3(0.0), instanceRightDeltas, isEnd).xy;\n  } else {\n    nextPosition += mix(vec3(0.0), instanceRightDeltas, isEnd);\n  }\n  nextPosition = project_position(nextPosition, nextPosition64xyLow);\n\n  vec3 pos = lineJoin(prevPosition, currPosition, nextPosition);\n\n  gl_Position = project_to_clipspace(vec4(pos, 1.0));\n}\n",fs:zt,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceStartPositions:{size:3,transition:Zt,accessor:"getPath",update:this.calculateStartPositions,noAlloc:!0},instanceEndPositions:{size:3,transition:Zt,accessor:"getPath",update:this.calculateEndPositions,noAlloc:!0},instanceStartEndPositions64xyLow:{size:4,update:this.calculateInstanceStartEndPositions64xyLow,noAlloc:!0},instanceLeftDeltas:{size:3,update:this.calculateLeftDeltas,noAlloc:!0},instanceRightDeltas:{size:3,update:this.calculateRightDeltas,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Zt,update:this.calculateStrokeWidths,defaultValue:1},instanceDashArrays:{size:2,accessor:"getDashArray",update:this.calculateDashArrays},instanceColors:{size:4,type:o.a.UNSIGNED_BYTE,accessor:"getColor",transition:Zt,update:this.calculateColors,defaultValue:Yt},instancePickingColors:{size:3,type:o.a.UNSIGNED_BYTE,update:this.calculatePickingColors}}),this.setState({pathTesselator:new Bt({})})}},{key:"updateState",value:function(e){var n=e.oldProps,r=e.props,i=e.changeFlags;Gt(Kt(t.prototype),"updateState",this).call(this,{props:r,oldProps:n,changeFlags:i});var o=this.getAttributeManager();if((i.dataChanged||r.fp64!==n.fp64||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath))&&(this.state.pathTesselator.updateGeometry({data:r.data,getGeometry:r.getPath,positionFormat:r.positionFormat,fp64:this.use64bitPositions()}),this.setState({numInstances:this.state.pathTesselator.instanceCount}),o.invalidateAll()),r.fp64!==n.fp64){var a=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(a)}),o.invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.rounded,i=n.miterLimit,o=n.widthScale,a=n.widthMinPixels,s=n.widthMaxPixels,u=n.dashJustified;this.state.model.render(Object.assign({},t,{jointType:Number(r),alignMode:Number(u),widthScale:o,miterLimit:i,widthMinPixels:a,widthMaxPixels:s}))}},{key:"_getModel",value:function(e){return new a.Model(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new a.Geometry({drawMode:o.a.TRIANGLES,attributes:{indices:new Uint16Array([0,2,1,1,2,4,1,4,3,3,4,5]),positions:new Float32Array([0,0,1,0,-1,0,0,1,0,1,-1,0,1,1,0,1,0,1])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateStartPositions",value:function(e){var t=this.state.pathTesselator;e.bufferLayout=t.bufferLayout,e.value=t.get("startPositions")}},{key:"calculateEndPositions",value:function(e){var t=this.state.pathTesselator;e.bufferLayout=t.bufferLayout,e.value=t.get("endPositions")}},{key:"calculateInstanceStartEndPositions64xyLow",value:function(e){var t=this.use64bitPositions();e.constant=!t,e.value=t?this.state.pathTesselator.get("startEndPositions64XyLow"):new Float32Array(4)}},{key:"calculateLeftDeltas",value:function(e){var t=this.state.pathTesselator;e.value=t.get("leftDeltas")}},{key:"calculateRightDeltas",value:function(e){var t=this.state.pathTesselator;e.value=t.get("rightDeltas")}},{key:"calculateStrokeWidths",value:function(e){var t=this.props.getWidth,n=this.state.pathTesselator;e.bufferLayout=n.bufferLayout,e.value=n.get("strokeWidths",e.value,t)}},{key:"calculateDashArrays",value:function(e){var t=this.props.getDashArray,n=this.state.pathTesselator;e.value=n.get("dashArrays",e.value,t)}},{key:"calculateColors",value:function(e){var t=this.props.getColor,n=this.state.pathTesselator;e.bufferLayout=n.bufferLayout,e.value=n.get("colors",e.value,t)}},{key:"calculatePickingColors",value:function(e){var t=this,n=this.state.pathTesselator,r=[];e.value=n.get("pickingColors",e.value,(function(e){return t.encodePickingColor(e,r)}))}},{key:"clearPickingColor",value:function(e){for(var t=this.decodePickingColor(e),n=this.state.pathTesselator.bufferLayout,r=n[t],i=0,o=0;o<t;o++)i+=n[o];var a=this.getAttributeManager().attributes.instancePickingColors,s=a.value,u=i+r;s.fill(0,3*i,3*u),a.update({value:s})}}])&&Vt(n.prototype,r),i&&Vt(n,i),t}(r.Layer);Qt.layerName="PathLayer",Qt.defaultProps=Xt;var $t=n(192),Jt=n.n($t);function en(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}function tn(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}function nn(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function rn(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function on(e,t,n,r){for(var i=t,o=n.length,a=0;a<o;a++)for(var s=0;s<r;s++)e[i++]=n[a][s]||0;if(!nn(n))for(var u=0;u<r;u++)e[i++]=n[0][u]||0;return i}function an(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=(o=o||n.length)-i;if(a<=0)return t;for(var s=t,u=0;u<a;u++)e[s++]=n[i+u];if(!rn(n,r,i,o))for(var l=0;l<r;l++)e[s++]=n[i+l];return s}function sn(e){return(nn(e)?0:1)+e.length}function un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;return n>=(r=r||e.length)?0:(rn(e,t,n,r)?0:1)+(r-n)/t}function ln(e,t){if(en(e),e.positions){var n=e,r=n.positions,i=n.holeIndices;if(i){for(var o=0,a=0;a<=i.length;a++)o+=un(e.positions,t,i[a-1],i[a]);return o}e=r}if(Number.isFinite(e[0]))return un(e,t);if(!tn(e)){var s=0,u=!0,l=!1,c=void 0;try{for(var d,f=e[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){s+=sn(d.value)}}catch(h){l=!0,c=h}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return s}return sn(e)}function cn(e,t,n){en(e),n=n||ln(e,t);var r=new Float64Array(n*t),i=[];if(e.positions){var o=e,a=o.positions,s=o.holeIndices;if(s){for(var u=0,l=0;l<=s.length;l++)u=an(r,u,a,t,s[l-1],s[l]),i.push(u);return i.pop(),{positions:r,holeIndices:i}}e=a}if(Number.isFinite(e[0]))return an(r,0,e,t),{positions:r,holeIndices:null};if(!tn(e)){var c=0,d=!0,f=!1,h=void 0;try{for(var p,g=e[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){c=on(r,c,p.value,t),i.push(c)}}catch(m){f=!0,h=m}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}return i.pop(),{positions:r,holeIndices:i}}return on(r,0,e,t),{positions:r,holeIndices:null}}function dn(e){return(dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==dn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=r.experimental.Tesselator,vn=a.fp64.fp64LowPart,bn=[0,0,0,255],yn=function(e){function t(e){var n=e.data,r=e.getGeometry,i=e.fp64,o=e.positionFormat,a=e.IndexType,s=void 0===a?Uint32Array:a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,pn(t).call(this,{data:n,getGeometry:r,fp64:i,positionFormat:o,attributes:{positions:{size:3},positions64xyLow:{size:2,fp64Only:!0},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:s,size:1}}}))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,e),n=t,(r=[{key:"get",value:function(e,t,n){if("indices"===e)return this.attributes.indices.subarray(0,this.vertexCount);if(this.attributes[e])return this.attributes[e];switch(e){case"elevations":return this._updateAttribute({target:t,size:1,getValue:function(e){return[n(e)]}});case"colors":return this._updateAttribute({target:t,size:4,getValue:function(e){var t=n(e);return 4===t.length?t:(bn[0]=t[0],bn[1]=t[1],bn[2]=t[2],bn)}});case"pickingColors":return this._updateAttribute({target:t,size:3,getValue:function(e,t){return n(t)}});default:return null}}},{key:"getGeometrySize",value:function(e){return ln(e,this.positionSize)}},{key:"updateGeometryAttributes",value:function(e,t){e=cn(e,this.positionSize,t.geometrySize),this._updateIndices(e,t),this._updatePositions(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexLayout,s=this.typedArrayManager,u=o.indices,l=u.length,c=i,d=function(e,t){var n=null;return e.holeIndices&&(n=e.holeIndices.map((function(e){return e/t}))),Jt()(e.positions,n,t)}(e,this.positionSize);l<c+d.length&&(l=2*(c+d.length),u=s.allocate(u,l,{type:u.constructor,size:1,copy:!0}));for(var f=0;f<d.length;f++)u[c++]=d[f]+r;a[n]=d.length,o.indices=u}},{key:"_updatePositions",value:function(e,t){for(var n=t.vertexStart,r=t.geometrySize,i=this.attributes,o=i.positions,a=i.positions64xyLow,s=i.vertexValid,u=this.fp64,l=this.positionSize,c=n,d=e.positions,f=e.holeIndices,h=0;h<r;h++){var p=d[h*l],g=d[h*l+1],m=l>2?d[h*l+2]:0;o[3*c]=p,o[3*c+1]=g,o[3*c+2]=m,u&&(a[2*c]=vn(p),a[2*c+1]=vn(g)),s[c]=1,c++}if(f)for(var v=0;v<f.length;v++)s[n+f[v]/l-1]=0;s[n+r-1]=0}}])&&fn(n.prototype,r),i&&fn(n,i),t}(mn);function _n(e){return(_n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return!t||"object"!==_n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cn(e,t,n){return(Cn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=[0,0,0,255],Tn={filled:!0,extruded:!1,wireframe:!1,fp64:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:On},getLineColor:{type:"accessor",value:On},lightSettings:{}},Pn={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},In=function(e){function t(){return xn(this,t),wn(this,kn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec2 vertexPositions;\nattribute float vertexValid;\nattribute vec3 positions;\nattribute vec2 positions64xyLow;\nattribute vec3 nextPositions;\nattribute vec2 nextPositions64xyLow;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\nuniform bool isSideVertex;\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying float isValid;\n\nvoid main(void) {\n  vec3 pos;\n  vec2 pos64xyLow;\n  vec3 normal;\n  vec4 colors = isWireframe ? lineColors : fillColors;\n\n  if (isSideVertex) {\n    pos = mix(positions, nextPositions, vertexPositions.x);\n    pos64xyLow = mix(positions64xyLow, nextPositions64xyLow, vertexPositions.x);\n    isValid = vertexValid;\n  } else {\n    pos = positions;\n    pos64xyLow = positions64xyLow;\n    isValid = 1.0;\n  }\n  if (extruded) {\n    pos.z += elevations * vertexPositions.y;\n  }\n  pos.z *= elevationScale;\n\n  vec4 position_worldspace;\n  gl_Position = project_position_to_clipspace(pos, pos64xyLow, vec3(0.), position_worldspace);\n\n  float lightWeight = 1.0;\n  \n  if (extruded) {\n    if (isSideVertex) {\n      normal = vec3(positions.y - nextPositions.y, nextPositions.x - positions.x, 0.0);\n      normal = project_normal(normal);\n    } else {\n      normal = vec3(0.0, 0.0, 1.0);\n    }\n\n    lightWeight = lighting_getLightWeight(position_worldspace.xyz, normal);\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n",fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid < 0.5) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[this.use64bitProjection()?"project64":"project32","lighting","picking"]}}},{key:"initializeState",value:function(){var e=this.context.gl;this.setState({numInstances:0,polygonTesselator:new yn({IndexType:!e||Object(a.hasFeature)(e,a.FEATURES.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var t=this.getAttributeManager();t.remove(["instancePickingColors"]),t.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:!0},positions:{size:3,transition:Pn,accessor:"getPolygon",update:this.calculatePositions,noAlloc:!0},positions64xyLow:{size:2,update:this.calculatePositionsLow,noAlloc:!0},vertexValid:{size:1,type:o.a.UNSIGNED_BYTE,update:this.calculateVertexValid,noAlloc:!0},elevations:{size:1,transition:Pn,accessor:"getElevation",update:this.calculateElevations},fillColors:{alias:"colors",size:4,type:o.a.UNSIGNED_BYTE,transition:Pn,accessor:"getFillColor",update:this.calculateFillColors,defaultValue:On},lineColors:{alias:"colors",size:4,type:o.a.UNSIGNED_BYTE,transition:Pn,accessor:"getLineColor",update:this.calculateLineColors,defaultValue:On},pickingColors:{size:3,type:o.a.UNSIGNED_BYTE,update:this.calculatePickingColors}})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.extruded,i=n.filled,a=n.wireframe,s=n.elevationScale,u=this.state,l=u.topModel,c=u.sideModel,d=Object.assign({},t,{extruded:Boolean(r),elevationScale:s});c&&(c.setUniforms(d),a&&(c.setDrawMode(o.a.LINE_STRIP),c.render({isWireframe:!0})),i&&(c.setDrawMode(o.a.TRIANGLE_FAN),c.render({isWireframe:!1}))),l&&l.render(d)}},{key:"updateState",value:function(e){Cn(kn(t.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var n=e.props,r=e.oldProps,i=this.getAttributeManager();(n.fp64!==r.fp64||n.filled!==r.filled||n.extruded!==r.extruded)&&(this.state.models&&this.state.models.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),i.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;if(r.dataChanged||t.fp64!==n.fp64||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon)){var i=this.state.polygonTesselator;i.updateGeometry({data:t.data,getGeometry:t.getPolygon,positionFormat:t.positionFormat,fp64:this.use64bitPositions()}),this.setState({numInstances:i.instanceCount}),this.getAttributeManager().invalidateAll()}}},{key:"updateAttributes",value:function(e){Cn(kn(t.prototype),"updateAttributes",this).call(this,e);var n=this.getAttributeManager().getChangedAttributes({clearChangedFlags:!0}),r=this.state,i=r.topModel,o=r.sideModel,a=this.getNumInstances();if(i){if(n.indices){var s=n.indices.value.length;i.setVertexCount(s)}i.setAttributes(n)}if(o){o.setInstanceCount(a-1);var u={};for(var l in n){var c=n[l];"indices"!==l&&(u[l]=Object.assign({},c,{isInstanced:!0,buffer:c.getBuffer()}))}u.positions&&(u.nextPositions=Object.assign({},u.positions,{id:"nextPositions",offset:12})),u.positions64xyLow&&(u.nextPositions64xyLow=Object.assign({},u.positions64xyLow,{id:"nextPositions64xyLow",offset:8})),o.setAttributes(u)}}},{key:"_getModels",value:function(e){var t,n,r=this.props,i=r.id,s=r.filled,u=r.extruded;return s&&(t=new a.Model(e,Object.assign({},this.getShaders(),{id:"".concat(i,"-top"),geometry:new a.Geometry({drawMode:o.a.TRIANGLES,attributes:{vertexPositions:{size:2,constant:!0,value:new Float32Array([0,1])},nextPositions:{size:3,constant:!0,value:new Float32Array(3)},nextPositions64xyLow:{size:2,constant:!0,value:new Float32Array(2)}}}),uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0,shaderCache:this.context.shaderCache}))),u&&(n=new a.Model(e,Object.assign({},this.getShaders(),{id:"".concat(i,"-side"),geometry:new a.Geometry({drawMode:o.a.LINES,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,1,0,1,0,0,1,0])}}}),uniforms:{isSideVertex:!0},isInstanced:1,shaderCache:this.context.shaderCache}))),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.bufferLayout=t.indexLayout,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.bufferLayout=t.bufferLayout,e.value=t.get("positions")}},{key:"calculatePositionsLow",value:function(e){var t=this.use64bitPositions();e.constant=!t,e.value=t?this.state.polygonTesselator.get("positions64xyLow"):new Float32Array(2)}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}},{key:"calculateElevations",value:function(e){var t=this.state.polygonTesselator;e.bufferLayout=t.bufferLayout;var n=this.props,r=n.extruded,i=n.getElevation;r?(e.constant=!1,e.value=t.get("elevations",e.value,i)):(e.constant=!0,e.value=new Float32Array(1))}},{key:"calculateFillColors",value:function(e){var t=this.state.polygonTesselator;e.bufferLayout=t.bufferLayout,e.value=t.get("colors",e.value,this.props.getFillColor)}},{key:"calculateLineColors",value:function(e){var t=this.state.polygonTesselator;e.bufferLayout=t.bufferLayout,e.value=t.get("colors",e.value,this.props.getLineColor)}},{key:"calculatePickingColors",value:function(e){var t=this,n=[];e.value=this.state.polygonTesselator.get("pickingColors",e.value,(function(e){return t.encodePickingColor(e,n)}))}},{key:"clearPickingColor",value:function(e){for(var t=this.decodePickingColor(e),n=this.state.polygonTesselator.bufferLayout,r=n[t],i=0,o=0;o<t;o++)i+=n[o];var a=this.getAttributeManager().attributes.pickingColors,s=a.value,u=i+r;s.fill(0,3*i,3*u),a.update({value:s})}}])&&Sn(n.prototype,r),i&&Sn(n,i),t}(r.Layer);function Dn(e){return(Dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==Dn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}In.layerName="SolidPolygonLayer",In.defaultProps=Tn;var Nn={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,lineDashJustified:!1,fp64:!1,getPolygon:{type:"accessor",value:function(e){return e.polygon}},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1},getLineDashArray:{type:"accessor",value:[0,0]},getElevation:{type:"accessor",value:1e3},lightSettings:{}},Ln=function(e){function t(){return An(this,t),jn(this,Rn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,e),n=t,(r=[{key:"initializeState",value:function(){this.state={paths:[]}}},{key:"updateState",value:function(e){e.oldProps;var t=e.props,n=e.changeFlags;(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon))&&(this.state.paths=this._getPaths(t))}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.object&&t.object.object||t.object})}},{key:"_getPaths",value:function(e){var t=e.data,n=e.getPolygon,r=[],i="XY"===e.positionFormat?2:3,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,d=cn(n(c),i),f=d.positions,h=d.holeIndices;if(h)for(var p=0;p<=h.length;p++){var g=f.subarray(h[p-1]||0,h[p]||f.length);r.push({path:g,object:c})}else r.push({path:f,object:c})}}catch(m){a=!0,s=m}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return r}},{key:"_getAccessor",value:function(e){return"function"===typeof e?function(t){return e(t.object)}:e}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e.stroked,r=e.filled,i=e.extruded,o=e.wireframe,a=e.elevationScale,s=e.transitions,u=this.props,l=u.lineWidthScale,c=u.lineWidthMinPixels,d=u.lineWidthMaxPixels,f=u.lineJointRounded,h=u.lineMiterLimit,p=u.lineDashJustified,g=u.fp64,m=this.props,v=m.getFillColor,b=m.getLineColor,y=m.getLineWidth,_=m.getLineDashArray,x=m.getElevation,S=m.getPolygon,w=m.updateTriggers,C=m.lightSettings,k=this.state.paths,E=this.getSubLayerClass("fill",In),O=this.getSubLayerClass("stroke",Qt),T=this.shouldRenderSubLayer("fill",k)&&new E({extruded:i,elevationScale:a,fp64:g,filled:r,wireframe:o,getElevation:x,getFillColor:v,getLineColor:b,lightSettings:C,transitions:s},this.getSubLayerProps({id:"fill",updateTriggers:{getPolygon:w.getPolygon,getElevation:w.getElevation,getFillColor:w.getFillColor,getLineColor:w.getLineColor}}),{data:t,getPolygon:S});return[!i&&T,!i&&n&&this.shouldRenderSubLayer("stroke",k)&&new O({fp64:g,widthScale:l,widthMinPixels:c,widthMaxPixels:d,rounded:f,miterLimit:h,dashJustified:p,transitions:s&&{getWidth:s.getLineWidth,getColor:s.getLineColor,getPath:s.getPolygon},getColor:this._getAccessor(b),getWidth:this._getAccessor(y),getDashArray:this._getAccessor(_)},this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:w.getLineWidth,getColor:w.getLineColor,getDashArray:w.getLineDashArray}}),{data:k,getPath:function(e){return e.path}}),i&&T]}}])&&Mn(n.prototype,r),i&&Mn(n,i),t}(r.CompositeLayer);function Bn(e,t){if(!e)throw new Error("deck.gl: ".concat(t))}function zn(e,t,n){var r=e.type,i=e.coordinates,o=t.pointFeatures,a=t.lineFeatures,s=t.polygonFeatures,u=t.polygonOutlineFeatures;switch(function(e,t){var n=Hn[e];Bn(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];Bn(t&&Number.isFinite(t[0]),"".concat(e," coordinates are malformed"))}(r,i),r){case"Point":o.push({geometry:e,sourceFeature:n});break;case"MultiPoint":i.forEach((function(e){o.push({geometry:{type:"Point",coordinates:e},sourceFeature:n})}));break;case"LineString":a.push({geometry:e,sourceFeature:n});break;case"MultiLineString":i.forEach((function(e){a.push({geometry:{type:"LineString",coordinates:e},sourceFeature:n})}));break;case"Polygon":s.push({geometry:e,sourceFeature:n}),i.forEach((function(e){u.push({geometry:{type:"LineString",coordinates:e},sourceFeature:n})}));break;case"MultiPolygon":i.forEach((function(e){s.push({geometry:{type:"Polygon",coordinates:e},sourceFeature:n}),e.forEach((function(e){u.push({geometry:{type:"LineString",coordinates:e},sourceFeature:n})}))}))}}function Un(e){return e.sourceFeature.feature}Ln.layerName="PolygonLayer",Ln.defaultProps=Nn;var Hn={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function Vn(e){return(Vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return!t||"object"!==Vn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,lineDashJustified:!1,fp64:!1,getLineColor:{type:"accessor",value:[0,0,0,255]},getFillColor:{type:"accessor",value:[0,0,0,255]},getRadius:{type:"accessor",value:1},getLineWidth:{type:"accessor",value:1},getLineDashArray:{type:"accessor",value:[0,0]},getElevation:{type:"accessor",value:1e3},lightSettings:{}};function Zn(e){return e.geometry.coordinates}function Qn(e){return"function"!==typeof e?e:function(t){return e(Un(t))}}var $n=function(e){function t(){return Wn(this,t),Kn(this,qn(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,e),n=t,(r=[{key:"initializeState",value:function(){this.state={features:{}}}},{key:"updateState",value:function(e){e.oldProps;var t=e.props;if(e.changeFlags.dataChanged){var n=function(e){if(Array.isArray(e))return e;switch(Bn(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return Bn(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data);this.state.features=function(e){for(var t={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},n=0;n<e.length;n++){var r=e[n];Bn(r&&r.geometry,"GeoJSON does not have geometry");var i=r.geometry,o={feature:r,index:n};if("GeometryCollection"===i.type){Bn(Array.isArray(i.geometries),"GeoJSON does not have geometries array");for(var a=i.geometries,s=0;s<a.length;s++)zn(a[s],t,o)}else zn(i,t,o)}return t}(n)}}},{key:"getPickingInfo",value:function(e){var t,n=e.info;return e.sourceLayer,Object.assign(n,{object:n.object?Un(n.object):n.object,index:n.object?(t=n.object,t.sourceFeature.index):n.index})}},{key:"renderLayers",value:function(){var e=this.state.features,t=e.pointFeatures,n=e.lineFeatures,r=e.polygonFeatures,i=e.polygonOutlineFeatures,o=this.props,a=o.stroked,s=o.filled,u=o.extruded,l=o.wireframe,c=o.lightSettings,d=o.transitions,f=this.props,h=f.lineWidthScale,p=f.lineWidthMinPixels,g=f.lineWidthMaxPixels,m=f.lineJointRounded,v=f.lineMiterLimit,b=f.pointRadiusScale,y=f.pointRadiusMinPixels,_=f.pointRadiusMaxPixels,x=f.elevationScale,S=f.lineDashJustified,w=f.fp64,C=this.props,k=C.getLineColor,E=C.getFillColor,O=C.getRadius,T=C.getLineWidth,P=C.getLineDashArray,I=C.getElevation,D=C.updateTriggers,A=this.getSubLayerClass("polygons-fill",In),M=this.getSubLayerClass("polygons-stroke",Qt),j=this.getSubLayerClass("line-strings",Qt),R=this.getSubLayerClass("points",ve),F=this.shouldRenderSubLayer("polygons-fill",r)&&new A({fp64:w,extruded:u,elevationScale:x,filled:s,wireframe:l,lightSettings:c,getElevation:Qn(I),getFillColor:Qn(E),getLineColor:Qn(k),transitions:d&&{getPolygon:d.geometry,getElevation:d.getElevation,getFillColor:d.getFillColor,getLineColor:d.getLineColor}},this.getSubLayerProps({id:"polygons-fill",updateTriggers:{getElevation:D.getElevation,getFillColor:D.getFillColor,getLineColor:D.getLineColor}}),{data:r,getPolygon:Zn});return[!u&&F,!u&&a&&this.shouldRenderSubLayer("polygons-stroke",i)&&new M({fp64:w,widthScale:h,widthMinPixels:p,widthMaxPixels:g,rounded:m,miterLimit:v,dashJustified:S,getColor:Qn(k),getWidth:Qn(T),getDashArray:Qn(P),transitions:d&&{getPath:d.geometry,getColor:d.getLineColor,getWidth:d.getLineWidth}},this.getSubLayerProps({id:"polygons-stroke",updateTriggers:{getColor:D.getLineColor,getWidth:D.getLineWidth,getDashArray:D.getLineDashArray}}),{data:i,getPath:Zn}),this.shouldRenderSubLayer("linestrings",n)&&new j({fp64:w,widthScale:h,widthMinPixels:p,widthMaxPixels:g,rounded:m,miterLimit:v,dashJustified:S,getColor:Qn(k),getWidth:Qn(T),getDashArray:Qn(P),transitions:d&&{getPath:d.geometry,getColor:d.getLineColor,getWidth:d.getLineWidth}},this.getSubLayerProps({id:"line-strings",updateTriggers:{getColor:D.getLineColor,getWidth:D.getLineWidth,getDashArray:D.getLineDashArray}}),{data:n,getPath:Zn}),this.shouldRenderSubLayer("points",t)&&new R({fp64:w,stroked:a,filled:s,radiusScale:b,radiusMinPixels:y,radiusMaxPixels:_,lineWidthScale:h,lineWidthMinPixels:p,lineWidthMaxPixels:g,getFillColor:Qn(E),getLineColor:Qn(k),getRadius:Qn(O),getLineWidth:Qn(T),transitions:d&&{getPosition:d.geometry,getFillColor:d.getFillColor,getLineColor:d.getLineColor,getRadius:d.getRadius,getLineWidth:d.getLineWidth}},this.getSubLayerProps({id:"points",updateTriggers:{getFillColor:D.getFillColor,getLineColor:D.getLineColor,getRadius:D.getRadius,getLineWidth:D.getLineWidth}}),{data:t,getPosition:Zn}),u&&F]}}])&&Gn(n.prototype,r),i&&Gn(n,i),t}(r.CompositeLayer);$n.layerName="GeoJsonLayer",$n.defaultProps=Xn;function Jn(e){return(Jn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return!t||"object"!==Jn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e,t,n){return(rr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ir(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=function(e){function t(){return er(this,t),nr(this,ir(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(t,e),n=t,(r=[{key:"getShaders",value:function(){return Object.assign({},rr(ir(t.prototype),"getShaders",this).call(this),{vs:'#define SHADER_NAME multi-icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\n// the following three attributes are for the multi-icon layer\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float gamma;\nuniform float opacity;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying float vGamma;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64xyLow, vec3(0.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n  picking_setPickingColor(instancePickingColors);\n\n  vGamma = gamma / (sizeScale * iconSize.y);\n}\n',fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform sampler2D iconsTexture;\nuniform float buffer;\nuniform bool sdf;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying float vGamma;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  \n  float alpha = texColor.a;\n  // if enable sdf (signed distance fields)\n  if (sdf) {\n    float distance = texture2D(iconsTexture, vTextureCoords).a;\n    alpha = smoothstep(buffer - vGamma, buffer + vGamma, distance);\n  }\n\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = alpha * vColor.a;\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(vColor.rgb, a);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n"})}},{key:"initializeState",value:function(){rr(ir(t.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){rr(ir(t.prototype),"updateState",this).call(this,e);var n=e.changeFlags;n.updateTriggersChanged&&(n.updateTriggersChanged.getAnchorX||n.updateTriggersChanged.getAnchorY)&&this.getAttributeManager().invalidate("instanceOffsets")}},{key:"draw",value:function(e){var n=e.uniforms,r=this.props.sdf;rr(ir(t.prototype),"draw",this).call(this,{uniforms:Object.assign({},n,{buffer:.75,gamma:.2,sdf:Boolean(r)})})}},{key:"calculateInstanceOffsets",value:function(e){var t=this.props,n=t.data,r=t.iconMapping,i=t.getIcon,o=t.getAnchorX,a=t.getAnchorY,s=t.getLengthOfQueue,u=t.getShiftInQueue,l=e.value,c=0,d=!0,f=!1,h=void 0;try{for(var p,g=n[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var m=p.value,v=r[i(m)]||{},b=s(m),y=u(m);l[c++]=(o(m)-1)*b/2+v.width/2+y||0,l[c++]=v.height/2*a(m)||0}}catch(_){f=!0,h=_}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}}},{key:"calculateInstancePickingColors",value:function(e){var t=this.props,n=t.data,r=t.getPickingIndex,i=e.value,o=0,a=[],s=!0,u=!1,l=void 0;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var f=r(c.value);this.encodePickingColor(f,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2]}}catch(h){u=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}}}])&&tr(n.prototype,r),i&&tr(n,i),t}(L);ar.layerName="MultiIconLayer",ar.defaultProps={getShiftInQueue:{type:"accessor",value:function(e){return e.shift||0}},getLengthOfQueue:{type:"accessor",value:function(e){return e.len||1}},getAnchorX:{type:"accessor",value:function(e){return e.anchorX||0}},getAnchorY:{type:"accessor",value:function(e){return e.anchorY||0}},getPixelOffset:{type:"accessor",value:[0,0]},getPickingIndex:{type:"accessor",value:function(e){return e.objectIndex}}};var sr=n(130),ur=n.n(sr);function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr=function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),dr={fontSize:64,buffer:2,sdf:!1,cutoff:.25,radius:3};function fr(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function hr(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="baseline",e.textAlign="left"}function pr(e,t){var n,r=Object.assign({fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:cr},dr,t),i=r.fontFamily,o=r.fontWeight,s=r.characterSet,u=r.fontSize,l=r.buffer,c=r.sdf,d=r.radius,f=r.cutoff,h=document.createElement("canvas"),p=h.getContext("2d");hr(p,i,u,o);var g=function(e){var t=e.ctx,n=e.fontHeight,r=e.buffer,i=e.characterSet,o=e.maxCanvasWidth,a={},s=0,u=0;return Array.from(i).forEach((function(e){var i=t.measureText(e).width;u+i+2*r>o&&(u=0,s++),a[e]={x:u+r,y:s*(n+2*r)+r,width:i,height:n,mask:!0},u+=i+2*r})),{mapping:a,canvasHeight:(s+1)*(n+2*r)}}({ctx:p,fontHeight:1.2*u,buffer:l,characterSet:s,maxCanvasWidth:1024}),m=g.canvasHeight,v=g.mapping;if(h.width=1024,h.height=m,hr(p,i,u,o),c){var b=new ur.a(u,l,d,f,i,o),y=p.createImageData(b.size,b.size),_=!0,x=!1,S=void 0;try{for(var w,C=s[Symbol.iterator]();!(_=(w=C.next()).done);_=!0){var k=w.value;fr(b.draw(k),y),p.putImageData(y,v[k].x-l,v[k].y-l)}}catch(A){x=!0,S=A}finally{try{_||null==C.return||C.return()}finally{if(x)throw S}}}else{var E=!0,O=!1,T=void 0;try{for(var P,I=s[Symbol.iterator]();!(E=(P=I.next()).done);E=!0){var D=P.value;p.fillText(D,v[D].x,v[D].y+.9*u)}}catch(A){O=!0,T=A}finally{try{E||null==I.return||I.return()}finally{if(O)throw T}}}return{scale:1.2,mapping:v,texture:new a.Texture2D(e,{pixels:h,parameters:(n={},lr(n,10242,33071),lr(n,10243,33071),n)})}}function gr(e){return(gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return!t||"object"!==gr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xr={start:1,middle:0,end:-1},Sr={top:1,center:0,bottom:-1},wr=["fontSize","buffer","sdf","radius","cutoff"],Cr={fp64:!1,sizeScale:1,characterSet:cr,fontFamily:"Monaco, monospace",fontWeight:"normal",fontSettings:{},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:[0,0,0,255]},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]}},kr=function(e){function t(){return mr(this,t),br(this,yr(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(t,e),n=t,(i=[{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags,i=this.fontChanged(n,t);i&&this.updateFontAtlas(),(r.dataChanged||i||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this.transformStringToLetters()}},{key:"updateFontAtlas",value:function(){var e=this.context.gl,t=this.props,n=t.fontSettings,r=t.fontFamily,i=t.fontWeight,o=t.characterSet,a=pr(e,Object.assign({},dr,n,{fontFamily:r,fontWeight:i,characterSet:o})),s=a.scale,u=a.mapping,l=a.texture;this.setState({scale:s,iconAtlas:l,iconMapping:u})}},{key:"fontChanged",value:function(e,t){if(e.fontFamily!==t.fontFamily||e.characterSet!==t.characterSet||e.fontWeight!==t.fontWeight)return!0;if(e.fontSettings===t.fontSettings)return!1;var n=e.fontSettings||{},r=t.fontSettings||{};return wr.some((function(e){return n[e]!==r[e]}))}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.index>=0?this.props.data[t.index]:null})}},{key:"transformStringToLetters",value:function(){var e=this.props,t=e.data,n=e.getText,i=this.state.iconMapping,o=[],a=0,s=!0,u=!1,l=void 0;try{for(var c,d=function(){var e=c.value,t=n(e);if(t){var s=Array.from(t),u=[0],l=0;s.forEach((function(n,s){var c={text:n,index:s,offsets:u,len:t.length,object:e,objectIndex:a},d=i[n];d?l+=d.width:(r.log.warn("Missing character: ".concat(n))(),l+=32),u.push(l),o.push(c)}))}a++},f=t[Symbol.iterator]();!(s=(c=f.next()).done);s=!0)d()}catch(h){u=!0,l=h}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}this.setState({data:o})}},{key:"getLetterOffset",value:function(e){return e.offsets[e.index]}},{key:"getTextLength",value:function(e){return e.offsets[e.offsets.length-1]}},{key:"_getAccessor",value:function(e){return"function"===typeof e?function(t){return e(t.object)}:e}},{key:"getAnchorXFromTextAnchor",value:function(e){return function(t){var n="function"===typeof e?e(t.object):e;if(!xr.hasOwnProperty(n))throw new Error("Invalid text anchor parameter: ".concat(n));return xr[n]}}},{key:"getAnchorYFromAlignmentBaseline",value:function(e){return function(t){var n="function"===typeof e?e(t.object):e;if(!Sr.hasOwnProperty(n))throw new Error("Invalid alignment baseline parameter: ".concat(n));return Sr[n]}}},{key:"renderLayers",value:function(){var e=this,t=this.state,n=t.data,r=t.scale,i=t.iconAtlas,o=t.iconMapping,a=this.props,s=a.getPosition,u=a.getColor,l=a.getSize,c=a.getAngle,d=a.getTextAnchor,f=a.getAlignmentBaseline,h=a.getPixelOffset,p=a.fp64,g=a.sdf,m=a.sizeScale,v=a.transitions,b=a.updateTriggers;return new(this.getSubLayerClass("characters",ar))({sdf:g,iconAtlas:i,iconMapping:o,getPosition:function(e){return s(e.object)},getColor:this._getAccessor(u),getSize:this._getAccessor(l),getAngle:this._getAccessor(c),getAnchorX:this.getAnchorXFromTextAnchor(d),getAnchorY:this.getAnchorYFromAlignmentBaseline(f),getPixelOffset:this._getAccessor(h),fp64:p,sizeScale:m*r,transitions:v&&{getPosition:v.getPosition,getAngle:v.getAngle,getColor:v.getColor,getSize:v.getSize,getPixelOffset:b.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getPosition:b.getPosition,getAngle:b.getAngle,getColor:b.getColor,getSize:b.getSize,getPixelOffset:b.getPixelOffset,getAnchorX:b.getTextAnchor,getAnchorY:b.getAlignmentBaseline}}),{data:n,getIcon:function(e){return e.text},getShiftInQueue:function(t){return e.getLetterOffset(t)},getLengthOfQueue:function(t){return e.getTextLength(t)}})}}])&&vr(n.prototype,i),o&&vr(n,o),t}(r.CompositeLayer);kr.layerName="TextLayer",kr.defaultProps=Cr;var Er,Or=n(26);function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr={N:[0,.5],E:[.5,0],S:[0,-.5],W:[-.5,0],NE:[.5,.5],NW:[-.5,.5],SE:[.5,-.5],SW:[-.5,-.5]},Ir=[Pr.W,Pr.SW,Pr.S],Dr=[Pr.S,Pr.SE,Pr.E],Ar=[Pr.E,Pr.NE,Pr.N],Mr=[Pr.NW,Pr.W,Pr.N],jr=[[-.5,1/6],[-.5,-1/6],[-1/6,-.5],[1/6,-.5]],Rr=[[-1/6,-.5],[1/6,-.5],[.5,-1/6],[.5,1/6]],Fr=[[.5,-1/6],[.5,1/6],[1/6,.5],[-1/6,.5]],Nr=[[-.5,1/6],[-.5,-1/6],[1/6,.5],[-1/6,.5]],Lr=[Pr.W,Pr.SW,Pr.SE,Pr.E],Br=[Pr.S,Pr.SE,Pr.NE,Pr.N],zr=[Pr.NW,Pr.W,Pr.E,Pr.NE],Ur=[Pr.NW,Pr.SW,Pr.S,Pr.N],Hr=[[-.5,1/6],[-.5,-1/6],[.5,-1/6],[.5,1/6]],Vr=[[-1/6,-.5],[1/6,-.5],[1/6,.5],[-1/6,.5]],Wr=[Pr.NW,Pr.SW,Pr.SE,Pr.NE],Gr=[Pr.NW,Pr.SW,Pr.SE,Pr.E,Pr.N],Kr=[Pr.W,Pr.SW,Pr.SE,Pr.NE,Pr.N],qr=[Pr.NW,Pr.W,Pr.S,Pr.SE,Pr.NE],Yr=[Pr.NW,Pr.SW,Pr.S,Pr.E,Pr.NE],Xr=[Pr.NW,Pr.W,[.5,-1/6],[.5,1/6],Pr.N],Zr=[[-1/6,-.5],[1/6,-.5],Pr.E,Pr.NE,Pr.N],Qr=[[-.5,1/6],[-.5,-1/6],Pr.S,Pr.SE,Pr.E],$r=[Pr.W,Pr.SW,Pr.S,[1/6,.5],[-1/6,.5]],Jr=[Pr.NW,Pr.W,[-1/6,-.5],[1/6,-.5],Pr.N],ei=[[-.5,1/6],[-.5,-1/6],Pr.E,Pr.NE,Pr.N],ti=[Pr.S,Pr.SE,Pr.E,[1/6,.5],[-1/6,.5]],ni=[Pr.W,Pr.SW,Pr.S,[.5,-1/6],[.5,1/6]],ri=[Pr.W,Pr.SW,Pr.SE,Pr.E,[1/6,.5],[-1/6,.5]],ii=[[-.5,1/6],[-.5,-1/6],Pr.S,Pr.SE,Pr.NE,Pr.N],oi=[Pr.NW,Pr.W,[-1/6,-.5],[1/6,-.5],Pr.E,Pr.NE],ai=[Pr.NW,Pr.SW,Pr.S,[.5,-1/6],[.5,1/6],Pr.N],si=[Pr.W,Pr.SW,Pr.S,Pr.E,Pr.NE,Pr.N],ui=[Pr.NW,Pr.W,Pr.S,Pr.SE,Pr.E,Pr.N],li=[[-.5,1/6],[-.5,-1/6],[-1/6,-.5],[1/6,-.5],Pr.E,Pr.NE,Pr.N],ci=[Pr.W,Pr.SW,Pr.S,[.5,-1/6],[.5,1/6],[1/6,.5],[-1/6,.5]],di=[Pr.NW,Pr.W,[-1/6,-.5],[1/6,-.5],[.5,-1/6],[.5,1/6],Pr.N],fi=[[-.5,1/6],[-.5,-1/6],Pr.S,Pr.SE,Pr.E,[1/6,.5],[-1/6,.5]],hi=[[-.5,1/6],[-.5,-1/6],[-1/6,-.5],[1/6,-.5],[.5,-1/6],[.5,1/6],[1/6,.5],[-1/6,.5]],pi={0:[],1:[[Pr.W,Pr.S]],2:[[Pr.S,Pr.E]],3:[[Pr.W,Pr.E]],4:[[Pr.N,Pr.E]],5:{0:[[Pr.W,Pr.S],[Pr.N,Pr.E]],1:[[Pr.W,Pr.N],[Pr.S,Pr.E]]},6:[[Pr.N,Pr.S]],7:[[Pr.W,Pr.N]],8:[[Pr.W,Pr.N]],9:[[Pr.N,Pr.S]],10:{0:[[Pr.W,Pr.N],[Pr.S,Pr.E]],1:[[Pr.W,Pr.S],[Pr.N,Pr.E]]},11:[[Pr.N,Pr.E]],12:[[Pr.W,Pr.E]],13:[[Pr.S,Pr.E]],14:[[Pr.W,Pr.S]],15:[]};function gi(e){return parseInt(e,4)}var mi=(Tr(Er={},gi("0000"),[]),Tr(Er,gi("2222"),[]),Tr(Er,gi("2221"),[Ir]),Tr(Er,gi("2212"),[Dr]),Tr(Er,gi("2122"),[Ar]),Tr(Er,gi("1222"),[Mr]),Tr(Er,gi("0001"),[Ir]),Tr(Er,gi("0010"),[Dr]),Tr(Er,gi("0100"),[Ar]),Tr(Er,gi("1000"),[Mr]),Tr(Er,gi("2220"),[jr]),Tr(Er,gi("2202"),[Rr]),Tr(Er,gi("2022"),[Fr]),Tr(Er,gi("0222"),[Nr]),Tr(Er,gi("0002"),[jr]),Tr(Er,gi("0020"),[Rr]),Tr(Er,gi("0200"),[Fr]),Tr(Er,gi("2000"),[Nr]),Tr(Er,gi("0011"),[Lr]),Tr(Er,gi("0110"),[Br]),Tr(Er,gi("1100"),[zr]),Tr(Er,gi("1001"),[Ur]),Tr(Er,gi("2211"),[Lr]),Tr(Er,gi("2112"),[Br]),Tr(Er,gi("1122"),[zr]),Tr(Er,gi("1221"),[Ur]),Tr(Er,gi("2200"),[Hr]),Tr(Er,gi("2002"),[Vr]),Tr(Er,gi("0022"),[Hr]),Tr(Er,gi("0220"),[Vr]),Tr(Er,gi("1111"),[Wr]),Tr(Er,gi("1211"),[Gr]),Tr(Er,gi("2111"),[Kr]),Tr(Er,gi("1112"),[qr]),Tr(Er,gi("1121"),[Yr]),Tr(Er,gi("1011"),[Gr]),Tr(Er,gi("0111"),[Kr]),Tr(Er,gi("1110"),[qr]),Tr(Er,gi("1101"),[Yr]),Tr(Er,gi("1200"),[Xr]),Tr(Er,gi("0120"),[Zr]),Tr(Er,gi("0012"),[Qr]),Tr(Er,gi("2001"),[$r]),Tr(Er,gi("1022"),[Xr]),Tr(Er,gi("2102"),[Zr]),Tr(Er,gi("2210"),[Qr]),Tr(Er,gi("0221"),[$r]),Tr(Er,gi("1002"),[Jr]),Tr(Er,gi("2100"),[ei]),Tr(Er,gi("0210"),[ti]),Tr(Er,gi("0021"),[ni]),Tr(Er,gi("1220"),[Jr]),Tr(Er,gi("0122"),[ei]),Tr(Er,gi("2012"),[ti]),Tr(Er,gi("2201"),[ni]),Tr(Er,gi("0211"),[ri]),Tr(Er,gi("2110"),[ii]),Tr(Er,gi("1102"),[oi]),Tr(Er,gi("1021"),[ai]),Tr(Er,gi("2011"),[ri]),Tr(Er,gi("0112"),[ii]),Tr(Er,gi("1120"),[oi]),Tr(Er,gi("1201"),[ai]),Tr(Er,gi("2101"),[si]),Tr(Er,gi("0121"),[si]),Tr(Er,gi("1012"),[ui]),Tr(Er,gi("1210"),[ui]),Tr(Er,gi("0101"),{0:[Ir,Ar],1:[si],2:[si]}),Tr(Er,gi("1010"),{0:[Mr,Dr],1:[ui],2:[ui]}),Tr(Er,gi("2121"),{0:[si],1:[si],2:[Ir,Ar]}),Tr(Er,gi("1212"),{0:[ui],1:[ui],2:[Mr,Dr]}),Tr(Er,gi("2120"),{0:[li],1:[li],2:[jr,Ar]}),Tr(Er,gi("2021"),{0:[ci],1:[ci],2:[Ir,Fr]}),Tr(Er,gi("1202"),{0:[di],1:[di],2:[Mr,Rr]}),Tr(Er,gi("0212"),{0:[fi],1:[fi],2:[Dr,Nr]}),Tr(Er,gi("0102"),{0:[jr,Ar],1:[li],2:[li]}),Tr(Er,gi("0201"),{0:[Ir,Fr],1:[ci],2:[ci]}),Tr(Er,gi("1020"),{0:[Mr,Rr],1:[di],2:[di]}),Tr(Er,gi("2010"),{0:[Dr,Nr],1:[fi],2:[fi]}),Tr(Er,gi("2020"),{0:[Nr,Rr],1:[hi],2:[jr,Fr]}),Tr(Er,gi("0202"),{0:[Fr,jr],1:[hi],2:[Nr,Rr]}),Er),vi=1,bi=2,yi={zIndex:0,zOffsetScale:1};function _i(e,t){return Array.isArray(t)?e<t[0]?0:e<t[1]?1:2:e>=t?1:0}function xi(e){var t=e.cellWeights,n=e.x,i=e.y,o=e.width,a=e.height,s=e.threshold;e.thresholdValue&&(r.log.deprecated("thresholdValue","threshold")(),s=e.thresholdValue);var u=n<0,l=n>=o-1,c=i<0,d=i>=a-1,f=u||l||c||d,h={},p={};u||d?p.top=0:(h.top=t[(i+1)*o+n],p.top=_i(h.top,s)),l||d?p.topRight=0:(h.topRight=t[(i+1)*o+n+1],p.topRight=_i(h.topRight,s)),l||c?p.right=0:(h.right=t[i*o+n+1],p.right=_i(h.right,s)),u||c?p.current=0:(h.current=t[i*o+n],p.current=_i(h.current,s));var g=p.top,m=p.topRight,v=p.right,b=p.current,y=-1;Number.isFinite(s)&&(y=g<<3|m<<2|v<<1|b),Array.isArray(s)&&(y=g<<6|m<<4|v<<2|b);var _=0;return f||(_=_i((h.top+h.topRight+h.right+h.current)/4,s)),{code:y,meanCode:_}}function Si(e){var t=e.gridOrigin,n=e.cellSize,r=e.x,i=e.y,o=e.code,a=e.meanCode,s=e.type,u=void 0===s?vi:s,l=Object.assign({},yi,e.thresholdData),c=u===bi?mi[o]:pi[o];Array.isArray(c)||(c=c[a]);var d=.002*l.zIndex*l.zOffsetScale,f=(r+1)*n[0],h=(i+1)*n[1],p=t[0]+f,g=t[1]+h;if(u===bi){var m=[];return c.forEach((function(e){var t=[];e.forEach((function(e){var r=p+e[0]*n[0],i=g+e[1]*n[1];t.push([r,i,d])})),m.push(t)})),m}var v=[];return c.forEach((function(e){e.forEach((function(e){var t=p+e[0]*n[0],r=g+e[1]*n[1];v.push([t,r,d])}))})),v}function wi(e){return(wi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return!t||"object"!==wi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oi(e,t,n){return(Oi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ti(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pi(e,t){return(Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ii=[255,255,255,255],Di={cellSize:{type:"number",min:1,max:1e3,value:1e3},getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:function(e){return 1}},contours:[{threshold:1}],fp64:!1,zOffsetScale:1},Ai=function(e){function t(){return Ci(this,t),Ei(this,Ti(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pi(e,t)}(t,e),n=t,(i=[{key:"initializeState",value:function(){var e=this.context.gl,t={id:"".concat(this.id,"-gpu-aggregator"),shaderCache:this.context.shaderCache};this.state={contourData:{},gridAggregator:new r._GPUGridAggregator(e,t),colorTrigger:0,strokeWidthTrigger:0}}},{key:"updateState",value:function(e){var t=e.oldProps,n=e.props,r=e.changeFlags,i=!1,o=!1,a=this._getAggregationFlags({oldProps:t,props:n,changeFlags:r});a&&(i=!0,this.setState({countsData:null}),this._aggregateData(a)),this._shouldRebuildContours({oldProps:t,props:n})&&(o=!0,this._updateThresholdData(n)),i||o?this._generateContours():this._updateSubLayerTriggers(t,n)}},{key:"renderLayers",value:function(){var e=this.state.contourData,t=e.contourSegments,n=e.contourPolygons,r=t&&t.length>0,i=n&&n.length>0;return[r&&new Y(this._getLineLayerProps()),i&&new In(this._getSolidPolygonLayerProps())]}},{key:"_aggregateData",value:function(e){var t=this.props,n=t.data,i=t.cellSize,o=t.getPosition,a=t.getWeight,s=t.gpuAggregation,u=t.fp64,l=t.coordinateSystem,c=Object(r._pointToDensityGridData)({data:n,cellSizeMeters:i,getPosition:o,getWeight:a,gpuAggregation:s,gpuGridAggregator:this.state.gridAggregator,fp64:u,coordinateSystem:l,viewport:this.context.viewport,boundingBox:this.state.boundingBox,aggregationFlags:e}),d=c.countsData,f=c.countsBuffer,h=c.gridSize,p=c.gridOrigin,g=c.cellSize,m=c.boundingBox;this.setState({countsData:d,countsBuffer:f,gridSize:h,gridOrigin:p,cellSize:g,boundingBox:m})}},{key:"_generateContours",value:function(){var e=this.state,t=e.gridSize,n=e.gridOrigin,i=e.cellSize,o=e.thresholdData,a=this.state.countsData;a||(a=this.state.countsBuffer.getData(),this.setState({countsData:a}));var s=function(e){var t=e.thresholdData,n=(e.colors,e.cellWeights),r=e.gridSize,i=e.gridOrigin,o=e.cellSize,a=[],s=[],u=r[0],l=r[1];return t.forEach((function(e,t){for(var r=e.threshold,c=-1;c<u;c++)for(var d=-1;d<l;d++){var f=xi({cellWeights:n,threshold:r,x:c,y:d,width:u,height:l}),h=f.code,p=f.meanCode,g={gridOrigin:i,cellSize:o,x:c,y:d,width:u,height:l,code:h,meanCode:p,thresholdData:e};if(Array.isArray(r))g.type=bi,Si(g).forEach((function(e){s.push({vertices:e,threshold:r})}));else{g.type=vi;for(var m=Si(g),v=0;v<m.length;v+=2)a.push({start:m[v],end:m[v+1],threshold:r})}}})),{contourSegments:a,contourPolygons:s}}({thresholdData:o,cellWeights:r._GPUGridAggregator.getCellData({countsData:a}).cellWeights,gridSize:t,gridOrigin:n,cellSize:i});this.setState({contourData:s})}},{key:"_getAggregationFlags",value:function(e){var t=e.oldProps,n=e.props,r=e.changeFlags,i=null;return(r.dataChanged||t.gpuAggregation!==n.gpuAggregation||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPosition))&&(i=Object.assign({},i,{dataChanged:!0})),t.cellSize!==n.cellSize&&(i=Object.assign({},i,{cellSizeChanged:!0})),i}},{key:"_getLineLayerProps",value:function(){var e=this.props.fp64,n=this.state,r=n.colorTrigger,i=n.strokeWidthTrigger;return Oi(Ti(t.prototype),"getSubLayerProps",this).call(this,{id:"contour-line-layer",data:this.state.contourData.contourSegments,fp64:e,getSourcePosition:function(e){return e.start},getTargetPosition:function(e){return e.end},getColor:this._onGetSublayerColor.bind(this),getStrokeWidth:this._onGetSublayerStrokeWidth.bind(this),colorTrigger:r,strokeWidthTrigger:i,updateTriggers:{getColor:r,getStrokeWidth:i}})}},{key:"_getSolidPolygonLayerProps",value:function(){var e=this.props.fp64,n=this.state.colorTrigger;return Oi(Ti(t.prototype),"getSubLayerProps",this).call(this,{id:"contour-solid-polygon-layer",data:this.state.contourData.contourPolygons,fp64:e,getPolygon:function(e){return e.vertices},getFillColor:this._onGetSublayerColor.bind(this),colorTrigger:n,updateTriggers:{getFillColor:n}})}},{key:"_onGetSublayerColor",value:function(e){var t=this.props.contours,n=Ii;return t.forEach((function(t){Object(Or.e)(t.threshold,e.threshold)&&(n=t.color||Ii)})),n}},{key:"_onGetSublayerStrokeWidth",value:function(e){var t=this.props.contours,n=1;return t.some((function(t){return t.threshold===e.threshold&&(n=t.strokeWidth||1,!0)})),n}},{key:"_shouldRebuildContours",value:function(e){var t=e.oldProps,n=e.props;if(!t.contours||!t.zOffsetScale||t.contours.length!==n.contours.length||t.zOffsetScale!==n.zOffsetScale)return!0;var r=t.contours.map((function(e){return e.threshold})),i=n.contours.map((function(e){return e.threshold}));return i.some((function(e,t){return!Object(Or.e)(i[t],r[t])}))}},{key:"_updateSubLayerTriggers",value:function(e,t){if(e&&e.contours&&t&&t.contours){var n=[],r=[],i=[],o=[];e.contours.forEach((function(e){n=n.concat(e.color),i.push(e.strokeWidth||1)})),t.contours.forEach((function(e){r=r.concat(e.color),o.push(e.strokeWidth||1)})),Object(Or.e)(n,r)||this.state.colorTrigger++,Object(Or.e)(i,o)||this.state.strokeWidthTrigger++}}},{key:"_updateThresholdData",value:function(e){var t=e.contours.map((function(t,n){return{threshold:t.threshold,zIndex:t.zIndex||n,zOffsetScale:e.zOffsetScale}}));this.setState({thresholdData:t})}}])&&ki(n.prototype,i),o&&ki(n,o),t}(r.CompositeLayer);Ai.layerName="ContourLayer",Ai.defaultProps=Di},,,,,,,,,,function(e,t,n){"use strict";var r=n(146),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function x(){}function S(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var w=S.prototype=new x;w.constructor=S,r(w,_.prototype),w.isPureReactComponent=!0;var C={current:null},k=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:C.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,I=[];function D(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+j(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+j(s=t[l],l);u+=e(s,c,r,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+j(s,l++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),M(e,F,t=D(t,o,r,i)),A(t)}var L={current:null};function B(){var e=L.current;if(null===e)throw Error(v(321));return e}var z={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,R,t=D(null,null,t,n)),A(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=l,t.PureComponent=S,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(146),o=n(207);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,d=null,f={onError:function(e){u=!0,l=e}};function h(e,t,n,r,i,o,a,c,d){u=!1,l=null,s.apply(f,arguments)}var p=null,g=null,m=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,o,s,f,p){if(h.apply(this,arguments),u){if(!u)throw Error(a(198));var g=l;u=!1,l=null,c||(c=!0,d=g)}}(r,t,void 0,e),e.currentTarget=null}var b=null,y={};function _(){if(b)for(var e in y){var t=y[e],n=b.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(w.hasOwnProperty(u))throw Error(a(99,u));w[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&x(l[i],s,u);i=!0}else o.registrationName?(x(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(C[e])throw Error(a(100,e));C[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],w={},C={},k={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&_()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,P=null,I=null;function D(e){if(e=g(e)){if("function"!==typeof T)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),T(e.stateNode,e.type,t))}}function A(e){P?I?I.push(e):I=[e]:P=e}function M(){if(P){var e=P,t=I;if(I=P=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function j(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function F(){}var N=j,L=!1,B=!1;function z(){null===P&&null===I||(F(),M())}function U(e,t,n){if(B)return e(t,n);B=!0;try{return N(e,t,n)}finally{B=!1,z()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,W={},G={};function K(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,X);q[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,X);q[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,X);q[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(G,e)||!V.call(W,e)&&(H.test(e)?G[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,ue=J?Symbol.for("react.forward_ref"):60112,le=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,he=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case he:return me(e.render);case fe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=me(e.type);n=null,r&&(n=me(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace($,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function we(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ce(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){Ce(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Te(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Ae(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var je="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Le,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Le=Le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ve={},We={};function Ge(e){if(Ve[e])return Ve[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ve[e]=n[t];return e}O&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Ke=Ge("animationend"),qe=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<S.length;u++){var l=S[u];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=rt(s,l))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&qt(e,t)}n.set(e,null)}}var gt,mt,vt,bt=!1,yt=[],_t=null,xt=null,St=null,wt=new Map,Ct=new Map,kt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Tt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Pt(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function It(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Tt(t,n,r,i,o),null!==t&&(null!==(t=Tn(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=On(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Tn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){At(e)&&n.delete(t)}function jt(){for(bt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Tn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==_t&&At(_t)&&(_t=null),null!==xt&&At(xt)&&(xt=null),null!==St&&At(St)&&(St=null),wt.forEach(Mt),Ct.forEach(Mt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function Ft(e){function t(t){return Rt(t,e)}if(0<yt.length){Rt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Rt(_t,e),null!==xt&&Rt(xt,e),null!==St&&Rt(St,e),wt.forEach(t),Ct.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Dt(n),null===n.blockedOn&&kt.shift()}var Nt={},Lt=new Map,Bt=new Map,zt=["abort","abort",Ke,"animationEnd",qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Lt.set(r,o),Nt[i]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(zt,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ht.length;Vt++)Bt.set(Ht[Vt],0);var Wt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Kt=!0;function qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Zt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){L||F();var i=Qt,o=L;L=!0;try{R(i,e,t,n,r)}finally{(L=o)||z()}}function Zt(e,t,n,r){Gt(Wt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Kt)if(0<yt.length&&-1<Et.indexOf(e))e=Tt(null,e,t,n,r),yt.push(e);else{var i=$t(e,t,n,r);if(null===i)Pt(e,r);else if(-1<Et.indexOf(e))e=Tt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=It(_t,e,t,n,r,i),!0;case"dragenter":return xt=It(xt,e,t,n,r,i),!0;case"mouseover":return St=It(St,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return wt.set(o,It(wt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,It(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Pt(e,r),e=ft(e,r,null,t);try{U(ht,e)}finally{dt(e)}}}}function $t(e,t,n,r){if(null!==(n=On(n=ut(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{U(ht,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=je;function un(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function bn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+wn,kn="__reactEventHandlers$"+wn,En="__reactContainere$"+wn;function On(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Cn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Tn(e){return!(e=e[Cn]||e[En])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function In(e){return e[kn]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function An(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=An(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Rn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=An(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&Rn(e._targetInst,null,e)}function Nn(e){it(e,jn)}var Ln=null,Bn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Ln?Ln.value:Ln.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Vn(){return!1}function Wn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Vn,this.isPropagationStopped=Vn,this}function Gn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Kn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=Gn,e.release=Kn}i(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,qn(n),n},qn(Wn);var Yn=Wn.extend({data:null}),Xn=Wn.extend({data:null}),Zn=[9,13,27,32],Qn=O&&"CompositionEvent"in window,$n=null;O&&"documentMode"in document&&($n=document.documentMode);var Jn=O&&"TextEvent"in window&&!$n,er=O&&(!Qn||$n&&8<$n&&11>=$n),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Qn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Un()):(Bn="value"in(Ln=r)?Ln.value:Ln.textContent,ar=!0)),o=Yn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Nn(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&ir(e,t)?(e=Un(),zn=Bn=Ln=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,Nn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Wn.getPooled(cr.change,e,t,n)).type="change",A(n),Nn(e),e}var fr=null,hr=null;function pr(e){st(e)}function gr(e){if(xe(Pn(e)))return e}function mr(e,t){if("change"===e)return t}var vr=!1;function br(){fr&&(fr.detachEvent("onpropertychange",yr),hr=fr=null)}function yr(e){if("value"===e.propertyName&&gr(hr))if(e=dr(hr,e,ut(e)),L)st(e);else{L=!0;try{j(pr,e)}finally{L=!1,z()}}}function _r(e,t,n){"focus"===e?(br(),hr=n,(fr=t).attachEvent("onpropertychange",yr)):"blur"===e&&br()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(hr)}function Sr(e,t){if("click"===e)return gr(t)}function wr(e,t){if("input"===e||"change"===e)return gr(t)}O&&(vr=lt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?Pn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mr;else if(lr(i))if(vr)a=wr;else{a=xr;var s=_r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Sr);if(a&&(a=a(e,t)))return dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},kr=Wn.extend({view:null,detail:null}),Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Tr(){return Or}var Pr=0,Ir=0,Dr=!1,Ar=!1,Mr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ir;return Ir=e.screenY,Ar?"mousemove"===e.type?e.screenY-t:0:(Ar=!0,0)}}),jr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Rr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,u=Rr.mouseLeave,l=Rr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=jr,u=Rr.pointerLeave,l=Rr.pointerEnter,c="pointer");if(e=null==a?o:Pn(a),o=null==t?o:Pn(t),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=s=r;e;e=Dn(e))a++;for(e=0,t=l;t;t=Dn(t))e++;for(;0<a-e;)s=Dn(s),a--;for(;0<e-a;)l=Dn(l),e--;for(;a--;){if(s===l||s===l.alternate)break e;s=Dn(s),l=Dn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)s.push(r),r=Dn(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=Dn(c);for(c=0;c<s.length;c++)Rn(s[c],"bubbled",u);for(c=r.length;0<c--;)Rn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Nr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Lr=Object.prototype.hasOwnProperty;function Br(e,t){if(Nr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Lr.call(t,n[r])||!Nr(e[n[r]],t[n[r]]))return!1;return!0}var zr=O&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Vr=null,Wr=null,Gr=!1;function Kr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gr||null==Hr||Hr!==cn(n)?null:("selectionStart"in(n=Hr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wr&&Br(Wr,n)?null:(Wr=n,(e=Wn.getPooled(Ur.select,Vr,e,t)).type="select",e.target=Hr,Nn(e),e))}var qr={eventTypes:Ur,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Pn(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(Hr=i,Vr=t,Wr=null);break;case"blur":Wr=Vr=Hr=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gr=!1,Kr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Kr(n,r)}return null}},Yr=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zr=kr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=kr.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Mr.extend({dataTransfer:null}),ni=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tr}),ri=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Nt,extractEvents:function(e,t,n,r){var i=Lt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Zr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ke:case qe:case Ye:e=Yr;break;case Xe:e=ri;break;case"scroll":e=kr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Wn}return Nn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=In,g=Tn,m=Pn,E({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Cr,SelectEventPlugin:qr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var ci={},di={current:ci},fi={current:!1},hi=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ui(fi),ui(di)}function vi(e,t,n){if(di.current!==ci)throw Error(a(168));li(di,t),li(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=di.current,li(di,e),li(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),li(di,e)):ui(fi),li(fi,n)}var xi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,wi=o.unstable_cancelCallback,Ci=o.unstable_requestPaint,ki=o.unstable_now,Ei=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Ai={},Mi=o.unstable_shouldYield,ji=void 0!==Ci?Ci:function(){},Ri=null,Fi=null,Ni=!1,Li=ki(),Bi=1e4>Li?ki:function(){return ki()-Li};function zi(){switch(Ei()){case Oi:return 99;case Ti:return 98;case Pi:return 97;case Ii:return 96;case Di:return 95;default:throw Error(a(332))}}function Ui(e){switch(e){case 99:return Oi;case 98:return Ti;case 97:return Pi;case 96:return Ii;case 95:return Di;default:throw Error(a(332))}}function Hi(e,t){return e=Ui(e),xi(e,t)}function Vi(e,t,n){return e=Ui(e),Si(e,t,n)}function Wi(e){return null===Ri?(Ri=[e],Fi=Si(Oi,Ki)):Ri.push(e),Ai}function Gi(){if(null!==Fi){var e=Fi;Fi=null,wi(e)}Ki()}function Ki(){if(!Ni&&null!==Ri){Ni=!0;var e=0;try{var t=Ri;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),Si(Oi,Gi),n}finally{Ni=!1}}}function qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Zi=null,Qi=null,$i=null;function Ji(){$i=Qi=Zi=null}function eo(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Zi=e,$i=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function ro(e,t){if($i!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Zi)throw Error(a(308));Qi=t,Zi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,d=null,f=null,h=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(f=h=g,d=l):h=h.next=g,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"===typeof(m=v.payload)){l=m.call(g,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,l,s):m)||void 0===s)break e;l=i({},l,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===h?d=l:h.next=f,o.baseState=d,o.baseQueue=h,au(c),e.expirationTime=c,e.memoizedState=l}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=Z.ReactCurrentBatchConfig,po=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),i=ho.suspense;(i=so(r=qs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Ys(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ks(),i=ho.suspense;(i=so(r=qs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Ys(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ks(),r=ho.suspense;(r=so(n=qs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),uo(e,r),Ys(e,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function bo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=gi(t)?hi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=gi(t)?hi:di.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Co(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Eu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Tu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Pu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case te:return(t=Iu(t,e.mode,n)).return=e,t}if(xo(t)||ge(t))return(t=Tu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(xo(n)||ge(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||ge(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(i,d,s[g],u);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(i,d),l;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],u))&&(a=o(d,a,g),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=ge(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,g=s,m=s=0,v=null,b=u.next();null!==g&&!b.done;m++,b=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=h(i,g,b.value,l);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y,g=v}if(b.done)return n(i,g),c;if(null===g){for(;!b.done;m++,b=u.next())null!==(b=f(i,b.value,l))&&(s=o(b,s,m),null===d?c=b:d.sibling=b,d=b);return c}for(g=r(i,g);!b.done;m++,b=u.next())null!==(b=p(g,i,m,b.value,l))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=So(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Tu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Ou(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Iu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Pu(o,e.mode,u)).return=e,e=r),s(e);if(xo(o))return g(e,r,o,u);if(ge(o))return m(e,r,o,u);if(c&&wo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ko=Co(!0),Eo=Co(!1),Oo={},To={current:Oo},Po={current:Oo},Io={current:Oo};function Do(e){if(e===Oo)throw Error(a(174));return e}function Ao(e,t){switch(li(Io,t),li(Po,e),li(To,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(To),li(To,t)}function Mo(){ui(To),ui(Po),ui(Io)}function jo(e){Do(Io.current);var t=Do(To.current),n=Ne(t,e.type);t!==n&&(li(Po,e),li(To,n))}function Ro(e){Po.current===e&&(ui(To),ui(Po))}var Fo={current:0};function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lo(e,t){return{responder:e,props:t}}var Bo=Z.ReactCurrentDispatcher,zo=Z.ReactCurrentBatchConfig,Uo=0,Ho=null,Vo=null,Wo=null,Go=!1;function Ko(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nr(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,i,o){if(Uo=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:ba,e=n(r,i),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Vo=null,t.updateQueue=null,Bo.current=ya,e=n(r,i)}while(t.expirationTime===Uo)}if(Bo.current=ma,t=null!==Vo&&null!==Vo.next,Uo=0,Wo=Vo=Ho=null,Go=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Zo(){if(null===Vo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Wo?Ho.memoizedState:Wo.next;if(null!==t)Wo=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Wo?Ho.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Qo(e,t){return"function"===typeof t?t(e):t}function $o(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<Uo){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,c>Ho.expirationTime&&(Ho.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,Nr(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Nr(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ga.bind(null,Ho,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ho.updateQueue)?(t={lastEffect:null},Ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Zo().memoizedState}function ra(e,t,n,r){var i=Xo();Ho.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Zo();r=void 0===r?null:r;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==r&&qo(r,a.deps))return void ta(t,n,o,r)}Ho.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function ca(){}function da(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=zi();Hi(98>r?98:r,(function(){e(!0)})),Hi(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function ga(e,t,n){var r=Ks(),i=ho.suspense;i={expirationTime:r=qs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ho||null!==o&&o===Ho)Go=!0,i.expirationTime=Uo,Ho.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Nr(s,a))return}catch(u){}Ys(e,r)}}var ma={readContext:ro,useCallback:Ko,useContext:Ko,useEffect:Ko,useImperativeHandle:Ko,useLayoutEffect:Ko,useMemo:Ko,useReducer:Ko,useRef:Ko,useState:Ko,useDebugValue:Ko,useResponder:Ko,useDeferredValue:Ko,useTransition:Ko},va={readContext:ro,useCallback:da,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Lo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:$o,useRef:na,useState:function(){return $o(Qo)},useDebugValue:ca,useResponder:Lo,useDeferredValue:function(e,t){var n=$o(Qo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$o(Qo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:ca,useResponder:Lo,useDeferredValue:function(e,t){var n=Jo(Qo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},_a=null,xa=null,Sa=!1;function wa(e,t){var n=Cu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Sa){var t=xa;if(t){var n=t;if(!Ca(e,t)){if(!(t=xn(n.nextSibling))||!Ca(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(_a=e);wa(_a,n)}_a=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,_a=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Oa(e){if(e!==_a)return!1;if(!Sa)return Ea(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!bn(t,e.memoizedProps))for(t=xa;t;)wa(e,t),t=xn(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=_a?xn(e.stateNode.nextSibling):null;return!0}function Ta(){xa=_a=null,Sa=!1}var Pa=Z.ReactCurrentOwner,Ia=!1;function Da(e,t,n,r){t.child=null===e?Eo(t,null,n,r):ko(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Yo(e,t,n,r,o,i),null===e||Ia?(t.effectTag|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||ku(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=Eu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ia=!1,i<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):Fa(e,t,n,r,o)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fa(e,t,n,r,i){var o=gi(n)?hi:di.current;return o=pi(t,o),no(t,i),n=Yo(e,t,n,r,o,i),null===e||Ia?(t.effectTag|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Na(e,t,n,r,i){if(gi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),bo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=pi(t,l=gi(n)?hi:di.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&yo(t,a,r,l),io=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||fi.current||io?("function"===typeof c&&(go(t,n,c,r),u=t.memoizedState),(s=io||vo(t,n,s,r,f,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yi(t.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=gi(n)?hi:di.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&yo(t,a,r,l),io=!1,u=t.memoizedState,a.state=u,co(t,r,a,i),f=t.memoizedState,s!==r||u!==f||fi.current||io?("function"===typeof c&&(go(t,n,c,r),f=t.memoizedState),(c=io||vo(t,n,s,r,u,f,l))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return La(e,t,n,r,o,i)}function La(e,t,n,r,i,o){Ra(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&_i(t,n,!1),Ya(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ao(e,t.containerInfo)}var za,Ua,Ha,Va={dehydrated:null,retryTime:0};function Wa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Fo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Fo,1&a),null===e){if(void 0!==o.fallback&&ka(t),s){if(s=o.fallback,(o=Tu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Tu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Eo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Eu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Eu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=ko(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Tu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Tu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=ko(t,e,o.children,n)}function Ga(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ka(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n);else if(19===e.tag)Ga(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ka(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===No(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ka(t,!0,n,null,o,t.lastEffect);break;case"together":Ka(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Eu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Eu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Za(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Mo(),ui(fi),ui(di),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Oa(t)||(t.effectTag|=4),null;case 5:Ro(t),n=Do(Io.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(To.current),Oa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[kn]=s,o){case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(e=0;e<Ze.length;e++)qt(Ze[e],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"form":qt("reset",r),qt("submit",r);break;case"details":qt("toggle",r);break;case"input":we(r,s),qt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r),un(n,"onChange");break;case"textarea":De(r,s),qt("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):C.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":_e(r),Ee(r,s,!0);break;case"textarea":_e(r),Me(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Fe(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Cn]=t,e[kn]=r,za(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ze.length;l++)qt(Ze[l],e);l=r;break;case"source":qt("error",e),l=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),l=r;break;case"form":qt("reset",e),qt("submit",e),l=r;break;case"details":qt("toggle",e),l=r;break;case"input":we(e,r),l=Se(e,r),qt("invalid",e),un(n,"onChange");break;case"option":l=Te(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),qt("invalid",e),un(n,"onChange");break;case"textarea":De(e,r),l=Ie(e,r),qt("invalid",e),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===s?"string"===typeof d?("textarea"!==o||""!==d)&&ze(e,d):"number"===typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?null!=d&&un(n,s):null!=d&&Q(e,s,d,u))}switch(o){case"input":_e(e),Ee(e,r,!1);break;case"textarea":_e(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Pe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Pe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=ln)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Io.current),Do(To.current),Oa(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return ui(Fo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Oa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?Os===_s&&(Os=xs):(Os!==_s&&Os!==xs||(Os=Ss),0!==As&&null!==Cs&&(Mu(Cs,Es),ju(Cs,As)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mo(),null;case 10:return eo(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(ui(Fo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(Os!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=No(s))){for(t.effectTag|=64,Xa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Fo,1&Fo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=No(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,li(Fo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mo(),ui(fi),ui(di),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ro(e),null;case 13:return ui(Fo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Fo),null;case 4:return Mo(),null;case 10:return eo(e),null;default:return null}}function $a(e,t){return{value:e,source:t,stack:ve(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,l=t.stateNode;switch(Do(To.current),e=null,n){case"input":a=Se(l,a),r=Se(l,r),e=[];break;case"option":a=Te(l,a),r=Te(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ie(l,a),r=Ie(l,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(C.hasOwnProperty(s)?(null!=c&&un(o,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ha=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){bu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof Su&&Su(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){bu(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){bu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,d=l;;)if(as(u,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ce(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Be(n,u):"children"===s?ze(n,u):Q(n,s,u,t)}switch(e){case"input":ke(n,r);break;case"textarea":Ae(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,js=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(a(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_u.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fs||(Fs=!0,Ns=r),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ls?Ls=new Set([this]):Ls.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,bs=Z.ReactCurrentDispatcher,ys=Z.ReactCurrentOwner,_s=0,xs=3,Ss=4,ws=0,Cs=null,ks=null,Es=0,Os=_s,Ts=null,Ps=1073741823,Is=1073741823,Ds=null,As=0,Ms=!1,js=0,Rs=null,Fs=!1,Ns=null,Ls=null,Bs=!1,zs=null,Us=90,Hs=null,Vs=0,Ws=null,Gs=0;function Ks(){return 0!==(48&ws)?1073741821-(Bi()/10|0):0!==Gs?Gs:Gs=1073741821-(Bi()/10|0)}function qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=zi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&ws))return Es;if(null!==n)e=qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Cs&&e===Es&&--e,e}function Ys(e,t){if(50<Vs)throw Vs=0,Ws=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=zi();1073741823===t?0!==(8&ws)&&0===(48&ws)?Js(e):(Qs(e),0===ws&&Gi()):Qs(e),0===(4&ws)||98!==n&&99!==n||(null===Hs?Hs=new Map([[e,t]]):(void 0===(n=Hs.get(e))||n>t)&&Hs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Cs===i&&(au(t),Os===Ss&&Mu(i,Es)),ju(i,t)),i}function Zs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Au(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(Js.bind(null,e));else{var t=Zs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ks();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ai&&wi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(Js.bind(null,e)):Vi(r,$s.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function $s(e,t){if(Gs=0,t)return Ru(e,t=Ks()),Qs(e),null;var n=Zs(e);if(0!==n){if(t=e.callbackNode,0!==(48&ws))throw Error(a(327));if(gu(),e===Cs&&n===Es||nu(e,n),null!==ks){var r=ws;ws|=16;for(var i=iu();;)try{uu();break}catch(u){ru(e,u)}if(Ji(),ws=r,bs.current=i,1===Os)throw t=Ts,nu(e,n),Mu(e,n),Qs(e),t;if(null===ks)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Os,Cs=null,r){case _s:case 1:throw Error(a(345));case 2:Ru(e,2<n?2:n);break;case xs:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(i)),1073741823===Ps&&10<(i=js+500-Bi())){if(Ms){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Zs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(fu.bind(null,e),i);break}fu(e);break;case Ss:if(Mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=du(i)),Ms&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Zs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Is?r=10*(1073741821-Is)-Bi():1073741823===Ps?r=0:(r=10*(1073741821-Ps)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(fu.bind(null,e),r);break}fu(e);break;case 5:if(1073741823!==Ps&&null!==Ds){o=Ps;var s=Ds;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Mu(e,n),e.timeoutHandle=yn(fu.bind(null,e),r);break}}fu(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return $s.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ws))throw Error(a(327));if(gu(),e===Cs&&t===Es||nu(e,t),null!==ks){var n=ws;ws|=16;for(var r=iu();;)try{su();break}catch(i){ru(e,i)}if(Ji(),ws=n,bs.current=r,1===Os)throw n=Ts,nu(e,t),Mu(e,t),Qs(e),n;if(null!==ks)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Cs=null,fu(e),Qs(e)}return null}function eu(e,t){var n=ws;ws|=1;try{return e(t)}finally{0===(ws=n)&&Gi()}}function tu(e,t){var n=ws;ws&=-2,ws|=8;try{return e(t)}finally{0===(ws=n)&&Gi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Mo(),ui(fi),ui(di);break;case 5:Ro(r);break;case 4:Mo();break;case 13:case 19:ui(Fo);break;case 10:eo(r)}n=n.return}Cs=e,ks=Eu(e.current,null),Es=t,Os=_s,Ts=null,Is=Ps=1073741823,Ds=null,As=0,Ms=!1}function ru(e,t){for(;;){try{if(Ji(),Bo.current=ma,Go)for(var n=Ho.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Wo=Vo=Ho=null,Go=!1,null===ks||null===ks.return)return Os=1,Ts=t,ks=null;e:{var i=e,o=ks.return,a=ks,s=t;if(t=Es,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Fo.current),d=o;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var g=d.updateQueue;if(null===g){var m=new Set;m.add(u),d.updateQueue=m}else g.add(u);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,uo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new hs,s=new Set,b.set(u,s)):void 0===(s=b.get(u))&&(s=new Set,b.set(u,s)),!s.has(a)){s.add(a);var y=yu.bind(null,i,u,a);u.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Os&&(Os=2),s=$a(s,a),d=o;do{switch(d.tag){case 3:u=s,d.effectTag|=4096,d.expirationTime=t,lo(d,ps(d,u,t));break e;case 1:u=s;var _=d.type,x=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ls||!Ls.has(x)))){d.effectTag|=4096,d.expirationTime=t,lo(d,gs(d,u,t));break e}}d=d.return}while(null!==d)}ks=cu(ks)}catch(S){t=S;continue}break}}function iu(){var e=bs.current;return bs.current=ma,null===e?ma:e}function ou(e,t){e<Ps&&2<e&&(Ps=e),null!==t&&e<Is&&2<e&&(Is=e,Ds=t)}function au(e){e>As&&(As=e)}function su(){for(;null!==ks;)ks=lu(ks)}function uu(){for(;null!==ks&&!Mi();)ks=lu(ks)}function lu(e){var t=ms(e.alternate,e,Es);return e.memoizedProps=e.pendingProps,null===t&&(t=cu(e)),ys.current=null,t}function cu(e){ks=e;do{var t=ks.alternate;if(e=ks.return,0===(2048&ks.effectTag)){if(t=Za(t,ks,Es),1===Es||1!==ks.childExpirationTime){for(var n=0,r=ks.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ks.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ks.firstEffect),e.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ks:e.firstEffect=ks,e.lastEffect=ks))}else{if(null!==(t=Qa(ks)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ks.sibling))return t;ks=e}while(null!==ks);return Os===_s&&(Os=5),null}function du(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fu(e){var t=zi();return Hi(99,hu.bind(null,e,t)),null}function hu(e,t){do{gu()}while(null!==zs);if(0!==(48&ws))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=du(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Cs&&(ks=Cs=null,Es=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=ws;ws|=32,ys.current=null,gn=Kt;var s=hn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{u.nodeType,d.nodeType}catch(E){u=null;break e}var f=0,h=-1,p=-1,g=0,m=0,v=s,b=null;t:for(;;){for(var y;v!==u||0!==c&&3!==v.nodeType||(h=f+c),v!==d||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)b=v,v=y;for(;;){if(v===s)break t;if(b===u&&++g===c&&(h=f),b===d&&++m===l&&(p=f),null!==(y=v.nextSibling))break;b=(v=b).parentNode}v=y}u=-1===h||-1===p?null:{start:h,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},Kt=!1,Rs=i;do{try{pu()}catch(E){if(null===Rs)throw Error(a(330));bu(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);Rs=i;do{try{for(s=e,u=t;null!==Rs;){var _=Rs.effectTag;if(16&_&&ze(Rs.stateNode,""),128&_){var x=Rs.alternate;if(null!==x){var S=x.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&_){case 2:ls(Rs),Rs.effectTag&=-3;break;case 6:ls(Rs),Rs.effectTag&=-3,ds(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,ds(Rs.alternate,Rs);break;case 4:ds(Rs.alternate,Rs);break;case 8:cs(s,c=Rs,u),ss(c)}Rs=Rs.nextEffect}}catch(E){if(null===Rs)throw Error(a(330));bu(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);if(S=mn,x=hn(),_=S.focusedElem,u=S.selectionRange,x!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&pn(_)&&(x=u.start,void 0===(S=u.end)&&(S=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(S,_.value.length)):(S=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(S=S.getSelection(),c=_.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!S.extend&&s>u&&(c=u,u=s,s=c),c=fn(_,s),d=fn(_,u),c&&d&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==d.node||S.focusOffset!==d.offset)&&((x=x.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),s>u?(S.addRange(x),S.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),S.addRange(x))))),x=[];for(S=_;S=S.parentNode;)1===S.nodeType&&x.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(S=x[_]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Kt=!!gn,mn=gn=null,e.current=n,Rs=i;do{try{for(_=e;null!==Rs;){var w=Rs.effectTag;if(36&w&&os(_,Rs.alternate,Rs),128&w){x=void 0;var C=Rs.ref;if(null!==C){var k=Rs.stateNode;switch(Rs.tag){case 5:x=k;break;default:x=k}"function"===typeof C?C(x):C.current=x}}Rs=Rs.nextEffect}}catch(E){if(null===Rs)throw Error(a(330));bu(Rs,E),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,ji(),ws=o}else e.current=n;if(Bs)Bs=!1,zs=e,Us=t;else for(Rs=i;null!==Rs;)t=Rs.nextEffect,Rs.nextEffect=null,Rs=t;if(0===(t=e.firstPendingTime)&&(Ls=null),1073741823===t?e===Ws?Vs++:(Vs=0,Ws=e):Vs=0,"function"===typeof xu&&xu(n.stateNode,r),Qs(e),Fs)throw Fs=!1,e=Ns,Ns=null,e;return 0!==(8&ws)||Gi(),null}function pu(){for(;null!==Rs;){var e=Rs.effectTag;0!==(256&e)&&ns(Rs.alternate,Rs),0===(512&e)||Bs||(Bs=!0,Vi(97,(function(){return gu(),null}))),Rs=Rs.nextEffect}}function gu(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Hi(e,mu)}}function mu(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&ws))throw Error(a(331));var t=ws;for(ws|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));bu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ws=t,Gi(),!0}function vu(e,t,n){uo(e,t=ps(e,t=$a(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Qs(e)}function bu(e,t){if(3===e.tag)vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ls||!Ls.has(r))){uo(n,e=gs(n,e=$a(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Qs(n);break}}n=n.return}}function yu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Cs===e&&Es===n?Os===Ss||Os===xs&&1073741823===Ps&&Bi()-js<500?nu(e,Es):Ms=!0:Au(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function _u(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=qs(t=Ks(),e,null)),null!==(e=Xs(e,t))&&Qs(e)}ms=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Ia=!0;else{if(r<n){switch(Ia=!1,t.tag){case 3:Ba(t),Ta();break;case 5:if(jo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&yi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(li(Fo,1&Fo.current),null!==(t=Ya(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Fo,Fo.current),!r)return null}return Ya(e,t,n)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,di.current),no(t,n),i=Yo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternalFiber=t,_o(t,r,e,n),t=La(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===de)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Fa(null,t,i,e,n);break e;case 1:t=Na(null,t,i,e,n);break e;case 11:t=Aa(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ta(),t=Ya(e,t,n);else{if((i=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),_a=t,i=Sa=!0),i)for(n=Eo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Da(e,t,r,n),Ta();t=t.child}return t;case 5:return jo(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,bn(r,i)?s=null:null!==o&&bn(r,o)&&(t.effectTag|=16),Ra(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Da(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Wa(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Nr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){t=Ya(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Da(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ma(e,t,i,o=Yi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,yi(t)):e=!1,no(t,n),bo(t,r,i),_o(t,r,i,n),La(null,t,r,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var xu=null,Su=null;function wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Cu(e,t,n,r){return new wu(e,t,n,r)}function ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Eu(e,t){var n=e.alternate;return null===n?((n=Cu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Tu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Cu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=Cu(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=Cu(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case de:s=14;break e;case fe:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Tu(e,t,n,r){return(e=Cu(7,e,r,t)).expirationTime=n,e}function Pu(e,t,n){return(e=Cu(6,e,null,t)).expirationTime=n,e}function Iu(e,t,n){return(t=Cu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Du(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Au(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function ju(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ru(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Fu(e,t,n,r){var i=t.current,o=Ks(),s=ho.suspense;o=qs(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Ys(i,o),o}function Nu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Lu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bu(e,t){Lu(e,t),(e=e.alternate)&&Lu(e,t)}function zu(e,t,n){var r=new Du(e,t,n=null!=n&&!0===n.hydrate),i=Cu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[En]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Et.forEach((function(e){pt(e,t,n)})),Ot.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Nu(a);s.call(e)}}Fu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Nu(a);u.call(e)}}tu((function(){Fu(t,a,e,i)}))}return Nu(a)}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(t))throw Error(a(200));return Vu(e,t,null,n)}zu.prototype.render=function(e){Fu(e,this._internalRoot,null,null)},zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fu(null,e,null,(function(){t[En]=null}))},gt=function(e){if(13===e.tag){var t=qi(Ks(),150,100);Ys(e,t),Bu(e,t)}},mt=function(e){13===e.tag&&(Ys(e,3),Bu(e,3))},vt=function(e){if(13===e.tag){var t=Ks();Ys(e,t=qs(t,e,null)),Bu(e,t)}},T=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=In(r);if(!i)throw Error(a(90));xe(r),ke(r,i)}}}break;case"textarea":Ae(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},j=eu,R=function(e,t,n,r,i){var o=ws;ws|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(ws=o)&&Gi()}},F=function(){0===(49&ws)&&(function(){if(null!==Hs){var e=Hs;Hs=null,e.forEach((function(e,t){Ru(t,e),Qs(t)})),Gi()}}(),gu())},N=function(e,t){var n=ws;ws|=2;try{return e(t)}finally{0===(ws=n)&&Gi()}};var Gu={Events:[Tn,Pn,In,E,w,Nn,function(e){it(e,Fn)},A,M,Qt,st,gu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Su=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:On,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,t.createPortal=Wu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&ws))throw Error(a(187));var n=ws;ws|=1;try{return Hi(99,e.bind(null,t))}finally{ws=n,Gi()}},t.hydrate=function(e,t,n){if(!Uu(t))throw Error(a(200));return Hu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uu(t))throw Error(a(200));return Hu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Hu(null,null,e,!1,(function(){e._reactRootContainer=null,e[En]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Hu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(208)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var b=!1,y=null,_=-1,x=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,C=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();S=e+x;try{y(!0,e)?C.postMessage(null):(b=!1,y=null)}catch(n){throw C.postMessage(null),n}}else b=!1},r=function(e){y=e,b||(b=!0,C.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){g(_),_=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],I=[],D=1,A=null,M=3,j=!1,R=!1,F=!1;function N(e){for(var t=E(I);null!==t;){if(null===t.callback)O(I);else{if(!(t.startTime<=e))break;O(I),t.sortIndex=t.expirationTime,k(P,t)}t=E(I)}}function L(e){if(F=!1,N(e),!R)if(null!==E(P))R=!0,r(B);else{var t=E(I);null!==t&&i(L,t.startTime-e)}}function B(e,n){R=!1,F&&(F=!1,o()),j=!0;var r=M;try{for(N(n),A=E(P);null!==A&&(!(A.expirationTime>n)||e&&!a());){var s=A.callback;if(null!==s){A.callback=null,M=A.priorityLevel;var u=s(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(P)&&O(P),N(n)}else O(P);A=E(P)}if(null!==A)var l=!0;else{var c=E(I);null!==c&&i(L,c.startTime-n),l=!1}return l}finally{A=null,M=r,j=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||j||(R=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return E(P)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:z(e)}else a=z(e),u=s;return e={id:D++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,k(I,e),null===E(P)&&e===E(I)&&(F?o():F=!0,i(L,u-s))):(e.sortIndex=a,k(P,e),R||j||(R=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=E(P);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},,,,,function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])g(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(w(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var l,_="",C=!1,k=["{","}"];(h(n)&&(C=!0,k=["[","]"]),w(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(_=" "+RegExp.prototype.toString.call(n)),x(n)&&(_=" "+Date.prototype.toUTCString.call(n)),S(n)&&(_=" "+d(n)),0!==a.length||C&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=C?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return f(e,n,r,s,t,C)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,k)):k[0]+_+k[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function g(e){return null===e}function m(e){return"number"===typeof e}function v(e){return"string"===typeof e}function b(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===C(e)}function _(e){return"object"===typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===C(e)}function S(e){return _(e)&&("[object Error]"===C(e)||e instanceof Error)}function w(e){return"function"===typeof e}function C(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(o)&&(o=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=_,t.isDate=x,t.isError=S,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(214);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(215),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!==typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(I,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(75))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=n(217)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,r.installParameterDefinitions)(),console.log("luma.gl: WebGL debug support installed")};var r=n(218),i=n(221);("undefined"!==typeof e?e:window).WebGLDebug=i,console.log("luma.gl: WebGL debug support imported")}).call(this,n(59))},function(e,t,n){"use strict";var r=n(219);Object.defineProperty(t,"__esModule",{value:!0}),t.installParameterDefinitions=function(){},t.TEXTURE_PARAMETERS=t.SAMPLER_PARAMETERS=t.RENDERBUFFER_PARAMETERS=t.PROGRAM_PARAMETERS=t.FRAMEBUFFER_STATUS=t.FRAMEBUFFER_ATTACHMENT_PARAMETERS=t.FENCE_SYNC_PARAMETERS=t.BUFFER_PARAMETERS=t.GLboolean=t.GLuint=t.GLint=t.GLfloat=t.GLenum=void 0;var i,o,a,s,u,l,c=r(n(220));t.GLenum="GLenum";t.GLfloat="GLfloat";t.GLint="GLint";t.GLuint="GLint";t.GLboolean="GLboolean";var d=(i={},(0,c.default)(i,34660,{webgl1:0}),(0,c.default)(i,34661,{webgl1:0}),i);t.BUFFER_PARAMETERS=d;t.FENCE_SYNC_PARAMETERS=[37138,37140,37139,37141];t.FRAMEBUFFER_ATTACHMENT_PARAMETERS=[36049,36048,36051,36050,33296,36052,33298,33299,33300,33301,33302,33303,33297];var f=(o={},(0,c.default)(o,36053,"Success. Framebuffer is correctly set up"),(0,c.default)(o,36054,"Framebuffer attachment types mismatched or some attachment point not attachment complete"),(0,c.default)(o,36055,"Framebuffer has no attachment"),(0,c.default)(o,36057,"Framebuffer attachments do not have the same size"),(0,c.default)(o,36061,"Framebuffer attachment format not supported or depth and stencil attachments are not same"),(0,c.default)(o,36182,"Framebuffer attachement SAMPLES differs among renderbuffers, or are mixed with textures"),o);t.FRAMEBUFFER_STATUS=f;var h=(a={},(0,c.default)(a,35712,{webgl1:0}),(0,c.default)(a,35714,{webgl1:0}),(0,c.default)(a,35715,{webgl1:0}),(0,c.default)(a,35717,{webgl1:0}),(0,c.default)(a,35721,{webgl1:0}),(0,c.default)(a,35718,{webgl1:0}),(0,c.default)(a,35967,{webgl2:0}),(0,c.default)(a,35971,{webgl2:0}),(0,c.default)(a,35382,{webgl2:0}),a);t.PROGRAM_PARAMETERS=h;var p=(s={},(0,c.default)(s,36162,{webgl1:0}),(0,c.default)(s,36163,{webgl1:0}),(0,c.default)(s,36164,{type:"GLenum",webgl1:32854}),(0,c.default)(s,36177,{webgl1:0}),(0,c.default)(s,36178,{webgl1:0}),(0,c.default)(s,36176,{webgl1:0}),(0,c.default)(s,36179,{webgl1:0}),(0,c.default)(s,36180,{webgl1:0}),(0,c.default)(s,36181,{webgl1:0}),(0,c.default)(s,36011,{webgl2:1}),s);t.RENDERBUFFER_PARAMETERS=p;var g=(u={},(0,c.default)(u,10240,{webgl2:!0}),(0,c.default)(u,10241,{webgl2:!0}),(0,c.default)(u,10242,{webgl2:!0}),(0,c.default)(u,10243,{webgl2:!0}),(0,c.default)(u,32882,{webgl2:!0}),(0,c.default)(u,33084,{webgl2:!0}),(0,c.default)(u,33085,{webgl2:!0}),(0,c.default)(u,34893,{webgl2:!0}),(0,c.default)(u,34892,{webgl2:!0}),(0,c.default)(u,33082,{webgl2:!0}),(0,c.default)(u,33083,{webgl2:!0}),u);t.SAMPLER_PARAMETERS=g;var m=(l={},(0,c.default)(l,10240,{type:"GLenum",webgl1:9729}),(0,c.default)(l,10241,{type:"GLenum",webgl1:9986}),(0,c.default)(l,10242,{type:"GLenum",webgl1:10497}),(0,c.default)(l,10243,{type:"GLenum",webgl1:10497}),(0,c.default)(l,32882,{type:"GLenum",webgl2:10497}),(0,c.default)(l,33084,{webgl2:0}),(0,c.default)(l,33085,{webgl2:1e3}),(0,c.default)(l,34893,{type:"GLenum",webgl2:515}),(0,c.default)(l,34892,{type:"GLenum",webgl2:0}),(0,c.default)(l,33082,{webgl2:-1e3}),(0,c.default)(l,33083,{webgl2:1e3}),(0,c.default)(l,4096,{webgl1:0}),(0,c.default)(l,4097,{webgl1:0}),l);t.TEXTURE_PARAMETERS=m},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){(function(t){WebGLDebugUtils=function(){var e;"undefined"==typeof e&&(e=t);var n=function(t){e.console&&e.console.error?e.console.error(t):function(t){e.console&&e.console.log&&e.console.log(t)}(t)},r={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},bindBuffer:{2:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}},bufferData:{3:{0:!0,2:!0},4:{0:!0,2:!0},5:{0:!0,2:!0}},bufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},copyBufferSubData:{5:{0:!0,1:!0}},getBufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},blitFramebuffer:{10:{8:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]},9:!0}},framebufferTextureLayer:{5:{0:!0,1:!0}},invalidateFramebuffer:{2:{0:!0}},invalidateSubFramebuffer:{6:{0:!0}},readBuffer:{1:{0:!0}},getInternalformatParameter:{3:{0:!0,1:!0,2:!0}},renderbufferStorageMultisample:{5:{0:!0,2:!0}},texStorage2D:{5:{0:!0,2:!0}},texStorage3D:{6:{0:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0},10:{0:!0,2:!0,6:!0,7:!0}},texImage3D:{10:{0:!0,2:!0,7:!0,8:!0},11:{0:!0,2:!0,7:!0,8:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0},10:{0:!0,6:!0,7:!0}},texSubImage3D:{11:{0:!0,8:!0,9:!0},12:{0:!0,8:!0,9:!0}},copyTexSubImage3D:{9:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0},8:{0:!0,2:!0},9:{0:!0,2:!0}},compressedTexImage3D:{8:{0:!0,2:!0},9:{0:!0,2:!0},10:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0},9:{0:!0,6:!0},10:{0:!0,6:!0}},compressedTexSubImage3D:{10:{0:!0,8:!0},11:{0:!0,8:!0},12:{0:!0,8:!0}},vertexAttribIPointer:{5:{2:!0}},drawArraysInstanced:{4:{0:!0}},drawElementsInstanced:{5:{0:!0,2:!0}},drawRangeElements:{6:{0:!0,4:!0}},readPixels:{7:{4:!0,5:!0},8:{4:!0,5:!0}},clearBufferfv:{3:{0:!0},4:{0:!0}},clearBufferiv:{3:{0:!0},4:{0:!0}},clearBufferuiv:{3:{0:!0},4:{0:!0}},clearBufferfi:{4:{0:!0}},beginQuery:{2:{0:!0}},endQuery:{1:{0:!0}},getQuery:{2:{0:!0,1:!0}},getQueryParameter:{2:{1:!0}},samplerParameteri:{3:{1:!0,2:!0}},samplerParameterf:{3:{1:!0}},getSamplerParameter:{2:{1:!0}},fenceSync:{2:{0:!0,1:{enumBitwiseOr:[]}}},clientWaitSync:{3:{1:{enumBitwiseOr:["SYNC_FLUSH_COMMANDS_BIT"]}}},waitSync:{3:{1:{enumBitwiseOr:[]}}},getSyncParameter:{2:{1:!0}},bindTransformFeedback:{2:{0:!0}},beginTransformFeedback:{1:{0:!0}},transformFeedbackVaryings:{3:{2:!0}},bindBufferBase:{3:{0:!0}},bindBufferRange:{5:{0:!0}},getIndexedParameter:{2:{0:!0}},getActiveUniforms:{3:{2:!0}},getActiveUniformBlockParameter:{3:{2:!0}}},i=null,o=null;function a(e){if(null==i)for(var t in i={},o={},e)"number"==typeof e[t]&&(i[e[t]]=t,o[t]=e[t])}function s(){if(null==i)throw"WebGLDebugUtils.init(ctx) not called"}function u(e){s();var t=i[e];return void 0!==t?"gl."+t:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function l(e,t,n,i){var a;if(void 0!==(a=r[e])&&(void 0!==(a=a[t])&&a[n])){if("object"===typeof a[n]&&void 0!==a[n].enumBitwiseOr){for(var s=a[n].enumBitwiseOr,l=0,c=[],d=0;d<s.length;++d){var f=o[s[d]];0!==(i&f)&&(l|=f,c.push(u(f)))}return l===i?c.join(" | "):u(i)}return u(i)}return null===i?"null":void 0===i?"undefined":i.toString()}function c(e,t,n){e.__defineGetter__(n,(function(){return t[n]})),e.__defineSetter__(n,(function(e){t[n]=e}))}function d(e){var t=!!e.createTransformFeedback;t&&e.bindVertexArray(null);var n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var i=0;i<n;++i)e.disableVertexAttribArray(i),e.vertexAttribPointer(i,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(i,0),t&&e.vertexAttribDivisor(i,0);e.deleteBuffer(r);var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(i=0;i<o;++i)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null),t&&(e.bindTexture(e.TEXTURE_2D_ARRAY,null),e.bindTexture(e.TEXTURE_3D,null),e.bindSampler(i,null));if(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),t){e.drawBuffers([e.BACK]),e.readBuffer(e.BACK),e.bindBuffer(e.COPY_READ_BUFFER,null),e.bindBuffer(e.COPY_WRITE_BUFFER,null),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null);var a=e.getParameter(e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS);for(i=0;i<a;++i)e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,i,null);var s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);for(i=0;i<s;++i)e.bindBufferBase(e.UNIFORM_BUFFER,i,null);e.disable(e.RASTERIZER_DISCARD),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.pixelStorei(e.UNPACK_ROW_LENGTH,0),e.pixelStorei(e.UNPACK_SKIP_ROWS,0),e.pixelStorei(e.UNPACK_SKIP_PIXELS,0),e.pixelStorei(e.PACK_ROW_LENGTH,0),e.pixelStorei(e.PACK_SKIP_ROWS,0),e.pixelStorei(e.PACK_SKIP_PIXELS,0),e.hint(e.FRAGMENT_SHADER_DERIVATIVE_HINT,e.DONT_CARE)}for(;e.getError(););}return{init:a,mightBeEnum:function(e){return s(),void 0!==i[e]},glEnumToString:u,glFunctionArgToString:l,glFunctionArgsToString:function(e,t){for(var n="",r=t.length,i=0;i<r;++i)n+=(0==i?"":", ")+l(e,r,i,t[i]);return n},makeDebugContext:function e(t,r,i,o){o=o||t,a(t),r=r||function(e,t,r){for(var i="",o=r.length,a=0;a<o;++a)i+=(0==a?"":", ")+l(t,o,a,r[a]);n("WebGL error "+u(e)+" in "+t+"("+i+")")};var s={};function d(e,t){return function(){i&&i(t,arguments);var n=e[t].apply(e,arguments),a=o.getError();return 0!=a&&(s[a]=!0,r(a,t,arguments)),n}}var f={};for(var h in t)if("function"==typeof t[h])if("getExtension"!=h)f[h]=d(t,h);else{var p=d(t,h);f[h]=function(){var n=p.apply(t,arguments);return n?e(n,r,i,o):null}}else c(f,t,h);return f.getError=function(){for(var e in s)if(s.hasOwnProperty(e)&&s[e])return s[e]=!1,e;return t.NO_ERROR},f},makeLostContextSimulatingCanvas:function(t){var n,r,i,o=[],a=[],s={},u=1,l=!1,f=[],h=0,p=0,g=!1,m=0,v={};function b(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}t.getContext=(i=t.getContext,function(){var o=i.apply(t,arguments);if(o instanceof WebGLRenderingContext||e.WebGL2RenderingContext&&o instanceof WebGL2RenderingContext){if(o!=n){if(n)throw"got different context";r=e.WebGL2RenderingContext&&o instanceof WebGL2RenderingContext,s=C(n=o)}return s}return o});var y=function(e){o.push(b(e))},_=function(e){a.push(b(e))};function x(){++p,l||h==p&&t.loseContext()}function S(e,t){var n=e[t];return function(){if(x(),!l){var t=n.apply(e,arguments);return t}}}function w(e){return{statusMessage:e,preventDefault:function(){g=!0}}}return function(e){var t=e.addEventListener;e.addEventListener=function(n,r,i){switch(n){case"webglcontextlost":y(r);break;case"webglcontextrestored":_(r);break;default:t.apply(e,arguments)}}}(t),t.loseContext=function(){if(!l){for(l=!0,h=0,++u;n.getError(););!function(){for(var e=Object.keys(v),t=0;t<e.length;++t)delete v[e[t]]}(),v[n.CONTEXT_LOST_WEBGL]=!0;var e=w("context lost"),r=o.slice();setTimeout((function(){for(var n=0;n<r.length;++n)r[n](e);m>=0&&setTimeout((function(){t.restoreContext()}),m)}),0)}},t.restoreContext=function(){l&&a.length&&setTimeout((function(){if(!g)throw"can not restore. webglcontestlost listener did not call event.preventDefault";!function(){for(var e=0;e<f.length;++e){var t=f[e];t instanceof WebGLBuffer?n.deleteBuffer(t):t instanceof WebGLFramebuffer?n.deleteFramebuffer(t):t instanceof WebGLProgram?n.deleteProgram(t):t instanceof WebGLRenderbuffer?n.deleteRenderbuffer(t):t instanceof WebGLShader?n.deleteShader(t):t instanceof WebGLTexture?n.deleteTexture(t):r&&(t instanceof WebGLQuery?n.deleteQuery(t):t instanceof WebGLSampler?n.deleteSampler(t):t instanceof WebGLSync?n.deleteSync(t):t instanceof WebGLTransformFeedback?n.deleteTransformFeedback(t):t instanceof WebGLVertexArrayObject&&n.deleteVertexArray(t))}}(),d(n),l=!1,p=0,g=!1;for(var e=a.slice(),t=w("context restored"),i=0;i<e.length;++i)e[i](t)}),0)},t.loseContextInNCalls=function(e){if(l)throw"You can not ask a lost contet to be lost";h=p+e},t.getNumCalls=function(){return p},t.setRestoreTimeout=function(e){m=e},t;function C(e){for(var t in e)"function"==typeof e[t]?s[t]=S(e,t):c(s,e,t);s.getError=function(){if(x(),!l)for(;e=n.getError();)v[e]=!0;for(var e in v)if(v[e])return delete v[e],e;return s.NO_ERROR};var i=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"];r&&i.push("createQuery","createSampler","fenceSync","createTransformFeedback","createVertexArray");for(var o=0;o<i.length;++o){var a=i[o];s[a]=function(t){return function(){if(x(),l)return null;var n=t.apply(e,arguments);return n.__webglDebugContextLostId__=u,f.push(n),n}}(e[a])}var d=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];r&&d.push("getInternalformatParameter","getQuery","getQueryParameter","getSamplerParameter","getSyncParameter","getTransformFeedbackVarying","getIndexedParameter","getUniformIndices","getActiveUniforms","getActiveUniformBlockParameter","getActiveUniformBlockName");for(o=0;o<d.length;++o){a=d[o];s[a]=function(t){return function(){return x(),l?null:t.apply(e,arguments)}}(s[a])}var h=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];r&&h.push("isQuery","isSampler","isSync","isTransformFeedback","isVertexArray");for(o=0;o<h.length;++o){a=h[o];s[a]=function(t){return function(){return x(),!l&&t.apply(e,arguments)}}(s[a])}return s.checkFramebufferStatus=function(t){return function(){return x(),l?s.FRAMEBUFFER_UNSUPPORTED:t.apply(e,arguments)}}(s.checkFramebufferStatus),s.getAttribLocation=function(t){return function(){return x(),l?-1:t.apply(e,arguments)}}(s.getAttribLocation),s.getVertexAttribOffset=function(t){return function(){return x(),l?0:t.apply(e,arguments)}}(s.getVertexAttribOffset),s.isContextLost=function(){return l},r&&(s.getFragDataLocation=function(t){return function(){return x(),l?-1:t.apply(e,arguments)}}(s.getFragDataLocation),s.clientWaitSync=function(t){return function(){return x(),l?s.WAIT_FAILED:t.apply(e,arguments)}}(s.clientWaitSync),s.getUniformBlockIndex=function(t){return function(){return x(),l?s.INVALID_INDEX:t.apply(e,arguments)}}(s.getUniformBlockIndex)),s}},resetToInitialState:d}}(),e.exports=WebGLDebugUtils}).call(this,n(59))},function(e,t,n){"use strict";e.exports={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof c?t:c,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var l={};function c(){}function d(){}function f(){}var h={};h[i]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(w([])));g&&g!==t&&n.call(g,i)&&(h=g);var m=f.prototype=c.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function w(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=m.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(m),m[a]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){var r=n(225),i=n(226),o=n(227);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return H(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return x(e,t,n,r)}function w(e,t,n,r){return H(U(t),e,n,r)}function C(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(59))},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(229)),i=d(n(230)),o=d(n(231)),a=d(n(232)),s=d(n(233)),u=d(n(234)),l=d(n(235)),c=d(n(236));function d(e){return e&&e.__esModule?e:{default:e}}(0,i.default)(r.default),(0,o.default)(r.default),(0,a.default)(r.default),(0,s.default)(r.default),(0,u.default)(r.default),(0,l.default)(r.default),(0,c.default)(r.default),t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={astral:!1},i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o={},a={},s={},u=[],l={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},c=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,d=void 0===i.exec.call(/()??/,"")[1],f=void 0!==/x/.flags,h={}.toString;function p(e){var t=!0;try{new RegExp("",e)}catch(n){t=!1}return t}var g=p("u"),m=p("y"),v={g:!0,i:!0,m:!0,u:g,y:m};function b(e,t,n,r,i){var o=void 0;if(e.xregexp={captureNames:t},i)return e;if(e.__proto__)e.__proto__=D.prototype;else for(o in D.prototype)e[o]=D.prototype[o];return e.xregexp.source=n,e.xregexp.flags=r?r.split("").sort().join(""):r,e}function y(e){return i.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function _(e,t){if(!D.isRegExp(e))throw new TypeError("Type RegExp expected");var n=e.xregexp||{},r=function(e){return f?e.flags:i.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}(e),o="",a="",s=null,u=null;return(t=t||{}).removeG&&(a+="g"),t.removeY&&(a+="y"),a&&(r=i.replace.call(r,new RegExp("["+a+"]+","g"),"")),t.addG&&(o+="g"),t.addY&&(o+="y"),o&&(r=y(r+o)),t.isInternalOnly||(void 0!==n.source&&(s=n.source),null!=n.flags&&(u=o?y(n.flags+o):n.flags)),e=b(new RegExp(t.source||e.source,r),function(e){return!(!e.xregexp||!e.xregexp.captureNames)}(e)?n.captureNames.slice(0):null,s,u,t.isInternalOnly)}function x(e){return parseInt(e,16)}function S(e,t,n){return"("===e.input[e.index-1]||")"===e.input[e.index+e[0].length]||function(e,t,n){return i.test.call(-1!==n.indexOf("x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}(e.input,e.index+e[0].length,n)?"":"(?:)"}function w(e){return parseInt(e,10).toString(16)}function C(e,t){return h.call(e)==="[object "+t+"]"}function k(e){for(;e.length<4;)e="0"+e;return e}function E(e){var t={};return C(e,"String")?(D.forEach(e,/[^\s,]+/,(function(e){t[e]=!0})),t):e}function O(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");v[e]=!0}function T(e,t,n,r,i){for(var o=u.length,a=e[n],s=null,l=void 0,c=void 0;o--;)if(!((c=u[o]).leadChar&&c.leadChar!==a||c.scope!==r&&"all"!==c.scope||c.flag&&-1===t.indexOf(c.flag))&&(l=D.exec(e,c.regex,n,"sticky"))){s={matchLength:l[0].length,output:c.handler.call(i,l,r,t),reparse:c.reparse};break}return s}function P(e){r.astral=e}function I(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function D(e,t){if(D.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return _(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),D.isInstalled("astral")&&-1===t.indexOf("A")&&(t+="A"),s[e]||(s[e]={}),!s[e][t]){for(var n={hasNamedCapture:!1,captureNames:[]},r="default",o="",a=0,u=void 0,c=function(e,t){var n=void 0;if(y(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=i.replace.call(e,/^\(\?([\w$]+)\)/,(function(e,n){if(i.test.call(/[gy]/,n))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=y(t+n),""})),n=0;n<t.length;++n)if(!v[t[n]])throw new SyntaxError("Unknown regex flag "+t[n]);return{pattern:e,flags:t}}(e,t),d=c.pattern,f=c.flags;a<d.length;){do{(u=T(d,f,a,r,n))&&u.reparse&&(d=d.slice(0,a)+u.output+d.slice(a+u.matchLength))}while(u&&u.reparse);if(u)o+=u.output,a+=u.matchLength||1;else{var h=D.exec(d,l[r],a,"sticky")[0];o+=h,a+=h.length,"["===h&&"default"===r?r="class":"]"===h&&"class"===r&&(r="default")}}s[e][t]={pattern:i.replace.call(o,/(?:\(\?:\))+/g,"(?:)"),flags:i.replace.call(f,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var p=s[e][t];return b(new RegExp(p.pattern,p.flags),p.captures,e,t)}D.prototype=/(?:)/,D.version="4.0.0",D._clipDuplicates=y,D._hasNativeFlag=p,D._dec=x,D._hex=w,D._pad4=k,D.addToken=function(e,t,n){var r=(n=n||{}).optionalFlags,o=void 0;if(n.flag&&O(n.flag),r)for(r=i.split.call(r,""),o=0;o<r.length;++o)O(r[o]);u.push({regex:_(e,{addG:!0,addY:m,isInternalOnly:!0}),handler:t,scope:n.scope||"default",flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),D.cache.flush("patterns")},D.cache=function(e,t){return a[e]||(a[e]={}),a[e][t]||(a[e][t]=D(e,t))},D.cache.flush=function(e){"patterns"===e?s={}:a={}},D.escape=function(e){return i.replace.call(I(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},D.exec=function(e,t,n,r){var i,a="g",s=!1,u=void 0;(i=m&&!!(r||t.sticky&&!1!==r))?a+="y":r&&(s=!0,a+="FakeY"),t.xregexp=t.xregexp||{};var l=t.xregexp[a]||(t.xregexp[a]=_(t,{addG:!0,addY:i,source:s?t.source+"|()":void 0,removeY:!1===r,isInternalOnly:!0}));return n=n||0,l.lastIndex=n,u=o.exec.call(l,e),s&&u&&""===u.pop()&&(u=null),t.global&&(t.lastIndex=u?l.lastIndex:0),u},D.forEach=function(e,t,n){for(var r=0,i=-1,o=void 0;o=D.exec(e,t,r);)n(o,++i,e,t),r=o.index+(o[0].length||1)},D.globalize=function(e){return _(e,{addG:!0})},D.install=function(e){e=E(e),!r.astral&&e.astral&&P(!0)},D.isInstalled=function(e){return!!r[e]},D.isRegExp=function(e){return"[object RegExp]"===h.call(e)},D.match=function(e,t,n){var r=t.global&&"one"!==n||"all"===n,o=(r?"g":"")+(t.sticky?"y":"")||"noGY";t.xregexp=t.xregexp||{};var a=t.xregexp[o]||(t.xregexp[o]=_(t,{addG:!!r,removeG:"one"===n,isInternalOnly:!0})),s=i.match.call(I(e),a);return t.global&&(t.lastIndex="one"===n&&s?s.index+s[0].length:0),r?s||[]:s&&s[0]},D.matchChain=function(e,t){return function e(n,r){var i=t[r].regex?t[r]:{regex:t[r]},o=[];function a(e){if(i.backref){if(!(e.hasOwnProperty(i.backref)||+i.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+i.backref);o.push(e[i.backref]||"")}else o.push(e[0])}for(var s=0;s<n.length;++s)D.forEach(n[s],i.regex,a);return r!==t.length-1&&o.length?e(o,r+1):o}([e],0)},D.replace=function(e,t,n,r){var i=D.isRegExp(t),a=t.global&&"one"!==r||"all"===r,s=(a?"g":"")+(t.sticky?"y":"")||"noGY",u=t;i?(t.xregexp=t.xregexp||{},u=t.xregexp[s]||(t.xregexp[s]=_(t,{addG:!!a,removeG:"one"===r,isInternalOnly:!0}))):a&&(u=new RegExp(D.escape(String(t)),"g"));var l=o.replace.call(I(e),u,n);return i&&t.global&&(t.lastIndex=0),l},D.replaceEach=function(e,t){var n=void 0,r=void 0;for(n=0;n<t.length;++n)r=t[n],e=D.replace(e,r[0],r[1],r[2]);return e},D.split=function(e,t,n){return o.split.call(I(e),t,n)},D.test=function(e,t,n,r){return!!D.exec(e,t,n,r)},D.uninstall=function(e){e=E(e),r.astral&&e.astral&&P(!1)},D.union=function(e,t,n){var r=(n=n||{}).conjunction||"or",o=0,a=void 0,s=void 0;function u(e,t,n){var r=s[o-a];if(t){if(++o,r)return"(?<"+r+">"}else if(n)return"\\"+(+n+a);return e}if(!C(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var l=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],d=void 0,f=0;f<e.length;++f)d=e[f],D.isRegExp(d)?(a=o,s=d.xregexp&&d.xregexp.captureNames||[],c.push(i.replace.call(D(d.source).source,l,u))):c.push(D.escape(d));var h="none"===r?"":"|";return D(c.join(h),t)},o.exec=function(e){var t=this.lastIndex,n=i.exec.apply(this,arguments);if(n){if(!d&&n.length>1&&-1!==n.indexOf("")){var r=_(this,{removeG:!0,isInternalOnly:!0});i.replace.call(String(e).slice(n.index),r,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=t.length,o=1;o<i-2;++o)void 0===t[o]&&(n[o]=void 0)}))}if(this.xregexp&&this.xregexp.captureNames)for(var o=1;o<n.length;++o){var a=this.xregexp.captureNames[o-1];a&&(n[a]=n[o])}this.global&&!n[0].length&&this.lastIndex>n.index&&(this.lastIndex=n.index)}return this.global||(this.lastIndex=t),n},o.test=function(e){return!!o.exec.call(this,e)},o.match=function(e){if(D.isRegExp(e)){if(e.global){var t=i.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return o.exec.call(e,I(this))},o.replace=function(e,t){var n=D.isRegExp(e),r=void 0,o=void 0,a=void 0;return n?(e.xregexp&&(o=e.xregexp.captureNames),r=e.lastIndex):e+="",a=C(t,"Function")?i.replace.call(String(this),e,(function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];if(o){i[0]=new String(i[0]);for(var s=0;s<o.length;++s)o[s]&&(i[0][o[s]]=i[s+1])}return n&&e.global&&(e.lastIndex=i[i.length-2]+i[0].length),t.apply(void 0,i)})):i.replace.call(null==this?this:String(this),e,(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i.replace.call(String(t),c,a);function a(e,t,r,i){if(t=t||r){var a=+t;if(a<=n.length-3)return n[a]||"";if((a=o?o.indexOf(t):-1)<0)throw new SyntaxError("Backreference to undefined group "+e);return n[a+1]||""}if("$"===i)return"$";if("&"===i||0===+i)return n[0];if("`"===i)return n[n.length-1].slice(0,n[n.length-2]);if("'"===i)return n[n.length-1].slice(n[n.length-2]+n[0].length);if(i=+i,!isNaN(i)){if(i>n.length-3)throw new SyntaxError("Backreference to undefined group "+e);return n[i]||""}throw new SyntaxError("Invalid token "+e)}})),n&&(e.global?e.lastIndex=0:e.lastIndex=r),a},o.split=function(e,t){if(!D.isRegExp(e))return i.split.apply(this,arguments);var n=String(this),r=[],o=e.lastIndex,a=0,s=void 0;return t=(void 0===t?-1:t)>>>0,D.forEach(n,e,(function(e){e.index+e[0].length>a&&(r.push(n.slice(a,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(r,e.slice(1)),s=e[0].length,a=e.index+s)})),a===n.length?i.test.call(e,"")&&!s||r.push(""):r.push(n.slice(a)),e.lastIndex=o,r.length>t?r.slice(0,t):r},D.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,t){if("B"===e[1]&&"default"===t)return e[0];throw new SyntaxError("Invalid escape "+e[0])}),{scope:"all",leadChar:"\\"}),D.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,t,n){var r=x(e[1]);if(r>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(r<=65535)return"\\u"+k(w(r));if(g&&-1!==n.indexOf("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),D.addToken(/\[(\^?)\]/,(function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),D.addToken(/\(\?#[^)]*\)/,S,{leadChar:"("}),D.addToken(/\s+|#[^\n]*\n?/,S,{flag:"x"}),D.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),D.addToken(/\\k<([\w$]+)>/,(function(e){var t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(n===e.input.length||isNaN(e.input[n])?"":"(?:)")}),{leadChar:"\\"}),D.addToken(/\\(\d+)/,(function(e,t){if(!("default"===t&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]}),{scope:"all",leadChar:"\\"}),D.addToken(/\(\?P?<([\w$]+)>/,(function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(-1!==this.captureNames.indexOf(e[1]))throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),D.addToken(/\((?!\?)/,(function(e,t,n){return-1!==n.indexOf("n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("}),t.default=D,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,n=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,t],"g",{conjunction:"or"});function r(e){var t=/^(?:\(\?:\))*\^/,n=/\$(?:\(\?:\))*$/;return t.test(e)&&n.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(n,""):e}function i(t,n){var r=n?"x":"";return e.isRegExp(t)?t.xregexp&&t.xregexp.captureNames?t:e(t.source,r):e(t,r)}function o(t){return t instanceof RegExp?t:e.escape(t)}function a(e,t,n){return e["subpattern"+n]=t,e}function s(e,t,n){return e+(t<n.length-1?"{{subpattern"+t+"}}":"")}e.tag=function(t){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];var l=i.map(o).reduce(a,{}),c=n.raw.map(s).join("");return e.build(c,l,t)}},e.build=function(o,a,s){var u=-1!==(s=s||"").indexOf("x"),l=/^\(\?([\w$]+)\)/.exec(o);l&&(s=e._clipDuplicates(s+l[1]));var c={};for(var d in a)if(a.hasOwnProperty(d)){var f=i(a[d],u);c[d]={pattern:r(f.source),names:f.xregexp.captureNames||[]}}var h=i(o,u),p=0,g=void 0,m=0,v=[0],b=h.xregexp.captureNames||[],y=h.source.replace(n,(function(e,n,r,i,o){var a=n||r,s=void 0,u=void 0,l=void 0;if(a){if(!c.hasOwnProperty(a))throw new ReferenceError("Undefined property "+e);return n?(s=b[m],v[++m]=++p,u="(?<"+(s||a)+">"):u="(?:",g=p,""+u+c[a].pattern.replace(t,(function(e,t,n){if(t){if(s=c[a].names[p-g],++p,s)return"(?<"+s+">"}else if(n)return l=+n-1,c[a].names[l]?"\\k<"+c[a].names[l]+">":"\\"+(+n+g);return e}))+")"}if(i){if(s=b[m],v[++m]=++p,s)return"(?<"+s+">"}else if(o)return b[l=+o-1]?"\\k<"+b[l]+">":"\\"+v[+o];return e}));return e(y,s)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,n,r){return{name:e,value:t,start:n,end:r}}e.matchRecursive=function(n,r,i,o,a){a=a||{};var s=-1!==(o=o||"").indexOf("g"),u=-1!==o.indexOf("y"),l=o.replace(/y/g,""),c=a.escapeChar,d=a.valueNames,f=[],h=0,p=0,g=0,m=0,v=void 0,b=void 0,y=void 0,_=void 0,x=void 0;if(r=e(r,l),i=e(i,l),c){if(c.length>1)throw new Error("Cannot use more than one escape character");c=e.escape(c),x=new RegExp("(?:"+c+"[\\S\\s]|(?:(?!"+e.union([r,i],"",{conjunction:"or"}).source+")[^"+c+"])+)+",o.replace(/[^imu]+/g,""))}for(;;){if(c&&(g+=(e.exec(n,x,g,"sticky")||[""])[0].length),y=e.exec(n,r,g),_=e.exec(n,i,g),y&&_&&(y.index<=_.index?_=null:y=null),y||_)g=(p=(y||_).index)+(y||_)[0].length;else if(!h)break;if(u&&!h&&p>m)break;if(y)h||(v=p,b=g),++h;else{if(!_||!h)throw new Error("Unbalanced delimiter found in string");if(!--h&&(d?(d[0]&&v>m&&f.push(t(d[0],n.slice(m,v),m,v)),d[1]&&f.push(t(d[1],n.slice(v,b),v,b)),d[2]&&f.push(t(d[2],n.slice(b,p),b,p)),d[3]&&f.push(t(d[3],n.slice(p,g),p,g))):f.push(n.slice(b,p)),m=g,!s))break}p===g&&++g}return s&&!u&&d&&d[0]&&n.length>m&&f.push(t(d[0],n.slice(m),m,n.length)),f}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},n=e._dec,r=e._hex,i=e._pad4;function o(e){return e.replace(/[- _]+/g,"").toLowerCase()}function a(e){var t=/^\\[xu](.+)/.exec(e);return t?n(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function s(n){return t[n]["b!"]||(t[n]["b!"]=function(t){var n="",o=-1;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(e){var t=a(e[1]);t>o+1&&(n+="\\u"+i(r(o+1)),t>o+2&&(n+="-\\u"+i(r(t-1)))),o=a(e[2]||e[1])})),o<65535&&(n+="\\u"+i(r(o+1)),o<65534&&(n+="-\\uFFFF")),n}(t[n].bmp))}function u(e,n){var r=n?"a!":"a=";return t[e][r]||(t[e][r]=function(e,n){var r=t[e],i="";return r.bmp&&!r.isBmpLast&&(i="["+r.bmp+"]"+(r.astral?"|":"")),r.astral&&(i+=r.astral),r.isBmpLast&&r.bmp&&(i+=(r.astral?"|":"")+"["+r.bmp+"]"),n?"(?:(?!"+i+")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-\uffff]))":"(?:"+i+")"}(e,n))}e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(e,n,r){var i="P"===e[1]||!!e[2],a=-1!==r.indexOf("A"),l=o(e[4]||e[3]),c=t[l];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!t.hasOwnProperty(l))throw new SyntaxError("Unknown Unicode token "+e[0]);if(c.inverseOf){if(l=o(c.inverseOf),!t.hasOwnProperty(l))throw new ReferenceError("Unicode token missing data "+e[0]+" -> "+c.inverseOf);c=t[l],i=!i}if(!c.bmp&&!a)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(a){if("class"===n)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return u(l,i)}return"class"===n?i?s(l):c.bmp:(i?"[^":"[")+c.bmp+"]"}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(n){for(var r=void 0,i=0;i<n.length;++i){if(!(r=n[i]).name)throw new Error("Unicode token requires name");if(!(r.inverseOf||r.bmp||r.astral))throw new Error("Unicode token has no character data "+r.name);t[o(r.name)]=r,r.alias&&(t[o(r.alias)]=r)}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var n=o(e);return t[n]}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData([{name:"InAdlam",astral:"\ud83a[\udd00-\udd5f]"},{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"\ufb00-\ufb4f"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"\u0600-\u06ff"},{name:"InArabic_Extended_A",bmp:"\u08a0-\u08ff"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"\ufb50-\ufdff"},{name:"InArabic_Presentation_Forms_B",bmp:"\ufe70-\ufeff"},{name:"InArabic_Supplement",bmp:"\u0750-\u077f"},{name:"InArmenian",bmp:"\u0530-\u058f"},{name:"InArrows",bmp:"\u2190-\u21ff"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"\u1b00-\u1b7f"},{name:"InBamum",bmp:"\ua6a0-\ua6ff"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-\x7f"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"\u1bc0-\u1bff"},{name:"InBengali",bmp:"\u0980-\u09ff"},{name:"InBhaiksuki",astral:"\ud807[\udc00-\udc6f]"},{name:"InBlock_Elements",bmp:"\u2580-\u259f"},{name:"InBopomofo",bmp:"\u3100-\u312f"},{name:"InBopomofo_Extended",bmp:"\u31a0-\u31bf"},{name:"InBox_Drawing",bmp:"\u2500-\u257f"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"\u2800-\u28ff"},{name:"InBuginese",bmp:"\u1a00-\u1a1f"},{name:"InBuhid",bmp:"\u1740-\u175f"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"\u3300-\u33ff"},{name:"InCJK_Compatibility_Forms",bmp:"\ufe30-\ufe4f"},{name:"InCJK_Compatibility_Ideographs",bmp:"\uf900-\ufaff"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"\u2e80-\u2eff"},{name:"InCJK_Strokes",bmp:"\u31c0-\u31ef"},{name:"InCJK_Symbols_and_Punctuation",bmp:"\u3000-\u303f"},{name:"InCJK_Unified_Ideographs",bmp:"\u4e00-\u9fff"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"\u3400-\u4dbf"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf3f]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"\uaa00-\uaa5f"},{name:"InCherokee",bmp:"\u13a0-\u13ff"},{name:"InCherokee_Supplement",bmp:"\uab70-\uabbf"},{name:"InCombining_Diacritical_Marks",bmp:"\u0300-\u036f"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"\u1ab0-\u1aff"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"\u1dc0-\u1dff"},{name:"InCombining_Diacritical_Marks_for_Symbols",bmp:"\u20d0-\u20ff"},{name:"InCombining_Half_Marks",bmp:"\ufe20-\ufe2f"},{name:"InCommon_Indic_Number_Forms",bmp:"\ua830-\ua83f"},{name:"InControl_Pictures",bmp:"\u2400-\u243f"},{name:"InCoptic",bmp:"\u2c80-\u2cff"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_and_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"\u20a0-\u20cf"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"\u0400-\u04ff"},{name:"InCyrillic_Extended_A",bmp:"\u2de0-\u2dff"},{name:"InCyrillic_Extended_B",bmp:"\ua640-\ua69f"},{name:"InCyrillic_Extended_C",bmp:"\u1c80-\u1c8f"},{name:"InCyrillic_Supplement",bmp:"\u0500-\u052f"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"\u0900-\u097f"},{name:"InDevanagari_Extended",bmp:"\ua8e0-\ua8ff"},{name:"InDingbats",bmp:"\u2700-\u27bf"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"\u2460-\u24ff"},{name:"InEnclosed_CJK_Letters_and_Months",bmp:"\u3200-\u32ff"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"\u1200-\u137f"},{name:"InEthiopic_Extended",bmp:"\u2d80-\u2ddf"},{name:"InEthiopic_Extended_A",bmp:"\uab00-\uab2f"},{name:"InEthiopic_Supplement",bmp:"\u1380-\u139f"},{name:"InGeneral_Punctuation",bmp:"\u2000-\u206f"},{name:"InGeometric_Shapes",bmp:"\u25a0-\u25ff"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"\u10a0-\u10ff"},{name:"InGeorgian_Supplement",bmp:"\u2d00-\u2d2f"},{name:"InGlagolitic",bmp:"\u2c00-\u2c5f"},{name:"InGlagolitic_Supplement",astral:"\ud838[\udc00-\udc2f]"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_Extended",bmp:"\u1f00-\u1fff"},{name:"InGreek_and_Coptic",bmp:"\u0370-\u03ff"},{name:"InGujarati",bmp:"\u0a80-\u0aff"},{name:"InGurmukhi",bmp:"\u0a00-\u0a7f"},{name:"InHalfwidth_and_Fullwidth_Forms",bmp:"\uff00-\uffef"},{name:"InHangul_Compatibility_Jamo",bmp:"\u3130-\u318f"},{name:"InHangul_Jamo",bmp:"\u1100-\u11ff"},{name:"InHangul_Jamo_Extended_A",bmp:"\ua960-\ua97f"},{name:"InHangul_Jamo_Extended_B",bmp:"\ud7b0-\ud7ff"},{name:"InHangul_Syllables",bmp:"\uac00-\ud7af"},{name:"InHanunoo",bmp:"\u1720-\u173f"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"\u0590-\u05ff"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"\u3040-\u309f"},{name:"InIPA_Extensions",bmp:"\u0250-\u02af"},{name:"InIdeographic_Description_Characters",bmp:"\u2ff0-\u2fff"},{name:"InIdeographic_Symbols_and_Punctuation",astral:"\ud81b[\udfe0-\udfff]"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"\ua980-\ua9df"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"\u3190-\u319f"},{name:"InKangxi_Radicals",bmp:"\u2f00-\u2fdf"},{name:"InKannada",bmp:"\u0c80-\u0cff"},{name:"InKatakana",bmp:"\u30a0-\u30ff"},{name:"InKatakana_Phonetic_Extensions",bmp:"\u31f0-\u31ff"},{name:"InKayah_Li",bmp:"\ua900-\ua92f"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"\u1780-\u17ff"},{name:"InKhmer_Symbols",bmp:"\u19e0-\u19ff"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"\u0e80-\u0eff"},{name:"InLatin_Extended_Additional",bmp:"\u1e00-\u1eff"},{name:"InLatin_Extended_A",bmp:"\u0100-\u017f"},{name:"InLatin_Extended_B",bmp:"\u0180-\u024f"},{name:"InLatin_Extended_C",bmp:"\u2c60-\u2c7f"},{name:"InLatin_Extended_D",bmp:"\ua720-\ua7ff"},{name:"InLatin_Extended_E",bmp:"\uab30-\uab6f"},{name:"InLatin_1_Supplement",bmp:"\x80-\xff"},{name:"InLepcha",bmp:"\u1c00-\u1c4f"},{name:"InLetterlike_Symbols",bmp:"\u2100-\u214f"},{name:"InLimbu",bmp:"\u1900-\u194f"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"\ua4d0-\ua4ff"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMalayalam",bmp:"\u0d00-\u0d7f"},{name:"InMandaic",bmp:"\u0840-\u085f"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMarchen",astral:"\ud807[\udc70-\udcbf]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"\u2200-\u22ff"},{name:"InMeetei_Mayek",bmp:"\uabc0-\uabff"},{name:"InMeetei_Mayek_Extensions",bmp:"\uaae0-\uaaff"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"\u27c0-\u27ef"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"\u2980-\u29ff"},{name:"InMiscellaneous_Symbols",bmp:"\u2600-\u26ff"},{name:"InMiscellaneous_Symbols_and_Arrows",bmp:"\u2b00-\u2bff"},{name:"InMiscellaneous_Symbols_and_Pictographs",astral:"\ud83c[\udf00-\udfff]|\ud83d[\udc00-\uddff]"},{name:"InMiscellaneous_Technical",bmp:"\u2300-\u23ff"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"\ua700-\ua71f"},{name:"InMongolian",bmp:"\u1800-\u18af"},{name:"InMongolian_Supplement",astral:"\ud805[\ude60-\ude7f]"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"\u1000-\u109f"},{name:"InMyanmar_Extended_A",bmp:"\uaa60-\uaa7f"},{name:"InMyanmar_Extended_B",bmp:"\ua9e0-\ua9ff"},{name:"InNKo",bmp:"\u07c0-\u07ff"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"\u1980-\u19df"},{name:"InNewa",astral:"\ud805[\udc00-\udc7f]"},{name:"InNumber_Forms",bmp:"\u2150-\u218f"},{name:"InOgham",bmp:"\u1680-\u169f"},{name:"InOl_Chiki",bmp:"\u1c50-\u1c7f"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"\u2440-\u245f"},{name:"InOriya",bmp:"\u0b00-\u0b7f"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsage",astral:"\ud801[\udcb0-\udcff]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_pa",bmp:"\ua840-\ua87f"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"\u1d00-\u1d7f"},{name:"InPhonetic_Extensions_Supplement",bmp:"\u1d80-\u1dbf"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"\ue000-\uf8ff"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"\ua930-\ua95f"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"\u16a0-\u16ff"},{name:"InSamaritan",bmp:"\u0800-\u083f"},{name:"InSaurashtra",bmp:"\ua880-\ua8df"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"\u0d80-\u0dff"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"\ufe50-\ufe6f"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSpacing_Modifier_Letters",bmp:"\u02b0-\u02ff"},{name:"InSpecials",bmp:"\ufff0-\uffff"},{name:"InSundanese",bmp:"\u1b80-\u1bbf"},{name:"InSundanese_Supplement",bmp:"\u1cc0-\u1ccf"},{name:"InSuperscripts_and_Subscripts",bmp:"\u2070-\u209f"},{name:"InSupplemental_Arrows_A",bmp:"\u27f0-\u27ff"},{name:"InSupplemental_Arrows_B",bmp:"\u2900-\u297f"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"\u2a00-\u2aff"},{name:"InSupplemental_Punctuation",bmp:"\u2e00-\u2e7f"},{name:"InSupplemental_Symbols_and_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"\ua800-\ua82f"},{name:"InSyriac",bmp:"\u0700-\u074f"},{name:"InTagalog",bmp:"\u1700-\u171f"},{name:"InTagbanwa",bmp:"\u1760-\u177f"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"\u1950-\u197f"},{name:"InTai_Tham",bmp:"\u1a20-\u1aaf"},{name:"InTai_Viet",bmp:"\uaa80-\uaadf"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"\u0b80-\u0bff"},{name:"InTangut",astral:"[\ud81c-\ud821][\udc00-\udfff]"},{name:"InTangut_Components",astral:"\ud822[\udc00-\udeff]"},{name:"InTelugu",bmp:"\u0c00-\u0c7f"},{name:"InThaana",bmp:"\u0780-\u07bf"},{name:"InThai",bmp:"\u0e00-\u0e7f"},{name:"InTibetan",bmp:"\u0f00-\u0fff"},{name:"InTifinagh",bmp:"\u2d30-\u2d7f"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_and_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"\u1400-\u167f"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"\u18b0-\u18ff"},{name:"InVai",bmp:"\ua500-\ua63f"},{name:"InVariation_Selectors",bmp:"\ufe00-\ufe0f"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"\u1cd0-\u1cff"},{name:"InVertical_Forms",bmp:"\ufe10-\ufe1f"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"\ua490-\ua4cf"},{name:"InYi_Syllables",bmp:"\ua000-\ua48f"},{name:"InYijing_Hexagram_Symbols",bmp:"\u4dc0-\u4dff"}])},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData([{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0-\x1f\x7f-\x9f\xad\u0378\u0379\u0380-\u0383\u038b\u038d\u03a2\u0530\u0557\u0558\u0560\u0588\u058b\u058c\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u0605\u061c\u061d\u06dd\u070e\u070f\u074b\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e\u082f\u083f\u085c\u085d\u085f-\u089f\u08b5\u08be-\u08d3\u08e2\u0984\u098d\u098e\u0991\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba\u09bb\u09c5\u09c6\u09c9\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a\u0a3b\u0a3d\u0a43-\u0a46\u0a49\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba\u0abb\u0ac6\u0aca\u0ace\u0acf\u0ad1-\u0adf\u0ae4\u0ae5\u0af2-\u0af8\u0afa-\u0b00\u0b04\u0b0d\u0b0e\u0b11\u0b12\u0b29\u0b31\u0b34\u0b3a\u0b3b\u0b45\u0b46\u0b49\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0bff\u0c04\u0c0d\u0c11\u0c29\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5b-\u0c5f\u0c64\u0c65\u0c70-\u0c77\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4\u0ce5\u0cf0\u0cf3-\u0d00\u0d04\u0d0d\u0d11\u0d3b\u0d3c\u0d45\u0d49\u0d50-\u0d53\u0d64\u0d65\u0d80\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0de5\u0df0\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85\u0e86\u0e89\u0e8b\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8\u0ea9\u0eac\u0eba\u0ebe\u0ebf\u0ec5\u0ec7\u0ece\u0ecf\u0eda\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce\u10cf\u1249\u124e\u124f\u1257\u1259\u125e\u125f\u1289\u128e\u128f\u12b1\u12b6\u12b7\u12bf\u12c1\u12c6\u12c7\u12d7\u1311\u1316\u1317\u135b\u135c\u137d-\u137f\u139a-\u139f\u13f6\u13f7\u13fe\u13ff\u169d-\u169f\u16f9-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de\u17df\u17ea-\u17ef\u17fa-\u17ff\u180e\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c\u1a1d\u1a5f\u1a7d\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae\u1aaf\u1abf-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c89-\u1cbf\u1cc8-\u1ccf\u1cf7\u1cfa-\u1cff\u1df6-\u1dfa\u1f16\u1f17\u1f1e\u1f1f\u1f46\u1f47\u1f4e\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e\u1f7f\u1fb5\u1fc5\u1fd4\u1fd5\u1fdc\u1ff0\u1ff1\u1ff5\u1fff\u200b-\u200f\u202a-\u202e\u2060-\u206f\u2072\u2073\u208f\u209d-\u209f\u20bf-\u20cf\u20f1-\u20ff\u218c-\u218f\u23ff\u2427-\u243f\u244b-\u245f\u2b74\u2b75\u2b96\u2b97\u2bba-\u2bbc\u2bc9\u2bd2-\u2beb\u2bf0-\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e45-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fd6-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua6f8-\ua6ff\ua7af\ua7b8-\ua7f6\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c6-\ua8cd\ua8da-\ua8df\ua8fe\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9ff\uaa37-\uaa3f\uaa4e\uaa4f\uaa5a\uaa5b\uaac3-\uaada\uaaf7-\uab00\uab07\uab08\uab0f\uab10\uab17-\uab1f\uab27\uab2f\uab66-\uab6f\uabee\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\uf8ff\ufa6e\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90\ufd91\ufdc8-\ufdef\ufdfe\ufdff\ufe1a-\ufe1f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd-\uff00\uffbf-\uffc1\uffc8\uffc9\uffd0\uffd1\uffd8\uffd9\uffdd-\uffdf\uffe7\uffef-\ufffb\ufffe\uffff",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2f\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude34-\ude37\ude3b-\ude3e\ude48-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd00-\ude5f\ude7f-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcbd\udcc2-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd44-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf3b\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc5e-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb8-\udebf\udeca-\udeff\udf1a-\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc00-\udc9f\udcf3-\udcfe\udd00-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud874-\ud87d\ud87f-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf7f-\udf8e\udfa0-\udfdf\udfe1-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udc02-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\udde9-\uddff\ude46-\udeff\udf57-\udf5f\udf72-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4b-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd2f\udd6c-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\udeff]|\ud83d[\uded3-\udedf\udeed-\udeef\udef7-\udeff\udf74-\udf7f\udfd5-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udd0f\udd1f\udd28-\udd2f\udd31\udd32\udd3f\udd4c-\udd4f\udd5f-\udd7f\udd92-\uddbf\uddc1-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0-\x1f\x7f-\x9f"},{name:"Cf",alias:"Format",bmp:"\xad\u0600-\u0605\u061c\u06dd\u070f\u08e2\u180e\u200b-\u200f\u202a-\u202e\u2060-\u2064\u2066-\u206f\ufeff\ufff9-\ufffb",astral:"\ud804\udcbd|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"\u0378\u0379\u0380-\u0383\u038b\u038d\u03a2\u0530\u0557\u0558\u0560\u0588\u058b\u058c\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u05ff\u061d\u070e\u074b\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e\u082f\u083f\u085c\u085d\u085f-\u089f\u08b5\u08be-\u08d3\u0984\u098d\u098e\u0991\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba\u09bb\u09c5\u09c6\u09c9\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a\u0a3b\u0a3d\u0a43-\u0a46\u0a49\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba\u0abb\u0ac6\u0aca\u0ace\u0acf\u0ad1-\u0adf\u0ae4\u0ae5\u0af2-\u0af8\u0afa-\u0b00\u0b04\u0b0d\u0b0e\u0b11\u0b12\u0b29\u0b31\u0b34\u0b3a\u0b3b\u0b45\u0b46\u0b49\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0bff\u0c04\u0c0d\u0c11\u0c29\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5b-\u0c5f\u0c64\u0c65\u0c70-\u0c77\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4\u0ce5\u0cf0\u0cf3-\u0d00\u0d04\u0d0d\u0d11\u0d3b\u0d3c\u0d45\u0d49\u0d50-\u0d53\u0d64\u0d65\u0d80\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0de5\u0df0\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85\u0e86\u0e89\u0e8b\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8\u0ea9\u0eac\u0eba\u0ebe\u0ebf\u0ec5\u0ec7\u0ece\u0ecf\u0eda\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce\u10cf\u1249\u124e\u124f\u1257\u1259\u125e\u125f\u1289\u128e\u128f\u12b1\u12b6\u12b7\u12bf\u12c1\u12c6\u12c7\u12d7\u1311\u1316\u1317\u135b\u135c\u137d-\u137f\u139a-\u139f\u13f6\u13f7\u13fe\u13ff\u169d-\u169f\u16f9-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de\u17df\u17ea-\u17ef\u17fa-\u17ff\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c\u1a1d\u1a5f\u1a7d\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae\u1aaf\u1abf-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c89-\u1cbf\u1cc8-\u1ccf\u1cf7\u1cfa-\u1cff\u1df6-\u1dfa\u1f16\u1f17\u1f1e\u1f1f\u1f46\u1f47\u1f4e\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e\u1f7f\u1fb5\u1fc5\u1fd4\u1fd5\u1fdc\u1ff0\u1ff1\u1ff5\u1fff\u2065\u2072\u2073\u208f\u209d-\u209f\u20bf-\u20cf\u20f1-\u20ff\u218c-\u218f\u23ff\u2427-\u243f\u244b-\u245f\u2b74\u2b75\u2b96\u2b97\u2bba-\u2bbc\u2bc9\u2bd2-\u2beb\u2bf0-\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e45-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u2fff\u3040\u3097\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fd6-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua6f8-\ua6ff\ua7af\ua7b8-\ua7f6\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c6-\ua8cd\ua8da-\ua8df\ua8fe\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9ff\uaa37-\uaa3f\uaa4e\uaa4f\uaa5a\uaa5b\uaac3-\uaada\uaaf7-\uab00\uab07\uab08\uab0f\uab10\uab17-\uab1f\uab27\uab2f\uab66-\uab6f\uabee\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\ud7ff\ufa6e\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90\ufd91\ufdc8-\ufdef\ufdfe\ufdff\ufe1a-\ufe1f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd\ufefe\uff00\uffbf-\uffc1\uffc8\uffc9\uffd0\uffd1\uffd8\uffd9\uffdd-\uffdf\uffe7\uffef-\ufff8\ufffe\uffff",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2f\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude34-\ude37\ude3b-\ude3e\ude48-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd00-\ude5f\ude7f-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcc2-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd44-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf3b\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc5e-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb8-\udebf\udeca-\udeff\udf1a-\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc00-\udc9f\udcf3-\udcfe\udd00-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud874-\ud87d\ud87f-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\udeff\udf45-\udf4f\udf7f-\udf8e\udfa0-\udfdf\udfe1-\udfff]|\ud821[\udfed-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udc02-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udde9-\uddff\ude46-\udeff\udf57-\udf5f\udf72-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4b-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd2f\udd6c-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\udeff]|\ud83d[\uded3-\udedf\udeed-\udeef\udef7-\udeff\udf74-\udf7f\udfd5-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udd0f\udd1f\udd28-\udd2f\udd31\udd32\udd3f\udd4c-\udd4f\udd5f-\udd7f\udd92-\uddbf\uddc1-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"\ue000-\uf8ff",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ae\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf19]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50\udf93-\udf9f\udfe0]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udd00-\udd43]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-z\xb5\xdf-\xf6\xf8-\xff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02af\u0371\u0373\u0377\u037b-\u037d\u0390\u03ac-\u03ce\u03d0\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0529\u052b\u052d\u052f\u0561-\u0587\u13f8-\u13fd\u1c80-\u1c88\u1d00-\u1d2b\u1d6b-\u1d77\u1d79-\u1d9a\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6\u1fc7\u1fd0-\u1fd3\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6\u1ff7\u210a\u210e\u210f\u2113\u212f\u2134\u2139\u213c\u213d\u2146-\u2149\u214e\u2184\u2c30-\u2c5e\u2c61\u2c65\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73\u2c74\u2c76-\u2c7b\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2ce4\u2cec\u2cee\u2cf3\u2d00-\u2d25\u2d27\u2d2d\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua699\ua69b\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua771-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua793-\ua795\ua797\ua799\ua79b\ua79d\ua79f\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7b5\ua7b7\ua7fa\uab30-\uab5a\uab60-\uab65\uab70-\uabbf\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"\u02b0-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0374\u037a\u0559\u0640\u06e5\u06e6\u07f4\u07f5\u07fa\u081a\u0824\u0828\u0971\u0e46\u0ec6\u10fc\u17d7\u1843\u1aa7\u1c78-\u1c7d\u1d2c-\u1d6a\u1d78\u1d9b-\u1dbf\u2071\u207f\u2090-\u209c\u2c7c\u2c7d\u2d6f\u2e2f\u3005\u3031-\u3035\u303b\u309d\u309e\u30fc-\u30fe\ua015\ua4f8-\ua4fd\ua60c\ua67f\ua69c\ua69d\ua717-\ua71f\ua770\ua788\ua7f8\ua7f9\ua9cf\ua9e6\uaa70\uaadd\uaaf3\uaaf4\uab5c-\uab5f\uff70\uff9e\uff9f",astral:"\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0]"},{name:"Lo",alias:"Other_Letter",bmp:"\xaa\xba\u01bb\u01c0-\u01c3\u0294\u05d0-\u05ea\u05f0-\u05f2\u0620-\u063f\u0641-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u0800-\u0815\u0840-\u0858\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e45\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10d0-\u10fa\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17dc\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c77\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u2135-\u2138\u2d30-\u2d67\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3006\u303c\u3041-\u3096\u309f\u30a1-\u30fa\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua014\ua016-\ua48c\ua4d0-\ua4f7\ua500-\ua60b\ua610-\ua61f\ua62a\ua62b\ua66e\ua6a0-\ua6e5\ua78f\ua7f7\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9e0-\ua9e4\ua9e7-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa6f\uaa71-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb\uaadc\uaae0-\uaaea\uaaf2\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff66-\uff6f\uff71-\uff9d\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf19]|\ud806[\udcff\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"\u01c5\u01c8\u01cb\u01f2\u1f88-\u1f8f\u1f98-\u1f9f\u1fa8-\u1faf\u1fbc\u1fcc\u1ffc"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-Z\xc0-\xd6\xd8-\xde\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178\u0179\u017b\u017d\u0181\u0182\u0184\u0186\u0187\u0189-\u018b\u018e-\u0191\u0193\u0194\u0196-\u0198\u019c\u019d\u019f\u01a0\u01a2\u01a4\u01a6\u01a7\u01a9\u01ac\u01ae\u01af\u01b1-\u01b3\u01b5\u01b7\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a\u023b\u023d\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u037f\u0386\u0388-\u038a\u038c\u038e\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0528\u052a\u052c\u052e\u0531-\u0556\u10a0-\u10c5\u10c7\u10cd\u13a0-\u13f5\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e\u213f\u2145\u2183\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\u2cf2\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua698\ua69a\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua792\ua796\ua798\ua79a\ua79c\ua79e\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\ua7aa-\ua7ae\ua7b0-\ua7b4\ua7b6\uff21-\uff3a",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d4-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u192b\u1930-\u193b\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1ab0-\u1abe\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfb-\u1dff\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9e5\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud804[\udc00-\udc02\udc38-\udc46\udc7f-\udc82\udcb0-\udcba\udd00-\udd02\udd27-\udd34\udd73\udd80-\udd82\uddb3-\uddc0\uddca-\uddcc\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf51-\udf7e\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"\u0903\u093b\u093e-\u0940\u0949-\u094c\u094e\u094f\u0982\u0983\u09be-\u09c0\u09c7\u09c8\u09cb\u09cc\u09d7\u0a03\u0a3e-\u0a40\u0a83\u0abe-\u0ac0\u0ac9\u0acb\u0acc\u0b02\u0b03\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd7\u0c01-\u0c03\u0c41-\u0c44\u0c82\u0c83\u0cbe\u0cc0-\u0cc4\u0cc7\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0d02\u0d03\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d57\u0d82\u0d83\u0dcf-\u0dd1\u0dd8-\u0ddf\u0df2\u0df3\u0f3e\u0f3f\u0f7f\u102b\u102c\u1031\u1038\u103b\u103c\u1056\u1057\u1062-\u1064\u1067-\u106d\u1083\u1084\u1087-\u108c\u108f\u109a-\u109c\u17b6\u17be-\u17c5\u17c7\u17c8\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u1a19\u1a1a\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1b04\u1b35\u1b3b\u1b3d-\u1b41\u1b43\u1b44\u1b82\u1ba1\u1ba6\u1ba7\u1baa\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1c24-\u1c2b\u1c34\u1c35\u1ce1\u1cf2\u1cf3\u302e\u302f\ua823\ua824\ua827\ua880\ua881\ua8b4-\ua8c3\ua952\ua953\ua983\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9c0\uaa2f\uaa30\uaa33\uaa34\uaa4d\uaa7b\uaa7d\uaaeb\uaaee\uaaef\uaaf5\uabe3\uabe4\uabe6\uabe7\uabe9\uabea\uabec",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd82\uddb3-\uddb5\uddbf\uddc0\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4]|\ud81b[\udf51-\udf7e]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"\u0488\u0489\u1abe\u20dd-\u20e0\u20e2-\u20e4\ua670-\ua672"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d4-\u08e1\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d01\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab-\u1bad\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfb-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8c5\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud804[\udc01\udc38-\udc46\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddca-\uddcc\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d58-\u0d5e\u0d66-\u0d78\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude47\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2]|\ud807[\udc50-\udc6c]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udf50-\udf59\udf5b-\udf61]|\ud834[\udf60-\udf71]|\ud835[\udfce-\udfff]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83c[\udd00-\udd0c]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19",astral:"\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9]|\ud807[\udc50-\udc59]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud83a[\udd50-\udd59]"},{name:"Nl",alias:"Letter_Number",bmp:"\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"\xb2\xb3\xb9\xbc-\xbe\u09f4-\u09f9\u0b72-\u0b77\u0bf0-\u0bf2\u0c78-\u0c7e\u0d58-\u0d5e\u0d70-\u0d78\u0f2a-\u0f33\u1369-\u137c\u17f0-\u17f9\u19da\u2070\u2074-\u2079\u2080-\u2089\u2150-\u215f\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua830-\ua835",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude47\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c]|\ud81a[\udf5b-\udf61]|\ud834[\udf60-\udf71]|\ud83a[\udcc7-\udccf]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D_\\x7B}\xa1\xa7\xab\xb6\xb7\xbb\xbf\u037e\u0387\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u2308-\u230b\u2329\u232a\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30-\u2e44\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua8fc\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|\ud801\udd6f|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc9\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud807[\udc41-\udc45\udc70\udc71]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud82f\udc9f|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\x2D\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a\u2e3b\u2e40\u301c\u3030\u30a0\ufe31\ufe32\ufe58\ufe63\uff0d"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\x29\\x5D}\u0f3b\u0f3d\u169c\u2046\u207e\u208e\u2309\u230b\u232a\u2769\u276b\u276d\u276f\u2771\u2773\u2775\u27c6\u27e7\u27e9\u27eb\u27ed\u27ef\u2984\u2986\u2988\u298a\u298c\u298e\u2990\u2992\u2994\u2996\u2998\u29d9\u29db\u29fd\u2e23\u2e25\u2e27\u2e29\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u3019\u301b\u301e\u301f\ufd3e\ufe18\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe44\ufe48\ufe5a\ufe5c\ufe5e\uff09\uff3d\uff5d\uff60\uff63"},{name:"Pf",alias:"Final_Punctuation",bmp:"\xbb\u2019\u201d\u203a\u2e03\u2e05\u2e0a\u2e0d\u2e1d\u2e21"},{name:"Pi",alias:"Initial_Punctuation",bmp:"\xab\u2018\u201b\u201c\u201f\u2039\u2e02\u2e04\u2e09\u2e0c\u2e1c\u2e20"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C\xa1\xa7\xb6\xb7\xbf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30-\u2e39\u2e3c-\u2e3f\u2e41\u2e43\u2e44\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua8fc\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|\ud801\udd6f|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc9\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud807[\udc41-\udc45\udc70\udc71]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud82f\udc9f|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\x28\\x5B\\x7B\u0f3a\u0f3c\u169b\u201a\u201e\u2045\u207d\u208d\u2308\u230a\u2329\u2768\u276a\u276c\u276e\u2770\u2772\u2774\u27c5\u27e6\u27e8\u27ea\u27ec\u27ee\u2983\u2985\u2987\u2989\u298b\u298d\u298f\u2991\u2993\u2995\u2997\u29d8\u29da\u29fc\u2e22\u2e24\u2e26\u2e28\u2e42\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d\ufd3f\ufe17\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe47\ufe59\ufe5b\ufe5d\uff08\uff3b\uff5b\uff5f\uff62"},{name:"S",alias:"Symbol",bmp:"\\x24\\x2B<->\\x5E`\\x7C~\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20be\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u23fe\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b98-\u2bb9\u2bbd-\u2bc8\u2bca-\u2bd1\u2bec-\u2bef\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|\ud805\udf3f|\ud81a[\udf3c-\udf3f\udf45]|\ud82f\udc9c|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud83b[\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd2e\udd30-\udd6b\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\udf00-\udfff]|\ud83d[\udc00-\uded2\udee0-\udeec\udef0-\udef6\udf00-\udf73\udf80-\udfd4]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd10-\udd1e\udd20-\udd27\udd30\udd33-\udd3e\udd40-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\x24\xa2-\xa5\u058f\u060b\u09f2\u09f3\u09fb\u0af1\u0bf9\u0e3f\u17db\u20a0-\u20be\ua838\ufdfc\ufe69\uff04\uffe0\uffe1\uffe5\uffe6"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\x5E`\xa8\xaf\xb4\xb8\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u309b\u309c\ua700-\ua716\ua720\ua721\ua789\ua78a\uab5b\ufbb2-\ufbc1\uff3e\uff40\uffe3",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\x2B<->\\x7C~\xac\xb1\xd7\xf7\u03f6\u0606-\u0608\u2044\u2052\u207a-\u207c\u208a-\u208c\u2118\u2140-\u2144\u214b\u2190-\u2194\u219a\u219b\u21a0\u21a3\u21a6\u21ae\u21ce\u21cf\u21d2\u21d4\u21f4-\u22ff\u2320\u2321\u237c\u239b-\u23b3\u23dc-\u23e1\u25b7\u25c1\u25f8-\u25ff\u266f\u27c0-\u27c4\u27c7-\u27e5\u27f0-\u27ff\u2900-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2aff\u2b30-\u2b44\u2b47-\u2b4c\ufb29\ufe62\ufe64-\ufe66\uff0b\uff1c-\uff1e\uff5c\uff5e\uffe2\uffe9-\uffec",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"\xa6\xa9\xae\xb0\u0482\u058d\u058e\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u09fa\u0b70\u0bf3-\u0bf8\u0bfa\u0c7f\u0d4f\u0d79\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u214a\u214c\u214d\u214f\u218a\u218b\u2195-\u2199\u219c-\u219f\u21a1\u21a2\u21a4\u21a5\u21a7-\u21ad\u21af-\u21cd\u21d0\u21d1\u21d3\u21d5-\u21f3\u2300-\u2307\u230c-\u231f\u2322-\u2328\u232b-\u237b\u237d-\u239a\u23b4-\u23db\u23e2-\u23fe\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u25b6\u25b8-\u25c0\u25c2-\u25f7\u2600-\u266e\u2670-\u2767\u2794-\u27bf\u2800-\u28ff\u2b00-\u2b2f\u2b45\u2b46\u2b4d-\u2b73\u2b76-\u2b95\u2b98-\u2bb9\u2bbd-\u2bc8\u2bca-\u2bd1\u2bec-\u2bef\u2ce5-\u2cea\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u32fe\u3300-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua828-\ua82b\ua836\ua837\ua839\uaa77-\uaa79\ufdfd\uffe4\uffe8\uffed\uffee\ufffc\ufffd",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|\ud805\udf3f|\ud81a[\udf3c-\udf3f\udf45]|\ud82f\udc9c|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd2e\udd30-\udd6b\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\udf00-\udffa]|\ud83d[\udc00-\uded2\udee0-\udeec\udef0-\udef6\udf00-\udf73\udf80-\udfd4]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd10-\udd1e\udd20-\udd27\udd30\udd33-\udd3e\udd40-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]"},{name:"Z",alias:"Separator",bmp:" \xa0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" \xa0\u1680\u2000-\u200a\u202f\u205f\u3000"}])},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=[{name:"ASCII",bmp:"\0-\x7f"},{name:"Alphabetic",bmp:"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0345\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05b0-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0657\u0659-\u065f\u066e-\u06d3\u06d5-\u06dc\u06e1-\u06e8\u06ed-\u06ef\u06fa-\u06fc\u06ff\u0710-\u073f\u074d-\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0817\u081a-\u082c\u0840-\u0858\u08a0-\u08b4\u08b6-\u08bd\u08d4-\u08df\u08e3-\u08e9\u08f0-\u093b\u093d-\u094c\u094e-\u0950\u0955-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd-\u09c4\u09c7\u09c8\u09cb\u09cc\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3e-\u0a42\u0a47\u0a48\u0a4b\u0a4c\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd-\u0ac5\u0ac7-\u0ac9\u0acb\u0acc\u0ad0\u0ae0-\u0ae3\u0af9\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d-\u0b44\u0b47\u0b48\u0b4b\u0b4c\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4c\u0c55\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccc\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e46\u0e4d\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ecd\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f71-\u0f81\u0f88-\u0f97\u0f99-\u0fbc\u1000-\u1036\u1038\u103b-\u103f\u1050-\u1062\u1065-\u1068\u106e-\u1086\u108e\u109c\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135f\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17b3\u17b6-\u17c8\u17d7\u17dc\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u1938\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a61-\u1a74\u1aa7\u1b00-\u1b33\u1b35-\u1b43\u1b45-\u1b4b\u1b80-\u1ba9\u1bac-\u1baf\u1bba-\u1be5\u1be7-\u1bf1\u1c00-\u1c35\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1d00-\u1dbf\u1de7-\u1df4\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua674-\ua67b\ua67f-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ae\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua827\ua840-\ua873\ua880-\ua8c3\ua8c5\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua92a\ua930-\ua952\ua960-\ua97c\ua980-\ua9b2\ua9b4-\ua9bf\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a\uaa7e-\uaabe\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabea\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf30-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2]|\ud804[\udc00-\udc45\udc82-\udcb8\udcd0-\udce8\udd00-\udd32\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udf00-\udf19\udf1d-\udf2a]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf93-\udf9f\udfe0]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]"},{name:"Any",isBmpLast:!0,bmp:"\0-\uffff",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"\xad\u034f\u061c\u115f\u1160\u17b4\u17b5\u180b-\u180e\u200b-\u200f\u202a-\u202e\u2060-\u206f\u3164\ufe00-\ufe0f\ufeff\uffa0\ufff0-\ufff8",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-z\xaa\xb5\xba\xdf-\xf6\xf8-\xff\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0131\u0133\u0135\u0137\u0138\u013a\u013c\u013e\u0140\u0142\u0144\u0146\u0148\u0149\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\u017a\u017c\u017e-\u0180\u0183\u0185\u0188\u018c\u018d\u0192\u0195\u0199-\u019b\u019e\u01a1\u01a3\u01a5\u01a8\u01aa\u01ab\u01ad\u01b0\u01b4\u01b6\u01b9\u01ba\u01bd-\u01bf\u01c6\u01c9\u01cc\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01dd\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f0\u01f3\u01f5\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u0221\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233-\u0239\u023c\u023f\u0240\u0242\u0247\u0249\u024b\u024d\u024f-\u0293\u0295-\u02b8\u02c0\u02c1\u02e0-\u02e4\u0345\u0371\u0373\u0377\u037a-\u037d\u0390\u03ac-\u03ce\u03d0\u03d1\u03d5-\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef-\u03f3\u03f5\u03f8\u03fb\u03fc\u0430-\u045f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04cf\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0529\u052b\u052d\u052f\u0561-\u0587\u13f8-\u13fd\u1c80-\u1c88\u1d00-\u1dbf\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95-\u1e9d\u1e9f\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff-\u1f07\u1f10-\u1f15\u1f20-\u1f27\u1f30-\u1f37\u1f40-\u1f45\u1f50-\u1f57\u1f60-\u1f67\u1f70-\u1f7d\u1f80-\u1f87\u1f90-\u1f97\u1fa0-\u1fa7\u1fb0-\u1fb4\u1fb6\u1fb7\u1fbe\u1fc2-\u1fc4\u1fc6\u1fc7\u1fd0-\u1fd3\u1fd6\u1fd7\u1fe0-\u1fe7\u1ff2-\u1ff4\u1ff6\u1ff7\u2071\u207f\u2090-\u209c\u210a\u210e\u210f\u2113\u212f\u2134\u2139\u213c\u213d\u2146-\u2149\u214e\u2170-\u217f\u2184\u24d0-\u24e9\u2c30-\u2c5e\u2c61\u2c65\u2c66\u2c68\u2c6a\u2c6c\u2c71\u2c73\u2c74\u2c76-\u2c7d\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2ce4\u2cec\u2cee\u2cf3\u2d00-\u2d25\u2d27\u2d2d\ua641\ua643\ua645\ua647\ua649\ua64b\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua699\ua69b-\ua69d\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f-\ua731\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f-\ua778\ua77a\ua77c\ua77f\ua781\ua783\ua785\ua787\ua78c\ua78e\ua791\ua793-\ua795\ua797\ua799\ua79b\ua79d\ua79f\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\ua7b5\ua7b7\ua7f8-\ua7fa\uab30-\uab5a\uab5c-\uab65\uab70-\uabbf\ufb00-\ufb06\ufb13-\ufb17\uff41-\uff5a",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"\ufdd0-\ufdef\ufffe\uffff",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-Z\xc0-\xd6\xd8-\xde\u0100\u0102\u0104\u0106\u0108\u010a\u010c\u010e\u0110\u0112\u0114\u0116\u0118\u011a\u011c\u011e\u0120\u0122\u0124\u0126\u0128\u012a\u012c\u012e\u0130\u0132\u0134\u0136\u0139\u013b\u013d\u013f\u0141\u0143\u0145\u0147\u014a\u014c\u014e\u0150\u0152\u0154\u0156\u0158\u015a\u015c\u015e\u0160\u0162\u0164\u0166\u0168\u016a\u016c\u016e\u0170\u0172\u0174\u0176\u0178\u0179\u017b\u017d\u0181\u0182\u0184\u0186\u0187\u0189-\u018b\u018e-\u0191\u0193\u0194\u0196-\u0198\u019c\u019d\u019f\u01a0\u01a2\u01a4\u01a6\u01a7\u01a9\u01ac\u01ae\u01af\u01b1-\u01b3\u01b5\u01b7\u01b8\u01bc\u01c4\u01c7\u01ca\u01cd\u01cf\u01d1\u01d3\u01d5\u01d7\u01d9\u01db\u01de\u01e0\u01e2\u01e4\u01e6\u01e8\u01ea\u01ec\u01ee\u01f1\u01f4\u01f6-\u01f8\u01fa\u01fc\u01fe\u0200\u0202\u0204\u0206\u0208\u020a\u020c\u020e\u0210\u0212\u0214\u0216\u0218\u021a\u021c\u021e\u0220\u0222\u0224\u0226\u0228\u022a\u022c\u022e\u0230\u0232\u023a\u023b\u023d\u023e\u0241\u0243-\u0246\u0248\u024a\u024c\u024e\u0370\u0372\u0376\u037f\u0386\u0388-\u038a\u038c\u038e\u038f\u0391-\u03a1\u03a3-\u03ab\u03cf\u03d2-\u03d4\u03d8\u03da\u03dc\u03de\u03e0\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03f9\u03fa\u03fd-\u042f\u0460\u0462\u0464\u0466\u0468\u046a\u046c\u046e\u0470\u0472\u0474\u0476\u0478\u047a\u047c\u047e\u0480\u048a\u048c\u048e\u0490\u0492\u0494\u0496\u0498\u049a\u049c\u049e\u04a0\u04a2\u04a4\u04a6\u04a8\u04aa\u04ac\u04ae\u04b0\u04b2\u04b4\u04b6\u04b8\u04ba\u04bc\u04be\u04c0\u04c1\u04c3\u04c5\u04c7\u04c9\u04cb\u04cd\u04d0\u04d2\u04d4\u04d6\u04d8\u04da\u04dc\u04de\u04e0\u04e2\u04e4\u04e6\u04e8\u04ea\u04ec\u04ee\u04f0\u04f2\u04f4\u04f6\u04f8\u04fa\u04fc\u04fe\u0500\u0502\u0504\u0506\u0508\u050a\u050c\u050e\u0510\u0512\u0514\u0516\u0518\u051a\u051c\u051e\u0520\u0522\u0524\u0526\u0528\u052a\u052c\u052e\u0531-\u0556\u10a0-\u10c5\u10c7\u10cd\u13a0-\u13f5\u1e00\u1e02\u1e04\u1e06\u1e08\u1e0a\u1e0c\u1e0e\u1e10\u1e12\u1e14\u1e16\u1e18\u1e1a\u1e1c\u1e1e\u1e20\u1e22\u1e24\u1e26\u1e28\u1e2a\u1e2c\u1e2e\u1e30\u1e32\u1e34\u1e36\u1e38\u1e3a\u1e3c\u1e3e\u1e40\u1e42\u1e44\u1e46\u1e48\u1e4a\u1e4c\u1e4e\u1e50\u1e52\u1e54\u1e56\u1e58\u1e5a\u1e5c\u1e5e\u1e60\u1e62\u1e64\u1e66\u1e68\u1e6a\u1e6c\u1e6e\u1e70\u1e72\u1e74\u1e76\u1e78\u1e7a\u1e7c\u1e7e\u1e80\u1e82\u1e84\u1e86\u1e88\u1e8a\u1e8c\u1e8e\u1e90\u1e92\u1e94\u1e9e\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ebe\u1ec0\u1ec2\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1eec\u1eee\u1ef0\u1ef2\u1ef4\u1ef6\u1ef8\u1efa\u1efc\u1efe\u1f08-\u1f0f\u1f18-\u1f1d\u1f28-\u1f2f\u1f38-\u1f3f\u1f48-\u1f4d\u1f59\u1f5b\u1f5d\u1f5f\u1f68-\u1f6f\u1fb8-\u1fbb\u1fc8-\u1fcb\u1fd8-\u1fdb\u1fe8-\u1fec\u1ff8-\u1ffb\u2102\u2107\u210b-\u210d\u2110-\u2112\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u2130-\u2133\u213e\u213f\u2145\u2160-\u216f\u2183\u24b6-\u24cf\u2c00-\u2c2e\u2c60\u2c62-\u2c64\u2c67\u2c69\u2c6b\u2c6d-\u2c70\u2c72\u2c75\u2c7e-\u2c80\u2c82\u2c84\u2c86\u2c88\u2c8a\u2c8c\u2c8e\u2c90\u2c92\u2c94\u2c96\u2c98\u2c9a\u2c9c\u2c9e\u2ca0\u2ca2\u2ca4\u2ca6\u2ca8\u2caa\u2cac\u2cae\u2cb0\u2cb2\u2cb4\u2cb6\u2cb8\u2cba\u2cbc\u2cbe\u2cc0\u2cc2\u2cc4\u2cc6\u2cc8\u2cca\u2ccc\u2cce\u2cd0\u2cd2\u2cd4\u2cd6\u2cd8\u2cda\u2cdc\u2cde\u2ce0\u2ce2\u2ceb\u2ced\u2cf2\ua640\ua642\ua644\ua646\ua648\ua64a\ua64c\ua64e\ua650\ua652\ua654\ua656\ua658\ua65a\ua65c\ua65e\ua660\ua662\ua664\ua666\ua668\ua66a\ua66c\ua680\ua682\ua684\ua686\ua688\ua68a\ua68c\ua68e\ua690\ua692\ua694\ua696\ua698\ua69a\ua722\ua724\ua726\ua728\ua72a\ua72c\ua72e\ua732\ua734\ua736\ua738\ua73a\ua73c\ua73e\ua740\ua742\ua744\ua746\ua748\ua74a\ua74c\ua74e\ua750\ua752\ua754\ua756\ua758\ua75a\ua75c\ua75e\ua760\ua762\ua764\ua766\ua768\ua76a\ua76c\ua76e\ua779\ua77b\ua77d\ua77e\ua780\ua782\ua784\ua786\ua78b\ua78d\ua790\ua792\ua796\ua798\ua79a\ua79c\ua79e\ua7a0\ua7a2\ua7a4\ua7a6\ua7a8\ua7aa-\ua7ae\ua7b0-\ua7b4\ua7b6\uff21-\uff3a",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r \x85\xa0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000"}];t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData([{name:"Adlam",astral:"\ud83a[\udd00-\udd4a\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf19\udf1d-\udf2b\udf30-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"\u0600-\u0604\u0606-\u060b\u060d-\u061a\u061e\u0620-\u063f\u0641-\u064a\u0656-\u066f\u0671-\u06dc\u06de-\u06ff\u0750-\u077f\u08a0-\u08b4\u08b6-\u08bd\u08d4-\u08e1\u08e3-\u08ff\ufb50-\ufbc1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfd\ufe70-\ufe74\ufe76-\ufefc",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"\u0531-\u0556\u0559-\u055f\u0561-\u0587\u058a\u058d-\u058f\ufb13-\ufb17"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"\u1b00-\u1b4b\u1b50-\u1b7c"},{name:"Bamum",bmp:"\ua6a0-\ua6f7",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"\u1bc0-\u1bf3\u1bfc-\u1bff"},{name:"Bengali",bmp:"\u0980-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09fb"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"\u02ea\u02eb\u3105-\u312d\u31a0-\u31ba"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc6f\udc7f]"},{name:"Braille",bmp:"\u2800-\u28ff"},{name:"Buginese",bmp:"\u1a00-\u1a1b\u1a1e\u1a1f"},{name:"Buhid",bmp:"\u1740-\u1753"},{name:"Canadian_Aboriginal",bmp:"\u1400-\u167f\u18b0-\u18f5"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd43]"},{name:"Cham",bmp:"\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f"},{name:"Cherokee",bmp:"\u13a0-\u13f5\u13f8-\u13fd\uab70-\uabbf"},{name:"Common",bmp:"\0-@\\x5B-`\\x7B-\xa9\xab-\xb9\xbb-\xbf\xd7\xf7\u02b9-\u02df\u02e5-\u02e9\u02ec-\u02ff\u0374\u037e\u0385\u0387\u0589\u0605\u060c\u061b\u061c\u061f\u0640\u06dd\u08e2\u0964\u0965\u0e3f\u0fd5-\u0fd8\u10fb\u16eb-\u16ed\u1735\u1736\u1802\u1803\u1805\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u2000-\u200b\u200e-\u2064\u2066-\u2070\u2074-\u207e\u2080-\u208e\u20a0-\u20be\u2100-\u2125\u2127-\u2129\u212c-\u2131\u2133-\u214d\u214f-\u215f\u2189-\u218b\u2190-\u23fe\u2400-\u2426\u2440-\u244a\u2460-\u27ff\u2900-\u2b73\u2b76-\u2b95\u2b98-\u2bb9\u2bbd-\u2bc8\u2bca-\u2bd1\u2bec-\u2bef\u2e00-\u2e44\u2ff0-\u2ffb\u3000-\u3004\u3006\u3008-\u3020\u3030-\u3037\u303c-\u303f\u309b\u309c\u30a0\u30fb\u30fc\u3190-\u319f\u31c0-\u31e3\u3220-\u325f\u327f-\u32cf\u3358-\u33ff\u4dc0-\u4dff\ua700-\ua721\ua788-\ua78a\ua830-\ua839\ua92e\ua9cf\uab5b\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufeff\uff01-\uff20\uff3b-\uff40\uff5b-\uff65\uff70\uff9e\uff9f\uffe0-\uffe6\uffe8-\uffee\ufff9-\ufffd",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9b\uddd0-\uddfc\udee1-\udefb]|\ud82f[\udca0-\udca3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\udde8\udf00-\udf56\udf60-\udf71]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\udd0c\udd10-\udd2e\udd30-\udd6b\udd70-\uddac\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\udf00-\udfff]|\ud83d[\udc00-\uded2\udee0-\udeec\udef0-\udef6\udf00-\udf73\udf80-\udfd4]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd10-\udd1e\udd20-\udd27\udd30\udd33-\udd3e\udd40-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"\u03e2-\u03ef\u2c80-\u2cf3\u2cf9-\u2cff"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cyrillic",bmp:"\u0400-\u0484\u0487-\u052f\u1c80-\u1c88\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"\u0900-\u0950\u0953-\u0963\u0966-\u097f\ua8e0-\ua8fd"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Ethiopic",bmp:"\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u137c\u1380-\u1399\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e"},{name:"Georgian",bmp:"\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u10ff\u2d00-\u2d25\u2d27\u2d2d"},{name:"Glagolitic",bmp:"\u2c00-\u2c2e\u2c30-\u2c5e",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"\u0370-\u0373\u0375-\u0377\u037a-\u037d\u037f\u0384\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03e1\u03f0-\u03ff\u1d26-\u1d2a\u1d5d-\u1d61\u1d66-\u1d6a\u1dbf\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fc4\u1fc6-\u1fd3\u1fd6-\u1fdb\u1fdd-\u1fef\u1ff2-\u1ff4\u1ff6-\u1ffe\u2126\uab65",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0af1\u0af9"},{name:"Gurmukhi",bmp:"\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75"},{name:"Han",bmp:"\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u3005\u3007\u3021-\u3029\u3038-\u303b\u3400-\u4db5\u4e00-\u9fd5\uf900-\ufa6d\ufa70-\ufad9",astral:"[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1]|\ud87e[\udc00-\ude1d]"},{name:"Hangul",bmp:"\u1100-\u11ff\u302e\u302f\u3131-\u318e\u3200-\u321e\u3260-\u327e\ua960-\ua97c\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"},{name:"Hanunoo",bmp:"\u1720-\u1734"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"\u0591-\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb1d-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufb4f"},{name:"Hiragana",bmp:"\u3041-\u3096\u309d-\u309f",astral:"\ud82c\udc01|\ud83c\ude00"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"\u0300-\u036f\u0485\u0486\u064b-\u0655\u0670\u0951\u0952\u1ab0-\u1abe\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfb-\u1dff\u200c\u200d\u20d0-\u20f0\u302a-\u302d\u3099\u309a\ufe00-\ufe0f\ufe20-\ufe2d",astral:"\ud800[\uddfd\udee0]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"\ua980-\ua9cd\ua9d0-\ua9d9\ua9de\ua9df"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1]"},{name:"Kannada",bmp:"\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2"},{name:"Katakana",bmp:"\u30a1-\u30fa\u30fd-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff6f\uff71-\uff9d",astral:"\ud82c\udc00"},{name:"Kayah_Li",bmp:"\ua900-\ua92d\ua92f"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f-\ude47\ude50-\ude58]"},{name:"Khmer",bmp:"\u1780-\u17dd\u17e0-\u17e9\u17f0-\u17f9\u19e0-\u19ff"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf"},{name:"Latin",bmp:"A-Za-z\xaa\xba\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u02e0-\u02e4\u1d00-\u1d25\u1d2c-\u1d5c\u1d62-\u1d65\u1d6b-\u1d77\u1d79-\u1dbe\u1e00-\u1eff\u2071\u207f\u2090-\u209c\u212a\u212b\u2132\u214e\u2160-\u2188\u2c60-\u2c7f\ua722-\ua787\ua78b-\ua7ae\ua7b0-\ua7b7\ua7f7-\ua7ff\uab30-\uab5a\uab5c-\uab64\ufb00-\ufb06\uff21-\uff3a\uff41-\uff5a"},{name:"Lepcha",bmp:"\u1c00-\u1c37\u1c3b-\u1c49\u1c4d-\u1c4f"},{name:"Limbu",bmp:"\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1940\u1944-\u194f"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"\ua4d0-\ua4ff"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Malayalam",bmp:"\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4f\u0d54-\u0d63\u0d66-\u0d7f"},{name:"Mandaic",bmp:"\u0840-\u085b\u085e"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Meetei_Mayek",bmp:"\uaae0-\uaaf6\uabc0-\uabed\uabf0-\uabf9"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"\u1800\u1801\u1804\u1806-\u180e\u1810-\u1819\u1820-\u1877\u1880-\u18aa",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"\u1000-\u109f\ua9e0-\ua9fe\uaa60-\uaa7f"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"New_Tai_Lue",bmp:"\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u19de\u19df"},{name:"Newa",astral:"\ud805[\udc00-\udc59\udc5b\udc5d]"},{name:"Nko",bmp:"\u07c0-\u07fa"},{name:"Ogham",bmp:"\u1680-\u169c"},{name:"Ol_Chiki",bmp:"\u1c50-\u1c7f"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b77"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"\ua840-\ua877"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"\ua930-\ua953\ua95f"},{name:"Runic",bmp:"\u16a0-\u16ea\u16ee-\u16f8"},{name:"Samaritan",bmp:"\u0800-\u082d\u0830-\u083e"},{name:"Saurashtra",bmp:"\ua880-\ua8c5\ua8ce-\ua8d9"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd\uddd0-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df4",astral:"\ud804[\udde1-\uddf4]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Sundanese",bmp:"\u1b80-\u1bbf\u1cc0-\u1cc7"},{name:"Syloti_Nagri",bmp:"\ua800-\ua82b"},{name:"Syriac",bmp:"\u0700-\u070d\u070f-\u074a\u074d-\u074f"},{name:"Tagalog",bmp:"\u1700-\u170c\u170e-\u1714"},{name:"Tagbanwa",bmp:"\u1760-\u176c\u176e-\u1770\u1772\u1773"},{name:"Tai_Le",bmp:"\u1950-\u196d\u1970-\u1974"},{name:"Tai_Tham",bmp:"\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa0-\u1aad"},{name:"Tai_Viet",bmp:"\uaa80-\uaac2\uaadb-\uaadf"},{name:"Takri",astral:"\ud805[\ude80-\udeb7\udec0-\udec9]"},{name:"Tamil",bmp:"\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bfa"},{name:"Tangut",astral:"\ud81b\udfe0|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udfec]|\ud822[\udc00-\udef2]"},{name:"Telugu",bmp:"\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c78-\u0c7f"},{name:"Thaana",bmp:"\u0780-\u07b1"},{name:"Thai",bmp:"\u0e01-\u0e3a\u0e40-\u0e5b"},{name:"Tibetan",bmp:"\u0f00-\u0f47\u0f49-\u0f6c\u0f71-\u0f97\u0f99-\u0fbc\u0fbe-\u0fcc\u0fce-\u0fd4\u0fd9\u0fda"},{name:"Tifinagh",bmp:"\u2d30-\u2d67\u2d6f\u2d70\u2d7f"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"\ua500-\ua62b"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yi",bmp:"\ua000-\ua48c\ua490-\ua4c6"}])},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);t.preferredColumnForTreemapSize=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.quantitative){if(t&&i.stats.hasNegative)continue;if(t&&i.stats.isSequential)continue;if(t&&r.isGeo(i))continue;return i.name}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151),i=n(153),o=function(){function e(e,t){var n=new i.ScatterPlotRecommenderSummary(e,t).recommend();if(n)this.rec=n;else{var o=new r.BarChartRecommenderSummary(e,t).recommend();o&&o.score>=1?this.rec=o:this.rec={chart:"grid",columns:{},score:1}}}return e.prototype.recommend=function(){return this.rec},e}();t.RecommenderSummary=o},function(e,t,n){},function(e,t,n){"use strict";var r=n(241);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(131),i=n(135),o=n(68);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={subComponentStyles:{}},a={},s=e[0];if(!s&&e.length<=1)return{subComponentStyles:{}};var u=s;u=i.a.apply(void 0,e);var l=[];for(var c in u)if(u.hasOwnProperty(c)){if("subComponentStyles"===c){n.subComponentStyles=u.subComponentStyles||{};continue}var d=u[c],f=Object(r.a)(d),h=f.classes,p=f.objects,g=Object(o.d)({displayName:c},p);l.push(g),g&&(a[c]=g.className,n[c]=h.concat([g.className]).join(" "))}for(var m=0,v=l;m<v.length;m++){(g=v[m])&&Object(o.a)(g,a)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(68),i=n(131);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(i.a)(e),o=n.classes,a=n.objects;return a.length&&o.push(Object(r.c)(a)),o.join(" ")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(32),i=n(29),o=n(3),a=n(4),s=n(5),u=n(62);function l(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(r){return null}}var c=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Object(a.a)(this,e),this.storage=l(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return Object(s.a)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}(),d=n(50),f=n(65),h={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function p(e){return"string"===typeof e?h[e.toUpperCase()]||h.WHITE:e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n),i=!0,o=!1,a=void 0;try{for(var s,u=function(){var n=s.value;"function"===typeof e[n]&&(t.find((function(e){return n===e}))||(e[n]=e[n].bind(e)))},l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)u()}catch(c){o=!0,a=c}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}function m(e,t){if(!e)throw new Error(t||"Assertion failed")}var v={debug:u.b&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},b={enabled:!1,priority:0};function y(){}var _={};var x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;Object(a.a)(this,e),this.id=n,this.VERSION=u.a,this._startTs=Object(d.a)(),this._deltaTs=Object(d.a)(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new c("__probe-".concat(this.id,"__"),b),this.userData={},this.timeStamp("".concat(this.id," started")),g(this),Object.seal(this)}return Object(s.a)(e,[{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getPriority",value:function(){return this._storage.config.priority}},{key:"getLevel",value:function(){return this._storage.config.priority}},{key:"getTotal",value:function(){return Number((Object(d.a)()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((Object(d.a)()-this._deltaTs).toPrecision(10))}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({priority:e}),this}},{key:"assert",value:function(e,t){m(e,t)}},{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._getLogFunction({message:e,args:n,method:v.warn,once:!0})}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._getLogFunction({message:e,args:n,method:v.error})}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction({priority:e,message:t,args:r,method:v.log,time:!0,once:!0})}},{key:"log",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction({priority:e,message:t,args:r,method:v.debug})}},{key:"info",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction({priority:e,message:t,args:r,method:console.info})}},{key:"once",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction({priority:e,message:t,args:r,method:v.debug||v.info,once:!0})}},{key:"table",value:function(e,t,n){if(t){var r=function(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}(t);return this._getLogFunction({priority:e,message:t,args:n&&[n],tag:r,method:console.table||y})}return y}},{key:"image",value:function(e){var t=e.priority,n=e.image,r=e.message,i=void 0===r?"":r,o=e.scale,a=void 0===o?1:o;return t>this.getPriority()?y:u.b?this._logImageInBrowser({image:n,message:i,scale:a}):this._logImageInNode({image:n,message:i,scale:a})}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(Object(o.a)({},e,t))}},{key:"_logImageInNode",value:function(e){var t=e.image,r=(e.message,e.scale),i=void 0===r?1:r,o=null;try{o=n(210)}catch(a){}return o?function(){return o(t,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then((function(e){return console.log(e)}))}:y}},{key:"_logImageInBrowser",value:function(e){var t=e.image,n=e.message,r=void 0===n?"":n,o=e.scale,a=void 0===o?1:o;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=Object(f.a)(s,r,a);(e=console).log.apply(e,Object(i.a)(t))},s.src=t,y}var u,l=t.nodeName||"";if("img"===l.toLowerCase())return(u=console).log.apply(u,Object(i.a)(Object(f.a)(t,r,a))),y;if("canvas"===l.toLowerCase()){var c=new Image;return c.onload=function(){var e;return(e=console).log.apply(e,Object(i.a)(Object(f.a)(c,r,a)))},c.src=t.toDataURL(),y}return y}},{key:"time",value:function(e,t){return this._getLogFunction({priority:e,message:t,method:console.time?console.time:console.info})}},{key:"timeEnd",value:function(e,t){return this._getLogFunction({priority:e,message:t,method:console.timeEnd?console.timeEnd:console.info})}},{key:"timeStamp",value:function(e,t){return this._getLogFunction({priority:e,message:t,method:console.timeStamp||y})}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=n=this._normalizeArguments({priority:e,message:t,opts:n}),i=r.collapsed;return this._getLogFunction({priority:e,message:t,opts:n,method:(i?console.groupCollapsed:console.group)||console.info})}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction({priority:e,message:"",method:console.groupEnd||y})}},{key:"withGroup",value:function(e,t,n){var r=this._normalizeArguments({priority:e,message:t});this.group(r);try{n()}finally{this.groupEnd(r.message)}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return 0===(e=this._normalizePriority(e))||this.isEnabled()&&this.getPriority()>=e}},{key:"_getElapsedTime",value:function(){var e=this.getTotal(),t=this.getDelta();return this._deltaTs=Object(d.a)(),{total:e,delta:t}}},{key:"_getLogFunction",value:function(e){if(this._shouldLog(e.priority)){var t=e.method;e=this._parseArguments(e),m(t);var n=e.message,r=e.tag||e.message;if(e.once){if(_[r])return y;_[r]=Object(d.a)()}return n=this._decorateMessage(n,e),t.bind.apply(t,[console,n].concat(Object(i.a)(e.args)))}return y}},{key:"_parseArguments",value:function(e){var t=this._normalizeArguments(e),n=this._getElapsedTime(),r=n.delta,i=n.total;return Object.assign(e,t,{delta:r,total:i})}},{key:"_normalizePriority",value:function(e){var t;switch(Object(r.a)(e)){case"number":t=e;break;case"object":t=e.priority||0;break;default:t=0}return m(Number.isFinite(t)&&t>=0),t}},{key:"_normalizeArguments",value:function(e){var t=e.priority,n=e.message,i=e.args,o=void 0===i?[]:i,a=e.opts,s={priority:this._normalizePriority(t),message:n,args:o};switch(Object(r.a)(t)){case"string":case"function":void 0!==n&&o.unshift(n),Object.assign(s,{message:t});break;case"object":Object.assign(s,t)}return"function"===typeof s.message&&(s.message=this._shouldLog(s.priority)?s.message():""),m("string"===typeof s.message||"object"===Object(r.a)(s.message)),Object.assign(s,a)}},{key:"_decorateMessage",value:function(e,t){if("string"===typeof e){var n="";if(t.time){var r=this._getElapsedTime().total;n=Object(f.c)(Object(f.b)(r))}e=t.time?"".concat(this.id,": ").concat(n,"  ").concat(e):"".concat(this.id,": ").concat(e),i=e,o=t.color,a=t.background,u.b||"string"!==typeof i||(o&&(o=p(o),i="\x1b[".concat(o,"m").concat(i,"\x1b[39m")),a&&(o=p(a),i="\x1b[".concat(a+10,"m").concat(i,"\x1b[49m"))),e=i}var i,o,a;return e}},{key:"priority",set:function(e){return this._storage.updateConfiguration({priority:e}),this},get:function(){return this._storage.config.priority}}]),e}();x.VERSION=u.a},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={};function i(e,t){if("undefined"!==typeof window){var n=window.__packages__=window.__packages__||{};if(!n[e]||!r[e])r[e]=t,(n[e]=n[e]||[]).push(t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return m}));var r,i,o,a,s=n(64),u=n(142),l=n(76),c=function(e,t){var n=Object(l.a)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},d={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return c(100*e,t)},r:c,s:function(e,t){var n=Object(l.a)(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Object(l.a)(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},f=function(e){return e},h=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],g=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?f:(t=h.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?f:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(h.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"-":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function b(e){var t=(e=Object(u.a)(e)).fill,n=e.align,s=e.sign,f=e.symbol,h=e.zero,b=e.width,y=e.comma,_=e.precision,x=e.trim,S=e.type;"n"===S?(y=!0,S="g"):d[S]||(void 0===_&&(_=12),x=!0,S="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var w="$"===f?o:"#"===f&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C="$"===f?a:/[%p]/.test(S)?g:"",k=d[S],E=/[defgprs%]/.test(S);function O(e){var o,a,u,d=w,f=C;if("c"===S)f=k(e)+f,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:k(Math.abs(e),_),x&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),g&&0===+e&&"+"!==s&&(g=!1),d=(g?"("===s?s:m:"-"===s||"("===s?"":s)+d,f=("s"===S?p[8+r/3]:"")+f+(g&&"("===s?")":""),E)for(o=-1,a=e.length;++o<a;)if(48>(u=e.charCodeAt(o))||u>57){f=(46===u?l+e.slice(o+1):e.slice(o))+f,e=e.slice(0,o);break}}y&&!h&&(e=i(e,1/0));var O=d.length+e.length+f.length,T=O<b?new Array(b-O+1).join(t):"";switch(y&&h&&(e=i(T+e,T.length?b-f.length:1/0),T=""),n){case"<":e=d+e+f+T;break;case"=":e=d+T+e+f;break;case"^":e=T.slice(0,O=T.length>>1)+d+e+f+T.slice(O);break;default:e=T+d+e+f}return c(e)}return _=void 0===_?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),O.toString=function(){return e+""},O}return{format:b,formatPrefix:function(e,t){var n=b(((e=Object(u.a)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(s.a)(t)/3))),i=Math.pow(10,-r),o=p[8+r/3];return function(e){return n(i*e)+o}}}};function m(e){return i=g(e),o=i.format,a=i.formatPrefix,i}m({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(22),i=n(4),o=n(5),a=n(13),s=n(12),u=n(14),l=n(132),c=n(26);function d(e,t){return e.length===t&&e.every(Number.isFinite)}var f=n(141),h=n(99),p=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(i.a)(this,t),e=Object(a.a)(this,Object(s.a)(t).call(this,4)),Array.isArray(n)&&1===arguments.length?e.copy(n):e.set(n,r,o,u),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"applyMatrix4",value:function(e){return e.transformVector(this,this),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=Object(c.a)(e)}},{key:"w",get:function(){return this[3]},set:function(e){return this[3]=Object(c.a)(e)}}]),t}(n(88).a),g=n(15),m=n(40),v=n(56),b=n(49),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var _=function(e){function t(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Object(i.a)(this,t),e=Object(a.a)(this,Object(s.a)(t).call(this,16)),Array.isArray(r[0])&&1===arguments.length?e.copy(r[0]):e.identity(),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"setRowMajor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,p=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this[0]=e,this[1]=i,this[2]=u,this[3]=f,this[4]=t,this[5]=o,this[6]=l,this[7]=h,this[8]=n,this[9]=a,this[10]=c,this[11]=p,this[12]=r,this[13]=s,this[14]=d,this[15]=g,this.check()}},{key:"setColumnMajor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,p=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=d,this[12]=f,this[13]=h,this[14]=p,this[15]=g,this.check()}},{key:"set",value:function(){return this.setColumnMajor.apply(this,arguments)}},{key:"getElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?this[e][t]:this[t][e]}},{key:"setElement",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r?this[e][t]=Object(c.a)(n):this[t][e]=Object(c.a)(n),this}},{key:"determinant",value:function(){return g.a(this)}},{key:"identity",value:function(){return this.copy(y)}},{key:"fromQuaternion",value:function(e){return g.c(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=e.far;return g.d(this,t,n,r,i,o,a),this.check()}},{key:"lookAt",value:function(e){var t=e.eye,n=e.center,r=void 0===n?[0,0,0]:n,i=e.up,o=void 0===i?[0,1,0]:i;return g.f(this,t,r,o),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return g.h(this,t,n,r,i,a,u),this.check()}},{key:"orthographic",value:function(e){var n=e.fovy,r=void 0===n?45*Math.PI/180:n,i=e.aspect,o=void 0===i?1:i,a=e.focalDistance,s=void 0===a?1:a,u=e.near,l=void 0===u?.1:u,c=e.far,d=void 0===c?500:c;if(r>2*Math.PI)throw Error("radians");var f=r/2,h=s*Math.tan(f),p=h*o;return(new t).ortho({left:-p,right:p,bottom:-h,top:h,near:l,far:d})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,n=e.fov,r=void 0===n?45*Math.PI/180:n,i=e.aspect,o=void 0===i?1:i,a=e.near,s=void 0===a?.1:a,u=e.far,l=void 0===u?500:u;if((t=t||r)>2*Math.PI)throw Error("radians");return g.i(this,t,o,s,l),this.check()}},{key:"transpose",value:function(){return g.p(this,this),this.check()}},{key:"invert",value:function(){return g.e(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return g.g(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return g.g(this,this,e),this.check()}},{key:"rotateX",value:function(e){return g.k(this,this,e),this.check()}},{key:"rotateY",value:function(e){return g.l(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return g.m(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=Object(r.a)(e,3),n=t[0],i=t[1],o=t[2];return this.rotateX(n).rotateY(i).rotateZ(o)}},{key:"rotateAxis",value:function(e,t){return g.j(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?g.n(this,this,e):g.n(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return g.o(this,this,e),this.check()}},{key:"transformVector2",value:function(e,t){return t=t||new f.a,m.h(t,e,this),d(t,2),t}},{key:"transformVector3",value:function(e,t){return t=t||new h.a,v.i(t,e,this),d(t,3),t}},{key:"transformVector4",value:function(e,t){return t=t||new p,b.c(t,e,this),d(t,4),t.check()}},{key:"transformVector",value:function(e,t){switch(e.length){case 2:return this.transformVector2(e,t);case 3:return this.transformVector3(e,t);case 4:return this.transformVector4(e,t);default:throw new Error("Illegal vector")}}},{key:"transformDirection",value:function(e,t){return this._transformVector(e,t,0)}},{key:"transformPoint",value:function(e,t){return this._transformVector(e,t,1)}},{key:"_transformVector",value:function(e,t,n){switch(e.length){case 2:t=t||new f.a,b.c(t,[e[0],e[1],0,n],this),t.length=2,d(t,2);break;case 3:t=t||new h.a,b.c(t,[e[0],e[1],e[2],n],this),t.length=3,d(t,3);break;case 4:if(Boolean(n)!==Boolean(e[3]))throw new Error("math.gl: Matrix4.transformPoint - invalid vector");t=t||new p,b.c(t,e,this),d(t,4);break;default:throw new Error("Illegal vector")}return t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}},{key:"ELEMENTS",get:function(){return 16}}]),t}(l.a)}]]);
//# sourceMappingURL=2.15c28e8c.chunk.js.map